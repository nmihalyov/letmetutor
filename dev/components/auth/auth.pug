include ../_ui/heading/heading
include ../_ui/input/input
include ../_ui/button/button
include ../_ui/tabs/tabs
include ../_ui/checkbox/checkbox
include ../_ui/checkboxselect/checkboxselect

mixin auth(type)
  section.auth.container
    .auth__wrapper.wrapper
      .auth__block
        .auth__head
          if type === 'login'
            +heading('Авторизация', 'auth__heading')
          if type === 'signup'
            +heading('Регистрация', 'auth__heading')
          if type === 'signup-success'
            +heading('Вы успешно зарегистрировались!', 'auth__heading')
        if type === 'login'
          form.auth__content(data-login-form)
            p.auth__subheading Войти с помощью:
            .auth__socials
              a.auth__social(data-social="fb", href="#") С помощью Facebook
              a.auth__social(data-social="google", href="#") С помощью Google
            p.auth__subheading Авторизироваться с помощью сайта:
            +input('email', '', 'email', 'Ваш email', 'auth__input', {required: true})
            +input('password', '', 'password', 'Ваш пароль', 'auth__input', {required: true})
            .auth__actions
              +button('primary', 'submit', 'Войти', 'auth__actions-btn')
              a.auth__actions-restore.js-open-popup(href="javascript:void(0)", data-popup="restore") Забыли пароль?
        if type === 'signup'
          .auth__content(data-tabs)
            .auth__tabs
              .auth__tabs-grid
                +tabs(['Ученик', 'Репетитор'])
              form.auth__tabs-content(data-content="1", data-active, data-signup-student-form)
                +input('text', 'Ваше ФИО <span>*</span>', 'fullname', 'Введите ваше ФИО', 'auth__input', {required: true})
                +input('email', 'Ваш email <span>*</span>', 'email', 'Введите ваш email', 'auth__input', {required: true})
                +input('tel', 'Номер телефона <span>*</span>', 'phone', '+7 (___) ___-__-__', 'auth__input', {required: true})
                +input('text', 'Ваша страна <span>*</span>', 'country', 'Выберите страну', 'auth__input js-auth-country', {required: true, dropdown: '<a class="input__dropdown-item" href="javascript: void(0)" data-dropdown>Россия</a><a class="input__dropdown-item" href="javascript: void(0)" data-dropdown>Украина</a>'})
                +input('text', 'Ваш город <span>*</span>', 'city', 'Введите ваш город', 'auth__input js-auth-city', {required: true, citiesSearch: true})
                +input('password', 'Ваш пароль <span>*</span>', 'password', 'Введите пароль', 'auth__input', {required: true})
                +input('password', 'Повторите пароль <span>*</span>', 'passwordRepeat', 'Введите пароль', 'auth__input', {required: true})
                +checkbox('Я согласен с <a href="#" target="_blank">правилами сервиса</a>', 'rulesAgreement', 'auth__checkbox', true, true)
                .auth__actions
                  +button('primary', 'submit', 'Зарегистрироваться', 'auth__actions-btn')
                  a.auth__actions-link(href="login.html") Авторизация
              form.auth__tabs-content(data-content="2", data-signup-tutor-form)
                +input('text', 'Ваше ФИО <span>*</span>', 'fullname', 'Введите ваше ФИО', 'auth__input', {required: true})
                +input('email', 'Ваш email <span>*</span>', 'email', 'Введите ваш email', 'auth__input', {required: true})
                +checkboxselect('Ваши специализации <span>*</span>', 'Выберите специализации', 'auth__input', {name: 'specializations', list: [{label: 'Английский язык', value: 'english'}, {label: 'Математика', value: 'math'}, {label: 'Украинский язык', value: 'ukrainian'}, {label: 'Программирование', value: 'programming'}, {label: 'Физика', value: 'physics'}, {label: 'Химия', value: 'chemistry'}, {label: 'Биология', value: 'biology'}, {label: 'Русский', value: 'russian'}, {label: 'История', value: 'history'}]})
                +input('tel', 'Номер телефона <span>*</span>', 'phone', '+7 (___) ___-__-__', 'auth__input', {required: true})
                +input('text', 'Ваша страна <span>*</span>', 'country', 'Выберите страну', 'auth__input js-auth-country', {required: true, dropdown: '<a class="input__dropdown-item" href="javascript: void(0)" data-dropdown>Россия</a><a class="input__dropdown-item" href="javascript: void(0)" data-dropdown>Украина</a>'})
                +input('text', 'Ваш город <span>*</span>', 'city', 'Введите ваш город', 'auth__input js-auth-city', {required: true, citiesSearch: true})
                +input('password', 'Ваш пароль <span>*</span>', 'password', 'Введите пароль', 'auth__input', {required: true})
                +input('password', 'Повторите пароль <span>*</span>', 'passwordRepeat', 'Введите пароль', 'auth__input', {required: true})
                +checkbox('Я согласен с <a href="#" target="_blank">правилами сервиса</a>', 'rulesAgreement', 'auth__checkbox', true, true)
                .auth__actions
                  +button('primary', 'submit', 'Зарегистрироваться', 'auth__actions-btn')
                  a.auth__actions-link(href="login.html") Уже зарегистрированы? Войти
        if type === 'signup-success'
          .auth__content
            p.auth__desc Поздравляем, регистрация прошла успешно, на ваш <b>контактный email</b> отправлено письмо с инструкцией для активации вашей учетной записи, пока вы не подтвердите вашу почту, <b>учетная запись будет неактивной и вы не сможете пользоваться сервисом.</b>
            .auth__actions.auth__actions--centered
              +button('primary', 'link', 'Вернуться назад', 'auth__actions-btn', {link: 'main.html'})