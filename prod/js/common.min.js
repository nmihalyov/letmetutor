"use strict";window.onload=function(){var e={popup:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.onHide,r=t.onShow,n=function(){document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px")},c=function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)};return{isShown:function(){return e.classList.contains("popup--opened")},show:function(){var t=new Promise((function(t){e.style.display="block",t()}));n(),t.then((function(){e.classList.add("popup--opened"),"function"==typeof r&&r()}))},hide:function(){var t=-parseInt(document.body.style.marginTop);e.classList.remove("popup--opened"),setTimeout((function(){e.style.display="none",c(t),"function"==typeof o&&o()}),300)}}},validate:function(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,o=function(e){e.closest(".input").classList.add("input--error"),e.focus()};e.querySelector('button[type="submit"]').addEventListener("click",(function(r){r.preventDefault();var n=Array.from(e.querySelectorAll("input[required]")),c=e.querySelectorAll(".checkboxselect");n.reverse().map((function(e){switch(e.getAttribute("type")){case"text":case"password":""===e.value&&o(e);break;case"tel":(""===e.value||e.value.includes("_"))&&o(e);break;case"checkbox":!e.checked&&e.closest(".checkbox").classList.add("checkbox--error");break;case"email":!t.test(e.value)&&o(e)}})),c.length&&Array.from(c).map((function(e){var t=!1;Array.from(e.querySelectorAll(".checkbox__input")).map((function(e){e.checked&&(t=!0)})),t||e.classList.add("checkboxselect--error")}))})),Array.from(e.querySelectorAll("input")).map((function(e){return e.addEventListener("input",(function(){e.closest(".input")?e.closest(".input").classList.remove("input--error"):e.closest(".checkbox")&&e.closest(".checkbox").classList.remove("checkbox--error")}))}))}};Array.from(document.querySelectorAll(".js-open-popup")).map((function(t){return t.addEventListener("click",(function(t){t.preventDefault();var o=t.currentTarget.dataset.popup,r=document.querySelector('.js-popup[data-popup="'.concat(o,'"]'));e.popup(r).show()}))})),Array.from(document.querySelectorAll(".js-close-popup")).map((function(t){return t.addEventListener("click",(function(t){if(t.preventDefault(),!t.target.closest(".popup__window")||!t.currentTarget.classList.contains("js-popup")){var o=t.currentTarget.closest(".popup");e.popup(o).hide()}}))})),document.querySelector("form[data-restore-form]")&&e.validate(document.querySelector("form[data-restore-form]")),document.addEventListener("click",(function(e){e.target.closest(".dropdown")||Array.from(document.querySelectorAll(".dropdown")).map((function(e){return e.classList.remove("dropdown--active")}))})),Array.from(document.querySelectorAll(".dropdown")).map((function(e){return e.addEventListener("click",(function(e){e.preventDefault();var t=e.currentTarget;Array.from(document.querySelectorAll(".dropdown")).map((function(e){return e!==t&&e.classList.remove("dropdown--active")})),t.classList.toggle("dropdown--active")}))})),document.addEventListener("click",(function(e){if(e.target.getAttribute("data-toggle")){var t=e.target,o=t.innerText,r=t.cloneNode(),n=t.closest(".dropdown").querySelector(".dropdown__value");r.innerText=n.innerText,n.innerText=o,t.parentNode.prepend(r),t.parentNode.removeChild(t)}})),Array.from(document.querySelectorAll(".tabs__item")).map((function(e){return e.addEventListener("click",(function(e){e.preventDefault();var t=e.currentTarget,o=t.dataset.tab;t.closest(".tabs").querySelector(".tabs__item--active").classList.remove("tabs__item--active"),t.classList.add("tabs__item--active"),t.closest("[data-tabs]").querySelector("[data-active]").removeAttribute("data-active"),t.closest("[data-tabs]").querySelector('[data-content="'.concat(o,'"]')).setAttribute("data-active",!0)}))}));var t=new Event("changeCountry");Array.from(document.querySelectorAll(".input.dropdown")).concat(Array.from(document.querySelectorAll(".input .dropdown"))).map((function(e){return e.addEventListener("click",(function(){e.closest(".input").querySelector(".input__dropdown").style.width=e.closest(".input").getBoundingClientRect().width+"px"}))})),Array.from(document.querySelectorAll(".input__dropdown-item[data-code-loc]")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.codeLoc,o=e.dataset.mask,r=e.closest(".input").querySelector("input");e.closest(".input__code").dataset.codeLoc=t,e.closest(".input__code").dataset.mask=o,r.placeholder=o.replaceAll("9","_"),function(e,t){Inputmask({mask:t}).mask(e)}(r,o)}))})),Array.from(document.querySelectorAll(".input__dropdown-item[data-dropdown]")).map((function(e){return e.addEventListener("click",(function(){var o=e.innerText;e.closest(".input").querySelector("input").value=o,e.closest(".input").classList.remove("input--error"),e.closest(".input").classList.contains("js-auth-country")&&e.closest(".input").dispatchEvent(t)}))})),Array.from(document.querySelectorAll('input[type="tel"]')).map((function(e){Inputmask({mask:e.closest(".input").querySelector(".input__code").dataset.mask}).mask(e)})),Array.from(document.querySelectorAll(".checkboxselect__list")).map((function(e){e.addEventListener("click",(function(t){t.stopPropagation();var o=e.closest(".checkboxselect__list"),r=e.closest(".checkboxselect"),n=!1;r.classList.remove("checkboxselect--error"),Array.from(o.querySelectorAll(".checkbox__input")).map((function(e){e.checked&&(n=!0)})),n?r.classList.add("checkboxselect--checked"):r.classList.remove("checkboxselect--checked")})),e.fakeScroll()}));var o=document.querySelector(".cookies");JSON.parse(localStorage.getItem("letmetutor:cookiesIsHidden"))?o.remove():(o.classList.add("cookies--shown"),document.querySelector(".cookies__btn").addEventListener("click",(function(){o.classList.remove("cookies--shown"),setTimeout((function(){o.remove(),localStorage.setItem("letmetutor:cookiesIsHidden",!0)}),500)})));var r=document.querySelector(".header__banner"),n=function(){!function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)}(),document.querySelector(".header-menu").classList.remove("header-menu--shown")};JSON.parse(localStorage.getItem("letmetutor:bannerIsHidden"))?r.remove():(r.style.display="flex",document.querySelector(".header__banner-close").addEventListener("click",(function(){r.classList.add("header__banner--hide"),setTimeout((function(){r.remove(),localStorage.setItem("letmetutor:bannerIsHidden",!0)}),500)}))),document.querySelector(".header__burger").addEventListener("click",(function(){-parseInt(document.body.style.marginTop),document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px"),document.querySelector(".header-menu").classList.add("header-menu--shown")})),document.querySelector(".header-menu__backdrop").addEventListener("click",n),document.querySelector(".header-menu__close").addEventListener("click",n),Array.from(document.querySelectorAll(".hero__dropdown-item")).map((function(e){return e.addEventListener("click",(function(e){var t=e.currentTarget,o=t.innerText;t.closest(".hero__input").querySelector(".hero__input-field").value=o}))})),Array.from(document.querySelectorAll(".hero__input-field")).map((function(e){var t=e,o=function(e){var o=t.nextElementSibling,r=o.querySelector(".fakeScroll__content")||o,n=JSON.parse(t.dataset.options),c=t.value.toLowerCase(),a=!1;r.innerHTML="",n.map((function(t){(e||0===t.toLowerCase().indexOf(c))&&(a=!0,r.insertAdjacentHTML("beforeend",'<a class="hero__dropdown-item dropdown__menu-item" href="javascript:void(0)">'.concat(t,"</a>")))})),a?o.classList.remove("hero__dropdown--hidden"):o.classList.add("hero__dropdown--hidden"),Array.from(r.querySelectorAll(".hero__dropdown-item")).map((function(e){return e.addEventListener("click",(function(){t.value=e.innerText,t.setAttribute("data-value",e.innerText)}))})),e&&!o.classList.contains("fakeScroll")&&r.fakeScroll()};t.addEventListener("input",(function(){return o(!1)})),t.addEventListener("focus",(function(){return o(!0)})),t.addEventListener("blur",(function(){""!==t.value&&t.dataset.value?t.value=t.dataset.value:t.value=""}))}));new Swiper(".popular__grid--mobile",{loop:!0,loopAdditionalSlides:3,spaceBetween:20,slidesPerView:"auto",centeredSlides:!0,breakpoints:{760:{slidesPerView:2,centeredSlides:!1}}}),new Swiper(".reviews__slider",{loop:!0,spaceBetween:20,slidesPerView:3,slidesPerGroup:3,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".reviews__slider--mobile",{loop:!0,spaceBetween:20,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}});document.querySelector("form[data-login-form]")&&e.validate(document.querySelector("form[data-login-form]")),document.querySelector("form[data-signup-student-form]")&&e.validate(document.querySelector("form[data-signup-student-form]")),document.querySelector("form[data-signup-tutor-form]")&&e.validate(document.querySelector("form[data-signup-tutor-form]")),document.querySelectorAll(".js-auth-country").length&&Array.from(document.querySelectorAll(".js-auth-country")).map((function(e){return e.addEventListener("changeCountry",(function(t){e.closest("form").querySelector(".js-auth-city").dataset.country=t.target.querySelector("input").value}))})),document.querySelectorAll(".js-auth-city input").length&&(Array.from(document.querySelectorAll(".js-auth-city input")).map((function(e){return e.addEventListener("input",(function(e){var t=e.currentTarget,o=t.closest(".input"),r=o.dataset.country;if(r){var n=JSON.parse(o.dataset.cities).filter((function(e){return e.key===r}))[0].cities,c=t.value.toLowerCase(),a=t.closest(".input").querySelector(".dropdown__menu"),i=!1;a.innerHTML="",""!==e.currentTarget.value&&(n.map((function(e){0===e.toLowerCase().indexOf(c)&&(i=!0,a.insertAdjacentHTML("beforeend",'<a class="input__dropdown-item" href="javascript:void(0)">'.concat(e,"</a>")))})),i&&Array.from(o.querySelectorAll(".input__dropdown-item")).map((function(e){return e.addEventListener("click",(function(){t.value=e.innerText}))})))}}))})),document.querySelector(".js-auth-city input").addEventListener("focus",(function(e){e.currentTarget.closest(".input").querySelector(".dropdown__menu").innerHTML=""})))};