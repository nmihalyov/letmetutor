"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function _iterableToArrayLimit(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,c=[],a=!0,i=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(c.push(n.value),!t||c.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(i)throw r}}return c}}function _arrayWithHoles(e){if(Array.isArray(e))return e}window.onload=function(){var e=function(e){var t=document.querySelector('.header-notification[data-notification="'.concat(e,'"]'));t.classList.add("header-notification--active"),setTimeout((function(){t.classList.remove("header-notification--active")}),4e3)},t=function(t,o){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];fetch(t,{method:"POST",credentials:"same-origin",body:new FormData(o)}).then((function(e){return e.json()})).then((function(t){t.success?(e("success"),o.querySelector('button[type="submit"]').classList.remove("button--loading")):(o.querySelector('button[type="submit"]').classList.remove("button--loading"),console.log(t),t.errors.forEach((function(e){if(-1!==e.indexOf(";")){var t=e.split(";");o.querySelector('[name="'+t[0]+'"]').closest("label").classList.contains("textarea")?(o.querySelector('[name="'+t[0]+']"').closest("label").classList.add("textarea--error"),o.querySelector('[name="'+t[0]+']"').closest("label").querySelector(".textarea__error").innerHTML=t[1]):o.querySelector('[name="'+t[0]+'"]').closest("label").classList.contains("input")&&(o.querySelector('[name="'+t[0]+'"]').closest("label").classList.add("input--error"),o.querySelector('[name="'+t[0]+'"]').closest("label").querySelector(".input__error").innerHTML=t[1])}else console.log(e),!1!==n&&n(e)})))}))},o={popup:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.onHide,n=t.onShow,r=function(){document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px")},c=function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)};return{isShown:function(){return e.classList.contains("popup--opened")},show:function(){var t=new Promise((function(t){e.style.display="block",t()}));r(),t.then((function(){e.classList.add("popup--opened"),"function"==typeof n&&n()}))},hide:function(){var t=-parseInt(document.body.style.marginTop);e.classList.remove("popup--opened"),setTimeout((function(){e.style.display="none",c(t),"function"==typeof o&&o()}),300)}}}};o.validate=function(e,t){var o=null,n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,r=function(e){e.closest(".input")?e.closest(".input").classList.add("input--error"):e.closest(".textarea")&&e.closest(".textarea").classList.add("textarea--error"),o=e,e.focus()};e.querySelector('button[type="submit"]').addEventListener("click",(function(c){c.preventDefault();var a=!0,i=Array.from(e.querySelectorAll("input[required], textarea[required]")),s=e.querySelectorAll(".checkboxselect");i.reverse().map((function(e){switch(o=null,e.dataset.passRepeat&&e.value!==e.closest("form").querySelector("input[data-pass]").value&&r(e),e.getAttribute("type")){case"text":case"password":""===e.value&&(r(e),a=!1);break;case"tel":(""===e.value||e.value.includes("_"))&&(r(e),a=!1);break;case"checkbox":e.checked||(o=t=e,t.closest(".checkbox").classList.add("checkbox--error"),a=!1);break;case"email":n.test(e.value)||(r(e),a=!1);break;default:""===e.value&&(r(e),a=!1)}var t})),s.length&&Array.from(s).map((function(e){var t=!1;Array.from(e.querySelectorAll(".checkbox__input")).map((function(e){e.checked&&(t=!0)})),t||(e.classList.add("checkboxselect--error"),a=!1)})),a?(c.currentTarget.classList.add("button--loading"),t()):scrollTo(0,o.closest(".input").getBoundingClientRect().y+pageYOffset-document.querySelector(".header").offsetHeight-10)})),Array.from(e.querySelectorAll("input")).concat(Array.from(e.querySelectorAll("textarea"))).map((function(e){return e.addEventListener("input",(function(){e.closest(".input")?e.closest(".input").classList.remove("input--error"):e.closest(".checkbox")?e.closest(".checkbox").classList.remove("checkbox--error"):e.closest(".textarea")&&e.closest(".textarea").classList.remove("textarea--error")}))}))};var n=new Event("popupShow");document.addEventListener("click",(function(e){var t=e.target;if(t.closest(".js-open-popup")){e.preventDefault();var r=t.closest(".js-open-popup").dataset.popup,c=document.querySelector('.js-popup[data-popup="'.concat(r,'"]'));"request-auth"===r&&(document.querySelector(".profile-head__name")?c.querySelector(".popup__desc b").innerText=document.querySelector(".profile-head__name").innerText:c.querySelector(".popup__desc b").innerText=t.closest(".tutorcard").querySelector(".tutorcard__name").innerText),o.popup(c,{onShow:function(){"edit-photo"===r&&c.dispatchEvent(n)}}).show()}})),Array.from(document.querySelectorAll(".js-close-popup")).map((function(e){return e.addEventListener("click",(function(t){if(!t.target.closest(".popup__window")||!t.currentTarget.classList.contains("js-popup")){var n=t.currentTarget.closest(".popup");e.dataset.link&&fetch(e.dataset.link).then((function(e){return e.text()})).then((function(e){location.reload()})),o.popup(n).hide()}}))})),[{$element:document.querySelector("form[data-restore-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-request-auth-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-refuse]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-pay]"),callback:function(e){var t=document.querySelector('.js-popup[data-popup="application-pay"]'),n=document.querySelector('.js-popup[data-popup="application-pay-success"]');setTimeout((function(){o.popup(t,{onHide:function(){Array.from(t.querySelectorAll("input")).map((function(e){return e.value=""})),o.popup(n).show(),e.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}},{$element:document.querySelector("form[data-service-pay]"),callback:function(e){var t=document.querySelector('.js-popup[data-popup="service-pay"]'),n=document.querySelector('.js-popup[data-popup="service-pay-success"]');setTimeout((function(){o.popup(t,{onHide:function(){Array.from(t.querySelectorAll("input")).map((function(e){return e.value=""})),o.popup(n).show(),e.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}},{$element:document.querySelector("form[data-offer-form]"),callback:function(e){var t=document.querySelector('.js-popup[data-popup="offer"]'),n=document.querySelector('.js-popup[data-popup="offer-success"]');setTimeout((function(){o.popup(t,{onHide:function(){Array.from(t.querySelectorAll("input")).map((function(e){return e.value=""})),o.popup(n).show(),e.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}},{$element:document.querySelector("form[data-request-form]"),callback:function(e){var t=document.querySelector('.js-popup[data-popup="request"]'),n=document.querySelector('.js-popup[data-popup="request-success"]');setTimeout((function(){o.popup(t,{onHide:function(){Array.from(t.querySelectorAll("input")).map((function(e){return e.value=""})),o.popup(n).show(),e.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}},{$element:document.querySelector("form[data-request-specific-form]"),callback:function(e){var t=document.querySelector('.js-popup[data-popup="request-specific"]'),n=document.querySelector('.js-popup[data-popup="request-success"]');setTimeout((function(){o.popup(t,{onHide:function(){Array.from(t.querySelectorAll("input")).map((function(e){return e.value=""})),o.popup(n).show(),e.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}}].map((function(e){var t=e.$element,n=e.callback;t&&o.validate(t,(function(){return n(t)}))}));Array.from(document.querySelectorAll(".dropdown"));document.addEventListener("click",(function(){document.querySelector(".dropdown--active")&&document.querySelector(".dropdown--active").classList.remove("dropdown--active")})),document.addEventListener("click",(function(e){var t=e.target.closest(".dropdown");if(t){if(t.classList.contains("input__code")&&e.preventDefault(),t.classList.contains("header__profile-notifications")){fetch("/ajax/action/read_notifications").then((function(e){return e.text()})).then((function(e){if("ok"===e){var o=t.querySelector(".header__profile-counter");null!==o&&o.remove()}}))}t.classList.contains("dropdown--active")||(document.querySelector(".dropdown--active")&&document.querySelector(".dropdown--active").classList.remove("dropdown--active"),t.classList.toggle("dropdown--active"))}}));var r=function(e){fetch(e).then((function(e){return e.text()})).then((function(e){location.reload()}))};document.addEventListener("click",(function(e){var t=e.target.closest(".dropdown__menu-item");if(t&&(document.querySelector(".dropdown--active").classList.remove("dropdown--active"),t.getAttribute("data-toggle"))){var o=e.target,n=o.innerText,c=o.closest(".dropdown__menu").querySelector(".dropdown__menu-item--hidden"),a=o.closest(".dropdown"),i=a.querySelector(".dropdown__value"),s=a.querySelector("input");c&&c.classList.remove("dropdown__menu-item--hidden"),s&&(s.value=n),t.classList.add("dropdown__menu-item--hidden"),i.innerText=n,o.closest(".dropdown").classList.contains("catalog__sort-item")&&(document.location.href=function(e){var t=e;t+="?filter=".concat(document.querySelector(".js-catalog-filter .dropdown__value").innerText);var o=Array.from(document.querySelectorAll(".filters__input-field")).map((function(e){return e.name}));return new URL(location.href).searchParams.toString().split("&").map((function(e){var n=_slicedToArray(e.split("="),1)[0];o.includes(n)&&(t+="&"+e)})),t+="&limit=".concat(document.querySelector(".js-catalog-limit .dropdown__value").innerText)}("/search")),o.closest(".dropdown").classList.contains("js-currency-change")&&r("/ajax/action/currency_change?currency="+n),o.closest(".dropdown").classList.contains("js-language-change")&&r("/ajax/action/language_change?language="+n)}})),Array.from(document.querySelectorAll(".tabs__item")).map((function(e){return e.addEventListener("click",(function(t){t.preventDefault();var o=e.dataset.tab,n=e.closest("[data-tabs]").querySelector("[data-active]");e.closest(".tabs").querySelector(".tabs__item--active").classList.remove("tabs__item--active"),e.classList.add("tabs__item--active"),n&&(e.closest("[data-tabs]").querySelector("[data-active]").removeAttribute("data-active"),e.closest("[data-tabs]").querySelector('[data-content="'.concat(o,'"]')).setAttribute("data-active",!0))}))}));var c=new Event("changeCountry");Array.from(document.querySelectorAll(".input.dropdown")).concat(Array.from(document.querySelectorAll(".input .dropdown"))).map((function(e){return e.addEventListener("click",(function(){var t=e.querySelector(".dropdown__menu");e.closest(".input").querySelector(".input__dropdown").style.width=e.closest(".input").getBoundingClientRect().width+"px",t.classList.contains("fakeScroll")||t.fakeScroll()}))})),Array.from(document.querySelectorAll(".input__dropdown-item[data-code-loc]")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.codeLoc,o=e.dataset.mask,n=e.closest(".input").querySelector("input");e.closest(".input__code").dataset.codeLoc=t,e.closest(".input__code").dataset.mask=o,n.placeholder=o.replaceAll("9","_"),function(e,t){Inputmask({mask:t}).mask(e)}(n,o)}))})),Array.from(document.querySelectorAll(".input__dropdown-item[data-dropdown]")).map((function(e){return e.addEventListener("click",(function(){var t=e.innerText;e.closest(".input").querySelector("input").value=t,e.closest(".input").classList.remove("input--error"),e.closest(".input").classList.contains("js-auth-country")&&e.closest(".input").dispatchEvent(c)}))})),Array.from(document.querySelectorAll('input[type="tel"]')).map((function(e){Inputmask({mask:e.closest(".input").querySelector(".input__code").dataset.mask}).mask(e)})),Array.from(document.querySelectorAll(".checkbox__hint")).map((function(e){return e.addEventListener("click",(function(t){t.preventDefault(),t.target.closest(".checkbox__hint-container")||e.querySelector(".checkbox__hint-container").classList.toggle("checkbox__hint-container--shown")}))})),document.addEventListener("click",(function(e){var t=document.querySelector(".checkbox__hint-container--shown");e.target.closest(".checkbox__hint")&&!e.target.closest(".checkbox__hint-close")||!t||t.classList.remove("checkbox__hint-container--shown")})),Array.from(document.querySelectorAll(".checkboxselect__list")).map((function(e){e.addEventListener("click",(function(t){t.stopPropagation();var o=e.closest(".checkboxselect"),n=!1;o.classList.remove("checkboxselect--error"),Array.from(e.querySelectorAll(".checkbox__input")).map((function(t){var r=o.querySelector(".checkboxselect__input-placeholder");t.checked&&(n=!0),t.addEventListener("click",(function(){var t="";Array.from(e.querySelectorAll("input:checked")).map((function(e){t+=e.closest(".checkboxselect__item").querySelector(".checkbox__text").innerText+", "})),t?(r.innerText=t.substring(0,t.length-2),r.classList.add("checkboxselect__input-placeholder--active")):(r.innerText=r.dataset.placeholder,r.classList.remove("checkboxselect__input-placeholder--active"))}))})),n?o.classList.add("checkboxselect--checked"):o.classList.remove("checkboxselect--checked")})),e.fakeScroll()})),Array.from(document.querySelectorAll(".filters__dropdown-item")).map((function(e){return e.addEventListener("click",(function(e){var t=e.currentTarget,o=t.innerText;t.closest(".filters__input").querySelector(".filters__input-field").value=o}))}));var a=function(e,t){var o=function(o){var n=e.nextElementSibling.querySelector(".filters__dropdown-inner"),r=n.querySelector(".fakeScroll__content")||n,c="location"===e.getAttribute("name"),a=c?t.map((function(e){return e.key})).concat(t.flatMap((function(e){return e.cities}))):JSON.parse(e.dataset.options),i=e.value.toLowerCase(),s=r.closest(".filters__dropdown").querySelector('input[type="checkbox"]'),l=!1;r.innerHTML="",a.map((function(e){if(o||0===e.toLowerCase().indexOf(i)){var t=c?'<a class="filters__dropdown-item dropdown__menu-item'.concat(i&&!o?" filters__dropdown-item--smart":"",'" href="javascript:void(0)"><span>').concat(e.substr(0,i.length),"</span>").concat(e.substr(i.length),"</a>"):'<a class="filters__dropdown-item dropdown__menu-item" href="javascript:void(0)">'.concat(e,"</a>");l=!0,r.insertAdjacentHTML("beforeend",t)}})),l?(n.parentNode.classList.remove("filters__dropdown--hidden"),n.parentNode.classList.remove("filters__dropdown--empty")):s?n.parentNode.classList.add("filters__dropdown--empty"):n.parentNode.classList.add("filters__dropdown--hidden"),Array.from(r.querySelectorAll(".filters__dropdown-item")).map((function(t){return t.addEventListener("click",(function(){e.value=t.innerText,e.setAttribute("data-value",t.innerText),s&&(s.checked=!1,e.removeAttribute("readonly"))}))})),o&&!n.classList.contains("fakeScroll")&&r.fakeScroll()};"cost"!==e.name&&(e.addEventListener("input",(function(){return o(!1)})),e.addEventListener("focus",(function(){return o(!0)})),e.addEventListener("blur",(function(){""!==e.value&&e.dataset.value?e.value=e.dataset.value:e.value=""})))};document.querySelectorAll(".filters__input-field").length&&Array.from(document.querySelectorAll(".filters__input-field")).map((function(e){"location"===e.name?fetch("json/location.json").then((function(e){return e.json()})).then((function(t){a(e,t)})):a(e)})),Array.from(document.querySelectorAll(".filters__cost-range")).map((function(e){var t=+e.dataset.min,o=+e.dataset.max,n=+e.dataset.smin,r=+e.dataset.smax;noUiSlider.create(e,{start:[n,r],connect:!0,range:{min:t,max:o},step:100}),e.noUiSlider.on("slide",(function(t){var o=parseInt(t[0]),n=parseInt(t[1]);e.closest(".filters__input").querySelector(".filters__input-field").value="".concat(o," ₽ – ").concat(n," ₽"),e.closest(".filters__cost").querySelector('[data-cost="from"]').innerText=o,e.closest(".filters__cost").querySelector('[data-cost="to"]').innerText=n}))})),Array.from(document.querySelectorAll(".filters__dropdown-checkbox")).map((function(e){return e.addEventListener("click",(function(){var t=e.closest(".filters__input").querySelector(".filters__input-field");if(e.querySelector("input").checked){var o=e.querySelector(".checkbox__text").innerText;t.value=o,t.setAttribute("data-value",o),t.setAttribute("readonly","readonly")}else t.value="",t.setAttribute("data-value",""),t.removeAttribute("readonly")}))})),document.addEventListener("click",(function(e){var t=e.target;t.classList.contains("js-tutorcard-more")&&(t.style.display="none",Array.from(t.closest(".tutorcard__subjects").querySelectorAll(".tutorcard__subjects-item--hidden")).map((function(e){e.classList.remove("tutorcard__subjects-item--hidden")})))})),Array.from(document.querySelectorAll(".accordion__item-title")).map((function(e){return e.addEventListener("click",(function(){var t=e.closest(".accordion").querySelector(".accordion__item--active"),o=e.closest(".accordion__item");o.classList.contains("accordion__item--active")?o.classList.remove("accordion__item--active"):(t&&t.classList.remove("accordion__item--active"),o.classList.add("accordion__item--active"))}))}));var i=document.querySelectorAll(".personal__applications-checkbox");document.querySelectorAll(".application__write").forEach((function(e){return e.addEventListener("click",(function(){var t=e.dataset.show,o=e.dataset.hide,n=e.innerHTML;e.closest(".application").querySelector(".application__form").style.display=n===t?"block":"none",e.innerText=n===t?o:t}))})),i.forEach((function(e){return e.addEventListener("click",(function(){var t=e.querySelector("input").checked;document.querySelectorAll(".application__checkbox input").forEach((function(e){return e.checked=t})),i.forEach((function(o){o!==e&&(o.querySelector("input").checked=t)}))}))})),document.querySelectorAll(".application__checkbox input").forEach((function(e){return e.addEventListener("change",(function(){var t=!0;e.closest(".personal__card").querySelectorAll(".application__checkbox input").forEach((function(e){e.checked||(t=!1)})),i.forEach((function(e){return e.querySelector("input").checked=t}))}))})),document.querySelectorAll(".application__declined-link").forEach((function(e){return e.addEventListener("click",(function(){e.nextElementSibling.classList.toggle("application__declined-reason--active")}))})),document.addEventListener("click",(function(e){var t=document.querySelector(".application__declined-reason--active");t&&!e.target.closest(".application__declined")&&t.classList.remove("application__declined-reason--active")})),document.querySelectorAll(".balance__input").forEach((function(e){Inputmask({alias:"decimal",radixPoint:" ",suffix:" ₽"}).mask(e)})),[{$element:document.querySelector("form[data-balance-replensih]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}}].map((function(e){var t=e.$element,n=e.callback;t&&o.validate(t,(function(){return n(t)}))}));var s=document.querySelector(".banner");JSON.parse(localStorage.getItem("letmetutor:bannerIsHidden"))?s.remove():(s.style.display="flex",document.querySelector(".banner__close").addEventListener("click",(function(){s.classList.add("banner--hide"),setTimeout((function(){s.remove(),localStorage.setItem("letmetutor:bannerIsHidden",!0)}),500)})));var l=document.querySelector(".cookies");JSON.parse(localStorage.getItem("letmetutor:cookiesIsHidden"))?l.remove():(l.classList.add("cookies--shown"),document.querySelector(".cookies__btn").addEventListener("click",(function(){l.classList.remove("cookies--shown"),setTimeout((function(){l.remove(),localStorage.setItem("letmetutor:cookiesIsHidden",!0)}),500)})));var u=function(){!function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)}(),document.querySelector(".header-menu").classList.remove("header-menu--shown")};document.querySelector(".header__burger").addEventListener("click",(function(){-parseInt(document.body.style.marginTop),document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px"),document.querySelector(".header-menu").classList.add("header-menu--shown")})),document.querySelector(".header-menu__backdrop").addEventListener("click",u),document.querySelector(".header-menu__close").addEventListener("click",u),Array.from(document.querySelectorAll(".header__notifications-wrapper")).map((function(e){e.classList.contains("fakeScroll")||e.fakeScroll()}));new Swiper(".popular__grid--mobile",{loop:!0,loopAdditionalSlides:3,spaceBetween:20,slidesPerView:"auto",centeredSlides:!0,breakpoints:{760:{slidesPerView:2,centeredSlides:!1}}}),new Swiper(".reviews__slider",{loop:!0,spaceBetween:20,slidesPerView:3,slidesPerGroup:3,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".reviews__slider--mobile",{loop:!0,spaceBetween:20,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}});[{$element:document.querySelector("form[data-login-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-signup-student-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-signup-tutor-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-support-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-signup-student-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-signup-tutor-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}}].map((function(e){var t=e.$element,n=e.callback;t&&o.validate(t,(function(){return n(t)}))})),Array.from(document.querySelectorAll(".js-auth-country")).map((function(e){e.addEventListener("changeCountry",(function(t){e.closest("form").querySelector(".js-auth-city").dataset.country=t.target.querySelector("input").value})),e.dispatchEvent(c)})),document.querySelectorAll(".js-auth-city input").length&&fetch("/json/location.json").then((function(e){return e.json()})).then((function(e){Array.from(document.querySelectorAll(".js-auth-city input")).map((function(t){t.addEventListener("input",(function(t){var o=t.currentTarget,n=o.closest(".input"),r=n.dataset.country;if(r){var c=e.filter((function(e){return e.key===r}))[0].cities,a=o.value.toLowerCase(),i=o.closest(".input").querySelector(".dropdown__menu"),s=i.querySelector(".fakeScroll__content"),l=!1;s&&(s.innerHTML=""),""!==o.value&&(c.map((function(e){0===e.toLowerCase().indexOf(a)&&(l=!0,s.insertAdjacentHTML("beforeend",'<a class="input__dropdown-item dropdown__menu-item'.concat(a?" input__dropdown-item--smart":"",'" href="javascript:void(0)"><span>').concat(e.substr(0,a.length),"</span>").concat(e.substr(a.length),"</a>")))})),l&&Array.from(n.querySelectorAll(".input__dropdown-item")).map((function(e){return e.addEventListener("click",(function(){o.value=e.innerText}))}))),i.classList.contains("fakeScroll")||i.fakeScroll()}})),t.addEventListener("focus",(function(){var e=t.closest(".input").querySelector(".fakeScroll__content");e&&(e.innerHTML="")}))}))})),Array.from(document.querySelectorAll('input[name="rulesAgreement"]')).map((function(e){return e.addEventListener("change",(function(){var t=e.closest("form").querySelector('button[type="submit"]');e.checked?(t.classList.remove("button--disabled"),t.removeAttribute("disabled")):(t.classList.add("button--disabled"),t.setAttribute("disabled","disabled"))}))})),Array.from(document.querySelectorAll(".auth__toggle .tabs__item")).map((function(e){return e.addEventListener("click",(function(){document.querySelector(".auth__type").value=e.dataset.tab-1}))}));var d=document.querySelector(".js-catalog-more");if(d){var p=document.querySelector(".pagination__arrow--prev"),m=document.querySelector(".pagination__arrow--next"),f=document.querySelector(".pagination__separator"),_={current:[1],total:parseInt(document.querySelector(".catalog__items").dataset.total)},y=function(e){window.scrollTo(0,0),Array.from(document.querySelectorAll(".pagination__page--current")).map((function(e){return e.classList.remove("pagination__page--current")})),document.querySelector('.pagination__page[data-page="'.concat(e,'"]')).classList.add("pagination__page--current")},v=function(e){var t=f.previousElementSibling,o=document.querySelector(".pagination__page");if(+t.dataset.page===e)e===_.total-2?(o.remove(),f.classList.add("pagination__separator--hidden"),f.insertAdjacentHTML("beforebegin",'<a class="pagination__page" href="javascript:void(0)" data-page="'.concat(e+1,'">').concat(e+1,"</a>"))):e<_.total-2&&(o.remove(),f.insertAdjacentHTML("beforebegin",'<a class="pagination__page" href="javascript:void(0)" data-page="'.concat(e+1,'">').concat(e+1,"</a>")),f.classList.remove("pagination__separator--hidden"));else if(+o.dataset.page===e&&1!==e)t.remove(),document.querySelector(".pagination__pages").insertAdjacentHTML("afterbegin",'<a class="pagination__page" href="javascript:void(0)" data-page="'.concat(e-1,'">').concat(e-1,"</a>")),f.classList.remove("pagination__separator--hidden");else if(e===_.total&&!f.classList.contains("pagination__separator--")){var n=document.querySelectorAll(".pagination__page");f.classList.add("pagination__separator--hidden"),Array.from(n).reverse().map((function(t,o){t.innerText=e-o,t.dataset.page=e-o}))}},h=function(e){var t=e,o=Array.from(document.querySelectorAll(".filters__input-field")).map((function(e){return e.name}));return new URL(location.href).searchParams.toString().split("&").map((function(e){var n=_slicedToArray(e.split("="),1)[0];o.includes(n)&&(t+="&"+e)})),t+="&limit=".concat(document.querySelector(".js-catalog-limit .dropdown__value").innerText),t+="&filter=".concat(document.querySelector(".js-catalog-filter .dropdown__value").innerText)},S=function(e){var t=e.top,o=e.image,n=e.verified,r=e.name,c=e.country,a=e.subjects,i=e.location,s=e.description,l=e.link,u=e.rating,d=e.reviews,p=e.price;return'\n    <div class="tutorcard'.concat(t?" tutorcard--top":"",'">\n      <div class="tutorcard__image" style="background-image: url(\'').concat(o,'\')"></div>\n      <div class="tutorcard__info">\n        <div>\n          <p class="tutorcard__name').concat(n?" tutorcard__name--verified":"",'"><a href="').concat(l,'">').concat(r,'</a></p>\n          <p class="tutorcard__location" data-loc=').concat(c,">").concat(i,'</p>\n          <div class="tutorcard__subjects">\n            ').concat(a.map((function(e){return'\n              <a class="tutorcard__subjects-item'.concat(e.search?" tutorcard__subjects-item--search":"").concat(e.hidden?" tutorcard__subjects-item--hidden":"",'" href="javascript:void(0)">').concat(e.name," <span>(опыт <b>").concat(e.experience,"</b>)</span></a>\n            ")})).join(""),"\n            ").concat(a.length>2?'<a class="tutorcard__subjects-more js-tutorcard-more" href="javascript:void(0)">+'+["предмет","предмета","предметов"].decline(a.length-2,!0)+"</a>":"",'\n          </div>\n          <p class="tutorcard__desc">').concat(s,'</p>\n        </div><a class="tutorcard__more" href=').concat(l,'>Подробнее</a>\n      </div>\n      <div class="tutorcard__actions">\n        <div class="tutorcard__actions-info">\n          <div class="tutorcard__rating').concat(0===parseInt(d)?" tutorcard__rating--empty":"",'">\n            <p class="tutorcard__rating-rate">').concat(u,'</p>\n            <p class="tutorcard__rating-reviews">(').concat(d,')</p>\n          </div>\n          <div class="tutorcard__cost">\n            <p class="tutorcard__cost-value">').concat(p,' ₽</p>\n            <p class="tutorcard__cost-desc">в час</p>\n          </div>\n        </div>\n        <button class="button js-open-popup').concat(t?" button--primary":" button--secondary",' tutorcard__btn" data-popup="').concat(null!==document.querySelector(".header__profile")?"request":"request-auth",'">Оставить заявку</button>\n      </div>\n    </div>\n  ')};d.addEventListener("click",(function(e){e.preventDefault(),d.classList.add("button--loading");var t=_.current[_.current.length-1]+1,o=h("/json/catalog.json?page=".concat(t));_.current.push(t),Array.from(document.querySelectorAll(".pagination__page")).map((function(e){_.current.includes(parseInt(e.innerText))&&e.classList.add("pagination__page--current")})),fetch(o).then((function(e){return e.json()})).then((function(e){e.map((function(e){document.querySelector(".catalog__items").insertAdjacentHTML("beforeend",S(e))})),t===_.total&&(d.classList.add("catalog__bottom-btn--hidden"),m.classList.add("pagination__arrow--disabled")),d.classList.remove("button--loading")}))})),p.addEventListener("click",(function(e){e.preventDefault();var t=_.current[0]-1,o=h("json/catalog.json?page=".concat(t));_.current=[t],fetch(o).then((function(e){return e.json()})).then((function(e){var o="";e.map((function(e){o+=S(e)})),document.querySelector(".pagination__arrow--next").classList.remove("pagination__arrow--disabled"),y(t),1===t&&p.classList.add("pagination__arrow--disabled"),d.classList.remove("catalog__bottom-btn--hidden"),document.querySelector(".catalog__items").innerHTML=o})),f&&v(t)})),m.addEventListener("click",(function(e){e.preventDefault();var t=_.current[_.current.length-1]+1,o=h("/json/catalog.json?page=".concat(t));_.current=[t],fetch(o).then((function(e){return e.json()})).then((function(e){var o="";e.map((function(e){o+=S(e)})),document.querySelector(".pagination__arrow--prev").classList.remove("pagination__arrow--disabled"),y(t),t===_.total&&(d.classList.add("catalog__bottom-btn--hidden"),m.classList.add("pagination__arrow--disabled")),document.querySelector(".catalog__items").innerHTML=o,f&&v(t)}))})),document.addEventListener("click",(function(e){var t=e.target;if(t.classList.contains("pagination__page")){var o=parseInt(t.dataset.page),n=h("/json/catalog.json?page=".concat(o));_.current=[o],fetch(n).then((function(e){return e.json()})).then((function(e){var t="";e.map((function(e){t+=S(e)})),y(o),o===_.total?(p.classList.remove("pagination__arrow--disabled"),m.classList.add("pagination__arrow--disabled"),d.classList.add("catalog__bottom-btn--hidden")):1===o?(p.classList.add("pagination__arrow--disabled"),m.classList.remove("pagination__arrow--disabled"),d.classList.remove("catalog__bottom-btn--hidden")):(p.classList.remove("pagination__arrow--disabled"),m.classList.remove("pagination__arrow--disabled"),d.classList.remove("catalog__bottom-btn--hidden")),f&&v(o),document.querySelector(".catalog__items").innerHTML=t}))}}))}Array.from(document.querySelectorAll(".tutor__nav-link")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.target;scrollTo({top:document.querySelector('[data-block="'.concat(t,'"]')).getBoundingClientRect().top+window.pageYOffset-document.querySelector(".header").offsetHeight,behavior:"smooth"})}))})),Array.from(document.querySelectorAll(".profile-head__subjects-item")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.pay;e.closest(".profile-head__subjects").querySelector(".profile-head__subjects-item--highlight").classList.remove("profile-head__subjects-item--highlight"),e.classList.add("profile-head__subjects-item--highlight"),Array.from(document.querySelectorAll(".js-profile-cost")).map((function(e){return e.innerText=t}))}))}));var q=document.querySelector(".profile-about__video-cover");q&&q.addEventListener("click",(function(){var e=q.parentNode.querySelector("iframe");q.parentNode.querySelector("iframe").setAttribute("src",e.getAttribute("src")+"?autoplay=1"),q.classList.add("profile-about__video-cover--hidden")}));var b=document.querySelector(".js-reviews-more");if(b){var g={current:1,total:parseInt(document.querySelector('meta[name="reviews-total"]').content)};b.addEventListener("click",(function(e){e.preventDefault();var t=b.dataset.url;++g.current,fetch("".concat(t,"?page=").concat(g.current)).then((function(e){return e.json()})).then((function(e){e.data.map((function(e){var t,o,n,r,c,a,i;document.querySelector(".profile-reviews__feedbacks").insertAdjacentHTML("beforeend",(o=(t=e).image,n=t.name,r=t.date,c=t.rating,a=t.feedback,i=t.tag,'\n    <div class="profile-reviews__feedback">\n      '.concat(o?'<div class="profile-reviews__feedback-image" style="background-image: url(\''.concat(o,"')\"></div>"):'<div class="profile-reviews__feedback-image"></div>','\n      <div class="profile-reviews__feedback-info">\n        <div class="profile-reviews__feedback-head">\n          <div>\n            <p class="profile-reviews__feedback-name">').concat(n,'</p>\n            <p class="profile-reviews__feedback-date">').concat(r,"</p>\n          </div>\n          ").concat(i?'<p class="profile-reviews__feedback-tag">'+i+"</p>":"",'\n        </div>\n        <div class="profile-reviews__rating-stars">\n          ').concat([1,2,3,4,5].map((function(e){return e<=c?'<div class="profile-reviews__rating-star profile-reviews__rating-star--full"></div>':'<div class="profile-reviews__rating-star"></div>'})).join(""),'\n        </div>\n        <p class="profile-reviews__feedback-text">').concat(a,"</p>\n      </div>\n    </div>\n  "))),g.current===g.total&&b.remove()}))}))}))}var L=document.querySelectorAll(".profile-schedule__timezone-menu");L.length&&Array.from(L).map((function(e){e.classList.contains("fakeScroll")||e.fakeScroll()})),Array.from(document.querySelectorAll(".profile-schedule__time")).map((function(e){var t=e.querySelector(".profile-schedule__time-menu");t&&!t.classList.contains("fakeScroll")&&t.fakeScroll()}));var k=function(){var e=document.querySelector(".profile-schedule__unit--current"),t=document.querySelector('.js-popup[data-popup="request-specific"]');e&&setTimeout((function(){var o=e.dataset.date,n=e.querySelector(".profile-schedule__time-value").innerText;document.querySelector(".profile-schedule__pick").classList.add("profile-schedule__pick--active"),document.querySelector(".profile-schedule__pick-date").innerText=o,document.querySelector(".profile-schedule__pick-time").innerText=n,t&&(t.querySelector(".popup__heading-date").innerText=o,t.querySelector(".popup__heading-time").innerText=n,t.querySelector('input[name="time"]').value=n)}),0)};if(document.querySelector(".profile-schedule")){var w=document.querySelector(".profile-schedule__controls-button--prev"),A=document.querySelector(".profile-schedule__controls-button--next");w&&w.addEventListener("click",(function(){var e=document.querySelector(".profile-schedule__slide--active"),t=+e.dataset.slide,o=document.querySelector('.profile-schedule__slide[data-slide="'.concat(t-1,'"]'));o&&(e.classList.remove("profile-schedule__slide--active"),o.classList.add("profile-schedule__slide--active"),document.querySelector(".profile-schedule__controls-button--next").classList.remove("profile-schedule__controls-button--disabled"),document.querySelector(".profile-schedule__controls-dates").innerText=o.dataset.dates,o.dataset.first&&w.classList.add("profile-schedule__controls-button--disabled"))})),A&&A.addEventListener("click",(function(){var e=document.querySelector(".profile-schedule__slide--active"),t=+e.dataset.slide,o=document.querySelector('.profile-schedule__slide[data-slide="'.concat(t+1,'"]'));o&&(e.classList.remove("profile-schedule__slide--active"),o.classList.add("profile-schedule__slide--active"),document.querySelector(".profile-schedule__controls-button--prev").classList.remove("profile-schedule__controls-button--disabled"),document.querySelector(".profile-schedule__controls-dates").innerText=o.dataset.dates,o.dataset.last&&A.classList.add("profile-schedule__controls-button--disabled"))}))}Array.from(document.querySelectorAll(".profile-schedule__unit")).map((function(e){return e.addEventListener("click",(function(t){if(!t.target.closest(".profile-schedule__time")){var o=document.querySelector(".profile-schedule__unit--current");o&&o.classList.remove("profile-schedule__unit--current"),e.classList.add("profile-schedule__unit--current"),k()}}))})),Array.from(document.querySelectorAll(".profile-schedule__time-menu .dropdown__menu-item")).map((function(e){return e.addEventListener("click",k)}));var x=document.querySelector(".chat__grid"),T=document.querySelector(".chat__aside"),j=Array.from(document.querySelectorAll(".chat-item")),E=document.querySelector(".chat__head-warning"),H=document.querySelector(".chat__dialog"),I=document.querySelector(".chat__dialog-container"),$=document.querySelector(".chat__footer-input"),M=document.querySelector(".chat__footer-container"),C=document.querySelector(".chat__context"),N=document.querySelector('.js-popup[data-popup="dialog-delete"] [data-delete]'),D=0,O=new Event("formSubmit"),R=function(e){document.querySelector(".chat__context--shown")&&(C.classList.remove("chat__context--shown"),window.innerWidth<760&&!e&&(document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,D)))};T&&T.fakeScroll();var B=function(){$.style.height="5px",$.style.height=$.scrollHeight+3+"px"},W=function(){var e=H.querySelector(".fakeScroll__content");e.scrollTop=e.scrollHeight};E&&(JSON.parse(localStorage.getItem("letmetutor:dialogWarningIsHidden"))?E.remove():(E.classList.add("chat__head-warning--shown"),document.querySelector(".chat__head-warning-close").addEventListener("click",(function(){E.remove(),localStorage.setItem("letmetutor:dialogWarningIsHidden",!0)})))),j&&j.map((function(e){return e.addEventListener("click",(function(t){e.querySelector(".chat-item__container").style="",e.querySelector(".chat-item__delete").style="",(window.innerWidth>759&&!e.classList.contains("chat-item--active")||!t.target.closest(".chat-item__delete"))&&(x.classList.add("chat__grid--inner"),document.querySelector(".chat-item--active").classList.remove("chat-item--active"),e.classList.add("chat-item--active"),e.querySelector(".chat-item__counter")&&e.querySelector(".chat-item__counter").remove(),document.querySelector(".chat__head-image").style.backgroundImage=e.querySelector(".chat-item__image").style.backgroundImage,document.querySelector(".chat__head-name").innerText=e.querySelector(".chat-item__name").innerText)}))})),$&&$.addEventListener("input",B),H&&(H.fakeScroll(),H.querySelector(".fakeScroll__content").addEventListener("scroll",(function(){R()})),W()),M&&(M.addEventListener("formSubmit",(function(){var e=$.value;if(0===e.replace(/\s/g,"").length)return $.focus(),!1;if("send"===M.dataset.action){var t='<div class="chat__message chat__message--right" data-id="'.concat(+document.querySelector(".chat__message:last-child").dataset.id+1,'">\n        <p class="chat__message-text">').concat(e,'</p>\n        <p class="chat__message-time">').concat(Intl.DateTimeFormat("ru-Ru",{hour:"numeric",minute:"numeric"}).format(Date.now()),"</p>\n      </div>");I.insertAdjacentHTML("beforeend",t),W()}else"edit"===M.dataset.action&&(document.querySelector('.chat__message[data-id="'.concat(M.dataset.id,'"] .chat__message-text')).innerText=e,M.classList.remove("chat__footer-container--edit"),M.dataset.action="send");$.value="",$.focus(),B()})),M.addEventListener("submit",(function(e){e.preventDefault(),M.dispatchEvent(O)})),M.addEventListener("keypress",(function(e){13!==(e.keyCode?e.keyCode:e.which)||e.shiftKey||(e.preventDefault(),M.dispatchEvent(O))}))),document.addEventListener("click",(function(e){var t=e.target;if(t.classList.contains("chat__message-text")&&t.closest(".chat__message--right")){var o=t.parentNode.dataset.id;C.classList.add("chat__context--shown"),C.style.cssText="left: ".concat(e.clientX+10,"px; top: ").concat(e.clientY+scrollY+10,"px;"),N.dataset.id=o,M.dataset.id=o,window.innerWidth<760&&(D=window.scrollY,document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px"))}else R(t.closest('[data-action="delete"]'))})),N&&N.addEventListener("click",(function(){document.querySelector('.chat__message[data-id="'.concat(N.dataset.id,'"]')).remove()})),document.querySelector('.chat__context-item[data-action="edit"]')&&document.querySelector('.chat__context-item[data-action="edit"]').addEventListener("click",(function(){var e=document.querySelector('.chat__message[data-id="'.concat(M.dataset.id,'"] .chat__message-text')).innerText;M.classList.add("chat__footer-container--edit"),M.dataset.action="edit",$.focus(),$.value=e,document.querySelector(".chat__edit-text").innerText=e,B()})),document.querySelector(".chat__edit-cancel")&&document.querySelector(".chat__edit-cancel").addEventListener("click",(function(){M.classList.remove("chat__footer-container--edit"),M.dataset.action="send",$.focus(),$.value="",B()}));var P={start:null,end:null,diff:null};j&&j.map((function(e){var t=e.querySelector(".chat-item__container"),o=e.querySelector(".chat-item__delete");e.addEventListener("touchstart",(function(n){j.map((function(t){t!==e&&(t.querySelector(".chat-item__container").style.transform="translateX(0)",t.querySelector(".chat-item__delete").style.transform="translateX(0)")})),t.style.transition="none",o.style.transition="none",P.start=n.touches[0].clientX}),!1),e.addEventListener("touchmove",(function(e){var n=e.touches[0].clientX,r=P.start-n;P.end=n,P.diff=r,r>0&&r<120&&(t.style.transform="translateX(-".concat(r,"px)"),o.style.transform="translateX(-".concat(r,"px)"))}),!1),e.addEventListener("touchend",(function(e){e.stopPropagation();var n=P.diff<60?0:-120;t.style.cssText="\n        transition: transform .3s ease;\n        transform: translateX(".concat(n,"px);\n      "),o.style.cssText="\n        transition: transform .3s ease;\n        transform: translateX(".concat(n,"px);\n      ")}),!1)}));var X=null;[{$element:document.querySelector("form[data-personal-data]"),callback:function(e){t("/ajax/account/basic",e)}},{$element:document.querySelector("form[data-personal-experience]"),callback:function(e){t("/ajax/account/experiences",e)}},{$element:document.querySelector("form[data-personal-specialization]"),callback:function(e){document.querySelector(".errortype").style.display="none",t("/ajax/account/specialization",e,(function(e){"error.type"==e&&(document.querySelector(".errortype").style.display="block")}))}},{$element:document.querySelector("form[data-personal-contacts]"),callback:function(e){t("/ajax/account/contacts",e)}},{$element:document.querySelector("form[data-personal-pass]"),callback:function(e){t("/ajax/account/password",e)}},{$element:document.querySelector("form[data-personal-notification]"),callback:function(e){t("/ajax/account/notifications",e)}},{$element:document.querySelector("form[data-personal-info]"),callback:function(e){t("/ajax/account/info",e)}},{$element:document.querySelector("form[data-photo-form]"),callback:function(e){setTimeout((function(){var t=X.getData(),o={x:parseInt(t.x),y:parseInt(t.y),width:parseInt(t.width),height:parseInt(t.height)};X.element.closest(".popup__photo").querySelector('input[name="imageCropInfo"]').value=JSON.stringify(o),e.submit()}),0)}}].map((function(e){var t=e.$element,n=e.callback;t&&o.validate(t,(function(){return n(t)}))})),Array.from(document.querySelectorAll(".js-personal-add")).map((function(e){return e.addEventListener("click",(function(){var t=e.parentNode.querySelector(".js-copy-item"),o=t.cloneNode(!0),n=o.querySelector(".input.dropdown");o.style.display="block",Array.from(o.querySelectorAll("input")).map((function(e){e.required=!0})),Array.from(o.querySelectorAll("input")).map((function(e){e.addEventListener("input",(function(e){e.target.parentNode.parentNode.classList.remove("input--error")}))})),Array.from(o.querySelectorAll(".fakeScroll__content")).map((function(e){var t=e.closest(".dropdown__menu");Array.from(e.children).map((function(e){t.insertAdjacentElement("beforeend",e)})),Array.from(o.querySelectorAll('input[type="text"]')).map((function(e){return e.value=""})),Array.from(o.querySelectorAll('input[type="checkbox"]')).map((function(e){return e.checked=!1})),t.classList.remove("fakeScroll","fakeScroll--hasBar"),t.querySelector(".fakeScroll__wrap").remove(),t.querySelector(".fakeScroll__track").remove(),t.fakeScroll()})),t.parentNode.insertAdjacentElement("beforeend",o),Array.from(document.querySelectorAll(".js-personal-remove")).map((function(e){return e.addEventListener("click",(function(){e.parentNode.remove()}))})),n&&(n.addEventListener("click",(function(){var e=n.querySelector(".dropdown__menu");n.closest(".input").querySelector(".input__dropdown").style.width=n.closest(".input").getBoundingClientRect().width+"px",e.classList.contains("fakeScroll")||e.fakeScroll()})),Array.from(n.querySelectorAll(".input__dropdown-item[data-dropdown]")).map((function(e){return e.addEventListener("click",(function(){var t=e.innerText;e.closest(".input").querySelector("input").value=t,e.closest(".input").classList.remove("input--error")}))})))}))})),Array.from(document.querySelectorAll(".js-personal-remove")).map((function(e){return e.addEventListener("click",(function(){e.parentNode.remove()}))}));var Y=function(e){X=new Cropper(e,{viewMode:3,aspectRatio:1,zoomable:!1,guides:!1,center:!1,highlight:!1,minContainerWidth:window.innerWidth<760?200:350,autoCropArea:1,minCropBoxWidth:200,minCropBoxHeight:200,preview:e.closest(".popup__photo").querySelector(".popup__photo-pic")})},z=document.querySelector('.js-popup[data-popup="edit-photo"]');z&&z.addEventListener("popupShow",(function(){var e=z.querySelector(".popup__photo-image[data-uploaded]");e&&Y(e)}));var U=document.querySelector(".js-photo-input");U&&U.addEventListener("change",(function(e){var t=e.target.files[0],o=new FileReader;o.onloadend=function(){var e=o.result,t=document.querySelector(".cropper-container"),n=U.closest(".popup__photo");!t&&n.querySelector(".popup__photo-image[data-uploaded]")||(t&&t.remove(),n.querySelector(".popup__photo-pic").style.backgroundImage="url(".concat(e,")"),n.querySelector(".popup__photo-image").remove(),n.querySelector(".popup__photo-container").insertAdjacentHTML("afterbegin",'<img class="popup__photo-image" src="'.concat(e,'" alt="">')));var r=n.querySelector(".popup__photo-image");Y(r)},o.readAsDataURL(t)})),Array.from(document.querySelectorAll(".personal__schedule-time-link")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.schedule;document.querySelector("[data-schedule-main]").style.display="none",document.querySelector('[data-schedule-detail="'.concat(t,'"]')).style.display="block",window.innerWidth>1199&&window.scrollTo(0,0)}))})),Array.from(document.querySelectorAll(".personal__back")).map((function(e){return e.addEventListener("click",(function(){e.closest("[data-schedule-detail]").style.display="none",document.querySelector("[data-schedule-main]").style.display="block",window.innerWidth>1199&&window.scrollTo(0,0)}))})),document.querySelector(".personal__schedule")&&(Array.from(document.querySelectorAll(".profile-schedule__controls-button--prev")).map((function(e){return e.addEventListener("click",(function(){var t=e.closest("[data-schedule-detail]"),o=parseInt(t.dataset.scheduleDetail);t.style.display="none",document.querySelector('[data-schedule-detail="'.concat(o-1,'"]')).style.display="block"}))})),Array.from(document.querySelectorAll(".profile-schedule__controls-button--next")).map((function(e){return e.addEventListener("click",(function(){var t=e.closest("[data-schedule-detail]"),o=parseInt(t.dataset.scheduleDetail);t.style.display="none",document.querySelector('[data-schedule-detail="'.concat(o+1,'"]')).style.display="block"}))})));var J=function(){var e=document.querySelector(".personal__services-terms--active input:checked");if(e){var t=e.parentElement.querySelector(".radio__text").innerHTML.split("<span>")[0].trim(),o=e.value.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" &#8381;";document.querySelector('.personal__services-selected span[data-selected="term"]').innerText=t,document.querySelector(".personal__services-topay span").innerHTML=o,document.querySelector(".personal__services-footer").classList.remove("personal__services-footer--hidden"),document.querySelector("span[data-service-cost]")&&(document.querySelector("span[data-service-cost]").innerHTML=o)}else document.querySelector(".personal__services-footer").classList.add("personal__services-footer--hidden")};document.querySelectorAll(".personal__services-label input").forEach((function(e){return e.addEventListener("change",(function(){var t=e.value,o=e.parentElement.querySelector(".personal__services-heading").innerText;document.querySelector(".personal__services-terms--active").classList.remove("personal__services-terms--active"),document.querySelector('.personal__services-terms[data-terms="'.concat(t,'"]')).classList.add("personal__services-terms--active"),document.querySelector('.personal__services-selected span[data-selected="service"]').innerHTML="&laquo;"+o+"&raquo;",document.querySelector(".popup__heading-service")&&(document.querySelector(".popup__heading-service").innerText=o),J()}))})),document.querySelectorAll(".personal__services-radio input").forEach((function(e){return e.addEventListener("change",J)})),document.querySelector(".personal__verify-arrow").addEventListener("click",(function(){scrollTo({top:document.querySelector(".personal__verification-btn").getBoundingClientRect().top+window.pageYOffset-document.querySelector(".header").offsetHeight-20,behavior:"smooth"})}))};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbmxvYWQiLCJzaG93Tm90aWZpY2F0aW9uIiwiaWQiLCIkbm90aWZpY2F0aW9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29uY2F0IiwiY2xhc3NMaXN0IiwiYWRkIiwic2V0VGltZW91dCIsInJlbW92ZSIsInNlbmRGb3JtIiwicXVlcnlVcmwiLCJlbGVtZW50IiwidXNlQ2FsbGJhY2siLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJ0aGVuIiwianNvbiIsImxvZyIsImVycm9yIiwic3BsaXQiLCJjcmVkZW50aWFscyIsImNsb3Nlc3QiLCJjb250YWlucyIsIkZvcm1EYXRhIiwiaW5uZXJIVE1MIiwic3VjY2VzcyIsImNvbnNvbGUiLCJoaWRlT3ZlcmZsb3ciLCJzY3JvbGxZIiwic2hvd092ZXJmbG93Iiwib2Zmc2V0Iiwic3R5bGUiLCJjc3NUZXh0Iiwic2Nyb2xsVG8iLCJpc1Nob3duIiwiJHBvcHVwIiwic2hvdyIsInByb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsImRpc3BsYXkiLCJvblNob3ciLCJoaWRlIiwicGFyc2VJbnQiLCJtYXJnaW5Ub3AiLCJvbkhpZGUiLCIkYXBpIiwidmFsaWRhdGUiLCJmb3JtIiwicmVxdWVzdCIsIiRmaXJzdEludmFsaWRGaWVsZCIsInNldEludmFsaWRJbnB1dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJlbWFpbFJlZ2V4cCIsIiRmb3JtSW5wdXRzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0IiwibWFwIiwiZWwiLCJkYXRhc2V0IiwicGFzc1JlcGVhdCIsInZhbHVlIiwiZ2V0QXR0cmlidXRlIiwic2V0SW52YWxpZENoZWNrYm94IiwiZm9ybUlzVmFsaWQiLCJpbmNsdWRlcyIsIiRjaGVja2JveFNlbGVjdCIsInRlc3QiLCJjaGVja2VkIiwiY2hlY2tib3giLCJjdXJyZW50VGFyZ2V0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwieSIsInBhZ2VZT2Zmc2V0Iiwib2Zmc2V0SGVpZ2h0IiwicG9wdXBTaG93IiwiRXZlbnQiLCIkdGhpcyIsInRhcmdldCIsInBvcHVwIiwiaW5uZXJUZXh0IiwiZGlzcGF0Y2hFdmVudCIsImxpbmsiLCJyZXNwb25zZSIsInRleHQiLCIkZWxlbWVudCIsImNhbGxiYWNrIiwic3VibWl0IiwibG9jYXRpb24iLCIkcG9wdXBGb3JtcyIsIiRzdWNjZXNzUG9wdXAiLCIkZHJvcGRvd24iLCIkZHJvcGRvd25zIiwiY2hhbmdlQWN0aW9ucyIsInVybCIsImZvcm1hdFVSTCIsImZvcm1hdHRlZFVSTCIsIlVSTCIsInNlYXJjaFBhcmFtcyIsIiRkcm9wZG93bk1lbnVJdGVtIiwibmV3VmFsdWUiLCIkZHJvcGRvd25WYWx1ZSIsIiRkcm9wZG93bklucHV0IiwiJGhpZGRlbkl0ZW0iLCJmaWx0ZXJzTmFtZXMiLCJuYW1lIiwiZmluZCIsImtleSIsIl9zbGljZWRUb0FycmF5IiwiJGFjdGl2ZVRhYkNvbnRlbnQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJjaGFuZ2VDb3VudHJ5RXZlbnQiLCJ3aWR0aCIsImxvYyIsImNvZGVMb2MiLCJtYXNrIiwiJGlucHV0IiwidXBkYXRlTWFzayIsIklucHV0bWFzayIsInJlcGxhY2VBbGwiLCJmYWtlU2Nyb2xsIiwicGxhY2Vob2xkZXIiLCJ0b2dnbGUiLCIkaGludFNob3duQ29udGFpbmVyIiwibGlzdCIsInN0b3BQcm9wYWdhdGlvbiIsIml0ZW0iLCJzdWJzdHJpbmciLCIkcGxhY2Vob2xkZXIiLCJpbml0U21hcnRTZWFyY2giLCJkYXRhIiwiaGFuZGxlSW5wdXQiLCJmaXJzdFJlbmRlciIsIm5leHRFbGVtZW50U2libGluZyIsIiRkcm9wZG93bkVsZW1lbnQiLCJvcHRpb25zIiwiaW5wdXRTbWFydFNlYXJjaCIsImZsYXRNYXAiLCJjaXRpZXMiLCJKU09OIiwicGFyc2UiLCJsb3dlckNhc2VWYWx1ZSIsInRvTG93ZXJDYXNlIiwibWF0Y2hlc0ZvdW5kIiwic3Vic3RyIiwiZ2V0TG9jYXRpb25EYXRhIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwicGFyZW50Tm9kZSIsIiRjaGVja2JveCIsInJlcyIsIiRyYW5nZSIsIm1pbiIsIm1heCIsInNtaW4iLCJzbWF4Iiwic3RhcnQiLCJyYW5nZSIsInN0ZXAiLCJub1VpU2xpZGVyIiwib24iLCJ2YWx1ZXMiLCIkaW5wdXRGaWVsZCIsImNyZWF0ZSIsImNoZWNrYm94VmFsdWUiLCIkdGFyZ2V0IiwiJGFjdGl2ZUl0ZW0iLCIkY3VycmVudEl0ZW0iLCJmb3JFYWNoIiwiY3VycmVudFRleHQiLCJzaG93VGV4dCIsImhpZGVUZXh0IiwiJHRvZ2dsZUNoZWNrYm94ZXMiLCJpc0NoZWNrZWQiLCIkYWN0aXZlUmVhc29uIiwiYWxpYXMiLCJyYWRpeFBvaW50Iiwic3VmZml4IiwiJGJhbm5lciIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRJdGVtIiwiJGNvb2tpZXMiLCIkYmFsYW5jZUZvcm1zIiwiaGlkZUhlYWRlck1lbnUiLCJTd2lwZXIiLCJsb29wIiwibG9vcEFkZGl0aW9uYWxTbGlkZXMiLCJzbGlkZXNQZXJWaWV3IiwiY2VudGVyZWRTbGlkZXMiLCJicmVha3BvaW50cyIsIjc2MCIsInNsaWRlc1Blckdyb3VwIiwiY2xpY2thYmxlIiwic3BhY2VCZXR3ZWVuIiwicmV2aWV3c1NsaWRlciIsInBhZ2luYXRpb24iLCJyZXZpZXdTbGlkZXJNb2JpbGUiLCIkYXV0aEZvcm1zIiwiY291bnRyeSIsIiRsYWJlbEVsZW1lbnQiLCIkZHJvcGRvd25Db250ZW50IiwiJHN1Ym1pdEJ1dHRvbiIsInRhYiIsIiRjYXRhbG9nTW9yZUJ0biIsIiRwcmV2QXJyb3ciLCIkc2VwYXJhdG9yIiwiY3VycmVudCIsInRvdGFsIiwic2V0Q3VycmVudFBhZ2UiLCJjdXJyZW50UGFnZSIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCIkZmlyc3RJdGVtIiwicGFnZSIsImxhdGVzdFBhZ2UiLCJjYXRhbG9nUGFnZXMiLCIkbmV4dEFycm93IiwiJHBhZ2luYXRpb25QYWdlcyIsImkiLCJzZXRCcmVhayIsImhyZWYiLCIkYmVmb3JlU2VwYXJhdG9ySXRlbSIsImNhdGFsb2dJdGVtRWxlbWVudCIsInZlcmlmaWVkIiwiZGVzY3JpcHRpb24iLCJyYXRpbmciLCJyZXZpZXdzIiwicHJpY2UiLCJzZWFyY2giLCJoaWRkZW4iLCJleHBlcmllbmNlIiwiam9pbiIsInN1YmplY3RzIiwiZGVjbGluZSIsInRvcCIsInB1c2giLCIkZWxlbWVudHMiLCJiZWhhdmlvciIsInBheW1lbnQiLCJwYXkiLCIkcHJvZmlsZVZpZGVvQ292ZXIiLCIkdmlkZW8iLCIkcmV2aWV3c01vcmVCdG4iLCJyZXZpZXdzUGFnZXMiLCJjb250ZW50IiwicmV2aWV3IiwiX3JlZjMiLCJpbWFnZSIsImRhdGUiLCJmZWVkYmFjayIsInRhZyIsInJldmlld0VsZW1lbnQiLCIkdGltZXpvbmVEcm9wZG93bnMiLCIkY29udGFpbmVyIiwiJGN1cnJlbnRVbml0Iiwic2V0RGF0ZVRpbWUiLCJ0aW1lIiwiJHByZXZCdXR0b24iLCIkbmV4dEJ1dHRvbiIsIiRhY3RpdmVTbGlkZSIsInNsaWRlIiwiY3VycmVudEluZGV4IiwiJHByZXZTbGlkZSIsImRhdGVzIiwiJG5leHRTbGlkZSIsIiRkaWFsb2dDb250YWluZXIiLCIkZGlhbG9nTGlzdCIsIiRkaWFsb2dMaXN0SXRlbXMiLCIkZGlhbG9nV2luZG93IiwiJGRpYWxvZ1dpbmRvd0NvbnRhaW5lciIsIiRkaWFsb2dXYXJuaW5nIiwic2NyZWVuT2Zmc2V0IiwiJGRpYWxvZ0Zvcm0iLCJkZWxldGVNZXNzYWdlIiwiJGRpYWxvZ0NvbnRleHRNZW51IiwiY29udGV4dERlc3Ryb3kiLCJzZXREaWFsb2dJbnB1dEhlaWdodCIsIiRkaWFsb2dJbnB1dEZpZWxkIiwiaGVpZ2h0Iiwic2Nyb2xsSGVpZ2h0IiwiJGNoYXRTY3JvbGxDb250YWluZXIiLCJzY3JvbGxUb3AiLCJpbm5lcldpZHRoIiwiYmFja2dyb3VuZEltYWdlIiwic2Nyb2xsQ2hhdFRvQm90dG9tIiwibWVzc2FnZSIsInJlcGxhY2UiLCIkbWVzc2FnZUVsZW1lbnQiLCJhY3Rpb24iLCJob3VyIiwiSW50bCIsIkRhdGVUaW1lRm9ybWF0IiwibWludXRlIiwiZm9ybWF0IiwiRGF0ZSIsIm5vdyIsImZvY3VzIiwiZm9ybVN1Ym1pdEV2ZW50Iiwia2V5Q29kZSIsIndoaWNoIiwic2hpZnRLZXkiLCJtZXNzYWdlSUQiLCJjbGllbnRYIiwiY2xpZW50WSIsIiRkaWFsb2dEZWxldGVNZXNzYWdlQnRuIiwib3JpZ2luYWxNZXNzYWdlVGV4dCIsInN3aXBlQ29vcmRpbmF0ZXMiLCJlbmQiLCJkaWZmIiwiJGNoYXRJdGVtQ29udGFpbmVyIiwidHJhbnNpdGlvbiIsIiRjaGF0SXRlbURlbGV0ZSIsImN1cnJlbnRDb29yZGluYXRlIiwidHJhbnNmb3JtIiwidG91Y2hlcyIsImNyb3BwZWRJbWFnZSIsIiRwZXJzb25hbEZvcm1zIiwiZGVzdCIsIiRpbnB1dERyb3Bkb3duIiwiJGNsb25lZEVsZW1lbnQiLCJyZXF1aXJlZCIsImdldERhdGEiLCJmaWxlRGF0YSIsInN0cmluZ2lmeSIsIiRtZW51IiwiY2xvbmVOb2RlIiwiY2hpbGRyZW4iLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJ6b29tYWJsZSIsImd1aWRlcyIsIm1pbkNvbnRhaW5lcldpZHRoIiwiYXV0b0Nyb3BBcmVhIiwibWluQ3JvcEJveFdpZHRoIiwicHJldmlldyIsIiR1cGxvYWRlZEltYWdlIiwiJGVkaXRQaG90b1BvcHVwIiwiY3JvcHBlckluaXQiLCIkcG9wdXBQaG90b0lucHV0IiwicmVhZGVyIiwib25sb2FkZW5kIiwidmlld01vZGUiLCJhc3BlY3RSYXRpbyIsIiRjcm9wcGVyIiwiJHBvcHVwUGhvdG9Db250YWluZXIiLCJjZW50ZXIiLCJoaWdobGlnaHQiLCIkaW1hZ2VFbGVtZW50IiwiZmlsZSIsImZpbGVzIiwiRmlsZVJlYWRlciIsInJlc3VsdCIsIiRjdXJyZW50U2NoZWR1bGUiLCJzY2hlZHVsZURldGFpbCIsInJlYWRBc0RhdGFVUkwiLCJjdXJyZW50U2NoZWR1bGVJZCIsInNjaGVkdWxlIiwiJGNoZWNrZWRSYWRpbyIsInRpdGxlIiwic2V0U2VsZWN0ZWRTZXJ2aWNlVGVybSIsInRlcm0iLCJwYXJlbnRFbGVtZW50IiwidHJpbSIsImNvc3QiLCJ0b1N0cmluZyJdLCJtYXBwaW5ncyI6IjBxQ0FBQUEsT0FBT0MsT0FBUyxXQUVkLElBQU1DLEVBQW1CLFNBQUFDLEdBQ3pCLElBQU1DLEVBQWdCQyxTQUFTQyxjQUFULDJDQUFBQyxPQUFrRUosRUFBbEUsT0FDdEJDLEVBQWNJLFVBQVVDLElBQUksK0JBRTVCQyxZQUFXLFdBQ1ROLEVBQWNJLFVBQVVHLE9BQU8saUNBQzlCLE1BR0NDLEVBQVcsU0FBQ0MsRUFBVUMsR0FBaUMsSUFBeEJDLEVBQXdCQyxVQUFBQyxPQUFBLFFBQUFDLElBQUFGLFVBQUEsSUFBQUEsVUFBQSxHQUMzREcsTUFBTU4sRUFBVSxDQUNkTyxPQUFRLE9BYlpwQixZQUFnQixjQUVkcUIsS0FBTW5CLElBQUFBLFNBQWdCWSxLQUV0QlYsTUFBQUEsU0FBQUEsR0FBQUEsT0FBQUEsRUFBY0ksVUFBZGMsTUFBNEIsU0FBQUMsR0FFNUJiLEVBQUFBLFNBQ0VOLEVBQWNJLFdBRE5NLEVBQVZSLGNBQUEseUJBQUFFLFVBQUFHLE9BQUEscUJBZ0JJRyxFQUFRUixjQUFjLHlCQUF5QkUsVUFBVUcsT0FBTyxtQkFYaEVDLFFBQVFZLElBQUdELEdBQTRDQSxFQUF4QlIsT0FBQUEsU0FBd0IsU0FBQVUsR0FDM0ROLElBQWdCLElBQVZOLEVBQUFBLFFBQVUsS0FBQSxDQUNkTyxJQUFRTSxFQURNRCxFQUFBQyxNQUFBLEtBRWRDLEVBQWFyQixjQUZDLFVBQUFvQixFQUFBLEdBQUEsTUFBQUUsUUFBQSxTQUFBcEIsVUFBQXFCLFNBQUEsYUFHUmYsRUFBSWdCLGNBQUosVUFBQUosRUFBQSxHQUFBLE1BQUFFLFFBQUEsU0FBQXBC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QUFpQixTQUFTLFdBQzFFbkIsU0FBUyxDQUNQNk0sSUFBS2hQLFNBQVNDLGNBQWMsK0JBQStCNEUsd0JBQXdCbUssSUFBTXJQLE9BQU9vRixZQUFjL0UsU0FBU0MsY0FBYyxXQUFXK0UsYUFBZSxHQUMvSm1LLFNBQVUiLCJmaWxlIjoiY29tbW9uLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG5cbiAgY29uc3Qgc2hvd05vdGlmaWNhdGlvbiA9IGlkID0+IHtcbiAgY29uc3QgJG5vdGlmaWNhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5oZWFkZXItbm90aWZpY2F0aW9uW2RhdGEtbm90aWZpY2F0aW9uPVwiJHtpZH1cIl1gKTtcbiAgJG5vdGlmaWNhdGlvbi5jbGFzc0xpc3QuYWRkKCdoZWFkZXItbm90aWZpY2F0aW9uLS1hY3RpdmUnKTtcbiAgXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICRub3RpZmljYXRpb24uY2xhc3NMaXN0LnJlbW92ZSgnaGVhZGVyLW5vdGlmaWNhdGlvbi0tYWN0aXZlJyk7XG4gIH0sIDQwMDApO1xufTtcblxuY29uc3Qgc2VuZEZvcm0gPSAocXVlcnlVcmwsIGVsZW1lbnQsIHVzZUNhbGxiYWNrID0gZmFsc2UpID0+IHtcbiAgZmV0Y2gocXVlcnlVcmwsIHtcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIGNyZWRlbnRpYWxzOiBcInNhbWUtb3JpZ2luXCIsXG4gICAgYm9keTogbmV3IEZvcm1EYXRhKGVsZW1lbnQpXG4gIH0pXG4gIC50aGVuKHJlcyA9PiByZXMuanNvbigpKS50aGVuKGpzb24gPT4ge1xuICAgIGlmIChqc29uLnN1Y2Nlc3MpIHtcbiAgICAgIHNob3dOb3RpZmljYXRpb24oXCJzdWNjZXNzXCIpO1xuICAgICAgZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICBjb25zb2xlLmxvZyhqc29uKTtcbiAgICAgIGpzb24uZXJyb3JzLmZvckVhY2goZXJyb3IgPT4ge1xuICAgICAgICBpZihlcnJvci5pbmRleE9mKCc7JykgIT09IC0xKSB7XG4gICAgICAgICAgdmFyIHNwbGl0ID0gZXJyb3Iuc3BsaXQoJzsnKTtcbiAgICAgICAgICBpZihlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiJytzcGxpdFswXSsnXCJdJykuY2xvc2VzdCgnbGFiZWwnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3RleHRhcmVhJykpIHtcbiAgICAgICAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCInK3NwbGl0WzBdKyddXCInKS5jbG9zZXN0KCdsYWJlbCcpLmNsYXNzTGlzdC5hZGQoJ3RleHRhcmVhLS1lcnJvcicpO1xuICAgICAgICAgICAgZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIicrc3BsaXRbMF0rJ11cIicpLmNsb3Nlc3QoJ2xhYmVsJykucXVlcnlTZWxlY3RvcignLnRleHRhcmVhX19lcnJvcicpLmlubmVySFRNTCA9IHNwbGl0WzFdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmKGVsZW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCInK3NwbGl0WzBdKydcIl0nKS5jbG9zZXN0KCdsYWJlbCcpLmNsYXNzTGlzdC5jb250YWlucygnaW5wdXQnKSkge1xuICAgICAgICAgICAgZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIicrc3BsaXRbMF0rJ1wiXScpLmNsb3Nlc3QoJ2xhYmVsJykuY2xhc3NMaXN0LmFkZCgnaW5wdXQtLWVycm9yJyk7XG4gICAgICAgICAgICBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiJytzcGxpdFswXSsnXCJdJykuY2xvc2VzdCgnbGFiZWwnKS5xdWVyeVNlbGVjdG9yKCcuaW5wdXRfX2Vycm9yJykuaW5uZXJIVE1MID0gc3BsaXRbMV07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICBpZiAodXNlQ2FsbGJhY2sgIT09IGZhbHNlKSB1c2VDYWxsYmFjayhlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuICAvLyDQntCx0YrQtdC60YIg0LPQu9C+0LHQsNC70YzQvdC+0LPQviBBUElcbmNvbnN0ICRhcGkgPSB7fTtcblxuLy8gQVBJINC00LvRjyDRgNCw0LHQvtGC0Ysg0YEg0L/QvtC/0LDQv9Cw0LzQuFxuJGFwaS5wb3B1cCA9ICgkcG9wdXAsIHsgb25IaWRlLCBvblNob3cgfSA9IHt9KSA9PiB7XG4gIC8vINCe0YLQutC70Y7Rh9Cw0LXRgiDQstC+0LfQvNC+0LbQvdC+0YHRgtGMINGB0LrRgNC+0LvQu9C40YLRjCDRgdGC0YDQsNC90LjRhtGDXG4gIGNvbnN0IGhpZGVPdmVyZmxvdyA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmNzc1RleHQgPSBgcG9zaXRpb246IGZpeGVkOyBtYXJnaW4tdG9wOiAkey13aW5kb3cuc2Nyb2xsWX1weGA7XG4gIH07XG4gIFxuICAvLyDQktC60LvRjtGH0LDQtdGCINCy0L7Qt9C80L7QttC90L7RgdGC0Ywg0YHQutGA0L7Qu9C70LjRgtGMINGB0YLRgNCw0L3QuNGG0YNcbiAgY29uc3Qgc2hvd092ZXJmbG93ID0gb2Zmc2V0ID0+IHtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246IHN0YXRpYzsgbWFyZ2luLXRvcDogMCc7XG4gICAgXG4gICAgd2luZG93LnNjcm9sbFRvKDAsIG9mZnNldCk7XG4gIH07XG4gIFxuICByZXR1cm4ge1xuICAgIC8vINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCIHRydWUsINC10YHQu9C4INC/0L7Qv9Cw0L8g0L/QvtC60LDQt9GL0LLQsNC10YLRgdGPLCDQsiDQuNC90L7QvCDRgdC70YPRh9Cw0LUgZmFsc2VcbiAgICBpc1Nob3duOiAoKSA9PiAkcG9wdXAuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cC0tb3BlbmVkJyksXG4gICAgLy8g0J/QvtC60LDQt9GL0LLQsNC10YIg0L/QvtC/0LDQv1xuICAgIHNob3coKSB7XG4gICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICRwb3B1cC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIGhpZGVPdmVyZmxvdygpO1xuXG4gICAgICBwcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAkcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXAtLW9wZW5lZCcpO1xuICAgICAgICBpZiAodHlwZW9mIG9uU2hvdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG9uU2hvdygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIC8vINCh0LrRgNGL0LLQsNC10YIg0L/QvtC/0LDQv1xuICAgIGhpZGUoKSB7XG4gICAgICBjb25zdCBvZmZzZXQgPSAtcGFyc2VJbnQoZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW5Ub3ApO1xuICBcbiAgICAgICRwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cC0tb3BlbmVkJyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgJHBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHNob3dPdmVyZmxvdyhvZmZzZXQpO1xuICAgICAgICBpZiAodHlwZW9mIG9uSGlkZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG9uSGlkZSgpO1xuICAgICAgICB9XG4gICAgICB9LCAzMDApO1xuICAgIH1cbiAgfTtcbn07XG5cbi8vIEFQSSDQtNC70Y8g0LLQsNC70LjQtNCw0YbQuNC4INGE0L7RgNC8XG4kYXBpLnZhbGlkYXRlID0gKGZvcm0sIHJlcXVlc3QpID0+IHtcbiAgbGV0ICRmaXJzdEludmFsaWRGaWVsZCA9IG51bGw7XG4gIGNvbnN0IGVtYWlsUmVnZXhwID0gL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XG4gIGNvbnN0IHNldEludmFsaWRJbnB1dCA9IGlucHV0ID0+IHtcbiAgICBpZiAoaW5wdXQuY2xvc2VzdCgnLmlucHV0JykpIHtcbiAgICAgIGlucHV0LmNsb3Nlc3QoJy5pbnB1dCcpLmNsYXNzTGlzdC5hZGQoJ2lucHV0LS1lcnJvcicpO1xuICAgIH0gZWxzZSBpZiAoaW5wdXQuY2xvc2VzdCgnLnRleHRhcmVhJykpIHtcbiAgICAgIGlucHV0LmNsb3Nlc3QoJy50ZXh0YXJlYScpLmNsYXNzTGlzdC5hZGQoJ3RleHRhcmVhLS1lcnJvcicpO1xuICAgIH1cbiAgICAkZmlyc3RJbnZhbGlkRmllbGQgPSBpbnB1dDtcbiAgICBpbnB1dC5mb2N1cygpO1xuICB9O1xuICBjb25zdCBzZXRJbnZhbGlkQ2hlY2tib3ggPSBpbnB1dCA9PiB7XG4gICAgJGZpcnN0SW52YWxpZEZpZWxkID0gaW5wdXQ7XG4gICAgaW5wdXQuY2xvc2VzdCgnLmNoZWNrYm94JykuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gtLWVycm9yJyk7XG4gIH07XG5cbiAgZm9ybS5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgbGV0IGZvcm1Jc1ZhbGlkID0gdHJ1ZTtcbiAgICBjb25zdCAkZm9ybUlucHV0cyA9IEFycmF5LmZyb20oZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtyZXF1aXJlZF0sIHRleHRhcmVhW3JlcXVpcmVkXScpKTtcbiAgICBjb25zdCAkY2hlY2tib3hTZWxlY3QgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGVja2JveHNlbGVjdCcpO1xuXG4gICAgJGZvcm1JbnB1dHMucmV2ZXJzZSgpLm1hcChlbCA9PiB7XG4gICAgICAkZmlyc3RJbnZhbGlkRmllbGQgPSBudWxsO1xuXG4gICAgICBpZiAoZWwuZGF0YXNldC5wYXNzUmVwZWF0ICYmIGVsLnZhbHVlICE9PSBlbC5jbG9zZXN0KCdmb3JtJykucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1wYXNzXScpLnZhbHVlKSB7XG4gICAgICAgIHNldEludmFsaWRJbnB1dChlbCk7XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaChlbC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSkge1xuICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgY2FzZSAncGFzc3dvcmQnOlxuICAgICAgICAgIGlmIChlbC52YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICAgIHNldEludmFsaWRJbnB1dChlbCk7XG4gICAgICAgICAgICBmb3JtSXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGVsJzpcbiAgICAgICAgICBpZiAoZWwudmFsdWUgPT09ICcnIHx8IGVsLnZhbHVlLmluY2x1ZGVzKCdfJykpIHtcbiAgICAgICAgICAgIHNldEludmFsaWRJbnB1dChlbCk7XG4gICAgICAgICAgICBmb3JtSXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICAgIGlmICghZWwuY2hlY2tlZCkge1xuICAgICAgICAgICAgc2V0SW52YWxpZENoZWNrYm94KGVsKTtcbiAgICAgICAgICAgIGZvcm1Jc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdlbWFpbCc6XG4gICAgICAgICAgaWYgKCFlbWFpbFJlZ2V4cC50ZXN0KGVsLnZhbHVlKSkge1xuICAgICAgICAgICAgc2V0SW52YWxpZElucHV0KGVsKTtcbiAgICAgICAgICAgIGZvcm1Jc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChlbC52YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICAgIHNldEludmFsaWRJbnB1dChlbCk7XG4gICAgICAgICAgICBmb3JtSXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgXG4gICAgaWYgKCRjaGVja2JveFNlbGVjdC5sZW5ndGgpIHtcbiAgICAgIEFycmF5LmZyb20oJGNoZWNrYm94U2VsZWN0KS5tYXAoZWwgPT4ge1xuICAgICAgICBsZXQgY2hlY2tlZCA9IGZhbHNlO1xuICBcbiAgICAgICAgQXJyYXkuZnJvbShlbC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3hfX2lucHV0JykpLm1hcChjaGVja2JveCA9PiB7XG4gICAgICAgICAgaWYgKGNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICAgICAgICAgIGNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gIFxuICAgICAgICBpZiAoIWNoZWNrZWQpIHtcbiAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveHNlbGVjdC0tZXJyb3InKTtcbiAgICAgICAgICBmb3JtSXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZm9ybUlzVmFsaWQpIHtcbiAgICAgIGUuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuYWRkKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgIHJlcXVlc3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2Nyb2xsVG8oMCwgJGZpcnN0SW52YWxpZEZpZWxkLmNsb3Nlc3QoJy5pbnB1dCcpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnkgKyBwYWdlWU9mZnNldCAtIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKS5vZmZzZXRIZWlnaHQgLSAxMCk7XG4gICAgfVxuICB9KTtcblxuICBBcnJheS5mcm9tKGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKSkuY29uY2F0KEFycmF5LmZyb20oZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCd0ZXh0YXJlYScpKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIGlmIChlbC5jbG9zZXN0KCcuaW5wdXQnKSkge1xuICAgICAgZWwuY2xvc2VzdCgnLmlucHV0JykuY2xhc3NMaXN0LnJlbW92ZSgnaW5wdXQtLWVycm9yJyk7XG4gICAgfSBlbHNlIGlmIChlbC5jbG9zZXN0KCcuY2hlY2tib3gnKSkge1xuICAgICAgZWwuY2xvc2VzdCgnLmNoZWNrYm94JykuY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tib3gtLWVycm9yJyk7XG4gICAgfSBlbHNlIGlmIChlbC5jbG9zZXN0KCcudGV4dGFyZWEnKSkge1xuICAgICAgZWwuY2xvc2VzdCgnLnRleHRhcmVhJykuY2xhc3NMaXN0LnJlbW92ZSgndGV4dGFyZWEtLWVycm9yJyk7XG4gICAgfVxuICB9KSk7XG59O1xuXG4gIC8vIGhhbmRsZSBvcGVuIHBvcHVwXG5jb25zdCBwb3B1cFNob3cgPSBuZXcgRXZlbnQoJ3BvcHVwU2hvdycpO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9IGUudGFyZ2V0O1xuXG4gIGlmICgkdGhpcy5jbG9zZXN0KCcuanMtb3Blbi1wb3B1cCcpKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIFxuICAgIGNvbnN0IHRhcmdldCA9ICR0aGlzLmNsb3Nlc3QoJy5qcy1vcGVuLXBvcHVwJykuZGF0YXNldC5wb3B1cDtcbiAgICBjb25zdCAkcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanMtcG9wdXBbZGF0YS1wb3B1cD1cIiR7dGFyZ2V0fVwiXWApO1xuXG4gICAgaWYgKHRhcmdldCA9PT0gJ3JlcXVlc3QtYXV0aCcpIHtcbiAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1oZWFkX19uYW1lJykpIHtcbiAgICAgICAgJHBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZGVzYyBiJykuaW5uZXJUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtaGVhZF9fbmFtZScpLmlubmVyVGV4dDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRwb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Rlc2MgYicpLmlubmVyVGV4dCA9ICR0aGlzLmNsb3Nlc3QoJy50dXRvcmNhcmQnKS5xdWVyeVNlbGVjdG9yKCcudHV0b3JjYXJkX19uYW1lJykuaW5uZXJUZXh0O1xuICAgICAgfVxuICAgIH1cblxuICAgICRhcGkucG9wdXAoJHBvcHVwLCB7XG4gICAgICBvblNob3coKSB7XG4gICAgICAgIGlmICh0YXJnZXQgPT09ICdlZGl0LXBob3RvJykge1xuICAgICAgICAgICRwb3B1cC5kaXNwYXRjaEV2ZW50KHBvcHVwU2hvdyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KS5zaG93KCk7XG4gIH1cbn0pO1xuXG4vLyBoYW5kbGUgY2xvc2UgcG9wdXBcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWNsb3NlLXBvcHVwJykpLm1hcChlbCA9PlxuICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGlmICghZS50YXJnZXQuY2xvc2VzdCgnLnBvcHVwX193aW5kb3cnKSB8fCAhZS5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnanMtcG9wdXAnKSkge1xuICAgICAgY29uc3QgJHBvcHVwID0gZS5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5wb3B1cCcpO1xuXG4gICAgICBpZiAoZWwuZGF0YXNldC5saW5rKSB7XG4gICAgICAgIGZldGNoKGVsLmRhdGFzZXQubGluaylcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UudGV4dCgpKVxuICAgICAgICAudGhlbih0ZXh0ID0+IHtcbiAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgICRhcGkucG9wdXAoJHBvcHVwKS5oaWRlKCk7XG4gICAgfVxuICB9KVxuKTtcblxuLy8gYWxsIHBvcHVwIGZvcm1zXG5jb25zdCAkcG9wdXBGb3JtcyA9IFt7XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtcmVzdG9yZS1mb3JtXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICRlbGVtZW50LnN1Ym1pdCgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXJlcXVlc3QtYXV0aC1mb3JtXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICRlbGVtZW50LnN1Ym1pdCgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXJlZnVzZV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAkZWxlbWVudC5zdWJtaXQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1wYXldJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgY29uc3QgJHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJhcHBsaWNhdGlvbi1wYXlcIl0nKTtcbiAgICBjb25zdCAkc3VjY2Vzc1BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJhcHBsaWNhdGlvbi1wYXktc3VjY2Vzc1wiXScpO1xuICBcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRhcGkucG9wdXAoJHBvcHVwLCB7XG4gICAgICAgIG9uSGlkZSgpIHtcbiAgICAgICAgICBBcnJheS5mcm9tKCRwb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpKS5tYXAoZWwgPT4gZWwudmFsdWUgPSAnJyk7XG4gICAgICAgICAgJGFwaS5wb3B1cCgkc3VjY2Vzc1BvcHVwKS5zaG93KCk7XG4gICAgICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICAgfVxuICAgICAgfSkuaGlkZSgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXNlcnZpY2UtcGF5XScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIGNvbnN0ICRwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwic2VydmljZS1wYXlcIl0nKTtcbiAgICBjb25zdCAkc3VjY2Vzc1BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJzZXJ2aWNlLXBheS1zdWNjZXNzXCJdJyk7XG4gIFxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGFwaS5wb3B1cCgkcG9wdXAsIHtcbiAgICAgICAgb25IaWRlKCkge1xuICAgICAgICAgIEFycmF5LmZyb20oJHBvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykpLm1hcChlbCA9PiBlbC52YWx1ZSA9ICcnKTtcbiAgICAgICAgICAkYXBpLnBvcHVwKCRzdWNjZXNzUG9wdXApLnNob3coKTtcbiAgICAgICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgICB9XG4gICAgICB9KS5oaWRlKCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtb2ZmZXItZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBjb25zdCAkcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cIm9mZmVyXCJdJyk7XG4gICAgY29uc3QgJHN1Y2Nlc3NQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwib2ZmZXItc3VjY2Vzc1wiXScpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkYXBpLnBvcHVwKCRwb3B1cCwge1xuICAgICAgICBvbkhpZGUoKSB7XG4gICAgICAgICAgQXJyYXkuZnJvbSgkcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKSkubWFwKGVsID0+IGVsLnZhbHVlID0gJycpO1xuICAgICAgICAgICRhcGkucG9wdXAoJHN1Y2Nlc3NQb3B1cCkuc2hvdygpO1xuICAgICAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAgIH1cbiAgICAgIH0pLmhpZGUoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1yZXF1ZXN0LWZvcm1dJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgY29uc3QgJHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJyZXF1ZXN0XCJdJyk7XG4gICAgY29uc3QgJHN1Y2Nlc3NQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwicmVxdWVzdC1zdWNjZXNzXCJdJyk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRhcGkucG9wdXAoJHBvcHVwLCB7XG4gICAgICAgIG9uSGlkZSgpIHtcbiAgICAgICAgICBBcnJheS5mcm9tKCRwb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpKS5tYXAoZWwgPT4gZWwudmFsdWUgPSAnJyk7XG4gICAgICAgICAgJGFwaS5wb3B1cCgkc3VjY2Vzc1BvcHVwKS5zaG93KCk7XG4gICAgICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICAgfVxuICAgICAgfSkuaGlkZSgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXJlcXVlc3Qtc3BlY2lmaWMtZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBjb25zdCAkcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cInJlcXVlc3Qtc3BlY2lmaWNcIl0nKTtcbiAgICBjb25zdCAkc3VjY2Vzc1BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJyZXF1ZXN0LXN1Y2Nlc3NcIl0nKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGFwaS5wb3B1cCgkcG9wdXAsIHtcbiAgICAgICAgb25IaWRlKCkge1xuICAgICAgICAgIEFycmF5LmZyb20oJHBvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykpLm1hcChlbCA9PiBlbC52YWx1ZSA9ICcnKTtcbiAgICAgICAgICAkYXBpLnBvcHVwKCRzdWNjZXNzUG9wdXApLnNob3coKTtcbiAgICAgICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgICB9XG4gICAgICB9KS5oaWRlKCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn1dO1xuXG4vLyBhcHBseSB2YWxpZGF0aW9uIG9uIHBvcHVwcyBmb3Jtc1xuJHBvcHVwRm9ybXMubWFwKGZvcm0gPT4ge1xuICBjb25zdCB7ICRlbGVtZW50LCBjYWxsYmFjayB9ID0gZm9ybTtcblxuICBpZiAoJGVsZW1lbnQpIHtcbiAgICAkYXBpLnZhbGlkYXRlKCRlbGVtZW50LCAoKSA9PiBjYWxsYmFjaygkZWxlbWVudCkpO1xuICB9XG59KTtcbiAgY29uc3QgJGRyb3Bkb3ducyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRyb3Bkb3duJykpO1xuXG4vLyBjbG9zZSBkcm9wZG93biBvbiBvdXRlciBjbGlja1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd24tLWFjdGl2ZScpKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duLS1hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdkcm9wZG93bi0tYWN0aXZlJyk7XG4gIH1cbn0pO1xuXG5cbi8vIG9wZW4gZHJvcGRvd25cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICRkcm9wZG93biA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5kcm9wZG93bicpO1xuXG4gIGlmICgkZHJvcGRvd24pIHtcbiAgICBpZiAoJGRyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucygnaW5wdXRfX2NvZGUnKSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIGlmICgkZHJvcGRvd24uY2xhc3NMaXN0LmNvbnRhaW5zKCdoZWFkZXJfX3Byb2ZpbGUtbm90aWZpY2F0aW9ucycpKSB7XG4gICAgICB2YXIgcXVlcnlVcmwgPSAnL2FqYXgvYWN0aW9uL3JlYWRfbm90aWZpY2F0aW9ucyc7XG4gICAgICAvLyBjaGVjayBub3RpZmljYXRpb25zXG4gICAgICBmZXRjaChxdWVyeVVybClcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLnRleHQoKSlcbiAgICAgIC50aGVuKHRleHQgPT4ge1xuICAgICAgICBpZiAodGV4dCA9PT0gJ29rJykge1xuICAgICAgICAgIGNvbnN0IGZpbmQgPSAkZHJvcGRvd24ucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fcHJvZmlsZS1jb3VudGVyJyk7XG4gICAgICAgICAgaWYgKGZpbmQgIT09IG51bGwpIGZpbmQucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pOyAgICBcbiAgICB9XG4gIFxuICAgIGlmICghJGRyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucygnZHJvcGRvd24tLWFjdGl2ZScpKSB7XG4gICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duLS1hY3RpdmUnKSkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd24tLWFjdGl2ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3Bkb3duLS1hY3RpdmUnKTtcbiAgICAgIH1cbiAgICAgICRkcm9wZG93bi5jbGFzc0xpc3QudG9nZ2xlKCdkcm9wZG93bi0tYWN0aXZlJyk7XG4gICAgfVxuICB9XG59KTtcblxuY29uc3QgZm9ybWF0VVJMID0gdXJsID0+IHtcbiAgbGV0IGZvcm1hdHRlZFVSTCA9IHVybDtcblxuICBmb3JtYXR0ZWRVUkwgKz0gYD9maWx0ZXI9JHtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtY2F0YWxvZy1maWx0ZXIgLmRyb3Bkb3duX192YWx1ZScpLmlubmVyVGV4dH1gO1xuICBjb25zdCBmaWx0ZXJzTmFtZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19pbnB1dC1maWVsZCcpKS5tYXAoZWwgPT4gZWwubmFtZSk7XG4gIFxuICBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpLnNlYXJjaFBhcmFtcy50b1N0cmluZygpLnNwbGl0KFwiJlwiKS5tYXAoZWwgPT4ge1xuICAgIGNvbnN0IFsga2V5IF0gPSBlbC5zcGxpdCgnPScpO1xuICAgIGlmIChmaWx0ZXJzTmFtZXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgZm9ybWF0dGVkVVJMICs9ICcmJyArIGVsO1xuICAgIH1cbiAgfSk7XG5cbiAgZm9ybWF0dGVkVVJMICs9IGAmbGltaXQ9JHtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtY2F0YWxvZy1saW1pdCAuZHJvcGRvd25fX3ZhbHVlJykuaW5uZXJUZXh0fWA7XG5cbiAgcmV0dXJuIGZvcm1hdHRlZFVSTDtcbn07XG5cbmNvbnN0IGNoYW5nZUFjdGlvbnMgPSB1cmwgPT4ge1xuICAvLyBjaGFuZ2UgY3VycmVuY3kvbGFuZ3VhZ2VcbiAgZmV0Y2godXJsKVxuICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS50ZXh0KCkpXG4gIC50aGVuKHRleHQgPT4ge1xuICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICB9KTtcbn07XG5cbi8vIGNoYW5nZSBkcm9wZG93biB2YWx1ZVxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJGRyb3Bkb3duTWVudUl0ZW0gPSBlLnRhcmdldC5jbG9zZXN0KCcuZHJvcGRvd25fX21lbnUtaXRlbScpO1xuXG4gIGlmICgkZHJvcGRvd25NZW51SXRlbSkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bi0tYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnZHJvcGRvd24tLWFjdGl2ZScpO1xuXG4gICAgaWYgKCRkcm9wZG93bk1lbnVJdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS10b2dnbGUnKSkge1xuICAgICAgY29uc3QgJHRoaXMgPSBlLnRhcmdldDtcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0gJHRoaXMuaW5uZXJUZXh0O1xuICAgICAgY29uc3QgJGhpZGRlbkl0ZW0gPSAkdGhpcy5jbG9zZXN0KCcuZHJvcGRvd25fX21lbnUnKS5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd25fX21lbnUtaXRlbS0taGlkZGVuJyk7XG4gICAgICBjb25zdCAkZHJvcGRvd24gPSAkdGhpcy5jbG9zZXN0KCcuZHJvcGRvd24nKTtcbiAgICAgIGNvbnN0ICRkcm9wZG93blZhbHVlID0gJGRyb3Bkb3duLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bl9fdmFsdWUnKTtcbiAgICAgIGNvbnN0ICRkcm9wZG93bklucHV0ID0gJGRyb3Bkb3duLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG5cbiAgICAgIGlmICgkaGlkZGVuSXRlbSkge1xuICAgICAgICAkaGlkZGVuSXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdkcm9wZG93bl9fbWVudS1pdGVtLS1oaWRkZW4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCRkcm9wZG93bklucHV0KSB7XG4gICAgICAgICRkcm9wZG93bklucHV0LnZhbHVlID0gbmV3VmFsdWU7XG4gICAgICB9XG5cbiAgICAgICRkcm9wZG93bk1lbnVJdGVtLmNsYXNzTGlzdC5hZGQoJ2Ryb3Bkb3duX19tZW51LWl0ZW0tLWhpZGRlbicpOyBcbiAgICAgICRkcm9wZG93blZhbHVlLmlubmVyVGV4dCA9IG5ld1ZhbHVlO1xuXG4gICAgICAvLyBzZWFyY2ggZmlsdGVyc1xuICAgICAgaWYoJHRoaXMuY2xvc2VzdCgnLmRyb3Bkb3duJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXRhbG9nX19zb3J0LWl0ZW0nKSkge1xuICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmID0gZm9ybWF0VVJMKCcvc2VhcmNoJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIGN1cnJlbmN5IGZpbHRlcnNcbiAgICAgIGlmKCR0aGlzLmNsb3Nlc3QoJy5kcm9wZG93bicpLmNsYXNzTGlzdC5jb250YWlucygnanMtY3VycmVuY3ktY2hhbmdlJykpIHtcbiAgICAgICAgY2hhbmdlQWN0aW9ucygnL2FqYXgvYWN0aW9uL2N1cnJlbmN5X2NoYW5nZT9jdXJyZW5jeT0nK25ld1ZhbHVlKTsgICBcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gbGFuZ3VhZ2UgZmlsdGVyc1xuICAgICAgaWYoJHRoaXMuY2xvc2VzdCgnLmRyb3Bkb3duJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy1sYW5ndWFnZS1jaGFuZ2UnKSkge1xuICAgICAgICBjaGFuZ2VBY3Rpb25zKCcvYWpheC9hY3Rpb24vbGFuZ3VhZ2VfY2hhbmdlP2xhbmd1YWdlPScrbmV3VmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSk7XG4gIC8vIGhhbmRsZSB0YWJzIGxvZ2ljXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWJzX19pdGVtJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IHRhcmdldCA9IGVsLmRhdGFzZXQudGFiO1xuICBjb25zdCAkYWN0aXZlVGFiQ29udGVudCA9IGVsLmNsb3Nlc3QoJ1tkYXRhLXRhYnNdJykucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aXZlXScpO1xuXG4gIGVsLmNsb3Nlc3QoJy50YWJzJykucXVlcnlTZWxlY3RvcignLnRhYnNfX2l0ZW0tLWFjdGl2ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ3RhYnNfX2l0ZW0tLWFjdGl2ZScpO1xuICBlbC5jbGFzc0xpc3QuYWRkKCd0YWJzX19pdGVtLS1hY3RpdmUnKTtcblxuICBpZiAoJGFjdGl2ZVRhYkNvbnRlbnQpIHtcbiAgICBlbC5jbG9zZXN0KCdbZGF0YS10YWJzXScpLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZV0nKS5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtYWN0aXZlJyk7XG4gICAgZWwuY2xvc2VzdCgnW2RhdGEtdGFic10nKS5xdWVyeVNlbGVjdG9yKGBbZGF0YS1jb250ZW50PVwiJHt0YXJnZXR9XCJdYCkuc2V0QXR0cmlidXRlKCdkYXRhLWFjdGl2ZScsIHRydWUpO1xuICB9XG59KSk7XG4gIGNvbnN0IGNoYW5nZUNvdW50cnlFdmVudCA9IG5ldyBFdmVudCgnY2hhbmdlQ291bnRyeScpO1xuXG5jb25zdCB1cGRhdGVNYXNrID0gKGlucHV0LCBtYXNrKSA9PiB7XG4gIElucHV0bWFzayh7bWFza30pLm1hc2soaW5wdXQpO1xufTtcblxuLy8gT3BlbiBpbnB1dCBkcm9wZG93blxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW5wdXQuZHJvcGRvd24nKSlcbi5jb25jYXQoQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW5wdXQgLmRyb3Bkb3duJykpKVxuLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgJGRyb3Bkb3duID0gZWwucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duX19tZW51Jyk7XG4gIGVsLmNsb3Nlc3QoJy5pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dF9fZHJvcGRvd24nKS5zdHlsZS53aWR0aCA9IGVsLmNsb3Nlc3QoJy5pbnB1dCcpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgJ3B4JztcblxuICBpZiAoISRkcm9wZG93bi5jbGFzc0xpc3QuY29udGFpbnMoJ2Zha2VTY3JvbGwnKSkge1xuICAgICRkcm9wZG93bi5mYWtlU2Nyb2xsKCk7XG4gIH1cbn0pKTtcblxuLy8gQ2hhbmdlIHBob25lIGNvZGUgb24gaW5wdXQgZHJvcGRvd25cbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmlucHV0X19kcm9wZG93bi1pdGVtW2RhdGEtY29kZS1sb2NdJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgbG9jID0gZWwuZGF0YXNldC5jb2RlTG9jO1xuICBjb25zdCBtYXNrID0gZWwuZGF0YXNldC5tYXNrO1xuICBjb25zdCAkaW5wdXQgPSBlbC5jbG9zZXN0KCcuaW5wdXQnKS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuXG4gIGVsLmNsb3Nlc3QoJy5pbnB1dF9fY29kZScpLmRhdGFzZXQuY29kZUxvYyA9IGxvYztcbiAgZWwuY2xvc2VzdCgnLmlucHV0X19jb2RlJykuZGF0YXNldC5tYXNrID0gbWFzaztcbiAgJGlucHV0LnBsYWNlaG9sZGVyID0gbWFzay5yZXBsYWNlQWxsKCc5JywgJ18nKTtcbiAgdXBkYXRlTWFzaygkaW5wdXQsIG1hc2spO1xufSkpO1xuXG4vLyBDaGFuZ2UgaW5wdXQgZHJvcGRvd24gdmFsdWVcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmlucHV0X19kcm9wZG93bi1pdGVtW2RhdGEtZHJvcGRvd25dJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgdmFsdWUgPSBlbC5pbm5lclRleHQ7XG4gIFxuICBlbC5jbG9zZXN0KCcuaW5wdXQnKS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLnZhbHVlID0gdmFsdWU7XG4gIGVsLmNsb3Nlc3QoJy5pbnB1dCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2lucHV0LS1lcnJvcicpO1xuXG4gIGlmIChlbC5jbG9zZXN0KCcuaW5wdXQnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLWF1dGgtY291bnRyeScpKSB7XG4gICAgZWwuY2xvc2VzdCgnLmlucHV0JykuZGlzcGF0Y2hFdmVudChjaGFuZ2VDb3VudHJ5RXZlbnQpO1xuICB9XG59KSk7XG5cbi8vIE1hc2tpbmcgcGhvbmUgaW5wdXRcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cInRlbFwiXScpKS5tYXAoZWwgPT4ge1xuICBJbnB1dG1hc2soe21hc2s6IGVsLmNsb3Nlc3QoJy5pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dF9fY29kZScpLmRhdGFzZXQubWFza30pLm1hc2soZWwpO1xufSk7XG4gIC8vIHNob3cgY2hlY2tib3ggaGludFxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3hfX2hpbnQnKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgXG4gIGlmICghZS50YXJnZXQuY2xvc2VzdCgnLmNoZWNrYm94X19oaW50LWNvbnRhaW5lcicpKSB7XG4gICAgZWwucXVlcnlTZWxlY3RvcignLmNoZWNrYm94X19oaW50LWNvbnRhaW5lcicpLmNsYXNzTGlzdC50b2dnbGUoJ2NoZWNrYm94X19oaW50LWNvbnRhaW5lci0tc2hvd24nKVxuICB9XG59KSk7XG5cbi8vIGhpZGUgY2hlY2tib3ggaGludFxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJGhpbnRTaG93bkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGVja2JveF9faGludC1jb250YWluZXItLXNob3duJyk7XG5cbiAgaWYgKCghZS50YXJnZXQuY2xvc2VzdCgnLmNoZWNrYm94X19oaW50JykgfHwgZS50YXJnZXQuY2xvc2VzdCgnLmNoZWNrYm94X19oaW50LWNsb3NlJykpICYmICRoaW50U2hvd25Db250YWluZXIpIHtcbiAgICAkaGludFNob3duQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrYm94X19oaW50LWNvbnRhaW5lci0tc2hvd24nKTtcbiAgfVxufSk7XG4gIC8vIGhhbmRsZSBjaGVja2JveHNlbGVjdCBsb2dpY1xuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3hzZWxlY3RfX2xpc3QnKSkubWFwKGxpc3QgPT4ge1xuICBsaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgXG4gICAgY29uc3QgJGNoZWNrYm94U2VsZWN0ID0gbGlzdC5jbG9zZXN0KCcuY2hlY2tib3hzZWxlY3QnKTtcbiAgICBsZXQgY2hlY2tlZCA9IGZhbHNlO1xuXG4gICAgJGNoZWNrYm94U2VsZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrYm94c2VsZWN0LS1lcnJvcicpO1xuXG4gICAgQXJyYXkuZnJvbShsaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGVja2JveF9faW5wdXQnKSkubWFwKGNoZWNrYm94ID0+IHtcbiAgICAgIGNvbnN0ICRwbGFjZWhvbGRlciA9ICRjaGVja2JveFNlbGVjdC5xdWVyeVNlbGVjdG9yKCcuY2hlY2tib3hzZWxlY3RfX2lucHV0LXBsYWNlaG9sZGVyJyk7XG5cbiAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSBjaGVja2VkID0gdHJ1ZTtcblxuICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGxldCB2YWx1ZSA9ICcnO1xuXG4gICAgICAgIEFycmF5LmZyb20obGlzdC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dDpjaGVja2VkJykpLm1hcChpdGVtID0+IHtcbiAgICAgICAgICB2YWx1ZSArPSBpdGVtLmNsb3Nlc3QoJy5jaGVja2JveHNlbGVjdF9faXRlbScpLnF1ZXJ5U2VsZWN0b3IoJy5jaGVja2JveF9fdGV4dCcpLmlubmVyVGV4dCArICcsICc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICRwbGFjZWhvbGRlci5pbm5lclRleHQgPSB2YWx1ZS5zdWJzdHJpbmcoMCwgdmFsdWUubGVuZ3RoIC0gMik7XG4gICAgICAgICAgJHBsYWNlaG9sZGVyLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94c2VsZWN0X19pbnB1dC1wbGFjZWhvbGRlci0tYWN0aXZlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJHBsYWNlaG9sZGVyLmlubmVyVGV4dCA9ICRwbGFjZWhvbGRlci5kYXRhc2V0LnBsYWNlaG9sZGVyO1xuICAgICAgICAgICRwbGFjZWhvbGRlci5jbGFzc0xpc3QucmVtb3ZlKCdjaGVja2JveHNlbGVjdF9faW5wdXQtcGxhY2Vob2xkZXItLWFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgXG4gICAgaWYgKGNoZWNrZWQpIHtcbiAgICAgICRjaGVja2JveFNlbGVjdC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveHNlbGVjdC0tY2hlY2tlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkY2hlY2tib3hTZWxlY3QuY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tib3hzZWxlY3QtLWNoZWNrZWQnKTtcbiAgICB9XG4gIH0pO1xuXG4gIGxpc3QuZmFrZVNjcm9sbCgpO1xufSk7XG4gIC8vIHNldCBmaWx0ZXIgaW5wdXQgdmFsdWVcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlcnNfX2Ryb3Bkb3duLWl0ZW0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gZS5jdXJyZW50VGFyZ2V0O1xuICBjb25zdCB2YWx1ZSA9ICR0aGlzLmlubmVyVGV4dDtcblxuICAkdGhpcy5jbG9zZXN0KCcuZmlsdGVyc19faW5wdXQnKS5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyc19faW5wdXQtZmllbGQnKS52YWx1ZSA9IHZhbHVlO1xufSkpO1xuXG5jb25zdCBnZXRMb2NhdGlvbkRhdGEgPSAoKSA9PiBmZXRjaCgnanNvbi9sb2NhdGlvbi5qc29uJykudGhlbihyZXMgPT4gcmVzLmpzb24oKSk7XG5cbmNvbnN0IGluaXRTbWFydFNlYXJjaCA9ICgkZWxlbWVudCwgZGF0YSkgPT4ge1xuICAvLyBoYW5kbGUgZmlsdGVyIGlucHV0XG4gIGNvbnN0IGhhbmRsZUlucHV0ID0gZmlyc3RSZW5kZXIgPT4ge1xuICAgIGNvbnN0ICRkcm9wZG93bkVsZW1lbnQgPSAkZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcucXVlcnlTZWxlY3RvcignLmZpbHRlcnNfX2Ryb3Bkb3duLWlubmVyJyk7XG4gICAgY29uc3QgJGRyb3Bkb3duID0gJGRyb3Bkb3duRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZmFrZVNjcm9sbF9fY29udGVudCcpIHx8ICRkcm9wZG93bkVsZW1lbnQ7XG4gICAgY29uc3QgaW5wdXRTbWFydFNlYXJjaCA9ICRlbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpID09PSAnbG9jYXRpb24nO1xuICAgIGNvbnN0IG9wdGlvbnMgPSBpbnB1dFNtYXJ0U2VhcmNoID8gZGF0YS5tYXAoZWwgPT4gZWwua2V5KS5jb25jYXQoZGF0YS5mbGF0TWFwKGl0ZW0gPT4gaXRlbS5jaXRpZXMpKSA6IEpTT04ucGFyc2UoJGVsZW1lbnQuZGF0YXNldC5vcHRpb25zKTtcbiAgICBjb25zdCBsb3dlckNhc2VWYWx1ZSA9ICRlbGVtZW50LnZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgJGNoZWNrYm94ID0gJGRyb3Bkb3duLmNsb3Nlc3QoJy5maWx0ZXJzX19kcm9wZG93bicpLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpO1xuICAgIGxldCBtYXRjaGVzRm91bmQgPSBmYWxzZTtcblxuICAgICRkcm9wZG93bi5pbm5lckhUTUwgPSAnJztcbiAgXG4gICAgLy8gcmVuZGVyIGZpbHRlciBkcm9wZG93biBpdGVtc1xuICAgIG9wdGlvbnMubWFwKGVsID0+IHtcbiAgICAgIGlmIChmaXJzdFJlbmRlciB8fCBlbC50b0xvd2VyQ2FzZSgpLmluZGV4T2YobG93ZXJDYXNlVmFsdWUpID09PSAwKSB7XG4gICAgICAgIGNvbnN0ICRlbGVtZW50ID0gaW5wdXRTbWFydFNlYXJjaCA/XG4gICAgICAgICAgYDxhIGNsYXNzPVwiZmlsdGVyc19fZHJvcGRvd24taXRlbSBkcm9wZG93bl9fbWVudS1pdGVtJHsobG93ZXJDYXNlVmFsdWUgJiYgIWZpcnN0UmVuZGVyKSA/ICcgZmlsdGVyc19fZHJvcGRvd24taXRlbS0tc21hcnQnIDogJyd9XCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiPjxzcGFuPiR7ZWwuc3Vic3RyKDAsIGxvd2VyQ2FzZVZhbHVlLmxlbmd0aCl9PC9zcGFuPiR7ZWwuc3Vic3RyKGxvd2VyQ2FzZVZhbHVlLmxlbmd0aCl9PC9hPmAgOlxuICAgICAgICAgIGA8YSBjbGFzcz1cImZpbHRlcnNfX2Ryb3Bkb3duLWl0ZW0gZHJvcGRvd25fX21lbnUtaXRlbVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIj4ke2VsfTwvYT5gO1xuICAgICAgICBtYXRjaGVzRm91bmQgPSB0cnVlO1xuICAgICAgICAkZHJvcGRvd24uaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCAkZWxlbWVudClcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIHRvZ2dsZSBmaWx0ZXIgZHJvcGRvd24gdmlzaWJpbGl0eVxuICAgIGlmIChtYXRjaGVzRm91bmQpIHtcbiAgICAgICRkcm9wZG93bkVsZW1lbnQucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdmaWx0ZXJzX19kcm9wZG93bi0taGlkZGVuJyk7XG4gICAgICAkZHJvcGRvd25FbGVtZW50LnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnZmlsdGVyc19fZHJvcGRvd24tLWVtcHR5Jyk7XG4gICAgfSBlbHNlIGlmICghJGNoZWNrYm94KSB7XG4gICAgICAkZHJvcGRvd25FbGVtZW50LnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnZmlsdGVyc19fZHJvcGRvd24tLWhpZGRlbicpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkZHJvcGRvd25FbGVtZW50LnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnZmlsdGVyc19fZHJvcGRvd24tLWVtcHR5Jyk7XG4gICAgfVxuXG4gICAgLy8gaGFuZGxlIGlucHV0IHZhbHVlXG4gICAgQXJyYXkuZnJvbSgkZHJvcGRvd24ucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlcnNfX2Ryb3Bkb3duLWl0ZW0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgJGVsZW1lbnQudmFsdWUgPSBlbC5pbm5lclRleHQ7XG4gICAgICAkZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnLCBlbC5pbm5lclRleHQpO1xuXG4gICAgICBpZiAoJGNoZWNrYm94KSB7XG4gICAgICAgICRjaGVja2JveC5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICRlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgncmVhZG9ubHknKTtcbiAgICAgIH1cbiAgICB9KSk7XG5cbiAgICAvLyBmYWtlU2Nyb2xsIGluaXRcbiAgICBpZiAoZmlyc3RSZW5kZXIgJiYgISRkcm9wZG93bkVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmYWtlU2Nyb2xsJykpIHtcbiAgICAgICRkcm9wZG93bi5mYWtlU2Nyb2xsKCk7XG4gICAgfVxuICB9O1xuICAvLyBhZGQgbGlzdGVuZXJzIG9uIGZpbHRlciBpbnB1dFxuICBpZiAoJGVsZW1lbnQubmFtZSAhPT0gJ2Nvc3QnKSB7XG4gICAgJGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiBoYW5kbGVJbnB1dChmYWxzZSkpO1xuICAgICRlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4gaGFuZGxlSW5wdXQodHJ1ZSkpO1xuICAgICRlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG4gICAgICBpZiAoJGVsZW1lbnQudmFsdWUgPT09ICcnIHx8ICEkZWxlbWVudC5kYXRhc2V0LnZhbHVlKSB7XG4gICAgICAgICRlbGVtZW50LnZhbHVlID0gJyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkZWxlbWVudC52YWx1ZSA9ICRlbGVtZW50LmRhdGFzZXQudmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIGZpbHRlciBtYWluIGxvZ2ljXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlcnNfX2lucHV0LWZpZWxkJykubGVuZ3RoKSB7XG4gIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlcnNfX2lucHV0LWZpZWxkJykpLm1hcChlbCA9PiB7XG4gICAgaWYgKGVsLm5hbWUgPT09ICdsb2NhdGlvbicpIHtcbiAgICAgIGdldExvY2F0aW9uRGF0YSgpLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIGluaXRTbWFydFNlYXJjaChlbCwgZGF0YSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5pdFNtYXJ0U2VhcmNoKGVsKTtcbiAgICB9XG4gIH0pO1xufVxuXG5cbi8vIGhhbmRsZSBmaWx0ZXIgcmFuZ2Ugc2xpZGVyXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19jb3N0LXJhbmdlJykpLm1hcCgkcmFuZ2UgPT4ge1xuICBjb25zdCBtaW4gPSArJHJhbmdlLmRhdGFzZXQubWluO1xuICBjb25zdCBtYXggPSArJHJhbmdlLmRhdGFzZXQubWF4O1xuICBjb25zdCBzbWluID0gKyRyYW5nZS5kYXRhc2V0LnNtaW47XG4gIGNvbnN0IHNtYXggPSArJHJhbmdlLmRhdGFzZXQuc21heDtcblxuICBub1VpU2xpZGVyLmNyZWF0ZSgkcmFuZ2UsIHtcbiAgICBzdGFydDogW3NtaW4sIHNtYXhdLFxuICAgIGNvbm5lY3Q6IHRydWUsXG4gICAgcmFuZ2U6IHtcbiAgICAgIG1pbixcbiAgICAgIG1heFxuICAgIH0sXG4gICAgc3RlcDogMTAwXG4gIH0pO1xuXG4gICRyYW5nZS5ub1VpU2xpZGVyLm9uKCdzbGlkZScsIHZhbHVlcyA9PiB7XG4gICAgY29uc3QgbWluID0gcGFyc2VJbnQodmFsdWVzWzBdKTtcbiAgICBjb25zdCBtYXggPSBwYXJzZUludCh2YWx1ZXNbMV0pO1xuXG4gICAgJHJhbmdlLmNsb3Nlc3QoJy5maWx0ZXJzX19pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXJzX19pbnB1dC1maWVsZCcpLnZhbHVlID0gYCR7bWlufSDigr0g4oCTICR7bWF4fSDigr1gO1xuICAgICRyYW5nZS5jbG9zZXN0KCcuZmlsdGVyc19fY29zdCcpLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvc3Q9XCJmcm9tXCJdJykuaW5uZXJUZXh0ID0gbWluO1xuICAgICRyYW5nZS5jbG9zZXN0KCcuZmlsdGVyc19fY29zdCcpLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvc3Q9XCJ0b1wiXScpLmlubmVyVGV4dCA9IG1heDtcbiAgfSk7XG59KTtcblxuXG4vLyBoYW5kbGUgZmlsdGVyIGNoZWNrYm94XG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19kcm9wZG93bi1jaGVja2JveCcpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0ICRpbnB1dEZpZWxkID0gZWwuY2xvc2VzdCgnLmZpbHRlcnNfX2lucHV0JykucXVlcnlTZWxlY3RvcignLmZpbHRlcnNfX2lucHV0LWZpZWxkJyk7XG5cbiAgaWYgKGVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuY2hlY2tlZCkge1xuICAgIGNvbnN0IGNoZWNrYm94VmFsdWUgPSBlbC5xdWVyeVNlbGVjdG9yKCcuY2hlY2tib3hfX3RleHQnKS5pbm5lclRleHQ7XG4gIFxuICAgICRpbnB1dEZpZWxkLnZhbHVlID0gY2hlY2tib3hWYWx1ZTtcbiAgICAkaW5wdXRGaWVsZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnLCBjaGVja2JveFZhbHVlKTtcbiAgICAkaW5wdXRGaWVsZC5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJ3JlYWRvbmx5Jyk7XG4gIH0gZWxzZSB7XG4gICAgJGlucHV0RmllbGQudmFsdWUgPSAnJztcbiAgICAkaW5wdXRGaWVsZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnLCAnJyk7XG4gICAgJGlucHV0RmllbGQucmVtb3ZlQXR0cmlidXRlKCdyZWFkb25seScpO1xuICB9XG59KSk7XG4gIC8vIHNob3cgaGlkZG5lIHN1YmplY3QgaW4gdHV0b3JjYXJkXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGFyZ2V0ID0gZS50YXJnZXQ7XG5cbiAgaWYgKCR0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy10dXRvcmNhcmQtbW9yZScpKSB7XG4gICAgJHRhcmdldC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIFxuICAgIEFycmF5LmZyb20oJHRhcmdldC5jbG9zZXN0KCcudHV0b3JjYXJkX19zdWJqZWN0cycpLnF1ZXJ5U2VsZWN0b3JBbGwoJy50dXRvcmNhcmRfX3N1YmplY3RzLWl0ZW0tLWhpZGRlbicpKS5tYXAoZWwgPT4ge1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgndHV0b3JjYXJkX19zdWJqZWN0cy1pdGVtLS1oaWRkZW4nKTtcbiAgICB9KTtcbiAgfVxufSk7XG4gIC8vIGFjY29yZGlvbiBsb2dpY1xuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjb3JkaW9uX19pdGVtLXRpdGxlJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgJGFjdGl2ZUl0ZW0gPSBlbC5jbG9zZXN0KCcuYWNjb3JkaW9uJykucXVlcnlTZWxlY3RvcignLmFjY29yZGlvbl9faXRlbS0tYWN0aXZlJyk7XG4gIGNvbnN0ICRjdXJyZW50SXRlbSA9IGVsLmNsb3Nlc3QoJy5hY2NvcmRpb25fX2l0ZW0nKTtcblxuICBpZiAoJGN1cnJlbnRJdGVtLmNsYXNzTGlzdC5jb250YWlucygnYWNjb3JkaW9uX19pdGVtLS1hY3RpdmUnKSkge1xuICAgICRjdXJyZW50SXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY2NvcmRpb25fX2l0ZW0tLWFjdGl2ZScpO1xuICB9IGVsc2Uge1xuICAgIGlmICgkYWN0aXZlSXRlbSkge1xuICAgICAgJGFjdGl2ZUl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWNjb3JkaW9uX19pdGVtLS1hY3RpdmUnKTtcbiAgICB9XG4gIFxuICAgICRjdXJyZW50SXRlbS5jbGFzc0xpc3QuYWRkKCdhY2NvcmRpb25fX2l0ZW0tLWFjdGl2ZScpO1xuICB9XG59KSk7XG4gIGNvbnN0ICR0b2dnbGVDaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBlcnNvbmFsX19hcHBsaWNhdGlvbnMtY2hlY2tib3gnKTtcblxuLy8gdG9nZ2xlIGFwcGxpY2F0aW9uIGZvcm0gbWVzc2FnZVxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFwcGxpY2F0aW9uX193cml0ZScpLmZvckVhY2goZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IHNob3dUZXh0ID0gZWwuZGF0YXNldC5zaG93O1xuICBjb25zdCBoaWRlVGV4dCA9IGVsLmRhdGFzZXQuaGlkZTtcbiAgY29uc3QgY3VycmVudFRleHQgPSBlbC5pbm5lckhUTUw7XG5cbiAgZWwuY2xvc2VzdCgnLmFwcGxpY2F0aW9uJykucXVlcnlTZWxlY3RvcignLmFwcGxpY2F0aW9uX19mb3JtJykuc3R5bGUuZGlzcGxheSA9IGN1cnJlbnRUZXh0ID09PSBzaG93VGV4dCA/ICdibG9jaycgOiAnbm9uZSc7XG4gIGVsLmlubmVyVGV4dCA9IGN1cnJlbnRUZXh0ID09PSBzaG93VGV4dCA/IGhpZGVUZXh0IDogc2hvd1RleHQ7XG59KSk7XG5cbi8vIHRvZ2dsZSBhcHBsaWNhdGlvbnMgY2hlY2tib3hlc1xuJHRvZ2dsZUNoZWNrYm94ZXMuZm9yRWFjaChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgY2hlY2tlZCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuY2hlY2tlZDtcbiAgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hcHBsaWNhdGlvbl9fY2hlY2tib3ggaW5wdXQnKS5mb3JFYWNoKGVsID0+IGVsLmNoZWNrZWQgPSBjaGVja2VkKTtcbiAgJHRvZ2dsZUNoZWNrYm94ZXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICBpZiAoaXRlbSAhPT0gZWwpIHtcbiAgICAgIGl0ZW0ucXVlcnlTZWxlY3RvcignaW5wdXQnKS5jaGVja2VkID0gY2hlY2tlZDtcbiAgICB9XG4gIH0pO1xufSkpO1xuXG4vLyB0b2dnbGUgbWFpbiBjaGVja2JveFxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFwcGxpY2F0aW9uX19jaGVja2JveCBpbnB1dCcpLmZvckVhY2goZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICBsZXQgaXNDaGVja2VkID0gdHJ1ZTtcblxuICBlbC5jbG9zZXN0KCcucGVyc29uYWxfX2NhcmQnKS5xdWVyeVNlbGVjdG9yQWxsKCcuYXBwbGljYXRpb25fX2NoZWNrYm94IGlucHV0JykuZm9yRWFjaChlbCA9PiB7XG4gICAgaWYgKCFlbC5jaGVja2VkKSB7XG4gICAgICBpc0NoZWNrZWQgPSBmYWxzZTtcbiAgICB9XG4gIH0pO1xuXG4gICR0b2dnbGVDaGVja2JveGVzLmZvckVhY2goZWwgPT4gZWwucXVlcnlTZWxlY3RvcignaW5wdXQnKS5jaGVja2VkID0gaXNDaGVja2VkKTtcbn0pKTtcblxuLy8gdG9nZ2xlIGFwcGxpY2F0aW9uIHJlYXNvblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFwcGxpY2F0aW9uX19kZWNsaW5lZC1saW5rJykuZm9yRWFjaChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZWwubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC50b2dnbGUoJ2FwcGxpY2F0aW9uX19kZWNsaW5lZC1yZWFzb24tLWFjdGl2ZScpO1xufSkpO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkYWN0aXZlUmVhc29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFwcGxpY2F0aW9uX19kZWNsaW5lZC1yZWFzb24tLWFjdGl2ZScpO1xuXG4gIGlmICgkYWN0aXZlUmVhc29uICYmICFlLnRhcmdldC5jbG9zZXN0KCcuYXBwbGljYXRpb25fX2RlY2xpbmVkJykpIHtcbiAgICAkYWN0aXZlUmVhc29uLmNsYXNzTGlzdC5yZW1vdmUoJ2FwcGxpY2F0aW9uX19kZWNsaW5lZC1yZWFzb24tLWFjdGl2ZScpO1xuICB9XG59KTtcbiAgLy8gbWFza2luZyBiYWxhY25lIGlucHV0XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYmFsYW5jZV9faW5wdXQnKS5mb3JFYWNoKGVsID0+IHtcbiAgSW5wdXRtYXNrKHthbGlhczogJ2RlY2ltYWwnLCByYWRpeFBvaW50OiAnICcsIHN1ZmZpeDogJyDigr0nfSkubWFzayhlbCk7XG59KTtcblxuLy8gYWxsIGJhbGFuY2UgZm9ybXNcbmNvbnN0ICRiYWxhbmNlRm9ybXMgPSBbe1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLWJhbGFuY2UtcmVwbGVuc2loXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICRlbGVtZW50LnN1Ym1pdCgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59XTtcblxuLy8gYXBwbHkgdmFsaWRhdGlvbiBvbiBiYWxhbmNlIGZvcm1zXG4kYmFsYW5jZUZvcm1zLm1hcChmb3JtID0+IHtcbiAgY29uc3QgeyAkZWxlbWVudCwgY2FsbGJhY2sgfSA9IGZvcm07XG5cbiAgaWYgKCRlbGVtZW50KSB7XG4gICAgJGFwaS52YWxpZGF0ZSgkZWxlbWVudCwgKCkgPT4gY2FsbGJhY2soJGVsZW1lbnQpKTtcbiAgfVxufSk7XG4gIFxuICBjb25zdCAkYmFubmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhbm5lcicpO1xuXG4vLyBiYW5uZXIgaGFuZGxpbmdcbmlmICghSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGV0bWV0dXRvcjpiYW5uZXJJc0hpZGRlbicpKSkge1xuICAkYmFubmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYW5uZXJfX2Nsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgJGJhbm5lci5jbGFzc0xpc3QuYWRkKCdiYW5uZXItLWhpZGUnKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRiYW5uZXIucmVtb3ZlKCk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGV0bWV0dXRvcjpiYW5uZXJJc0hpZGRlbicsIHRydWUpO1xuICAgIH0sIDUwMClcbiAgfSk7XG59IGVsc2Uge1xuICAkYmFubmVyLnJlbW92ZSgpO1xufVxuICBjb25zdCAkY29va2llcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb29raWVzJyk7XG5cbi8vIGNvb2tpZXMgaGFuZGxpbmdcbmlmICghSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGV0bWV0dXRvcjpjb29raWVzSXNIaWRkZW4nKSkpIHtcbiAgJGNvb2tpZXMuY2xhc3NMaXN0LmFkZCgnY29va2llcy0tc2hvd24nKTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29va2llc19fYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgJGNvb2tpZXMuY2xhc3NMaXN0LnJlbW92ZSgnY29va2llcy0tc2hvd24nKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRjb29raWVzLnJlbW92ZSgpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xldG1ldHV0b3I6Y29va2llc0lzSGlkZGVuJywgdHJ1ZSk7XG4gICAgfSwgNTAwKVxuICB9KTtcbn0gZWxzZSB7XG4gICRjb29raWVzLnJlbW92ZSgpO1xufVxuICBsZXQgb2Zmc2V0ID0gMDtcbmNvbnN0IGhpZGVPdmVyZmxvdyA9ICgpID0+IHtcbiAgb2Zmc2V0ID0gLXBhcnNlSW50KGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luVG9wKTtcbiAgZG9jdW1lbnQuYm9keS5zdHlsZS5jc3NUZXh0ID0gYHBvc2l0aW9uOiBmaXhlZDsgbWFyZ2luLXRvcDogJHstd2luZG93LnNjcm9sbFl9cHhgO1xufTtcbmNvbnN0IHNob3dPdmVyZmxvdyA9IG9mZnNldCA9PiB7XG4gIGRvY3VtZW50LmJvZHkuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjogc3RhdGljOyBtYXJnaW4tdG9wOiAwJztcbiAgd2luZG93LnNjcm9sbFRvKDAsIG9mZnNldCk7XG59O1xuY29uc3QgaGlkZUhlYWRlck1lbnUgPSAoKSA9PiB7XG4gIHNob3dPdmVyZmxvdygpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW1lbnUnKS5jbGFzc0xpc3QucmVtb3ZlKCdoZWFkZXItbWVudS0tc2hvd24nKTtcbn07XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2J1cmdlcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBoaWRlT3ZlcmZsb3coKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1tZW51JykuY2xhc3NMaXN0LmFkZCgnaGVhZGVyLW1lbnUtLXNob3duJyk7XG59KTtcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1tZW51X19iYWNrZHJvcCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZUhlYWRlck1lbnUpO1xuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1tZW51X19jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZUhlYWRlck1lbnUpO1xuXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oZWFkZXJfX25vdGlmaWNhdGlvbnMtd3JhcHBlcicpKS5tYXAoZWwgPT4ge1xuICBpZiAoIWVsLmNsYXNzTGlzdC5jb250YWlucygnZmFrZVNjcm9sbCcpKSB7XG4gICAgZWwuZmFrZVNjcm9sbCgpO1xuICB9XG59KTtcbiAgY29uc3QgcG9wdWxhclNsaWRlciA9IG5ldyBTd2lwZXIoJy5wb3B1bGFyX19ncmlkLS1tb2JpbGUnLCB7XG4gIGxvb3A6IHRydWUsXG4gIGxvb3BBZGRpdGlvbmFsU2xpZGVzOiAzLFxuICBzcGFjZUJldHdlZW46IDIwLFxuICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gIGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxuICBicmVha3BvaW50czoge1xuICAgIDc2MDoge1xuICAgICAgc2xpZGVzUGVyVmlldzogMixcbiAgICAgIGNlbnRlcmVkU2xpZGVzOiBmYWxzZVxuICAgIH1cbiAgfVxufSk7XG4gIGNvbnN0IHJldmlld3NTbGlkZXIgPSBuZXcgU3dpcGVyKCcucmV2aWV3c19fc2xpZGVyJywge1xuICBsb29wOiB0cnVlLFxuICBzcGFjZUJldHdlZW46IDIwLFxuICBzbGlkZXNQZXJWaWV3OiAzLFxuICBzbGlkZXNQZXJHcm91cDogMyxcbiAgbG9vcEFkZGl0aW9uYWxTbGlkZXM6IDMsXG4gIHBhZ2luYXRpb246IHtcbiAgICBlbDogJy5zd2lwZXItcGFnaW5hdGlvbicsXG4gICAgY2xpY2thYmxlOiB0cnVlXG4gIH1cbn0pO1xuXG5jb25zdCByZXZpZXdTbGlkZXJNb2JpbGUgPSBuZXcgU3dpcGVyKCcucmV2aWV3c19fc2xpZGVyLS1tb2JpbGUnLCB7XG4gIGxvb3A6IHRydWUsXG4gIHNwYWNlQmV0d2VlbjogMjAsXG4gIGxvb3BBZGRpdGlvbmFsU2xpZGVzOiAzLFxuICBwYWdpbmF0aW9uOiB7XG4gICAgZWw6ICcuc3dpcGVyLXBhZ2luYXRpb24nLFxuICAgIGNsaWNrYWJsZTogdHJ1ZVxuICB9XG59KTtcbiAgLy8gYWxsIGF1dGggZm9ybXNcbmNvbnN0ICRhdXRoRm9ybXMgPSBbe1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLWxvZ2luLWZvcm1dJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgJGVsZW1lbnQuc3VibWl0KCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtc2lnbnVwLXN0dWRlbnQtZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAkZWxlbWVudC5zdWJtaXQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1zaWdudXAtdHV0b3ItZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAkZWxlbWVudC5zdWJtaXQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1zdXBwb3J0LWZvcm1dJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgJGVsZW1lbnQuc3VibWl0KCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtc2lnbnVwLXN0dWRlbnQtZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAkZWxlbWVudC5zdWJtaXQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1zaWdudXAtdHV0b3ItZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAkZWxlbWVudC5zdWJtaXQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufV07XG5cbi8vIGFwcGx5IHZhbGlkYXRpb24gb24gYXV0aCBmb3Jtc1xuJGF1dGhGb3Jtcy5tYXAoZm9ybSA9PiB7XG4gIGNvbnN0IHsgJGVsZW1lbnQsIGNhbGxiYWNrIH0gPSBmb3JtO1xuXG4gIGlmICgkZWxlbWVudCkge1xuICAgICRhcGkudmFsaWRhdGUoJGVsZW1lbnQsICgpID0+IGNhbGxiYWNrKCRlbGVtZW50KSk7XG4gIH1cbn0pO1xuXG4vLyBzZXQgY291bnRyeSB2YWx1ZSB0byBjaXRpZXMgaW5wdXRcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWF1dGgtY291bnRyeScpKS5tYXAoZWwgPT4ge1xuICBlbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2VDb3VudHJ5JywgZSA9PiB7XG4gICAgZWwuY2xvc2VzdCgnZm9ybScpLnF1ZXJ5U2VsZWN0b3IoJy5qcy1hdXRoLWNpdHknKS5kYXRhc2V0LmNvdW50cnkgPSBlLnRhcmdldC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLnZhbHVlO1xuICB9KTtcbiAgZWwuZGlzcGF0Y2hFdmVudChjaGFuZ2VDb3VudHJ5RXZlbnQpO1xufSk7XG5cbi8vIGhhbmRsaW5nIGNpdGllcyBpbnB1dFxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1hdXRoLWNpdHkgaW5wdXQnKS5sZW5ndGgpIHtcbiAgZmV0Y2goJy9qc29uL2xvY2F0aW9uLmpzb24nKVxuICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgLnRoZW4oZGF0YSA9PiB7XG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtYXV0aC1jaXR5IGlucHV0JykpLm1hcChlbCA9PiB7XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGUgPT4ge1xuICAgICAgICBjb25zdCAkdGhpcyA9IGUuY3VycmVudFRhcmdldDtcbiAgICAgICAgY29uc3QgJGxhYmVsRWxlbWVudCA9ICR0aGlzLmNsb3Nlc3QoJy5pbnB1dCcpO1xuICAgICAgICBjb25zdCBjb3VudHJ5ID0gJGxhYmVsRWxlbWVudC5kYXRhc2V0LmNvdW50cnk7XG5cbiAgICAgICAgaWYgKGNvdW50cnkpIHtcbiAgICAgICAgICBjb25zdCBjaXRpZXMgPSBkYXRhLmZpbHRlcihlbCA9PiBlbC5rZXkgPT09IGNvdW50cnkpWzBdLmNpdGllcztcbiAgICAgICAgICBjb25zdCBsb3dlckNhc2VWYWx1ZSA9ICR0aGlzLnZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgY29uc3QgJGRyb3Bkb3duRWxlbWVudCA9ICR0aGlzLmNsb3Nlc3QoJy5pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bl9fbWVudScpO1xuICAgICAgICAgIGNvbnN0ICRkcm9wZG93bkNvbnRlbnQgPSAkZHJvcGRvd25FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYWtlU2Nyb2xsX19jb250ZW50Jyk7XG4gICAgICAgICAgbGV0IG1hdGNoZXNGb3VuZCA9IGZhbHNlO1xuXG4gICAgICAgICAgaWYgKCRkcm9wZG93bkNvbnRlbnQpIHtcbiAgICAgICAgICAgICRkcm9wZG93bkNvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCR0aGlzLnZhbHVlICE9PSAnJykge1xuICAgICAgICAgICAgY2l0aWVzLm1hcChlbCA9PiB7XG4gICAgICAgICAgICAgIGlmIChlbC50b0xvd2VyQ2FzZSgpLmluZGV4T2YobG93ZXJDYXNlVmFsdWUpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkZHJvcGRvd25Db250ZW50Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYDxhIGNsYXNzPVwiaW5wdXRfX2Ryb3Bkb3duLWl0ZW0gZHJvcGRvd25fX21lbnUtaXRlbSR7bG93ZXJDYXNlVmFsdWUgPyAnIGlucHV0X19kcm9wZG93bi1pdGVtLS1zbWFydCcgOiAnJ31cIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCI+PHNwYW4+JHtlbC5zdWJzdHIoMCwgbG93ZXJDYXNlVmFsdWUubGVuZ3RoKX08L3NwYW4+JHtlbC5zdWJzdHIobG93ZXJDYXNlVmFsdWUubGVuZ3RoKX08L2E+YClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChtYXRjaGVzRm91bmQpIHtcbiAgICAgICAgICAgICAgQXJyYXkuZnJvbSgkbGFiZWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dF9fZHJvcGRvd24taXRlbScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgJHRoaXMudmFsdWUgPSBlbC5pbm5lclRleHQ7XG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoISRkcm9wZG93bkVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmYWtlU2Nyb2xsJykpIHtcbiAgICAgICAgICAgICRkcm9wZG93bkVsZW1lbnQuZmFrZVNjcm9sbCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xuICAgICAgICBjb25zdCAkZHJvcGRvd25FbGVtZW50ID0gZWwuY2xvc2VzdCgnLmlucHV0JykucXVlcnlTZWxlY3RvcignLmZha2VTY3JvbGxfX2NvbnRlbnQnKTtcblxuICAgICAgICBpZiAoJGRyb3Bkb3duRWxlbWVudCkge1xuICAgICAgICAgICRkcm9wZG93bkVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn1cblxuLy8gaGFuZGxpbmcgcmVxdWlyZWQgYWdyZWVtZW50IGNoZWNrYm94XG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W25hbWU9XCJydWxlc0FncmVlbWVudFwiXScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICBjb25zdCAkc3VibWl0QnV0dG9uID0gZWwuY2xvc2VzdCgnZm9ybScpLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJyk7XG5cbiAgaWYgKGVsLmNoZWNrZWQpIHtcbiAgICAkc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tZGlzYWJsZWQnKTtcbiAgICAkc3VibWl0QnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgfSBlbHNlIHtcbiAgICAkc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbi0tZGlzYWJsZWQnKTtcbiAgICAkc3VibWl0QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgfVxufSkpO1xuXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hdXRoX190b2dnbGUgLnRhYnNfX2l0ZW0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXV0aF9fdHlwZScpLnZhbHVlID0gZWwuZGF0YXNldC50YWIgLSAxO1xufSkpO1xuICBjb25zdCAkY2F0YWxvZ01vcmVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtY2F0YWxvZy1tb3JlJyk7XG5cbmlmICgkY2F0YWxvZ01vcmVCdG4pIHtcbiAgY29uc3QgJHByZXZBcnJvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uX19hcnJvdy0tcHJldicpO1xuICBjb25zdCAkbmV4dEFycm93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2luYXRpb25fX2Fycm93LS1uZXh0Jyk7XG4gIGNvbnN0ICRzZXBhcmF0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnaW5hdGlvbl9fc2VwYXJhdG9yJyk7XG5cbiAgLy8gY2F0YWxvZyBwYWdlcyBzdGF0ZVxuICBjb25zdCBjYXRhbG9nUGFnZXMgPSB7XG4gICAgY3VycmVudDogWzFdLFxuICAgIHRvdGFsOiBwYXJzZUludChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZ19faXRlbXMnKS5kYXRhc2V0LnRvdGFsKVxuICB9O1xuXG4gIC8vIHNldCBwYWdpbmF0aW9uIGN1cnJlbnQgcGFnZVxuICBjb25zdCBzZXRDdXJyZW50UGFnZSA9IGN1cnJlbnRQYWdlID0+IHtcbiAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGFnaW5hdGlvbl9fcGFnZS0tY3VycmVudCcpKS5tYXAoZWwgPT4gZWwuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fcGFnZS0tY3VycmVudCcpKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucGFnaW5hdGlvbl9fcGFnZVtkYXRhLXBhZ2U9XCIke2N1cnJlbnRQYWdlfVwiXWApLmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX3BhZ2UtLWN1cnJlbnQnKTtcbiAgfTtcblxuICAvLyBzZXQgcGFnaW5hdGlvbiBicmVha1xuICBjb25zdCBzZXRCcmVhayA9IGxhdGVzdFBhZ2UgPT4ge1xuICAgIGNvbnN0ICRiZWZvcmVTZXBhcmF0b3JJdGVtID0gJHNlcGFyYXRvci5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAgIGNvbnN0ICRmaXJzdEl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnaW5hdGlvbl9fcGFnZScpO1xuXG4gICAgaWYgKCskYmVmb3JlU2VwYXJhdG9ySXRlbS5kYXRhc2V0LnBhZ2UgPT09IGxhdGVzdFBhZ2UpIHtcbiAgICAgIGlmIChsYXRlc3RQYWdlID09PSBjYXRhbG9nUGFnZXMudG90YWwgLSAyKSB7XG4gICAgICAgICRmaXJzdEl0ZW0ucmVtb3ZlKCk7XG4gICAgICAgICRzZXBhcmF0b3IuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fc2VwYXJhdG9yLS1oaWRkZW4nKTtcbiAgICAgICAgJHNlcGFyYXRvci5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWJlZ2luJywgYDxhIGNsYXNzPVwicGFnaW5hdGlvbl9fcGFnZVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiBkYXRhLXBhZ2U9XCIke2xhdGVzdFBhZ2UgKyAxfVwiPiR7bGF0ZXN0UGFnZSArIDF9PC9hPmApO1xuICAgICAgfSBlbHNlIGlmIChsYXRlc3RQYWdlIDwgY2F0YWxvZ1BhZ2VzLnRvdGFsIC0gMikge1xuICAgICAgICAkZmlyc3RJdGVtLnJlbW92ZSgpO1xuICAgICAgICAkc2VwYXJhdG9yLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlYmVnaW4nLCBgPGEgY2xhc3M9XCJwYWdpbmF0aW9uX19wYWdlXCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIGRhdGEtcGFnZT1cIiR7bGF0ZXN0UGFnZSArIDF9XCI+JHtsYXRlc3RQYWdlICsgMX08L2E+YCk7XG4gICAgICAgICRzZXBhcmF0b3IuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fc2VwYXJhdG9yLS1oaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCskZmlyc3RJdGVtLmRhdGFzZXQucGFnZSA9PT0gbGF0ZXN0UGFnZSAmJiBsYXRlc3RQYWdlICE9PSAxKSB7XG4gICAgICAkYmVmb3JlU2VwYXJhdG9ySXRlbS5yZW1vdmUoKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uX19wYWdlcycpLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGA8YSBjbGFzcz1cInBhZ2luYXRpb25fX3BhZ2VcIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgZGF0YS1wYWdlPVwiJHtsYXRlc3RQYWdlIC0gMX1cIj4ke2xhdGVzdFBhZ2UgLSAxfTwvYT5gKTtcbiAgICAgICRzZXBhcmF0b3IuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fc2VwYXJhdG9yLS1oaWRkZW4nKTtcbiAgICB9IGVsc2UgaWYgKGxhdGVzdFBhZ2UgPT09IGNhdGFsb2dQYWdlcy50b3RhbCAmJiAhJHNlcGFyYXRvci5jbGFzc0xpc3QuY29udGFpbnMoJ3BhZ2luYXRpb25fX3NlcGFyYXRvci0tJykpIHtcbiAgICAgIGNvbnN0ICRwYWdpbmF0aW9uUGFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGFnaW5hdGlvbl9fcGFnZScpO1xuXG4gICAgICAkc2VwYXJhdG9yLmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX3NlcGFyYXRvci0taGlkZGVuJyk7XG4gICAgICBBcnJheS5mcm9tKCRwYWdpbmF0aW9uUGFnZXMpLnJldmVyc2UoKS5tYXAoKGVsLCBpKSA9PiB7XG4gICAgICAgIGVsLmlubmVyVGV4dCA9IGxhdGVzdFBhZ2UgLSBpO1xuICAgICAgICBlbC5kYXRhc2V0LnBhZ2UgPSBsYXRlc3RQYWdlIC0gaTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvLyBmb3JtaW5nIHF1ZXJ5IHVybCB3aXRoIGZpbHRlcnMgdmFsdWVzIGZyb20gdXJsIHBhcmFtZXJ0cmVzXG4gIGNvbnN0IGZvcm1hdFVSTCA9IHVybCA9PiB7XG4gICAgbGV0IGZvcm1hdHRlZFVSTCA9IHVybDtcbiAgICBjb25zdCBmaWx0ZXJzTmFtZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19pbnB1dC1maWVsZCcpKS5tYXAoZWwgPT4gZWwubmFtZSk7XG4gICAgXG4gICAgbmV3IFVSTChsb2NhdGlvbi5ocmVmKS5zZWFyY2hQYXJhbXMudG9TdHJpbmcoKS5zcGxpdChcIiZcIikubWFwKGVsID0+IHtcbiAgICAgIGNvbnN0IFsga2V5IF0gPSBlbC5zcGxpdCgnPScpO1xuICAgICAgaWYgKGZpbHRlcnNOYW1lcy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgIGZvcm1hdHRlZFVSTCArPSAnJicgKyBlbDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZvcm1hdHRlZFVSTCArPSBgJmxpbWl0PSR7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLWNhdGFsb2ctbGltaXQgLmRyb3Bkb3duX192YWx1ZScpLmlubmVyVGV4dH1gO1xuICAgIGZvcm1hdHRlZFVSTCArPSBgJmZpbHRlcj0ke2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1jYXRhbG9nLWZpbHRlciAuZHJvcGRvd25fX3ZhbHVlJykuaW5uZXJUZXh0fWA7XG5cbiAgICByZXR1cm4gZm9ybWF0dGVkVVJMO1xuICB9O1xuXG4gIC8vIGdlbmVyYXRlIGNhdGFsb2cgaXRlbSBlbGVtZW50XG4gIGNvbnN0IGNhdGFsb2dJdGVtRWxlbWVudCA9ICh7IHRvcCwgaW1hZ2UsIHZlcmlmaWVkLCBuYW1lLCBjb3VudHJ5LCBzdWJqZWN0cywgbG9jYXRpb24sIGRlc2NyaXB0aW9uLCBsaW5rLCByYXRpbmcsIHJldmlld3MsIHByaWNlIH0pID0+IGBcbiAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkJHt0b3AgPyAnIHR1dG9yY2FyZC0tdG9wJyA6ICcnfVwiPlxuICAgICAgPGRpdiBjbGFzcz1cInR1dG9yY2FyZF9faW1hZ2VcIiBzdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6IHVybCgnJHtpbWFnZX0nKVwiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInR1dG9yY2FyZF9faW5mb1wiPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19uYW1lJHt2ZXJpZmllZCA/ICcgdHV0b3JjYXJkX19uYW1lLS12ZXJpZmllZCcgOiAnJ31cIj48YSBocmVmPVwiJHtsaW5rfVwiPiR7bmFtZX08L2E+PC9wPlxuICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19sb2NhdGlvblwiIGRhdGEtbG9jPSR7Y291bnRyeX0+JHtsb2NhdGlvbn08L3A+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInR1dG9yY2FyZF9fc3ViamVjdHNcIj5cbiAgICAgICAgICAgICR7c3ViamVjdHMubWFwKGVsID0+IGBcbiAgICAgICAgICAgICAgPGEgY2xhc3M9XCJ0dXRvcmNhcmRfX3N1YmplY3RzLWl0ZW0ke2VsLnNlYXJjaCA/ICcgdHV0b3JjYXJkX19zdWJqZWN0cy1pdGVtLS1zZWFyY2gnIDogJyd9JHtlbC5oaWRkZW4gPyAnIHR1dG9yY2FyZF9fc3ViamVjdHMtaXRlbS0taGlkZGVuJyA6ICcnfVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIj4ke2VsLm5hbWV9IDxzcGFuPijQvtC/0YvRgiA8Yj4ke2VsLmV4cGVyaWVuY2V9PC9iPik8L3NwYW4+PC9hPlxuICAgICAgICAgICAgYCkuam9pbignJyl9XG4gICAgICAgICAgICAke3N1YmplY3RzLmxlbmd0aCA+IDIgPyAnPGEgY2xhc3M9XCJ0dXRvcmNhcmRfX3N1YmplY3RzLW1vcmUganMtdHV0b3JjYXJkLW1vcmVcIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCI+KycrWyfQv9GA0LXQtNC80LXRgicsICfQv9GA0LXQtNC80LXRgtCwJywgJ9C/0YDQtdC00LzQtdGC0L7QsiddLmRlY2xpbmUoc3ViamVjdHMubGVuZ3RoIC0gMiwgdHJ1ZSkrJzwvYT4nIDogJyd9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0dXRvcmNhcmRfX2Rlc2NcIj4ke2Rlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgPC9kaXY+PGEgY2xhc3M9XCJ0dXRvcmNhcmRfX21vcmVcIiBocmVmPSR7bGlua30+0J/QvtC00YDQvtCx0L3QtdC1PC9hPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkX19hY3Rpb25zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0dXRvcmNhcmRfX2FjdGlvbnMtaW5mb1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0dXRvcmNhcmRfX3JhdGluZyR7cGFyc2VJbnQocmV2aWV3cykgPT09IDAgPyAnIHR1dG9yY2FyZF9fcmF0aW5nLS1lbXB0eScgOiAnJ31cIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19yYXRpbmctcmF0ZVwiPiR7cmF0aW5nfTwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19yYXRpbmctcmV2aWV3c1wiPigke3Jldmlld3N9KTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkX19jb3N0XCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInR1dG9yY2FyZF9fY29zdC12YWx1ZVwiPiR7cHJpY2V9IOKCvTwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19jb3N0LWRlc2NcIj7QsiDRh9Cw0YE8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGpzLW9wZW4tcG9wdXAke3RvcCA/ICcgYnV0dG9uLS1wcmltYXJ5JyA6ICcgYnV0dG9uLS1zZWNvbmRhcnknfSB0dXRvcmNhcmRfX2J0blwiIGRhdGEtcG9wdXA9XCIke2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX3Byb2ZpbGUnKSAhPT0gbnVsbCA/ICdyZXF1ZXN0JyA6ICdyZXF1ZXN0LWF1dGgnfVwiPtCe0YHRgtCw0LLQuNGC0Ywg0LfQsNGP0LLQutGDPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYDtcblxuICAvLyBsb2FkIG1vcmUgY2F0YWxvZyBpdGVtc1xuICAkY2F0YWxvZ01vcmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAkY2F0YWxvZ01vcmVCdG4uY2xhc3NMaXN0LmFkZCgnYnV0dG9uLS1sb2FkaW5nJyk7XG5cbiAgICBjb25zdCBsYXRlc3RQYWdlID0gY2F0YWxvZ1BhZ2VzLmN1cnJlbnRbY2F0YWxvZ1BhZ2VzLmN1cnJlbnQubGVuZ3RoIC0gMV0gKyAxO1xuICAgIGNvbnN0IHF1ZXJ5VXJsID0gZm9ybWF0VVJMKGAvanNvbi9jYXRhbG9nLmpzb24/cGFnZT0ke2xhdGVzdFBhZ2V9YCk7XG5cbiAgICAvLyBzZXQgY3VycmVudCBwYWdlc1xuICAgIGNhdGFsb2dQYWdlcy5jdXJyZW50LnB1c2gobGF0ZXN0UGFnZSk7XG5cbiAgICAvLyBzZXQgY3VycmVudCBwYWdpbnRhaW9uIHBhZ2VzXG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGFnaW5hdGlvbl9fcGFnZScpKS5tYXAoZWwgPT4ge1xuICAgICAgaWYgKGNhdGFsb2dQYWdlcy5jdXJyZW50LmluY2x1ZGVzKHBhcnNlSW50KGVsLmlubmVyVGV4dCkpKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX3BhZ2UtLWN1cnJlbnQnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZldGNoKHF1ZXJ5VXJsKS50aGVuKHJlcyA9PiByZXMuanNvbigpKS50aGVuKGRhdGEgPT4ge1xuICAgICAgZGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nX19pdGVtcycpLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgY2F0YWxvZ0l0ZW1FbGVtZW50KGl0ZW0pKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAobGF0ZXN0UGFnZSA9PT0gY2F0YWxvZ1BhZ2VzLnRvdGFsKSB7XG4gICAgICAgICRjYXRhbG9nTW9yZUJ0bi5jbGFzc0xpc3QuYWRkKCdjYXRhbG9nX19ib3R0b20tYnRuLS1oaWRkZW4nKTtcbiAgICAgICAgJG5leHRBcnJvdy5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgIH1cblxuICAgICAgJGNhdGFsb2dNb3JlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBnbyB0byBwcmV2aW91cyBwYWdlXG4gICRwcmV2QXJyb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBjdXJyZW50UGFnZSA9IGNhdGFsb2dQYWdlcy5jdXJyZW50WzBdIC0gMTtcbiAgICBjb25zdCBxdWVyeVVybCA9IGZvcm1hdFVSTChganNvbi9jYXRhbG9nLmpzb24/cGFnZT0ke2N1cnJlbnRQYWdlfWApO1xuXG4gICAgY2F0YWxvZ1BhZ2VzLmN1cnJlbnQgPSBbY3VycmVudFBhZ2VdO1xuXG4gICAgZmV0Y2gocXVlcnlVcmwpLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpLnRoZW4oZGF0YSA9PiB7XG4gICAgICBsZXQgJGVsZW1lbnRzID0gJyc7XG4gIFxuICAgICAgZGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgICAgICRlbGVtZW50cyArPSBjYXRhbG9nSXRlbUVsZW1lbnQoaXRlbSk7XG4gICAgICB9KTtcblxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2luYXRpb25fX2Fycm93LS1uZXh0JykuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICBzZXRDdXJyZW50UGFnZShjdXJyZW50UGFnZSk7XG5cbiAgICAgIGlmIChjdXJyZW50UGFnZSA9PT0gMSkge1xuICAgICAgICAkcHJldkFycm93LmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX2Fycm93LS1kaXNhYmxlZCcpO1xuICAgICAgfVxuXG4gICAgICAkY2F0YWxvZ01vcmVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnY2F0YWxvZ19fYm90dG9tLWJ0bi0taGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZ19faXRlbXMnKS5pbm5lckhUTUwgPSAkZWxlbWVudHM7XG4gICAgfSk7XG5cbiAgICBpZiAoJHNlcGFyYXRvcikge1xuICAgICAgc2V0QnJlYWsoY3VycmVudFBhZ2UpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gZ28gdG8gbmV4dCBwYWdlXG4gICRuZXh0QXJyb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBjdXJyZW50UGFnZSA9IGNhdGFsb2dQYWdlcy5jdXJyZW50W2NhdGFsb2dQYWdlcy5jdXJyZW50Lmxlbmd0aCAtIDFdICsgMTtcbiAgICBjb25zdCBxdWVyeVVybCA9IGZvcm1hdFVSTChgL2pzb24vY2F0YWxvZy5qc29uP3BhZ2U9JHtjdXJyZW50UGFnZX1gKTtcblxuICAgIGNhdGFsb2dQYWdlcy5jdXJyZW50ID0gW2N1cnJlbnRQYWdlXTtcblxuICAgIGZldGNoKHF1ZXJ5VXJsKS50aGVuKHJlcyA9PiByZXMuanNvbigpKS50aGVuKGRhdGEgPT4ge1xuICAgICAgbGV0ICRlbGVtZW50cyA9ICcnO1xuICBcbiAgICAgIGRhdGEubWFwKGl0ZW0gPT4ge1xuICAgICAgICAkZWxlbWVudHMgKz0gY2F0YWxvZ0l0ZW1FbGVtZW50KGl0ZW0pO1xuICAgICAgfSk7XG5cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uX19hcnJvdy0tcHJldicpLmNsYXNzTGlzdC5yZW1vdmUoJ3BhZ2luYXRpb25fX2Fycm93LS1kaXNhYmxlZCcpO1xuICAgICAgc2V0Q3VycmVudFBhZ2UoY3VycmVudFBhZ2UpO1xuXG4gICAgICBpZiAoY3VycmVudFBhZ2UgPT09IGNhdGFsb2dQYWdlcy50b3RhbCkge1xuICAgICAgICAkY2F0YWxvZ01vcmVCdG4uY2xhc3NMaXN0LmFkZCgnY2F0YWxvZ19fYm90dG9tLWJ0bi0taGlkZGVuJyk7XG4gICAgICAgICRuZXh0QXJyb3cuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICB9XG5cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nX19pdGVtcycpLmlubmVySFRNTCA9ICRlbGVtZW50cztcbiAgXG4gICAgICBpZiAoJHNlcGFyYXRvcikge1xuICAgICAgICBzZXRCcmVhayhjdXJyZW50UGFnZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIGdvIHRvIHNwZWNpZmljIHBhZ2VcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBjb25zdCAkdGhpcyA9IGUudGFyZ2V0O1xuXG4gICAgaWYgKCR0aGlzLmNsYXNzTGlzdC5jb250YWlucygncGFnaW5hdGlvbl9fcGFnZScpKSB7XG4gICAgICBjb25zdCBjdXJyZW50UGFnZSA9IHBhcnNlSW50KCR0aGlzLmRhdGFzZXQucGFnZSk7XG4gICAgICBjb25zdCBxdWVyeVVybCA9IGZvcm1hdFVSTChgL2pzb24vY2F0YWxvZy5qc29uP3BhZ2U9JHtjdXJyZW50UGFnZX1gKTtcblxuICAgICAgY2F0YWxvZ1BhZ2VzLmN1cnJlbnQgPSBbY3VycmVudFBhZ2VdO1xuXG4gICAgICBmZXRjaChxdWVyeVVybCkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihkYXRhID0+IHtcbiAgICAgICAgbGV0ICRlbGVtZW50cyA9ICcnO1xuICAgIFxuICAgICAgICBkYXRhLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAkZWxlbWVudHMgKz0gY2F0YWxvZ0l0ZW1FbGVtZW50KGl0ZW0pO1xuICAgICAgICB9KTtcbiAgXG4gICAgICAgIHNldEN1cnJlbnRQYWdlKGN1cnJlbnRQYWdlKTtcbiAgXG4gICAgICAgIGlmIChjdXJyZW50UGFnZSA9PT0gY2F0YWxvZ1BhZ2VzLnRvdGFsKSB7XG4gICAgICAgICAgJHByZXZBcnJvdy5jbGFzc0xpc3QucmVtb3ZlKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgICAgICAkbmV4dEFycm93LmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX2Fycm93LS1kaXNhYmxlZCcpO1xuICAgICAgICAgICRjYXRhbG9nTW9yZUJ0bi5jbGFzc0xpc3QuYWRkKCdjYXRhbG9nX19ib3R0b20tYnRuLS1oaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50UGFnZSA9PT0gMSkge1xuICAgICAgICAgICRwcmV2QXJyb3cuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICAgICAgJG5leHRBcnJvdy5jbGFzc0xpc3QucmVtb3ZlKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgICAgICAkY2F0YWxvZ01vcmVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnY2F0YWxvZ19fYm90dG9tLWJ0bi0taGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJHByZXZBcnJvdy5jbGFzc0xpc3QucmVtb3ZlKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgICAgICAkbmV4dEFycm93LmNsYXNzTGlzdC5yZW1vdmUoJ3BhZ2luYXRpb25fX2Fycm93LS1kaXNhYmxlZCcpO1xuICAgICAgICAgICRjYXRhbG9nTW9yZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdjYXRhbG9nX19ib3R0b20tYnRuLS1oaWRkZW4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkc2VwYXJhdG9yKSB7XG4gICAgICAgICAgc2V0QnJlYWsoY3VycmVudFBhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGFsb2dfX2l0ZW1zJykuaW5uZXJIVE1MID0gJGVsZW1lbnRzO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cbiAgLy8gc2Nyb2xsIHRvIHR1dG9yIHNlY3Rpb25cbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnR1dG9yX19uYXYtbGluaycpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IHRhcmdldCA9IGVsLmRhdGFzZXQudGFyZ2V0O1xuXG4gIHNjcm9sbFRvKHtcbiAgICB0b3A6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWJsb2NrPVwiJHt0YXJnZXR9XCJdYCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0IC0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcicpLm9mZnNldEhlaWdodCxcbiAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgfSk7XG59KSk7XG4gIC8vIHNldCBwYXltZW50IHBlciBob3VyXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9maWxlLWhlYWRfX3N1YmplY3RzLWl0ZW0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCBwYXltZW50ID0gZWwuZGF0YXNldC5wYXk7XG5cbiAgZWwuY2xvc2VzdCgnLnByb2ZpbGUtaGVhZF9fc3ViamVjdHMnKS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1oZWFkX19zdWJqZWN0cy1pdGVtLS1oaWdobGlnaHQnKS5jbGFzc0xpc3QucmVtb3ZlKCdwcm9maWxlLWhlYWRfX3N1YmplY3RzLWl0ZW0tLWhpZ2hsaWdodCcpO1xuICBlbC5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLWhlYWRfX3N1YmplY3RzLWl0ZW0tLWhpZ2hsaWdodCcpO1xuXG4gIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLXByb2ZpbGUtY29zdCcpKS5tYXAoZWwgPT4gZWwuaW5uZXJUZXh0ID0gcGF5bWVudCk7XG59KSk7XG4gIGNvbnN0ICRwcm9maWxlVmlkZW9Db3ZlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLWFib3V0X192aWRlby1jb3ZlcicpO1xuXG4vLyBwbGF5IHZpZGUgb24gYWJvdXQgc2VjdGlvblxuaWYgKCRwcm9maWxlVmlkZW9Db3Zlcikge1xuICAkcHJvZmlsZVZpZGVvQ292ZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY29uc3QgJHZpZGVvID0gJHByb2ZpbGVWaWRlb0NvdmVyLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignaWZyYW1lJyk7XG5cbiAgICAkcHJvZmlsZVZpZGVvQ292ZXIucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdpZnJhbWUnKS5zZXRBdHRyaWJ1dGUoJ3NyYycsICR2aWRlby5nZXRBdHRyaWJ1dGUoJ3NyYycpICsgJz9hdXRvcGxheT0xJyk7XG4gICAgJHByb2ZpbGVWaWRlb0NvdmVyLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtYWJvdXRfX3ZpZGVvLWNvdmVyLS1oaWRkZW4nKTtcbiAgfSk7XG59XG4gIGNvbnN0ICRyZXZpZXdzTW9yZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1yZXZpZXdzLW1vcmUnKTtcblxuaWYgKCRyZXZpZXdzTW9yZUJ0bikge1xuICAvLyByZXZpZXdzIHBhZ2VzIHN0YXRlXG4gIGNvbnN0IHJldmlld3NQYWdlcyA9IHtcbiAgICBjdXJyZW50OiAxLFxuICAgIHRvdGFsOiBwYXJzZUludChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJyZXZpZXdzLXRvdGFsXCJdJykuY29udGVudClcbiAgfTtcbiAgLy8gZ2VuZXJhdGUgcmV2aWV3IGVsZW1lbnRcbiAgY29uc3QgcmV2aWV3RWxlbWVudCA9ICh7IGltYWdlLCBuYW1lLCBkYXRlLCByYXRpbmcsIGZlZWRiYWNrLCB0YWcgfSkgPT4gYFxuICAgIDxkaXYgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX2ZlZWRiYWNrXCI+XG4gICAgICAke2ltYWdlID9cbiAgICAgICAgYDxkaXYgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX2ZlZWRiYWNrLWltYWdlXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7aW1hZ2V9JylcIj48L2Rpdj5gIDpcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX2ZlZWRiYWNrLWltYWdlXCI+PC9kaXY+J1xuICAgICAgfVxuICAgICAgPGRpdiBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2staW5mb1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay1oZWFkXCI+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay1uYW1lXCI+JHtuYW1lfTwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay1kYXRlXCI+JHtkYXRlfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAke3RhZyA/ICc8cCBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2stdGFnXCI+JyArIHRhZyArICc8L3A+JyA6ICcnfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fcmF0aW5nLXN0YXJzXCI+XG4gICAgICAgICAgJHtbMSwgMiwgMywgNCwgNV0ubWFwKGUgPT4gZSA8PSByYXRpbmcgP1xuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX3JhdGluZy1zdGFyIHByb2ZpbGUtcmV2aWV3c19fcmF0aW5nLXN0YXItLWZ1bGxcIj48L2Rpdj4nIDpcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19yYXRpbmctc3RhclwiPjwvZGl2PidcbiAgICAgICAgICApLmpvaW4oJycpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHAgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX2ZlZWRiYWNrLXRleHRcIj4ke2ZlZWRiYWNrfTwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICBgO1xuXG4gIC8vIGxvYWQgbW9yZSByZXZpZXcgb24gYnV0dG9uIGNsaWNrXG4gICRyZXZpZXdzTW9yZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB1cmwgPSAkcmV2aWV3c01vcmVCdG4uZGF0YXNldC51cmw7XG5cbiAgICAvLyBpbmNyZW1lbnQgY3VycmVudCBsb2FkZWQgcmV2aWV3cyBwYWdlXG4gICAgKytyZXZpZXdzUGFnZXMuY3VycmVudDtcbiAgICBcbiAgICAvLyBsb2FkIHJldmlld3NcbiAgICBmZXRjaChgJHt1cmx9P3BhZ2U9JHtyZXZpZXdzUGFnZXMuY3VycmVudH1gKVxuICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxuICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgZGF0YS5kYXRhLm1hcChyZXZpZXcgPT4ge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1yZXZpZXdzX19mZWVkYmFja3MnKS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIHJldmlld0VsZW1lbnQocmV2aWV3KSk7XG5cbiAgICAgICAgaWYgKHJldmlld3NQYWdlcy5jdXJyZW50ID09PSByZXZpZXdzUGFnZXMudG90YWwpIHtcbiAgICAgICAgICAkcmV2aWV3c01vcmVCdG4ucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn1cbiAgLy8gaW5pdCBmYWtlU2Nyb2xsIG9uIHRpbWV6b25lIGRyb3Bkb3duXG5jb25zdCAkdGltZXpvbmVEcm9wZG93bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZmlsZS1zY2hlZHVsZV9fdGltZXpvbmUtbWVudScpO1xuXG5pZiAoJHRpbWV6b25lRHJvcGRvd25zLmxlbmd0aCkge1xuICBBcnJheS5mcm9tKCR0aW1lem9uZURyb3Bkb3ducykubWFwKGVsID0+IHtcbiAgICBpZiAoIWVsLmNsYXNzTGlzdC5jb250YWlucygnZmFrZVNjcm9sbCcpKSB7XG4gICAgICBlbC5mYWtlU2Nyb2xsKCk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gaW5pdCBmYWtlU2Nyb2xsIG9uIGRhdGUvdGltZSBkcm9wZG93bnNcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2ZpbGUtc2NoZWR1bGVfX3RpbWUnKSkubWFwKGVsID0+IHtcbiAgY29uc3QgJGNvbnRhaW5lciA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX190aW1lLW1lbnUnKTtcblxuICBpZiAoJGNvbnRhaW5lciAmJiAhJGNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoJ2Zha2VTY3JvbGwnKSkge1xuICAgICRjb250YWluZXIuZmFrZVNjcm9sbCgpO1xuICB9XG59KTtcblxuY29uc3Qgc2V0RGF0ZVRpbWUgPSAoKSA9PiB7XG4gIGNvbnN0ICRjdXJyZW50VW5pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX191bml0LS1jdXJyZW50Jyk7XG4gIGNvbnN0ICRwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwicmVxdWVzdC1zcGVjaWZpY1wiXScpO1xuXG4gIGlmICgkY3VycmVudFVuaXQpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IGRhdGUgPSAkY3VycmVudFVuaXQuZGF0YXNldC5kYXRlO1xuICAgICAgY29uc3QgdGltZSA9ICRjdXJyZW50VW5pdC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fdGltZS12YWx1ZScpLmlubmVyVGV4dDtcbiAgXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fcGljaycpLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtc2NoZWR1bGVfX3BpY2stLWFjdGl2ZScpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX3BpY2stZGF0ZScpLmlubmVyVGV4dCA9IGRhdGU7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fcGljay10aW1lJykuaW5uZXJUZXh0ID0gdGltZTtcblxuICAgICAgaWYgKCRwb3B1cCkge1xuICAgICAgICAkcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19oZWFkaW5nLWRhdGUnKS5pbm5lclRleHQgPSBkYXRlO1xuICAgICAgICAkcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19oZWFkaW5nLXRpbWUnKS5pbm5lclRleHQgPSB0aW1lO1xuICAgICAgICAkcG9wdXAucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cInRpbWVcIl0nKS52YWx1ZSA9IHRpbWU7XG4gICAgICB9XG4gICAgfSwgMCk7XG4gIH1cbn1cblxuLy8gaGFuZGxlIHNjaGVkdWxlIHNsaWRlclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlJykpIHtcbiAgY29uc3QgJHByZXZCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1wcmV2Jyk7XG4gIGNvbnN0ICRuZXh0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX2NvbnRyb2xzLWJ1dHRvbi0tbmV4dCcpO1xuICBcbiAgaWYgKCRwcmV2QnV0dG9uKSB7XG4gICAgJHByZXZCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCAkYWN0aXZlU2xpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fc2xpZGUtLWFjdGl2ZScpO1xuICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gKyRhY3RpdmVTbGlkZS5kYXRhc2V0LnNsaWRlO1xuICAgICAgY29uc3QgJHByZXZTbGlkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wcm9maWxlLXNjaGVkdWxlX19zbGlkZVtkYXRhLXNsaWRlPVwiJHtjdXJyZW50SW5kZXggLSAxfVwiXWApO1xuICAgIFxuICAgICAgaWYgKCRwcmV2U2xpZGUpIHtcbiAgICAgICAgJGFjdGl2ZVNsaWRlLmNsYXNzTGlzdC5yZW1vdmUoJ3Byb2ZpbGUtc2NoZWR1bGVfX3NsaWRlLS1hY3RpdmUnKTtcbiAgICAgICAgJHByZXZTbGlkZS5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLXNjaGVkdWxlX19zbGlkZS0tYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLW5leHQnKS5jbGFzc0xpc3QucmVtb3ZlKCdwcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLWRpc2FibGVkJyk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1kYXRlcycpLmlubmVyVGV4dCA9ICRwcmV2U2xpZGUuZGF0YXNldC5kYXRlcztcbiAgICBcbiAgICAgICAgaWYgKCRwcmV2U2xpZGUuZGF0YXNldC5maXJzdCkge1xuICAgICAgICAgICRwcmV2QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtc2NoZWR1bGVfX2NvbnRyb2xzLWJ1dHRvbi0tZGlzYWJsZWQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIFxuICBpZiAoJG5leHRCdXR0b24pIHtcbiAgICAkbmV4dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0ICRhY3RpdmVTbGlkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19zbGlkZS0tYWN0aXZlJyk7XG4gICAgICBjb25zdCBjdXJyZW50SW5kZXggPSArJGFjdGl2ZVNsaWRlLmRhdGFzZXQuc2xpZGU7XG4gICAgICBjb25zdCAkbmV4dFNsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnByb2ZpbGUtc2NoZWR1bGVfX3NsaWRlW2RhdGEtc2xpZGU9XCIke2N1cnJlbnRJbmRleCArIDF9XCJdYCk7XG4gICAgXG4gICAgICBpZiAoJG5leHRTbGlkZSkge1xuICAgICAgICAkYWN0aXZlU2xpZGUuY2xhc3NMaXN0LnJlbW92ZSgncHJvZmlsZS1zY2hlZHVsZV9fc2xpZGUtLWFjdGl2ZScpO1xuICAgICAgICAkbmV4dFNsaWRlLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtc2NoZWR1bGVfX3NsaWRlLS1hY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX2NvbnRyb2xzLWJ1dHRvbi0tcHJldicpLmNsYXNzTGlzdC5yZW1vdmUoJ3Byb2ZpbGUtc2NoZWR1bGVfX2NvbnRyb2xzLWJ1dHRvbi0tZGlzYWJsZWQnKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX2NvbnRyb2xzLWRhdGVzJykuaW5uZXJUZXh0ID0gJG5leHRTbGlkZS5kYXRhc2V0LmRhdGVzO1xuICAgIFxuICAgICAgICBpZiAoJG5leHRTbGlkZS5kYXRhc2V0Lmxhc3QpIHtcbiAgICAgICAgICAkbmV4dEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLWRpc2FibGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG4vLyBoYW5kbGUgc2VsZWN0IGRhdGV0aW1lIHVuaXRcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2ZpbGUtc2NoZWR1bGVfX3VuaXQnKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGlmICghZS50YXJnZXQuY2xvc2VzdCgnLnByb2ZpbGUtc2NoZWR1bGVfX3RpbWUnKSkge1xuICAgIGNvbnN0ICRjdXJyZW50VW5pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX191bml0LS1jdXJyZW50Jyk7XG4gIFxuICAgIGlmICgkY3VycmVudFVuaXQpIHtcbiAgICAgICRjdXJyZW50VW5pdC5jbGFzc0xpc3QucmVtb3ZlKCdwcm9maWxlLXNjaGVkdWxlX191bml0LS1jdXJyZW50Jyk7XG4gICAgfVxuICBcbiAgICBlbC5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLXNjaGVkdWxlX191bml0LS1jdXJyZW50Jyk7XG4gICAgc2V0RGF0ZVRpbWUoKTtcbiAgfVxufSkpO1xuXG4vLyBleGVjdXRlIHNldCBkYXRldGltZSBvbiB0aW1lIGNoYW5nZVxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZmlsZS1zY2hlZHVsZV9fdGltZS1tZW51IC5kcm9wZG93bl9fbWVudS1pdGVtJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNldERhdGVUaW1lKSk7XG4gIGNvbnN0ICRkaWFsb2dDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdF9fZ3JpZCcpO1xuY29uc3QgJGRpYWxvZ0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdF9fYXNpZGUnKTtcbmNvbnN0ICRkaWFsb2dMaXN0SXRlbXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGF0LWl0ZW0nKSk7XG5jb25zdCAkZGlhbG9nV2FybmluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19oZWFkLXdhcm5pbmcnKTtcbmNvbnN0ICRkaWFsb2dXaW5kb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdF9fZGlhbG9nJyk7XG5jb25zdCAkZGlhbG9nV2luZG93Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2RpYWxvZy1jb250YWluZXInKTtcbmNvbnN0ICRkaWFsb2dJbnB1dEZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2Zvb3Rlci1pbnB1dCcpO1xuY29uc3QgJGRpYWxvZ0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdF9fZm9vdGVyLWNvbnRhaW5lcicpO1xuY29uc3QgJGRpYWxvZ0NvbnRleHRNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2NvbnRleHQnKTtcbmNvbnN0ICRkaWFsb2dEZWxldGVNZXNzYWdlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJkaWFsb2ctZGVsZXRlXCJdIFtkYXRhLWRlbGV0ZV0nKTtcbmxldCBzY3JlZW5PZmZzZXQgPSAwO1xuXG4vLyBjdXN0b20gZm9ybSBzdWJtaXQgZXZlbnRcbmNvbnN0IGZvcm1TdWJtaXRFdmVudCA9IG5ldyBFdmVudCgnZm9ybVN1Ym1pdCcpO1xuXG4vLyBkZXN0cm95IGRpYWxvZyBjb250ZXh0IG1lbnVcbmNvbnN0IGNvbnRleHREZXN0cm95ID0gZGVsZXRlTWVzc2FnZSA9PiB7XG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdF9fY29udGV4dC0tc2hvd24nKSkge1xuICAgICRkaWFsb2dDb250ZXh0TWVudS5jbGFzc0xpc3QucmVtb3ZlKCdjaGF0X19jb250ZXh0LS1zaG93bicpO1xuICAgIFxuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDc2MCAmJiAhZGVsZXRlTWVzc2FnZSkge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOiBzdGF0aWM7IG1hcmdpbi10b3A6IDAnO1xuICAgICAgXG4gICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgc2NyZWVuT2Zmc2V0KTtcbiAgICB9XG4gIH1cbn07XG5cbmlmICgkZGlhbG9nTGlzdCkge1xuICAkZGlhbG9nTGlzdC5mYWtlU2Nyb2xsKCk7XG59XG5cbi8vIHNldCBoZWlnaHQgb2YgZm9ybSB0ZXh0YXJlYSBmaWVsZFxuY29uc3Qgc2V0RGlhbG9nSW5wdXRIZWlnaHQgPSAoKSA9PiB7XG4gICRkaWFsb2dJbnB1dEZpZWxkLnN0eWxlLmhlaWdodCA9ICc1cHgnO1xuICAkZGlhbG9nSW5wdXRGaWVsZC5zdHlsZS5oZWlnaHQgPSAkZGlhbG9nSW5wdXRGaWVsZC5zY3JvbGxIZWlnaHQgKyAzICsgJ3B4Jztcbn07XG5cbmNvbnN0IHNjcm9sbENoYXRUb0JvdHRvbSA9ICgpID0+IHtcbiAgY29uc3QgJGNoYXRTY3JvbGxDb250YWluZXIgPSAkZGlhbG9nV2luZG93LnF1ZXJ5U2VsZWN0b3IoJy5mYWtlU2Nyb2xsX19jb250ZW50Jyk7XG4gICRjaGF0U2Nyb2xsQ29udGFpbmVyLnNjcm9sbFRvcCA9ICRjaGF0U2Nyb2xsQ29udGFpbmVyLnNjcm9sbEhlaWdodDtcbn07XG5cbi8vIGRpYWxvZyB3YXJuaW5nIGhhbmRsaW5nXG5pZiAoJGRpYWxvZ1dhcm5pbmcpIHtcbiAgaWYgKCFKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsZXRtZXR1dG9yOmRpYWxvZ1dhcm5pbmdJc0hpZGRlbicpKSkge1xuICAgICRkaWFsb2dXYXJuaW5nLmNsYXNzTGlzdC5hZGQoJ2NoYXRfX2hlYWQtd2FybmluZy0tc2hvd24nKTtcbiAgXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2hlYWQtd2FybmluZy1jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgJGRpYWxvZ1dhcm5pbmcucmVtb3ZlKCk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGV0bWV0dXRvcjpkaWFsb2dXYXJuaW5nSXNIaWRkZW4nLCB0cnVlKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICAkZGlhbG9nV2FybmluZy5yZW1vdmUoKTtcbiAgfVxufVxuXG4vLyBnbyBiYWNrIHRvIGRpYWxvZyBsaXN0cyBvbiBtb2JpbGUgZGV2aWNlc1xuLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2hlYWQtYmFjaycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuLy8gICAkZGlhbG9nQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2NoYXRfX2dyaWQtLWlubmVyJyk7XG4vLyB9KTtcblxuLy8gdG9nZ2xlIGN1cnJlbnQgZGlhbG9nXG5pZiAoJGRpYWxvZ0xpc3RJdGVtcykge1xuICAkZGlhbG9nTGlzdEl0ZW1zLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGVsLnF1ZXJ5U2VsZWN0b3IoJy5jaGF0LWl0ZW1fX2NvbnRhaW5lcicpLnN0eWxlID0gJyc7XG4gICAgZWwucXVlcnlTZWxlY3RvcignLmNoYXQtaXRlbV9fZGVsZXRlJykuc3R5bGUgPSAnJztcbiAgXG4gICAgXG4gICAgaWYgKCh3aW5kb3cuaW5uZXJXaWR0aCA+IDc1OSAmJiAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGF0LWl0ZW0tLWFjdGl2ZScpKSB8fCAhZS50YXJnZXQuY2xvc2VzdCgnLmNoYXQtaXRlbV9fZGVsZXRlJykpIHtcbiAgICAgICRkaWFsb2dDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY2hhdF9fZ3JpZC0taW5uZXInKTtcbiAgXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdC1pdGVtLS1hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdjaGF0LWl0ZW0tLWFjdGl2ZScpO1xuICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnY2hhdC1pdGVtLS1hY3RpdmUnKTtcbiAgXG4gICAgICBpZiAoZWwucXVlcnlTZWxlY3RvcignLmNoYXQtaXRlbV9fY291bnRlcicpKSB7XG4gICAgICAgIGVsLnF1ZXJ5U2VsZWN0b3IoJy5jaGF0LWl0ZW1fX2NvdW50ZXInKS5yZW1vdmUoKTtcbiAgICAgIH1cbiAgXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdF9faGVhZC1pbWFnZScpLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5jaGF0LWl0ZW1fX2ltYWdlJykuc3R5bGUuYmFja2dyb3VuZEltYWdlO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2hlYWQtbmFtZScpLmlubmVyVGV4dCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5jaGF0LWl0ZW1fX25hbWUnKS5pbm5lclRleHQ7XG4gICAgfVxuICB9KSk7XG59XG5cbi8vIGhhbmRsZSBpbnB1dCBmaWVsZFxuaWYgKCRkaWFsb2dJbnB1dEZpZWxkKSB7XG4gICRkaWFsb2dJbnB1dEZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0Jywgc2V0RGlhbG9nSW5wdXRIZWlnaHQpO1xufVxuXG4vLyBzZXQgc2Nyb2xsIG9uIGRpYWxvZyB3aW5kb3dcbmlmICgkZGlhbG9nV2luZG93KSB7XG4gICRkaWFsb2dXaW5kb3cuZmFrZVNjcm9sbCgpO1xuICAkZGlhbG9nV2luZG93LnF1ZXJ5U2VsZWN0b3IoJy5mYWtlU2Nyb2xsX19jb250ZW50JykuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xuICAgIGNvbnRleHREZXN0cm95KCk7XG4gIH0pO1xuXG4gIHNjcm9sbENoYXRUb0JvdHRvbSgpO1xufVxuXG5pZiAoJGRpYWxvZ0Zvcm0pIHtcbiAgLy8gY3VzdG9tIGZvcm0gc3VibWl0IGV2ZW50IGhhbmRsZXJcbiAgJGRpYWxvZ0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignZm9ybVN1Ym1pdCcsICgpID0+IHtcbiAgICBjb25zdCBtZXNzYWdlID0gJGRpYWxvZ0lucHV0RmllbGQudmFsdWU7XG4gIFxuICAgIGlmIChtZXNzYWdlLnJlcGxhY2UoL1xccy9nLCAnJykubGVuZ3RoID09PSAwKSB7XG4gICAgICAkZGlhbG9nSW5wdXRGaWVsZC5mb2N1cygpO1xuICAgIFxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgXG4gICAgaWYgKCRkaWFsb2dGb3JtLmRhdGFzZXQuYWN0aW9uID09PSAnc2VuZCcpIHtcbiAgICAgIGNvbnN0ICRtZXNzYWdlRWxlbWVudCA9IGA8ZGl2IGNsYXNzPVwiY2hhdF9fbWVzc2FnZSBjaGF0X19tZXNzYWdlLS1yaWdodFwiIGRhdGEtaWQ9XCIkeytkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdF9fbWVzc2FnZTpsYXN0LWNoaWxkJykuZGF0YXNldC5pZCArIDF9XCI+XG4gICAgICAgIDxwIGNsYXNzPVwiY2hhdF9fbWVzc2FnZS10ZXh0XCI+JHttZXNzYWdlfTwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJjaGF0X19tZXNzYWdlLXRpbWVcIj4ke0ludGwuRGF0ZVRpbWVGb3JtYXQoJ3J1LVJ1Jywge2hvdXI6ICdudW1lcmljJywgbWludXRlOiAnbnVtZXJpYyd9KS5mb3JtYXQoRGF0ZS5ub3coKSl9PC9wPlxuICAgICAgPC9kaXY+YDtcbiAgICBcbiAgICAgICRkaWFsb2dXaW5kb3dDb250YWluZXIuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCAkbWVzc2FnZUVsZW1lbnQpO1xuICAgICAgc2Nyb2xsQ2hhdFRvQm90dG9tKCk7XG4gICAgfSBlbHNlIGlmICgkZGlhbG9nRm9ybS5kYXRhc2V0LmFjdGlvbiA9PT0gJ2VkaXQnKSB7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuY2hhdF9fbWVzc2FnZVtkYXRhLWlkPVwiJHskZGlhbG9nRm9ybS5kYXRhc2V0LmlkfVwiXSAuY2hhdF9fbWVzc2FnZS10ZXh0YCkuaW5uZXJUZXh0ID0gbWVzc2FnZTtcbiAgICAgICRkaWFsb2dGb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2NoYXRfX2Zvb3Rlci1jb250YWluZXItLWVkaXQnKTtcbiAgICAgICRkaWFsb2dGb3JtLmRhdGFzZXQuYWN0aW9uID0gJ3NlbmQnO1xuICAgIH1cbiAgXG4gICAgJGRpYWxvZ0lucHV0RmllbGQudmFsdWUgPSAnJztcbiAgICAkZGlhbG9nSW5wdXRGaWVsZC5mb2N1cygpO1xuICAgIHNldERpYWxvZ0lucHV0SGVpZ2h0KCk7XG4gIH0pO1xuXG4gIC8vIHNlbmQgbWVzc2FnZSBoYW5kbGVyc1xuICAkZGlhbG9nRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIFxuICAgICRkaWFsb2dGb3JtLmRpc3BhdGNoRXZlbnQoZm9ybVN1Ym1pdEV2ZW50KTtcbiAgfSk7XG5cbiAgJGRpYWxvZ0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBlID0+IHtcbiAgICBjb25zdCBrZXljb2RlID0gZS5rZXlDb2RlID8gZS5rZXlDb2RlIDogZS53aGljaDtcbiAgXG4gICAgaWYgKGtleWNvZGUgPT09IDEzICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAkZGlhbG9nRm9ybS5kaXNwYXRjaEV2ZW50KGZvcm1TdWJtaXRFdmVudCk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gaGFuZGxlIG1lc3NhZ2UgY29udGV4dCBtZW51XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9IGUudGFyZ2V0O1xuXG4gIGlmICgkdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2NoYXRfX21lc3NhZ2UtdGV4dCcpICYmICR0aGlzLmNsb3Nlc3QoJy5jaGF0X19tZXNzYWdlLS1yaWdodCcpKSB7XG4gICAgY29uc3QgbWVzc2FnZUlEID0gJHRoaXMucGFyZW50Tm9kZS5kYXRhc2V0LmlkO1xuXG4gICAgJGRpYWxvZ0NvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoJ2NoYXRfX2NvbnRleHQtLXNob3duJyk7XG4gICAgJGRpYWxvZ0NvbnRleHRNZW51LnN0eWxlLmNzc1RleHQgPSBgbGVmdDogJHtlLmNsaWVudFggKyAxMH1weDsgdG9wOiAke2UuY2xpZW50WSArIHNjcm9sbFkgKyAxMH1weDtgO1xuXG4gICAgJGRpYWxvZ0RlbGV0ZU1lc3NhZ2VCdG4uZGF0YXNldC5pZCA9IG1lc3NhZ2VJRDtcbiAgICAkZGlhbG9nRm9ybS5kYXRhc2V0LmlkID0gbWVzc2FnZUlEO1xuXG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgNzYwKSB7XG4gICAgICBzY3JlZW5PZmZzZXQgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3NzVGV4dCA9IGBwb3NpdGlvbjogZml4ZWQ7IG1hcmdpbi10b3A6ICR7LXdpbmRvdy5zY3JvbGxZfXB4YDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29udGV4dERlc3Ryb3koJHRoaXMuY2xvc2VzdCgnW2RhdGEtYWN0aW9uPVwiZGVsZXRlXCJdJykpO1xuICB9XG59KTtcblxuLy8gZGVsZXRlIGNoYXQgbWVzc2FnZVxuaWYgKCRkaWFsb2dEZWxldGVNZXNzYWdlQnRuKSB7XG4gICRkaWFsb2dEZWxldGVNZXNzYWdlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5jaGF0X19tZXNzYWdlW2RhdGEtaWQ9XCIkeyRkaWFsb2dEZWxldGVNZXNzYWdlQnRuLmRhdGFzZXQuaWR9XCJdYCkucmVtb3ZlKCk7XG4gIH0pO1xufVxuXG4vLyBoYW5kbGUgY29udGV4dCBlZGl0IGNsaWNrXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2NvbnRleHQtaXRlbVtkYXRhLWFjdGlvbj1cImVkaXRcIl0nKSkge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdF9fY29udGV4dC1pdGVtW2RhdGEtYWN0aW9uPVwiZWRpdFwiXScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0IG9yaWdpbmFsTWVzc2FnZVRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuY2hhdF9fbWVzc2FnZVtkYXRhLWlkPVwiJHskZGlhbG9nRm9ybS5kYXRhc2V0LmlkfVwiXSAuY2hhdF9fbWVzc2FnZS10ZXh0YCkuaW5uZXJUZXh0O1xuICBcbiAgICAkZGlhbG9nRm9ybS5jbGFzc0xpc3QuYWRkKCdjaGF0X19mb290ZXItY29udGFpbmVyLS1lZGl0Jyk7XG4gICAgJGRpYWxvZ0Zvcm0uZGF0YXNldC5hY3Rpb24gPSAnZWRpdCc7XG4gICAgJGRpYWxvZ0lucHV0RmllbGQuZm9jdXMoKTtcbiAgICAkZGlhbG9nSW5wdXRGaWVsZC52YWx1ZSA9IG9yaWdpbmFsTWVzc2FnZVRleHQ7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2VkaXQtdGV4dCcpLmlubmVyVGV4dCA9IG9yaWdpbmFsTWVzc2FnZVRleHQ7XG4gICAgc2V0RGlhbG9nSW5wdXRIZWlnaHQoKTtcbiAgfSk7XG59XG5cbi8vIGNhbmNlbCBtZXNzYWdlIGVkaXRpbmdcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdF9fZWRpdC1jYW5jZWwnKSkge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdF9fZWRpdC1jYW5jZWwnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAkZGlhbG9nRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdjaGF0X19mb290ZXItY29udGFpbmVyLS1lZGl0Jyk7XG4gICAgJGRpYWxvZ0Zvcm0uZGF0YXNldC5hY3Rpb24gPSAnc2VuZCc7XG4gICAgJGRpYWxvZ0lucHV0RmllbGQuZm9jdXMoKTtcbiAgICAkZGlhbG9nSW5wdXRGaWVsZC52YWx1ZSA9ICcnO1xuICAgIHNldERpYWxvZ0lucHV0SGVpZ2h0KCk7XG4gIH0pO1xufVxuXG4vLyBoYW5kbGUgZGVsZXRlIGRpYWxvZyBvbiBtb2JpbGUgZGV2aWNlc1xuY29uc3Qgc3dpcGVDb29yZGluYXRlcyA9IHtcbiAgc3RhcnQ6IG51bGwsXG4gIGVuZDogbnVsbCxcbiAgZGlmZjogbnVsbFxufTtcblxuaWYgKCRkaWFsb2dMaXN0SXRlbXMpIHtcbiAgJGRpYWxvZ0xpc3RJdGVtcy5tYXAoZWwgPT4ge1xuICAgIGNvbnN0ICRjaGF0SXRlbUNvbnRhaW5lciA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5jaGF0LWl0ZW1fX2NvbnRhaW5lcicpO1xuICAgIGNvbnN0ICRjaGF0SXRlbURlbGV0ZSA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5jaGF0LWl0ZW1fX2RlbGV0ZScpO1xuICBcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZSA9PiB7XG4gICAgICAkZGlhbG9nTGlzdEl0ZW1zLm1hcChpdGVtID0+IHtcbiAgICAgICAgaWYgKGl0ZW0gIT09IGVsKSB7XG4gICAgICAgICAgaXRlbS5xdWVyeVNlbGVjdG9yKCcuY2hhdC1pdGVtX19jb250YWluZXInKS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgwKSc7XG4gICAgICAgICAgaXRlbS5xdWVyeVNlbGVjdG9yKCcuY2hhdC1pdGVtX19kZWxldGUnKS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgwKSc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICBcbiAgICAgICRjaGF0SXRlbUNvbnRhaW5lci5zdHlsZS50cmFuc2l0aW9uID0gJ25vbmUnO1xuICAgICAgJGNoYXRJdGVtRGVsZXRlLnN0eWxlLnRyYW5zaXRpb24gPSAnbm9uZSc7XG4gIFxuICAgICAgc3dpcGVDb29yZGluYXRlcy5zdGFydCA9IGUudG91Y2hlc1swXS5jbGllbnRYO1xuICAgIH0sIGZhbHNlKTtcbiAgXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50Q29vcmRpbmF0ZSA9IGUudG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgY29uc3QgZGlmZiA9IHN3aXBlQ29vcmRpbmF0ZXMuc3RhcnQgLSBjdXJyZW50Q29vcmRpbmF0ZTtcbiAgICBcbiAgICAgIHN3aXBlQ29vcmRpbmF0ZXMuZW5kID0gY3VycmVudENvb3JkaW5hdGU7XG4gICAgICBzd2lwZUNvb3JkaW5hdGVzLmRpZmYgPSBkaWZmO1xuICBcbiAgXG4gICAgICBpZiAoZGlmZiA+IDAgJiYgZGlmZiA8IDEyMCkge1xuICAgICAgICAkY2hhdEl0ZW1Db250YWluZXIuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoLSR7ZGlmZn1weClgO1xuICAgICAgICAkY2hhdEl0ZW1EZWxldGUuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoLSR7ZGlmZn1weClgO1xuICAgICAgfVxuICAgIH0sIGZhbHNlKTtcbiAgXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBlID0+IHsgICAgXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgY29uc3QgZGVzdCA9IHN3aXBlQ29vcmRpbmF0ZXMuZGlmZiA8IDYwID8gMCA6IC0xMjA7XG4gICAgICBcbiAgICAgICRjaGF0SXRlbUNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjNzIGVhc2U7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgke2Rlc3R9cHgpO1xuICAgICAgYDtcbiAgICAgICRjaGF0SXRlbURlbGV0ZS5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjNzIGVhc2U7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgke2Rlc3R9cHgpO1xuICAgICAgYDtcbiAgICB9LCBmYWxzZSk7XG4gIH0pO1xufVxuICAvLyBjcm9wcGVkIGltYWdlIHRvIHNlbmQgdG8gc2VydmVyXG5sZXQgY3JvcHBlZEltYWdlID0gbnVsbDtcblxuLy8gYWxsIHBlcnNvbmFsIGZvcm1zXG5jb25zdCAkcGVyc29uYWxGb3JtcyA9IFt7XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtcGVyc29uYWwtZGF0YV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZW5kRm9ybSgnL2FqYXgvYWNjb3VudC9iYXNpYycsICRlbGVtZW50KTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1wZXJzb25hbC1leHBlcmllbmNlXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNlbmRGb3JtKCcvYWpheC9hY2NvdW50L2V4cGVyaWVuY2VzJywgJGVsZW1lbnQpO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXBlcnNvbmFsLXNwZWNpYWxpemF0aW9uXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lcnJvcnR5cGUnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgc2VuZEZvcm0oJy9hamF4L2FjY291bnQvc3BlY2lhbGl6YXRpb24nLCAkZWxlbWVudCwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgIGlmKGVycm9yID09ICdlcnJvci50eXBlJykgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVycm9ydHlwZScpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIH0pO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXBlcnNvbmFsLWNvbnRhY3RzXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNlbmRGb3JtKCcvYWpheC9hY2NvdW50L2NvbnRhY3RzJywgJGVsZW1lbnQpO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXBlcnNvbmFsLXBhc3NdJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgc2VuZEZvcm0oJy9hamF4L2FjY291bnQvcGFzc3dvcmQnLCAkZWxlbWVudCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtcGVyc29uYWwtbm90aWZpY2F0aW9uXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNlbmRGb3JtKCcvYWpheC9hY2NvdW50L25vdGlmaWNhdGlvbnMnLCAkZWxlbWVudCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtcGVyc29uYWwtaW5mb10nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZW5kRm9ybSgnL2FqYXgvYWNjb3VudC9pbmZvJywgJGVsZW1lbnQpO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXBob3RvLWZvcm1dJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBmaWxlRGF0YSA9IGNyb3BwZWRJbWFnZS5nZXREYXRhKCk7XG4gICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICB4OiBwYXJzZUludChmaWxlRGF0YS54KSxcbiAgICAgICAgeTogcGFyc2VJbnQoZmlsZURhdGEueSksXG4gICAgICAgIHdpZHRoOiBwYXJzZUludChmaWxlRGF0YS53aWR0aCksXG4gICAgICAgIGhlaWdodDogcGFyc2VJbnQoZmlsZURhdGEuaGVpZ2h0KVxuICAgICAgfTtcbiAgICAgIGNyb3BwZWRJbWFnZS5lbGVtZW50LmNsb3Nlc3QoJy5wb3B1cF9fcGhvdG8nKS5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwiaW1hZ2VDcm9wSW5mb1wiXScpLnZhbHVlID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG5cbiAgICAgICRlbGVtZW50LnN1Ym1pdCgpO1xuICAgIH0sIDApO1xuICB9XG59XTtcblxuLy8gYXBwbHkgdmFsaWRhdGlvbiBvbiBwZXJzb25hbCBmb3Jtc1xuJHBlcnNvbmFsRm9ybXMubWFwKGZvcm0gPT4ge1xuICBjb25zdCB7ICRlbGVtZW50LCBjYWxsYmFjayB9ID0gZm9ybTtcblxuICBpZiAoJGVsZW1lbnQpIHtcbiAgICAkYXBpLnZhbGlkYXRlKCRlbGVtZW50LCAoKSA9PiBjYWxsYmFjaygkZWxlbWVudCkpO1xuICB9XG59KTtcblxuLy8gYWRkIGl0ZW1zIGxvZ2ljXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1wZXJzb25hbC1hZGQnKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCAkZWxlbWVudCA9IGVsLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignLmpzLWNvcHktaXRlbScpO1xuICBjb25zdCAkY2xvbmVkRWxlbWVudCA9ICRlbGVtZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgY29uc3QgJGlucHV0RHJvcGRvd24gPSAkY2xvbmVkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuaW5wdXQuZHJvcGRvd24nKTtcblxuICAkY2xvbmVkRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICBBcnJheS5mcm9tKCRjbG9uZWRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykpLm1hcChlbCA9PiB7XG4gICAgZWwucmVxdWlyZWQgPSB0cnVlO1xuICB9KTtcblxuICBBcnJheS5mcm9tKCRjbG9uZWRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykpLm1hcChlbCA9PiB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbihlKSB7XG4gICAgICBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnaW5wdXQtLWVycm9yJyk7XG4gICAgfSk7XG4gICAgXG4gIH0pO1xuXG4gIEFycmF5LmZyb20oJGNsb25lZEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZha2VTY3JvbGxfX2NvbnRlbnQnKSkubWFwKGVsID0+IHtcbiAgICBjb25zdCAkbWVudSA9IGVsLmNsb3Nlc3QoJy5kcm9wZG93bl9fbWVudScpO1xuXG4gICAgQXJyYXkuZnJvbShlbC5jaGlsZHJlbikubWFwKGl0ZW0gPT4ge1xuICAgICAgJG1lbnUuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdiZWZvcmVlbmQnLCBpdGVtKTtcbiAgICB9KTtcblxuICAgIEFycmF5LmZyb20oJGNsb25lZEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cInRleHRcIl0nKSkubWFwKGVsID0+IGVsLnZhbHVlID0gJycpO1xuICAgIEFycmF5LmZyb20oJGNsb25lZEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJykpLm1hcChlbCA9PiBlbC5jaGVja2VkID0gZmFsc2UpO1xuXG4gICAgJG1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnZmFrZVNjcm9sbCcsICdmYWtlU2Nyb2xsLS1oYXNCYXInKTtcbiAgICAkbWVudS5xdWVyeVNlbGVjdG9yKCcuZmFrZVNjcm9sbF9fd3JhcCcpLnJlbW92ZSgpO1xuICAgICRtZW51LnF1ZXJ5U2VsZWN0b3IoJy5mYWtlU2Nyb2xsX190cmFjaycpLnJlbW92ZSgpO1xuICAgICRtZW51LmZha2VTY3JvbGwoKTtcbiAgfSk7XG5cbiAgJGVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2JlZm9yZWVuZCcsICRjbG9uZWRFbGVtZW50KTtcblxuICAvLyBSZW1vdmUgZXZlbnRcbiAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtcGVyc29uYWwtcmVtb3ZlJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBlbC5wYXJlbnROb2RlLnJlbW92ZSgpO1xuICB9KSk7XG5cbiAgaWYgKCRpbnB1dERyb3Bkb3duKSB7XG4gICAgJGlucHV0RHJvcGRvd24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCAkZHJvcGRvd24gPSAkaW5wdXREcm9wZG93bi5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd25fX21lbnUnKTtcblxuICAgICAgJGlucHV0RHJvcGRvd24uY2xvc2VzdCgnLmlucHV0JykucXVlcnlTZWxlY3RvcignLmlucHV0X19kcm9wZG93bicpLnN0eWxlLndpZHRoID0gJGlucHV0RHJvcGRvd24uY2xvc2VzdCgnLmlucHV0JykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAncHgnO1xuICAgIFxuICAgICAgaWYgKCEkZHJvcGRvd24uY2xhc3NMaXN0LmNvbnRhaW5zKCdmYWtlU2Nyb2xsJykpIHtcbiAgICAgICAgJGRyb3Bkb3duLmZha2VTY3JvbGwoKTtcbiAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgQXJyYXkuZnJvbSgkaW5wdXREcm9wZG93bi5xdWVyeVNlbGVjdG9yQWxsKCcuaW5wdXRfX2Ryb3Bkb3duLWl0ZW1bZGF0YS1kcm9wZG93bl0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSBlbC5pbm5lclRleHQ7XG4gICAgICBcbiAgICAgIGVsLmNsb3Nlc3QoJy5pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykudmFsdWUgPSB2YWx1ZTtcbiAgICAgIGVsLmNsb3Nlc3QoJy5pbnB1dCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2lucHV0LS1lcnJvcicpO1xuICAgIH0pKTtcbiAgfVxufSkpO1xuXG4vLyByZW1vdmUgYnV0dG9uXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1wZXJzb25hbC1yZW1vdmUnKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBlbC5wYXJlbnROb2RlLnJlbW92ZSgpO1xufSkpO1xuXG4vLyBpbml0aWFsaXplIGltYWdlIGNyb3BwZXJcbmNvbnN0IGNyb3BwZXJJbml0ID0gaW1hZ2UgPT4ge1xuICBjcm9wcGVkSW1hZ2UgPSBuZXcgQ3JvcHBlcihpbWFnZSwge1xuICAgIHZpZXdNb2RlOiAzLFxuICAgIGFzcGVjdFJhdGlvOiAxLFxuICAgIHpvb21hYmxlOiBmYWxzZSxcbiAgICBndWlkZXM6IGZhbHNlLFxuICAgIGNlbnRlcjogZmFsc2UsXG4gICAgaGlnaGxpZ2h0OiBmYWxzZSxcbiAgICBtaW5Db250YWluZXJXaWR0aDogd2luZG93LmlubmVyV2lkdGggPCA3NjAgPyAyMDAgOiAzNTAsXG4gICAgYXV0b0Nyb3BBcmVhOiAxLFxuICAgIG1pbkNyb3BCb3hXaWR0aDogMjAwLFxuICAgIG1pbkNyb3BCb3hIZWlnaHQ6IDIwMCxcbiAgICBwcmV2aWV3OiBpbWFnZS5jbG9zZXN0KCcucG9wdXBfX3Bob3RvJykucXVlcnlTZWxlY3RvcignLnBvcHVwX19waG90by1waWMnKVxuICB9KTtcbn07XG5cbmNvbnN0ICRlZGl0UGhvdG9Qb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwiZWRpdC1waG90b1wiXScpO1xuaWYgKCRlZGl0UGhvdG9Qb3B1cCkge1xuICAkZWRpdFBob3RvUG9wdXAuYWRkRXZlbnRMaXN0ZW5lcigncG9wdXBTaG93JywgKCkgPT4ge1xuICAgIGNvbnN0ICR1cGxvYWRlZEltYWdlID0gJGVkaXRQaG90b1BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGhvdG8taW1hZ2VbZGF0YS11cGxvYWRlZF0nKTtcbiAgXG4gICAgaWYgKCR1cGxvYWRlZEltYWdlKSB7XG4gICAgICBjcm9wcGVySW5pdCgkdXBsb2FkZWRJbWFnZSk7XG4gICAgfVxuICB9KVxufVxuXG4vLyBnZXQgdXBsb2FkZWQgcGhvdG9cbmNvbnN0ICRwb3B1cFBob3RvSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcGhvdG8taW5wdXQnKTtcblxuaWYgKCRwb3B1cFBob3RvSW5wdXQpIHtcbiAgJHBvcHVwUGhvdG9JbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBlID0+IHtcbiAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF07XG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgXG4gICAgcmVhZGVyLm9ubG9hZGVuZCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGltYWdlID0gcmVhZGVyLnJlc3VsdDtcbiAgICAgIGNvbnN0ICRjcm9wcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNyb3BwZXItY29udGFpbmVyJyk7XG4gICAgICBjb25zdCAkcG9wdXBQaG90b0NvbnRhaW5lciA9ICRwb3B1cFBob3RvSW5wdXQuY2xvc2VzdCgnLnBvcHVwX19waG90bycpO1xuICAgICAgXG4gICAgICBpZiAoJGNyb3BwZXIgfHwgISRwb3B1cFBob3RvQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGhvdG8taW1hZ2VbZGF0YS11cGxvYWRlZF0nKSkge1xuICAgICAgICBpZiAoJGNyb3BwZXIpIHtcbiAgICAgICAgICAkY3JvcHBlci5yZW1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRwb3B1cFBob3RvQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGhvdG8tcGljJykuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke2ltYWdlfSlgO1xuICAgICAgICAkcG9wdXBQaG90b0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3Bob3RvLWltYWdlJykucmVtb3ZlKCk7XG4gICAgICAgICRwb3B1cFBob3RvQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGhvdG8tY29udGFpbmVyJykuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJywgYDxpbWcgY2xhc3M9XCJwb3B1cF9fcGhvdG8taW1hZ2VcIiBzcmM9XCIke2ltYWdlfVwiIGFsdD1cIlwiPmApXG4gICAgICB9XG5cbiAgICAgIGNvbnN0ICRpbWFnZUVsZW1lbnQgPSAkcG9wdXBQaG90b0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3Bob3RvLWltYWdlJyk7XG4gIFxuICAgICAgY3JvcHBlckluaXQoJGltYWdlRWxlbWVudCk7XG4gICAgfTtcbiAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgfSk7XG59XG5cbi8vIGdvIHRvIGRldGFpbGVkIHNjaGVkdWxlXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wZXJzb25hbF9fc2NoZWR1bGUtdGltZS1saW5rJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgdGFyZ2V0ID0gZWwuZGF0YXNldC5zY2hlZHVsZTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zY2hlZHVsZS1tYWluXScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXNjaGVkdWxlLWRldGFpbD1cIiR7dGFyZ2V0fVwiXWApLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICBpZiAod2luZG93LmlubmVyV2lkdGggPiAxMTk5KSB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG59KSk7XG5cbi8vIGdvIGJhY2sgdG8gbWFpbiBzY2hlZHVsZVxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGVyc29uYWxfX2JhY2snKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBlbC5jbG9zZXN0KCdbZGF0YS1zY2hlZHVsZS1kZXRhaWxdJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2NoZWR1bGUtbWFpbl0nKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgaWYgKHdpbmRvdy5pbm5lcldpZHRoID4gMTE5OSkgd2luZG93LnNjcm9sbFRvKDAsIDApO1xufSkpO1xuXG4vLyBoYW5kbGUgc2NoZWR1bGUgZGF5cyB0b2dnbGVyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBlcnNvbmFsX19zY2hlZHVsZScpKSB7XG4gIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2ZpbGUtc2NoZWR1bGVfX2NvbnRyb2xzLWJ1dHRvbi0tcHJldicpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY29uc3QgJGN1cnJlbnRTY2hlZHVsZSA9IGVsLmNsb3Nlc3QoJ1tkYXRhLXNjaGVkdWxlLWRldGFpbF0nKTtcbiAgICBjb25zdCBjdXJyZW50U2NoZWR1bGVJZCA9IHBhcnNlSW50KCRjdXJyZW50U2NoZWR1bGUuZGF0YXNldC5zY2hlZHVsZURldGFpbCk7XG5cbiAgICAkY3VycmVudFNjaGVkdWxlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtc2NoZWR1bGUtZGV0YWlsPVwiJHtjdXJyZW50U2NoZWR1bGVJZCAtIDF9XCJdYCkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIH0pKTtcblxuICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLW5leHQnKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0ICRjdXJyZW50U2NoZWR1bGUgPSBlbC5jbG9zZXN0KCdbZGF0YS1zY2hlZHVsZS1kZXRhaWxdJyk7XG4gICAgY29uc3QgY3VycmVudFNjaGVkdWxlSWQgPSBwYXJzZUludCgkY3VycmVudFNjaGVkdWxlLmRhdGFzZXQuc2NoZWR1bGVEZXRhaWwpO1xuXG4gICAgJGN1cnJlbnRTY2hlZHVsZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXNjaGVkdWxlLWRldGFpbD1cIiR7Y3VycmVudFNjaGVkdWxlSWQgKyAxfVwiXWApLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICB9KSk7XG59XG5cbmNvbnN0IHNldFNlbGVjdGVkU2VydmljZVRlcm0gPSAoKSA9PiB7XG4gIGNvbnN0ICRjaGVja2VkUmFkaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGVyc29uYWxfX3NlcnZpY2VzLXRlcm1zLS1hY3RpdmUgaW5wdXQ6Y2hlY2tlZCcpO1xuXG4gIGlmICgkY2hlY2tlZFJhZGlvKSB7XG4gICAgY29uc3QgdGVybSA9ICRjaGVja2VkUmFkaW8ucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucmFkaW9fX3RleHQnKS5pbm5lckhUTUwuc3BsaXQoJzxzcGFuPicpWzBdLnRyaW0oKTtcbiAgICBjb25zdCBjb3N0ID0gJGNoZWNrZWRSYWRpby52YWx1ZS50b1N0cmluZygpLnJlcGxhY2UoL1xcQig/PShcXGR7M30pKyg/IVxcZCkpL2csICcgJykgKyAnICYjODM4MTsnO1xuICBcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGVyc29uYWxfX3NlcnZpY2VzLXNlbGVjdGVkIHNwYW5bZGF0YS1zZWxlY3RlZD1cInRlcm1cIl0nKS5pbm5lclRleHQgPSB0ZXJtO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wZXJzb25hbF9fc2VydmljZXMtdG9wYXkgc3BhbicpLmlubmVySFRNTCA9IGNvc3Q7XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGVyc29uYWxfX3NlcnZpY2VzLWZvb3RlcicpLmNsYXNzTGlzdC5yZW1vdmUoJ3BlcnNvbmFsX19zZXJ2aWNlcy1mb290ZXItLWhpZGRlbicpO1xuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzcGFuW2RhdGEtc2VydmljZS1jb3N0XScpKSB7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzcGFuW2RhdGEtc2VydmljZS1jb3N0XScpLmlubmVySFRNTCA9IGNvc3Q7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wZXJzb25hbF9fc2VydmljZXMtZm9vdGVyJykuY2xhc3NMaXN0LmFkZCgncGVyc29uYWxfX3NlcnZpY2VzLWZvb3Rlci0taGlkZGVuJyk7XG4gIH1cbn07XG5cbi8vIGhhbmRsZSBzZXJ2aWNlIHRvZ2dsZXJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wZXJzb25hbF9fc2VydmljZXMtbGFiZWwgaW5wdXQnKS5mb3JFYWNoKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgY29uc3QgdmFsdWUgPSBlbC52YWx1ZTtcbiAgY29uc3QgdGl0bGUgPSBlbC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wZXJzb25hbF9fc2VydmljZXMtaGVhZGluZycpLmlubmVyVGV4dDtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGVyc29uYWxfX3NlcnZpY2VzLXRlcm1zLS1hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdwZXJzb25hbF9fc2VydmljZXMtdGVybXMtLWFjdGl2ZScpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucGVyc29uYWxfX3NlcnZpY2VzLXRlcm1zW2RhdGEtdGVybXM9XCIke3ZhbHVlfVwiXWApLmNsYXNzTGlzdC5hZGQoJ3BlcnNvbmFsX19zZXJ2aWNlcy10ZXJtcy0tYWN0aXZlJyk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBlcnNvbmFsX19zZXJ2aWNlcy1zZWxlY3RlZCBzcGFuW2RhdGEtc2VsZWN0ZWQ9XCJzZXJ2aWNlXCJdJykuaW5uZXJIVE1MID0gJyZsYXF1bzsnICsgdGl0bGUgKyAnJnJhcXVvOyc7XG5cbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faGVhZGluZy1zZXJ2aWNlJykpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2hlYWRpbmctc2VydmljZScpLmlubmVyVGV4dCA9IHRpdGxlO1xuICB9XG5cbiAgc2V0U2VsZWN0ZWRTZXJ2aWNlVGVybSgpO1xufSkpO1xuXG4vLyBoYW5kbGUgc2VydmljZSB0ZXJtIHRvZ2dsZXJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wZXJzb25hbF9fc2VydmljZXMtcmFkaW8gaW5wdXQnKS5mb3JFYWNoKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHNldFNlbGVjdGVkU2VydmljZVRlcm0pKTtcblxuLy8gc2Nyb2xsIHRvIHZlcmlmaWNhdGlvblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBlcnNvbmFsX192ZXJpZnktYXJyb3cnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgc2Nyb2xsVG8oe1xuICAgIHRvcDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBlcnNvbmFsX192ZXJpZmljYXRpb24tYnRuJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0IC0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcicpLm9mZnNldEhlaWdodCAtIDIwLFxuICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICB9KTtcbn0pO1xuXG59Il19
