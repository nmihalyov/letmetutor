"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function _iterableToArrayLimit(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,c=[],a=!0,i=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(c.push(n.value),!t||c.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(i)throw r}}return c}}function _arrayWithHoles(e){if(Array.isArray(e))return e}window.onload=function(){var e=function(e){var t=document.querySelector('.header-notification[data-notification="'.concat(e,'"]'));t.classList.add("header-notification--active"),setTimeout((function(){t.classList.remove("header-notification--active")}),4e3)},t={popup:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.onHide,n=t.onShow,r=function(){document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px")},c=function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)};return{isShown:function(){return e.classList.contains("popup--opened")},show:function(){var t=new Promise((function(t){e.style.display="block",t()}));r(),t.then((function(){e.classList.add("popup--opened"),"function"==typeof n&&n()}))},hide:function(){var t=-parseInt(document.body.style.marginTop);e.classList.remove("popup--opened"),setTimeout((function(){e.style.display="none",c(t),"function"==typeof o&&o()}),300)}}}};t.validate=function(e,t){var o=null,n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,r=function(e){e.closest(".input")?e.closest(".input").classList.add("input--error"):e.closest(".textarea")&&e.closest(".textarea").classList.add("textarea--error"),o=e,e.focus()};e.querySelector('button[type="submit"]').addEventListener("click",(function(c){c.preventDefault();var a=!0,i=Array.from(e.querySelectorAll("input[required], textarea[required]")),s=e.querySelectorAll(".checkboxselect");i.reverse().map((function(e){switch(o=null,e.dataset.passRepeat&&e.value!==e.closest("form").querySelector("input[data-pass]").value&&r(e),e.getAttribute("type")){case"text":case"password":""===e.value&&(r(e),a=!1);break;case"tel":(""===e.value||e.value.includes("_"))&&(r(e),a=!1);break;case"checkbox":e.checked||(o=t=e,t.closest(".checkbox").classList.add("checkbox--error"),a=!1);break;case"email":n.test(e.value)||(r(e),a=!1);break;default:""===e.value&&(r(e),a=!1)}var t})),s.length&&Array.from(s).map((function(e){var t=!1;Array.from(e.querySelectorAll(".checkbox__input")).map((function(e){e.checked&&(t=!0)})),t||(e.classList.add("checkboxselect--error"),a=!1)})),a?(c.currentTarget.classList.add("button--loading"),t()):scrollTo(0,o.closest(".input").getBoundingClientRect().y+pageYOffset-document.querySelector(".header").offsetHeight-10)})),Array.from(e.querySelectorAll("input")).concat(Array.from(e.querySelectorAll("textarea"))).map((function(e){return e.addEventListener("input",(function(){e.closest(".input")?e.closest(".input").classList.remove("input--error"):e.closest(".checkbox")?e.closest(".checkbox").classList.remove("checkbox--error"):e.closest(".textarea")&&e.closest(".textarea").classList.remove("textarea--error")}))}))};var o=new Event("popupShow");document.addEventListener("click",(function(e){var n=e.target;if(n.closest(".js-open-popup")){e.preventDefault();var r=n.closest(".js-open-popup").dataset.popup,c=document.querySelector('.js-popup[data-popup="'.concat(r,'"]'));"request-auth"===r&&(document.querySelector(".profile-head__name")?c.querySelector(".popup__desc b").innerText=document.querySelector(".profile-head__name").innerText:c.querySelector(".popup__desc b").innerText=n.closest(".tutorcard").querySelector(".tutorcard__name").innerText),t.popup(c,{onShow:function(){"edit-photo"===r&&c.dispatchEvent(o)}}).show()}})),Array.from(document.querySelectorAll(".js-close-popup")).map((function(e){return e.addEventListener("click",(function(e){if(!e.target.closest(".popup__window")||!e.currentTarget.classList.contains("js-popup")){var o=e.currentTarget.closest(".popup");t.popup(o).hide()}}))})),[{$element:document.querySelector("form[data-restore-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-request-auth-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-refuse]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-pay]"),callback:function(e){var o=document.querySelector('.js-popup[data-popup="application-pay"]'),n=document.querySelector('.js-popup[data-popup="application-pay-success"]');setTimeout((function(){t.popup(o,{onHide:function(){Array.from(o.querySelectorAll("input")).map((function(e){return e.value=""})),t.popup(n).show(),e.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}},{$element:document.querySelector("form[data-service-pay]"),callback:function(e){var o=document.querySelector('.js-popup[data-popup="service-pay"]'),n=document.querySelector('.js-popup[data-popup="service-pay-success"]');setTimeout((function(){t.popup(o,{onHide:function(){Array.from(o.querySelectorAll("input")).map((function(e){return e.value=""})),t.popup(n).show(),e.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}},{$element:document.querySelector("form[data-offer-form]"),callback:function(e){var o=document.querySelector('.js-popup[data-popup="offer"]'),n=document.querySelector('.js-popup[data-popup="offer-success"]');setTimeout((function(){t.popup(o,{onHide:function(){Array.from(o.querySelectorAll("input")).map((function(e){return e.value=""})),t.popup(n).show(),e.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}},{$element:document.querySelector("form[data-request-form]"),callback:function(e){var o=document.querySelector('.js-popup[data-popup="request"]'),n=document.querySelector('.js-popup[data-popup="request-success"]');setTimeout((function(){t.popup(o,{onHide:function(){Array.from(o.querySelectorAll("input")).map((function(e){return e.value=""})),t.popup(n).show(),e.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}},{$element:document.querySelector("form[data-request-specific-form]"),callback:function(e){var o=document.querySelector('.js-popup[data-popup="request-specific"]'),n=document.querySelector('.js-popup[data-popup="request-success"]');setTimeout((function(){t.popup(o,{onHide:function(){Array.from(o.querySelectorAll("input")).map((function(e){return e.value=""})),t.popup(n).show(),e.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}}].map((function(e){var o=e.$element,n=e.callback;o&&t.validate(o,(function(){return n(o)}))}));Array.from(document.querySelectorAll(".dropdown"));document.addEventListener("click",(function(){document.querySelector(".dropdown--active")&&document.querySelector(".dropdown--active").classList.remove("dropdown--active")})),document.addEventListener("click",(function(e){var t=e.target.closest(".dropdown");t&&(t.classList.contains("input__code")&&e.preventDefault(),t.classList.contains("dropdown--active")||(document.querySelector(".dropdown--active")&&document.querySelector(".dropdown--active").classList.remove("dropdown--active"),t.classList.toggle("dropdown--active")))})),document.addEventListener("click",(function(e){var t=e.target.closest(".dropdown__menu-item");if(t&&(document.querySelector(".dropdown--active").classList.remove("dropdown--active"),t.getAttribute("data-toggle"))){var o=e.target,n=o.innerText,r=o.closest(".dropdown__menu").querySelector(".dropdown__menu-item--hidden"),c=o.closest(".dropdown"),a=c.querySelector(".dropdown__value"),i=c.querySelector("input");r&&r.classList.remove("dropdown__menu-item--hidden"),i&&(i.value=n),t.classList.add("dropdown__menu-item--hidden"),a.innerText=n}})),Array.from(document.querySelectorAll(".tabs__item")).map((function(e){return e.addEventListener("click",(function(t){t.preventDefault();var o=e.dataset.tab,n=e.closest("[data-tabs]").querySelector("[data-active]");e.closest(".tabs").querySelector(".tabs__item--active").classList.remove("tabs__item--active"),e.classList.add("tabs__item--active"),n&&(e.closest("[data-tabs]").querySelector("[data-active]").removeAttribute("data-active"),e.closest("[data-tabs]").querySelector('[data-content="'.concat(o,'"]')).setAttribute("data-active",!0))}))}));var n=new Event("changeCountry");Array.from(document.querySelectorAll(".input.dropdown")).concat(Array.from(document.querySelectorAll(".input .dropdown"))).map((function(e){return e.addEventListener("click",(function(){var t=e.querySelector(".dropdown__menu");e.closest(".input").querySelector(".input__dropdown").style.width=e.closest(".input").getBoundingClientRect().width+"px",t.classList.contains("fakeScroll")||t.fakeScroll()}))})),Array.from(document.querySelectorAll(".input__dropdown-item[data-code-loc]")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.codeLoc,o=e.dataset.mask,n=e.closest(".input").querySelector("input");e.closest(".input__code").dataset.codeLoc=t,e.closest(".input__code").dataset.mask=o,n.placeholder=o.replaceAll("9","_"),function(e,t){Inputmask({mask:t}).mask(e)}(n,o)}))})),Array.from(document.querySelectorAll(".input__dropdown-item[data-dropdown]")).map((function(e){return e.addEventListener("click",(function(){var t=e.innerText;e.closest(".input").querySelector("input").value=t,e.closest(".input").classList.remove("input--error"),e.closest(".input").classList.contains("js-auth-country")&&e.closest(".input").dispatchEvent(n)}))})),Array.from(document.querySelectorAll('input[type="tel"]')).map((function(e){Inputmask({mask:e.closest(".input").querySelector(".input__code").dataset.mask}).mask(e)})),Array.from(document.querySelectorAll(".checkbox__hint")).map((function(e){return e.addEventListener("click",(function(t){t.preventDefault(),t.target.closest(".checkbox__hint-container")||e.querySelector(".checkbox__hint-container").classList.toggle("checkbox__hint-container--shown")}))})),document.addEventListener("click",(function(e){var t=document.querySelector(".checkbox__hint-container--shown");e.target.closest(".checkbox__hint")&&!e.target.closest(".checkbox__hint-close")||!t||t.classList.remove("checkbox__hint-container--shown")})),Array.from(document.querySelectorAll(".checkboxselect__list")).map((function(e){e.addEventListener("click",(function(t){t.stopPropagation();var o=e.closest(".checkboxselect"),n=!1;o.classList.remove("checkboxselect--error"),Array.from(e.querySelectorAll(".checkbox__input")).map((function(t){var r=o.querySelector(".checkboxselect__input-placeholder");t.checked&&(n=!0),t.addEventListener("click",(function(){var t="";Array.from(e.querySelectorAll("input:checked")).map((function(e){t+=e.closest(".checkboxselect__item").querySelector(".checkbox__text").innerText+", "})),t?(r.innerText=t.substring(0,t.length-2),r.classList.add("checkboxselect__input-placeholder--active")):(r.innerText=r.dataset.placeholder,r.classList.remove("checkboxselect__input-placeholder--active"))}))})),n?o.classList.add("checkboxselect--checked"):o.classList.remove("checkboxselect--checked")})),e.fakeScroll()})),Array.from(document.querySelectorAll(".filters__dropdown-item")).map((function(e){return e.addEventListener("click",(function(e){var t=e.currentTarget,o=t.innerText;t.closest(".filters__input").querySelector(".filters__input-field").value=o}))}));var r=function(e,t){var o=function(o){var n=e.nextElementSibling.querySelector(".filters__dropdown-inner"),r=n.querySelector(".fakeScroll__content")||n,c="location"===e.getAttribute("name"),a=c?t.map((function(e){return e.key})).concat(t.flatMap((function(e){return e.cities}))):JSON.parse(e.dataset.options),i=e.value.toLowerCase(),s=r.closest(".filters__dropdown").querySelector('input[type="checkbox"]'),l=!1;r.innerHTML="",a.map((function(e){if(o||0===e.toLowerCase().indexOf(i)){var t=c?'<a class="filters__dropdown-item dropdown__menu-item'.concat(i&&!o?" filters__dropdown-item--smart":"",'" href="javascript:void(0)"><span>').concat(e.substr(0,i.length),"</span>").concat(e.substr(i.length),"</a>"):'<a class="filters__dropdown-item dropdown__menu-item" href="javascript:void(0)">'.concat(e,"</a>");l=!0,r.insertAdjacentHTML("beforeend",t)}})),l?(n.parentNode.classList.remove("filters__dropdown--hidden"),n.parentNode.classList.remove("filters__dropdown--empty")):s?n.parentNode.classList.add("filters__dropdown--empty"):n.parentNode.classList.add("filters__dropdown--hidden"),Array.from(r.querySelectorAll(".filters__dropdown-item")).map((function(t){return t.addEventListener("click",(function(){e.value=t.innerText,e.setAttribute("data-value",t.innerText),s&&(s.checked=!1,e.removeAttribute("readonly"))}))})),o&&!n.classList.contains("fakeScroll")&&r.fakeScroll()};"cost"!==e.name&&(e.addEventListener("input",(function(){return o(!1)})),e.addEventListener("focus",(function(){return o(!0)})),e.addEventListener("blur",(function(){""!==e.value&&e.dataset.value?e.value=e.dataset.value:e.value=""})))};document.querySelectorAll(".filters__input-field").length&&Array.from(document.querySelectorAll(".filters__input-field")).map((function(e){"location"===e.name?fetch("json/location.json").then((function(e){return e.json()})).then((function(t){r(e,t)})):r(e)})),Array.from(document.querySelectorAll(".filters__cost-range")).map((function(e){var t=+e.dataset.min,o=+e.dataset.max,n=+e.dataset.min,r=+e.dataset.max;noUiSlider.create(e,{start:[n,r],connect:!0,range:{min:t,max:o},step:100}),e.noUiSlider.on("slide",(function(t){var o=parseInt(t[0]),n=parseInt(t[1]);e.closest(".filters__input").querySelector(".filters__input-field").value="".concat(o," ₽ – ").concat(n," ₽"),e.closest(".filters__cost").querySelector('[data-cost="from"]').innerText=o,e.closest(".filters__cost").querySelector('[data-cost="to"]').innerText=n}))})),Array.from(document.querySelectorAll(".filters__dropdown-checkbox")).map((function(e){return e.addEventListener("click",(function(){var t=e.closest(".filters__input").querySelector(".filters__input-field");if(e.querySelector("input").checked){var o=e.querySelector(".checkbox__text").innerText;t.value=o,t.setAttribute("data-value",o),t.setAttribute("readonly","readonly")}else t.value="",t.setAttribute("data-value",""),t.removeAttribute("readonly")}))})),document.addEventListener("click",(function(e){var t=e.target;t.classList.contains("js-tutorcard-more")&&(t.style.display="none",Array.from(t.closest(".tutorcard__subjects").querySelectorAll(".tutorcard__subjects-item--hidden")).map((function(e){e.classList.remove("tutorcard__subjects-item--hidden")})))})),Array.from(document.querySelectorAll(".accordion__item-title")).map((function(e){return e.addEventListener("click",(function(){var t=e.closest(".accordion").querySelector(".accordion__item--active"),o=e.closest(".accordion__item");o.classList.contains("accordion__item--active")?o.classList.remove("accordion__item--active"):(t&&t.classList.remove("accordion__item--active"),o.classList.add("accordion__item--active"))}))}));var c=document.querySelectorAll(".personal__applications-checkbox");document.querySelectorAll(".application__write").forEach((function(e){return e.addEventListener("click",(function(){var t=e.dataset.show,o=e.dataset.hide,n=e.innerHTML;e.closest(".application").querySelector(".application__form").style.display=n===t?"block":"none",e.innerText=n===t?o:t}))})),c.forEach((function(e){return e.addEventListener("click",(function(){var t=e.querySelector("input").checked;document.querySelectorAll(".application__checkbox input").forEach((function(e){return e.checked=t})),c.forEach((function(o){o!==e&&(o.querySelector("input").checked=t)}))}))})),document.querySelectorAll(".application__checkbox input").forEach((function(e){return e.addEventListener("change",(function(){var t=!0;e.closest(".personal__card").querySelectorAll(".application__checkbox input").forEach((function(e){e.checked||(t=!1)})),c.forEach((function(e){return e.querySelector("input").checked=t}))}))})),document.querySelectorAll(".application__declined-link").forEach((function(e){return e.addEventListener("click",(function(){e.nextElementSibling.classList.toggle("application__declined-reason--active")}))})),document.addEventListener("click",(function(e){var t=document.querySelector(".application__declined-reason--active");t&&!e.target.closest(".application__declined")&&t.classList.remove("application__declined-reason--active")})),document.querySelectorAll(".balance__input").forEach((function(e){Inputmask({alias:"decimal",radixPoint:" ",suffix:" ₽"}).mask(e)})),[{$element:document.querySelector("form[data-balance-replensih]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}}].map((function(e){var o=e.$element,n=e.callback;o&&t.validate(o,(function(){return n(o)}))}));var a=document.querySelector(".banner");JSON.parse(localStorage.getItem("letmetutor:bannerIsHidden"))?a.remove():(a.style.display="flex",document.querySelector(".banner__close").addEventListener("click",(function(){a.classList.add("banner--hide"),setTimeout((function(){a.remove(),localStorage.setItem("letmetutor:bannerIsHidden",!0)}),500)})));var i=document.querySelector(".cookies");JSON.parse(localStorage.getItem("letmetutor:cookiesIsHidden"))?i.remove():(i.classList.add("cookies--shown"),document.querySelector(".cookies__btn").addEventListener("click",(function(){i.classList.remove("cookies--shown"),setTimeout((function(){i.remove(),localStorage.setItem("letmetutor:cookiesIsHidden",!0)}),500)})));var s=function(){!function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)}(),document.querySelector(".header-menu").classList.remove("header-menu--shown")};document.querySelector(".header__burger").addEventListener("click",(function(){-parseInt(document.body.style.marginTop),document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px"),document.querySelector(".header-menu").classList.add("header-menu--shown")})),document.querySelector(".header-menu__backdrop").addEventListener("click",s),document.querySelector(".header-menu__close").addEventListener("click",s),Array.from(document.querySelectorAll(".header__notifications-wrapper")).map((function(e){e.classList.contains("fakeScroll")||e.fakeScroll()}));new Swiper(".popular__grid--mobile",{loop:!0,loopAdditionalSlides:3,spaceBetween:20,slidesPerView:"auto",centeredSlides:!0,breakpoints:{760:{slidesPerView:2,centeredSlides:!1}}}),new Swiper(".reviews__slider",{loop:!0,spaceBetween:20,slidesPerView:3,slidesPerGroup:3,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".reviews__slider--mobile",{loop:!0,spaceBetween:20,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}});[{$element:document.querySelector("form[data-login-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-signup-student-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-signup-tutor-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-support-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-signup-student-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-signup-tutor-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}}].map((function(e){var o=e.$element,n=e.callback;o&&t.validate(o,(function(){return n(o)}))})),Array.from(document.querySelectorAll(".js-auth-country")).map((function(e){e.addEventListener("changeCountry",(function(t){e.closest("form").querySelector(".js-auth-city").dataset.country=t.target.querySelector("input").value})),e.dispatchEvent(n)})),document.querySelectorAll(".js-auth-city input").length&&fetch("json/location.json").then((function(e){return e.json()})).then((function(e){Array.from(document.querySelectorAll(".js-auth-city input")).map((function(t){t.addEventListener("input",(function(t){var o=t.currentTarget,n=o.closest(".input"),r=n.dataset.country;if(r){var c=e.filter((function(e){return e.key===r}))[0].cities,a=o.value.toLowerCase(),i=o.closest(".input").querySelector(".dropdown__menu"),s=i.querySelector(".fakeScroll__content"),l=!1;s&&(s.innerHTML=""),""!==o.value&&(c.map((function(e){0===e.toLowerCase().indexOf(a)&&(l=!0,s.insertAdjacentHTML("beforeend",'<a class="input__dropdown-item dropdown__menu-item'.concat(a?" input__dropdown-item--smart":"",'" href="javascript:void(0)"><span>').concat(e.substr(0,a.length),"</span>").concat(e.substr(a.length),"</a>")))})),l&&Array.from(n.querySelectorAll(".input__dropdown-item")).map((function(e){return e.addEventListener("click",(function(){o.value=e.innerText}))}))),i.classList.contains("fakeScroll")||i.fakeScroll()}})),t.addEventListener("focus",(function(){var e=t.closest(".input").querySelector(".fakeScroll__content");e&&(e.innerHTML="")}))}))})),Array.from(document.querySelectorAll('input[name="rulesAgreement"]')).map((function(e){return e.addEventListener("change",(function(){var t=e.closest("form").querySelector('button[type="submit"]');e.checked?(t.classList.remove("button--disabled"),t.removeAttribute("disabled")):(t.classList.add("button--disabled"),t.setAttribute("disabled","disabled"))}))})),Array.from(document.querySelectorAll(".auth__toggle .tabs__item")).map((function(e){return e.addEventListener("click",(function(){document.querySelector(".auth__type").value=e.dataset.tab-1}))}));var l=document.querySelector(".js-catalog-more");if(l){var u=document.querySelector(".pagination__arrow--prev"),d=document.querySelector(".pagination__arrow--next"),p=document.querySelector(".pagination__separator"),m={current:[1],total:parseInt(document.querySelector(".catalog__items").dataset.total)},_=function(e){Array.from(document.querySelectorAll(".pagination__page--current")).map((function(e){return e.classList.remove("pagination__page--current")})),document.querySelector('.pagination__page[data-page="'.concat(e,'"]')).classList.add("pagination__page--current"),window.scrollTo(0,0)},f=function(e){var t=p.previousElementSibling,o=document.querySelector(".pagination__page");if(+t.dataset.page===e)e===m.total-2?(o.remove(),p.classList.add("pagination__separator--hidden"),p.insertAdjacentHTML("beforebegin",'<a class="pagination__page" href="javascript:void(0)" data-page="'.concat(e+1,'">').concat(e+1,"</a>"))):e<m.total-2&&(o.remove(),p.insertAdjacentHTML("beforebegin",'<a class="pagination__page" href="javascript:void(0)" data-page="'.concat(e+1,'">').concat(e+1,"</a>")),p.classList.remove("pagination__separator--hidden"));else if(+o.dataset.page===e&&1!==e)t.remove(),document.querySelector(".pagination__pages").insertAdjacentHTML("afterbegin",'<a class="pagination__page" href="javascript:void(0)" data-page="'.concat(e-1,'">').concat(e-1,"</a>")),p.classList.remove("pagination__separator--hidden");else if(e===m.total&&!p.classList.contains("pagination__separator--")){var n=document.querySelectorAll(".pagination__page");p.classList.add("pagination__separator--hidden"),Array.from(n).reverse().map((function(t,o){t.innerText=e-o,t.dataset.page=e-o}))}},v=function(e){var t=e,o=Array.from(document.querySelectorAll(".filters__input-field")).map((function(e){return e.name}));return new URL(location.href).searchParams.toString().split("&").map((function(e){var n=_slicedToArray(e.split("="),1)[0];o.includes(n)&&(t+="&"+e)})),t+="&limit=".concat(document.querySelector(".js-catalog-limit .dropdown__value").innerText)},y=function(e){var t=e.top,o=e.image,n=e.verified,r=e.name,c=e.country,a=e.subjects,i=e.location,s=e.description,l=e.link,u=e.rating,d=e.reviews,p=e.price;return'\n    <div class="tutorcard'.concat(t?" tutorcard--top":"",'">\n      <div class="tutorcard__image" style="background-image: url(\'img/inhtml/').concat(o,'\')"></div>\n      <div class="tutorcard__info">\n        <div>\n          <p class="tutorcard__name').concat(n?" tutorcard__name--verified":"",'">').concat(r,'</p>\n          <p class="tutorcard__location" data-loc=').concat(c,">").concat(i,'</p>\n          <div class="tutorcard__subjects">\n            ').concat(a.map((function(e){return'\n              <a class="tutorcard__subjects-item'.concat(e.search?" tutorcard__subjects-item--search":"").concat(e.hidden?" tutorcard__subjects-item--hidden":"",'" href="javascript:void(0)">').concat(e.name," <span>(опыт <b>").concat(e.experience,"</b>)</span></a>\n            ")})).join(""),'\n            <a class="tutorcard__subjects-more js-tutorcard-more" href="javascript:void(0)">+').concat(["предмет","предмета","предметов"].decline(a.length-2,!0),'</a>\n          </div>\n          <p class="tutorcard__desc">').concat(s,'</p>\n        </div><a class="tutorcard__more" href=').concat(l,'>Подробнее</a>\n      </div>\n      <div class="tutorcard__actions">\n        <div class="tutorcard__actions-info">\n          <div class="tutorcard__rating').concat(0===parseInt(d)?" tutorcard__rating--empty":"",'">\n            <p class="tutorcard__rating-rate">').concat(u,'</p>\n            <p class="tutorcard__rating-reviews">(').concat(d,')</p>\n          </div>\n          <div class="tutorcard__cost">\n            <p class="tutorcard__cost-value">').concat(p,' ₽</p>\n            <p class="tutorcard__cost-desc">в час</p>\n          </div>\n        </div>\n        <button class="button js-open-popup').concat(t?" button--primary":" button--secondary",' tutorcard__btn" data-popup="request-auth">Оставить заявку</button>\n      </div>\n    </div>\n  ')};l.addEventListener("click",(function(e){e.preventDefault(),l.classList.add("button--loading");var t=m.current[m.current.length-1]+1,o=v("json/catalog.json?page=".concat(t));m.current.push(t),Array.from(document.querySelectorAll(".pagination__page")).map((function(e){m.current.includes(parseInt(e.innerText))&&e.classList.add("pagination__page--current")})),fetch(o).then((function(e){return e.json()})).then((function(e){e.map((function(e){document.querySelector(".catalog__items").insertAdjacentHTML("beforeend",y(e))})),t===m.total&&(l.classList.add("catalog__bottom-btn--hidden"),d.classList.add("pagination__arrow--disabled")),l.classList.remove("button--loading")}))})),u.addEventListener("click",(function(e){e.preventDefault();var t=m.current[0]-1,o=v("json/catalog.json?page=".concat(t));m.current=[t],fetch(o).then((function(e){return e.json()})).then((function(e){var o="";e.map((function(e){o+=y(e)})),document.querySelector(".pagination__arrow--next").classList.remove("pagination__arrow--disabled"),_(t),1===t&&u.classList.add("pagination__arrow--disabled"),l.classList.remove("catalog__bottom-btn--hidden"),document.querySelector(".catalog__items").innerHTML=o})),p&&f(t)})),d.addEventListener("click",(function(e){e.preventDefault();var t=m.current[m.current.length-1]+1,o=v("json/catalog.json?page=".concat(t));m.current=[t],fetch(o).then((function(e){return e.json()})).then((function(e){var o="";e.map((function(e){o+=y(e)})),document.querySelector(".pagination__arrow--prev").classList.remove("pagination__arrow--disabled"),_(t),t===m.total&&(l.classList.add("catalog__bottom-btn--hidden"),d.classList.add("pagination__arrow--disabled")),document.querySelector(".catalog__items").innerHTML=o,p&&f(t)}))})),document.addEventListener("click",(function(e){var t=e.target;if(t.classList.contains("pagination__page")){var o=parseInt(t.dataset.page),n=v("json/catalog.json?page=".concat(o));m.current=[o],fetch(n).then((function(e){return e.json()})).then((function(e){var t="";e.map((function(e){t+=y(e)})),_(o),o===m.total?(u.classList.remove("pagination__arrow--disabled"),d.classList.add("pagination__arrow--disabled"),l.classList.add("catalog__bottom-btn--hidden")):1===o?(u.classList.add("pagination__arrow--disabled"),d.classList.remove("pagination__arrow--disabled"),l.classList.remove("catalog__bottom-btn--hidden")):(u.classList.remove("pagination__arrow--disabled"),d.classList.remove("pagination__arrow--disabled"),l.classList.remove("catalog__bottom-btn--hidden")),p&&f(o),document.querySelector(".catalog__items").innerHTML=t}))}}))}Array.from(document.querySelectorAll(".tutor__nav-link")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.target;scrollTo({top:document.querySelector('[data-block="'.concat(t,'"]')).getBoundingClientRect().top+window.pageYOffset-document.querySelector(".header").offsetHeight,behavior:"smooth"})}))})),Array.from(document.querySelectorAll(".profile-head__subjects-item")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.pay;e.closest(".profile-head__subjects").querySelector(".profile-head__subjects-item--highlight").classList.remove("profile-head__subjects-item--highlight"),e.classList.add("profile-head__subjects-item--highlight"),Array.from(document.querySelectorAll(".js-profile-cost")).map((function(e){return e.innerText=t}))}))}));var h=document.querySelector(".profile-about__video-cover");h&&h.addEventListener("click",(function(){var e=h.parentNode.querySelector("iframe");h.parentNode.querySelector("iframe").setAttribute("src",e.getAttribute("src")+"?autoplay=1"),h.classList.add("profile-about__video-cover--hidden")}));var S=document.querySelector(".js-reviews-more");if(S){var b={current:1,total:3};S.addEventListener("click",(function(e){e.preventDefault();var t=S.dataset.url;++b.current,fetch("".concat(t,"?page=").concat(b.current)).then((function(e){return e.json()})).then((function(e){e.map((function(e){var t,o,n,r,c,a,i;document.querySelector(".profile-reviews__feedbacks").insertAdjacentHTML("beforeend",(o=(t=e).image,n=t.name,r=t.date,c=t.rating,a=t.feedback,i=t.tag,'\n    <div class="profile-reviews__feedback">\n      '.concat(o?'<div class="profile-reviews__feedback-image" style="background-image: url(\'img/inhtml/'.concat(o,"')\"></div>"):'<div class="profile-reviews__feedback-image"></div>','\n      <div class="profile-reviews__feedback-info">\n        <div class="profile-reviews__feedback-head">\n          <div>\n            <p class="profile-reviews__feedback-name">').concat(n,'</p>\n            <p class="profile-reviews__feedback-date">').concat(r,"</p>\n          </div>\n          ").concat(i?'<p class="profile-reviews__feedback-tag">'+i+"</p>":"",'\n        </div>\n        <div class="profile-reviews__rating-stars">\n          ').concat([1,2,3,4,5].map((function(e){return e<=c?'<div class="profile-reviews__rating-star profile-reviews__rating-star--full"></div>':'<div class="profile-reviews__rating-star"></div>'})).join(""),'\n        </div>\n        <p class="profile-reviews__feedback-text">').concat(a,"</p>\n      </div>\n    </div>\n  "))),b.current===b.total&&S.remove()}))}))}))}var q=document.querySelectorAll(".profile-schedule__timezone-menu");q.length&&Array.from(q).map((function(e){e.classList.contains("fakeScroll")||e.fakeScroll()})),Array.from(document.querySelectorAll(".profile-schedule__time")).map((function(e){var t=e.querySelector(".profile-schedule__time-menu");t&&!t.classList.contains("fakeScroll")&&t.fakeScroll()}));var g=function(){var e=document.querySelector(".profile-schedule__unit--current"),t=document.querySelector('.js-popup[data-popup="request-specific"]');e&&setTimeout((function(){var o=e.dataset.date,n=e.querySelector(".profile-schedule__time-value").innerText;document.querySelector(".profile-schedule__pick").classList.add("profile-schedule__pick--active"),document.querySelector(".profile-schedule__pick-date").innerText=o,document.querySelector(".profile-schedule__pick-time").innerText=n,t&&(t.querySelector(".popup__heading-date").innerText=o,t.querySelector(".popup__heading-time").innerText=n,t.querySelector('input[name="time"]').value=n)}),0)};if(document.querySelector(".profile-schedule")){var L=document.querySelector(".profile-schedule__controls-button--prev"),k=document.querySelector(".profile-schedule__controls-button--next");L&&L.addEventListener("click",(function(){var e=document.querySelector(".profile-schedule__slide--active"),t=+e.dataset.slide,o=document.querySelector('.profile-schedule__slide[data-slide="'.concat(t-1,'"]'));o&&(e.classList.remove("profile-schedule__slide--active"),o.classList.add("profile-schedule__slide--active"),document.querySelector(".profile-schedule__controls-button--next").classList.remove("profile-schedule__controls-button--disabled"),document.querySelector(".profile-schedule__controls-dates").innerText=o.dataset.dates,o.dataset.first&&L.classList.add("profile-schedule__controls-button--disabled"))})),k&&k.addEventListener("click",(function(){var e=document.querySelector(".profile-schedule__slide--active"),t=+e.dataset.slide,o=document.querySelector('.profile-schedule__slide[data-slide="'.concat(t+1,'"]'));o&&(e.classList.remove("profile-schedule__slide--active"),o.classList.add("profile-schedule__slide--active"),document.querySelector(".profile-schedule__controls-button--prev").classList.remove("profile-schedule__controls-button--disabled"),document.querySelector(".profile-schedule__controls-dates").innerText=o.dataset.dates,o.dataset.last&&k.classList.add("profile-schedule__controls-button--disabled"))}))}Array.from(document.querySelectorAll(".profile-schedule__unit")).map((function(e){return e.addEventListener("click",(function(t){if(!t.target.closest(".profile-schedule__time")){var o=document.querySelector(".profile-schedule__unit--current");o&&o.classList.remove("profile-schedule__unit--current"),e.classList.add("profile-schedule__unit--current"),g()}}))})),Array.from(document.querySelectorAll(".profile-schedule__time-menu .dropdown__menu-item")).map((function(e){return e.addEventListener("click",g)}));var w=document.querySelector(".chat__grid"),A=document.querySelector(".chat__aside"),x=Array.from(document.querySelectorAll(".chat-item")),T=document.querySelector(".chat__head-warning"),E=document.querySelector(".chat__dialog"),j=document.querySelector(".chat__dialog-container"),I=document.querySelector(".chat__footer-input"),H=document.querySelector(".chat__footer-container"),$=document.querySelector(".chat__context"),M=document.querySelector('.js-popup[data-popup="dialog-delete"] [data-delete]'),C=0,D=new Event("formSubmit"),N=function(e){document.querySelector(".chat__context--shown")&&($.classList.remove("chat__context--shown"),window.innerWidth<760&&!e&&(document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,C)))};A&&A.fakeScroll();var R=function(){I.style.height="5px",I.style.height=I.scrollHeight+3+"px"},B=function(){var e=E.querySelector(".fakeScroll__content");e.scrollTop=e.scrollHeight};T&&(JSON.parse(localStorage.getItem("letmetutor:dialogWarningIsHidden"))?T.remove():(T.classList.add("chat__head-warning--shown"),document.querySelector(".chat__head-warning-close").addEventListener("click",(function(){T.remove(),localStorage.setItem("letmetutor:dialogWarningIsHidden",!0)})))),x&&x.map((function(e){return e.addEventListener("click",(function(t){e.querySelector(".chat-item__container").style="",e.querySelector(".chat-item__delete").style="",(window.innerWidth>759&&!e.classList.contains("chat-item--active")||!t.target.closest(".chat-item__delete"))&&(w.classList.add("chat__grid--inner"),document.querySelector(".chat-item--active").classList.remove("chat-item--active"),e.classList.add("chat-item--active"),e.querySelector(".chat-item__counter")&&e.querySelector(".chat-item__counter").remove(),document.querySelector(".chat__head-image").style.backgroundImage=e.querySelector(".chat-item__image").style.backgroundImage,document.querySelector(".chat__head-name").innerText=e.querySelector(".chat-item__name").innerText)}))})),I&&I.addEventListener("input",R),E&&(E.fakeScroll(),E.querySelector(".fakeScroll__content").addEventListener("scroll",(function(){N()})),B()),H&&(H.addEventListener("formSubmit",(function(){var e=I.value;if(0===e.replace(/\s/g,"").length)return I.focus(),!1;if("send"===H.dataset.action){var t='<div class="chat__message chat__message--right" data-id="'.concat(+document.querySelector(".chat__message:last-child").dataset.id+1,'">\n        <p class="chat__message-text">').concat(e,'</p>\n        <p class="chat__message-time">').concat(Intl.DateTimeFormat("ru-Ru",{hour:"numeric",minute:"numeric"}).format(Date.now()),"</p>\n      </div>");j.insertAdjacentHTML("beforeend",t),B()}else"edit"===H.dataset.action&&(document.querySelector('.chat__message[data-id="'.concat(H.dataset.id,'"] .chat__message-text')).innerText=e,H.classList.remove("chat__footer-container--edit"),H.dataset.action="send");I.value="",I.focus(),R()})),H.addEventListener("submit",(function(e){e.preventDefault(),H.dispatchEvent(D)})),H.addEventListener("keypress",(function(e){13!==(e.keyCode?e.keyCode:e.which)||e.shiftKey||(e.preventDefault(),H.dispatchEvent(D))}))),document.addEventListener("click",(function(e){var t=e.target;if(t.classList.contains("chat__message-text")&&t.closest(".chat__message--right")){var o=t.parentNode.dataset.id;$.classList.add("chat__context--shown"),$.style.cssText="left: ".concat(e.clientX+10,"px; top: ").concat(e.clientY+scrollY+10,"px;"),M.dataset.id=o,H.dataset.id=o,window.innerWidth<760&&(C=window.scrollY,document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px"))}else N(t.closest('[data-action="delete"]'))})),M&&M.addEventListener("click",(function(){document.querySelector('.chat__message[data-id="'.concat(M.dataset.id,'"]')).remove()})),document.querySelector('.chat__context-item[data-action="edit"]')&&document.querySelector('.chat__context-item[data-action="edit"]').addEventListener("click",(function(){var e=document.querySelector('.chat__message[data-id="'.concat(H.dataset.id,'"] .chat__message-text')).innerText;H.classList.add("chat__footer-container--edit"),H.dataset.action="edit",I.focus(),I.value=e,document.querySelector(".chat__edit-text").innerText=e,R()})),document.querySelector(".chat__edit-cancel")&&document.querySelector(".chat__edit-cancel").addEventListener("click",(function(){H.classList.remove("chat__footer-container--edit"),H.dataset.action="send",I.focus(),I.value="",R()}));var O={start:null,end:null,diff:null};x&&x.map((function(e){var t=e.querySelector(".chat-item__container"),o=e.querySelector(".chat-item__delete");e.addEventListener("touchstart",(function(n){x.map((function(t){t!==e&&(t.querySelector(".chat-item__container").style.transform="translateX(0)",t.querySelector(".chat-item__delete").style.transform="translateX(0)")})),t.style.transition="none",o.style.transition="none",O.start=n.touches[0].clientX}),!1),e.addEventListener("touchmove",(function(e){var n=e.touches[0].clientX,r=O.start-n;O.end=n,O.diff=r,r>0&&r<120&&(t.style.transform="translateX(-".concat(r,"px)"),o.style.transform="translateX(-".concat(r,"px)"))}),!1),e.addEventListener("touchend",(function(e){e.stopPropagation();var n=O.diff<60?0:-120;t.style.cssText="\n        transition: transform .3s ease;\n        transform: translateX(".concat(n,"px);\n      "),o.style.cssText="\n        transition: transform .3s ease;\n        transform: translateX(".concat(n,"px);\n      ")}),!1)}));var W=null;[{$element:document.querySelector("form[data-personal-data]"),callback:function(t){setTimeout((function(){t.querySelector('button[type="submit"]').classList.remove("button--loading"),e("success")}),1e3)}},{$element:document.querySelector("form[data-personal-experience]"),callback:function(t){setTimeout((function(){t.querySelector('button[type="submit"]').classList.remove("button--loading"),e("success")}),1e3)}},{$element:document.querySelector("form[data-personal-contacts]"),callback:function(t){setTimeout((function(){t.querySelector('button[type="submit"]').classList.remove("button--loading"),e("success")}),1e3)}},{$element:document.querySelector("form[data-personal-pass]"),callback:function(t){setTimeout((function(){t.querySelector('button[type="submit"]').classList.remove("button--loading"),e("success")}),1e3)}},{$element:document.querySelector("form[data-personal-notification]"),callback:function(t){setTimeout((function(){t.querySelector('button[type="submit"]').classList.remove("button--loading"),e("success")}),1e3)}},{$element:document.querySelector("form[data-personal-info]"),callback:function(t){setTimeout((function(){t.querySelector('button[type="submit"]').classList.remove("button--loading"),e("success")}),1e3)}},{$element:document.querySelector("form[data-photo-form]"),callback:function(t){setTimeout((function(){var o=W.getData(),n={x:parseInt(o.x),y:parseInt(o.y),width:parseInt(o.width),height:parseInt(o.height)};W.element.closest(".popup__photo").querySelector('input[name="imageCropInfo"]').value=JSON.stringify(n),t.querySelector('button[type="submit"]').classList.remove("button--loading"),e("success")}),1e3)}}].map((function(e){var o=e.$element,n=e.callback;o&&t.validate(o,(function(){return n(o)}))})),Array.from(document.querySelectorAll(".js-personal-add")).map((function(e){return e.addEventListener("click",(function(){var t=e.parentNode.querySelector(".js-copy-item"),o=t.cloneNode(!0),n=o.querySelector(".input.dropdown");Array.from(o.querySelectorAll(".fakeScroll__content")).map((function(e){var t=e.closest(".dropdown__menu");Array.from(e.children).map((function(e){t.insertAdjacentElement("beforeend",e)})),Array.from(o.querySelectorAll('input[type="text"]')).map((function(e){return e.value=""})),Array.from(o.querySelectorAll('input[type="checkbox"]')).map((function(e){return e.checked=!1})),t.classList.remove("fakeScroll","fakeScroll--hasBar"),t.querySelector(".fakeScroll__wrap").remove(),t.querySelector(".fakeScroll__track").remove(),t.fakeScroll()})),t.parentNode.insertAdjacentElement("beforeend",o),n&&(n.addEventListener("click",(function(){var e=n.querySelector(".dropdown__menu");n.closest(".input").querySelector(".input__dropdown").style.width=n.closest(".input").getBoundingClientRect().width+"px",e.classList.contains("fakeScroll")||e.fakeScroll()})),Array.from(n.querySelectorAll(".input__dropdown-item[data-dropdown]")).map((function(e){return e.addEventListener("click",(function(){var t=e.innerText;e.closest(".input").querySelector("input").value=t,e.closest(".input").classList.remove("input--error")}))})))}))}));var P=function(e){W=new Cropper(e,{viewMode:3,aspectRatio:1,zoomable:!1,guides:!1,center:!1,highlight:!1,minContainerWidth:window.innerWidth<760?200:350,autoCropArea:1,minCropBoxWidth:200,minCropBoxHeight:200,preview:e.closest(".popup__photo").querySelector(".popup__photo-pic")})},X=document.querySelector('.js-popup[data-popup="edit-photo"]');X&&X.addEventListener("popupShow",(function(){var e=X.querySelector(".popup__photo-image[data-uploaded]");e&&P(e)}));var Y=document.querySelector(".js-photo-input");Y&&Y.addEventListener("change",(function(e){var t=e.target.files[0],o=new FileReader;o.onloadend=function(){var e=o.result,t=document.querySelector(".cropper-container"),n=Y.closest(".popup__photo");!t&&n.querySelector(".popup__photo-image[data-uploaded]")||(t&&t.remove(),n.querySelector(".popup__photo-pic").style.backgroundImage="url(".concat(e,")"),n.querySelector(".popup__photo-image").remove(),n.querySelector(".popup__photo-container").insertAdjacentHTML("afterbegin",'<img class="popup__photo-image" src="'.concat(e,'" alt="">')));var r=n.querySelector(".popup__photo-image");P(r)},o.readAsDataURL(t)})),Array.from(document.querySelectorAll(".personal__schedule-time-link")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.schedule;document.querySelector("[data-schedule-main]").style.display="none",document.querySelector('[data-schedule-detail="'.concat(t,'"]')).style.display="block",window.innerWidth>1199&&window.scrollTo(0,0)}))})),Array.from(document.querySelectorAll(".personal__back")).map((function(e){return e.addEventListener("click",(function(){e.closest("[data-schedule-detail]").style.display="none",document.querySelector("[data-schedule-main]").style.display="block",window.innerWidth>1199&&window.scrollTo(0,0)}))})),document.querySelector(".personal__schedule")&&(Array.from(document.querySelectorAll(".profile-schedule__controls-button--prev")).map((function(e){return e.addEventListener("click",(function(){var t=e.closest("[data-schedule-detail]"),o=parseInt(t.dataset.scheduleDetail);t.style.display="none",document.querySelector('[data-schedule-detail="'.concat(o-1,'"]')).style.display="block"}))})),Array.from(document.querySelectorAll(".profile-schedule__controls-button--next")).map((function(e){return e.addEventListener("click",(function(){var t=e.closest("[data-schedule-detail]"),o=parseInt(t.dataset.scheduleDetail);t.style.display="none",document.querySelector('[data-schedule-detail="'.concat(o+1,'"]')).style.display="block"}))})));var J=function(){var e=document.querySelector(".personal__services-terms--active input:checked");if(e){var t=e.parentElement.querySelector(".radio__text").innerHTML.split("<span>")[0].trim(),o=e.value.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" &#8381;";document.querySelector('.personal__services-selected span[data-selected="term"]').innerText=t,document.querySelector(".personal__services-topay span").innerHTML=o,document.querySelector(".personal__services-footer").classList.remove("personal__services-footer--hidden"),document.querySelector("span[data-service-cost]")&&(document.querySelector("span[data-service-cost]").innerHTML=o)}else document.querySelector(".personal__services-footer").classList.add("personal__services-footer--hidden")};document.querySelectorAll(".personal__services-label input").forEach((function(e){return e.addEventListener("change",(function(){var t=e.value,o=e.parentElement.querySelector(".personal__services-heading").innerText;document.querySelector(".personal__services-terms--active").classList.remove("personal__services-terms--active"),document.querySelector('.personal__services-terms[data-terms="'.concat(t,'"]')).classList.add("personal__services-terms--active"),document.querySelector('.personal__services-selected span[data-selected="service"]').innerHTML="&laquo;"+o+"&raquo;",document.querySelector(".popup__heading-service")&&(document.querySelector(".popup__heading-service").innerText=o),J()}))})),document.querySelectorAll(".personal__services-radio input").forEach((function(e){return e.addEventListener("change",J)})),document.querySelector(".personal__verify-arrow").addEventListener("click",(function(){scrollTo({top:document.querySelector(".personal__verification-btn").getBoundingClientRect().top+window.pageYOffset-document.querySelector(".header").offsetHeight-20,behavior:"smooth"})}))};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbmxvYWQiLCJzaG93Tm90aWZpY2F0aW9uIiwiaWQiLCIkbm90aWZpY2F0aW9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29uY2F0IiwiY2xhc3NMaXN0IiwiYWRkIiwic2V0VGltZW91dCIsInJlbW92ZSIsIiRhcGkiLCIkcG9wdXAiLCJfcmVmIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwib25IaWRlIiwib25TaG93Iiwic2Nyb2xsWSIsInNob3dPdmVyZmxvdyIsIm9mZnNldCIsImJvZHkiLCJzdHlsZSIsImNzc1RleHQiLCJzY3JvbGxUbyIsImlzU2hvd24iLCJjb250YWlucyIsInNob3ciLCJoaWRlT3ZlcmZsb3ciLCJQcm9taXNlIiwicmVzb2x2ZSIsImhpZGUiLCJwYXJzZUludCIsIm1hcmdpblRvcCIsImRpc3BsYXkiLCJ0aGVuIiwiZm9ybSIsInJlcXVlc3QiLCIkZmlyc3RJbnZhbGlkRmllbGQiLCJpbnB1dCIsImNsb3Nlc3QiLCJmb2N1cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJzZXRJbnZhbGlkSW5wdXQiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwibWFwIiwiZWwiLCJ2YWx1ZSIsInNldEludmFsaWRDaGVja2JveCIsImZvcm1Jc1ZhbGlkIiwiJGZvcm1JbnB1dHMiLCIkY2hlY2tib3hTZWxlY3QiLCJjaGVja2VkIiwiZ2V0QXR0cmlidXRlIiwiY2hlY2tib3giLCJjdXJyZW50VGFyZ2V0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwieSIsInBhZ2VZT2Zmc2V0Iiwib2Zmc2V0SGVpZ2h0IiwiJHRoaXMiLCJ0YXJnZXQiLCJkYXRhc2V0IiwicG9wdXAiLCJpbm5lclRleHQiLCJkaXNwYXRjaEV2ZW50IiwicG9wdXBTaG93IiwiJGVsZW1lbnQiLCJjYWxsYmFjayIsIiRwb3B1cEZvcm1zIiwic3VibWl0IiwiJHN1Y2Nlc3NQb3B1cCIsIiRkcm9wZG93biIsIiRkcm9wZG93bnMiLCIkZHJvcGRvd25NZW51SXRlbSIsIiRkcm9wZG93blZhbHVlIiwidG9nZ2xlIiwiJGhpZGRlbkl0ZW0iLCIkZHJvcGRvd25JbnB1dCIsIm5ld1ZhbHVlIiwidGFiIiwiJGFjdGl2ZVRhYkNvbnRlbnQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJjaGFuZ2VDb3VudHJ5RXZlbnQiLCJFdmVudCIsIndpZHRoIiwidXBkYXRlTWFzayIsImNvZGVMb2MiLCJJbnB1dG1hc2siLCJtYXNrIiwibG9jIiwiJGlucHV0IiwicGxhY2Vob2xkZXIiLCJyZXBsYWNlQWxsIiwiJGhpbnRTaG93bkNvbnRhaW5lciIsImxpc3QiLCJzdG9wUHJvcGFnYXRpb24iLCIkcGxhY2Vob2xkZXIiLCJzdWJzdHJpbmciLCJpdGVtIiwiaGFuZGxlSW5wdXQiLCJmaXJzdFJlbmRlciIsImZha2VTY3JvbGwiLCJuZXh0RWxlbWVudFNpYmxpbmciLCIkZHJvcGRvd25FbGVtZW50IiwiaW5wdXRTbWFydFNlYXJjaCIsImRhdGEiLCJrZXkiLCJmbGF0TWFwIiwiY2l0aWVzIiwiSlNPTiIsInBhcnNlIiwib3B0aW9ucyIsImxvd2VyQ2FzZVZhbHVlIiwidG9Mb3dlckNhc2UiLCJtYXRjaGVzRm91bmQiLCJpbm5lckhUTUwiLCJnZXRMb2NhdGlvbkRhdGEiLCJyZXMiLCJzdWJzdHIiLCJpbml0U21hcnRTZWFyY2giLCJwYXJlbnROb2RlIiwiaW5kZXhPZiIsIiRjaGVja2JveCIsImluc2VydEFkamFjZW50SFRNTCIsImpzb24iLCIkcmFuZ2UiLCJtYXgiLCJtaW4iLCJzbWF4Iiwibm9VaVNsaWRlciIsImNyZWF0ZSIsInN0YXJ0Iiwic21pbiIsImNvbm5lY3QiLCJyYW5nZSIsInZhbHVlcyIsImNoZWNrYm94VmFsdWUiLCIkaW5wdXRGaWVsZCIsIiR0YXJnZXQiLCIkYWN0aXZlSXRlbSIsIiRjdXJyZW50SXRlbSIsImZvckVhY2giLCJzaG93VGV4dCIsImhpZGVUZXh0IiwiY3VycmVudFRleHQiLCIkdG9nZ2xlQ2hlY2tib3hlcyIsImlzQ2hlY2tlZCIsIiRhY3RpdmVSZWFzb24iLCJyYWRpeFBvaW50IiwiJGJhbm5lciIsImFsaWFzIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInN1ZmZpeCIsIiRiYWxhbmNlRm9ybXMiLCJzZXRJdGVtIiwiJGNvb2tpZXMiLCJ2YWxpZGF0ZSIsImhpZGVIZWFkZXJNZW51IiwiU3dpcGVyIiwibG9vcCIsImxvb3BBZGRpdGlvbmFsU2xpZGVzIiwic3BhY2VCZXR3ZWVuIiwiYnJlYWtwb2ludHMiLCI3NjAiLCJzbGlkZXNQZXJWaWV3Iiwic2xpZGVzUGVyR3JvdXAiLCJjbGlja2FibGUiLCJwYWdpbmF0aW9uIiwicG9wdWxhclNsaWRlciIsImNlbnRlcmVkU2xpZGVzIiwiJGF1dGhGb3JtcyIsImNvdW50cnkiLCJmZXRjaCIsImZpbHRlciIsIiRkcm9wZG93bkNvbnRlbnQiLCIkc3VibWl0QnV0dG9uIiwiJGNhdGFsb2dNb3JlQnRuIiwiJHByZXZBcnJvdyIsIiRuZXh0QXJyb3ciLCJjYXRhbG9nUGFnZXMiLCJjdXJyZW50IiwidG90YWwiLCJzZXRDdXJyZW50UGFnZSIsImN1cnJlbnRQYWdlIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsIiRmaXJzdEl0ZW0iLCIkYmVmb3JlU2VwYXJhdG9ySXRlbSIsInBhZ2UiLCJsYXRlc3RQYWdlIiwiJHNlcGFyYXRvciIsIiRwYWdpbmF0aW9uUGFnZXMiLCJpIiwiZm9ybWF0VVJMIiwidXJsIiwic2V0QnJlYWsiLCJuYW1lIiwiVVJMIiwibG9jYXRpb24iLCJocmVmIiwic2VhcmNoUGFyYW1zIiwidG9TdHJpbmciLCJzcGxpdCIsIl9zbGljZWRUb0FycmF5IiwiZmlsdGVyc05hbWVzIiwiaW5jbHVkZXMiLCJ0b3AiLCJpbWFnZSIsInZlcmlmaWVkIiwiZGVzY3JpcHRpb24iLCJsaW5rIiwicmF0aW5nIiwicmV2aWV3cyIsInByaWNlIiwicmV2ZXJzZSIsInN1YmplY3RzIiwic2VhcmNoIiwiaGlkZGVuIiwiZXhwZXJpZW5jZSIsImpvaW4iLCJkZWNsaW5lIiwiY2F0YWxvZ0l0ZW1FbGVtZW50IiwicXVlcnlVcmwiLCIkZWxlbWVudHMiLCJiZWhhdmlvciIsInBheSIsInBheW1lbnQiLCIkcHJvZmlsZVZpZGVvQ292ZXIiLCIkdmlkZW8iLCJyZXZpZXdzUGFnZXMiLCIkcmV2aWV3c01vcmVCdG4iLCJyZXZpZXciLCJfcmVmMyIsImRhdGUiLCJmZWVkYmFjayIsInRhZyIsIiR0aW1lem9uZURyb3Bkb3ducyIsIiRjb250YWluZXIiLCJzZXREYXRlVGltZSIsIiRjdXJyZW50VW5pdCIsInRpbWUiLCIkYWN0aXZlU2xpZGUiLCIkcHJldkJ1dHRvbiIsImN1cnJlbnRJbmRleCIsIiRuZXh0QnV0dG9uIiwiJHByZXZTbGlkZSIsInNsaWRlIiwiZGF0ZXMiLCJmaXJzdCIsIiRuZXh0U2xpZGUiLCJsYXN0IiwiJGRpYWxvZ0xpc3RJdGVtcyIsIiRkaWFsb2dXYXJuaW5nIiwiJGRpYWxvZ1dpbmRvdyIsIiRkaWFsb2dXaW5kb3dDb250YWluZXIiLCIkZGlhbG9nSW5wdXRGaWVsZCIsIiRkaWFsb2dGb3JtIiwiJGRpYWxvZ0NvbnRleHRNZW51IiwiJGRpYWxvZ0RlbGV0ZU1lc3NhZ2VCdG4iLCJzY3JlZW5PZmZzZXQiLCJmb3JtU3VibWl0RXZlbnQiLCJpbm5lcldpZHRoIiwiZGVsZXRlTWVzc2FnZSIsIiRkaWFsb2dMaXN0Iiwic2V0RGlhbG9nSW5wdXRIZWlnaHQiLCIkY2hhdFNjcm9sbENvbnRhaW5lciIsInNjcm9sbFRvcCIsImhlaWdodCIsInNjcm9sbEhlaWdodCIsImJhY2tncm91bmRJbWFnZSIsImNvbnRleHREZXN0cm95IiwiJG1lc3NhZ2VFbGVtZW50IiwiaG91ciIsIm1lc3NhZ2UiLCJmb3JtYXQiLCJub3ciLCJhY3Rpb24iLCJJbnRsIiwiRGF0ZVRpbWVGb3JtYXQiLCJtaW51dGUiLCJEYXRlIiwic2Nyb2xsQ2hhdFRvQm90dG9tIiwid2hpY2giLCJtZXNzYWdlSUQiLCJjbGllbnRYIiwib3JpZ2luYWxNZXNzYWdlVGV4dCIsImVuZCIsIiRjaGF0SXRlbUNvbnRhaW5lciIsIiRjaGF0SXRlbURlbGV0ZSIsInN3aXBlQ29vcmRpbmF0ZXMiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2l0aW9uIiwidG91Y2hlcyIsIiRwZXJzb25hbEZvcm1zIiwiZGlmZiIsImN1cnJlbnRDb29yZGluYXRlIiwiZGVzdCIsImZpbGVEYXRhIiwieCIsImNyb3BwZWRJbWFnZSIsIiRjbG9uZWRFbGVtZW50IiwiJGlucHV0RHJvcGRvd24iLCIkbWVudSIsImVsZW1lbnQiLCJzdHJpbmdpZnkiLCJjbG9uZU5vZGUiLCJjcm9wcGVySW5pdCIsIkNyb3BwZXIiLCJhc3BlY3RSYXRpbyIsImNoaWxkcmVuIiwiem9vbWFibGUiLCJoaWdobGlnaHQiLCJtaW5Db250YWluZXJXaWR0aCIsIm1pbkNyb3BCb3hXaWR0aCIsIm1pbkNyb3BCb3hIZWlnaHQiLCJwcmV2aWV3IiwiJGVkaXRQaG90b1BvcHVwIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwiJHVwbG9hZGVkSW1hZ2UiLCIkcG9wdXBQaG90b0lucHV0IiwiZmlsZXMiLCJGaWxlUmVhZGVyIiwiJGNyb3BwZXIiLCIkcG9wdXBQaG90b0NvbnRhaW5lciIsInZpZXdNb2RlIiwiZ3VpZGVzIiwiYXV0b0Nyb3BBcmVhIiwiJGltYWdlRWxlbWVudCIsInJlYWRlciIsIm9ubG9hZGVuZCIsInJlc3VsdCIsIiRjdXJyZW50U2NoZWR1bGUiLCJjdXJyZW50U2NoZWR1bGVJZCIsInJlYWRBc0RhdGFVUkwiLCJmaWxlIiwiJGNoZWNrZWRSYWRpbyIsInRpdGxlIiwicGFyZW50RWxlbWVudCIsInNjaGVkdWxlRGV0YWlsIiwic2V0U2VsZWN0ZWRTZXJ2aWNlVGVybSIsInRlcm0iLCJyZXBsYWNlIiwiY29zdCJdLCJtYXBwaW5ncyI6IjBxQ0FBQUEsT0FBT0MsT0FBUyxXQUVkLElBQU1DLEVBQW1CLFNBQUFDLEdBQ3pCLElBQU1DLEVBQWdCQyxTQUFTQyxjQUFULDJDQUFBQyxPQUFrRUosRUFBbEUsT0FDdEJDLEVBQWNJLFVBQVVDLElBQUksK0JBRTVCQyxZQUFXLFdBQ1ROLEVBQWNJLFVBQVVHLE9BQU8saUNBQzlCLE1BR0NDLEVBQU8sQ0FYYlosTUFBQSxTQUFBYSxHQUFzQixJQUFBQyxFQUFBQyxVQUFBQyxPQUFBLFFBQUFDLElBQUFGLFVBQUEsR0FBQUEsVUFBQSxHQUFBLEdBQU5HLEVBQU1KLEVBQU5JLE9BQU1DLEVBQUFMLEVBQUFLLE9BR2RmLEVBQWEsV0FDbkJBLFNBQUFBLEtBQWNJLE1BQUFBLFFBQWRKLGdDQUFBQSxRQUFBSixPQUFBb0IsUUFBQWhCLE9BTUFpQixFQUFBLFNBQUFDLEdBWUVqQixTQUFTa0IsS0FBS0MsTUFBTUMsUUFBVSxrQ0FYbEN6QixPQUFVMEIsU0FFVixFQUFBSixJQUNrRCxNQUFBLENBQUFLLFFBQWxCUixXQUFBQSxPQUFrQk4sRUFBbEJNLFVBQWtCUyxTQUFBLGtCQUNoREMsS0FEZ0QsV0FFaEQsSUFBTUMsRUFBWSxJQUFHQyxTQUFmRCxTQUFBQSxHQUNKekIsRUFBU2tCLE1BQUtDLFFBQU1DLFFBR3RCTyxPQUNBRixJQUdFOUIsRUFBTzBCLE1BQUFBLFdBSFRiLEVBQUFMLFVBQUFDLElBQUEsaUJBb0I0QixtQkFBWFUsR0FkakJBLFFBR0VjLEtBaEI4QyxXQWlCOUNKLElBSktQLEdBQUFZLFNBSUU3QixTQUFBa0IsS0FBQUMsTUFBQVcsV0FFSHRCLEVBQUFBLFVBQWF1QixPQUFiLGlCQUNBSixZQUFPLFdBQ1JuQixFQUhEVyxNQUFBWSxRQUFBLE9BS0FOLEVBQVlSLEdBRUMsbUJBQUxlLEdBQ054QixNQUNBLFNBTUpvQixFQUFBQSxTQXBCSyxTQUFBSyxFQUFBQyxHQXFCSCxJQUFBQyxFQUFnQk4sS0FFaEJyQixFQUFPTCx5SkFDUEUsRUFBVyxTQUFBK0IsR0FDVDVCLEVBQUFBLFFBQUEsVUFDQVEsRUFBQUEsUUFBQUEsVUFBQWIsVUFBQUMsSUFBQSxnQkFnQk9nQyxFQUFNQyxRQUFRLGNBZnJCRCxFQUFBQyxRQUFJLGFBQWtCbEMsVUFBdEJDLElBQWtDLG1CQUVqQytCLEVBQUFDLEVBQ0ZBLEVBTlNFLFNBYWRMLEVBQUFoQyxjQUFJa0MseUJBQUpJLGlCQUFBLFNBQUEsU0FBQUMsR0FDQUEsRUFBQUMsaUJBQ0EsSUFBTUMsR0FBQUEsRUFDQU4sRUFBY08sTUFBQUMsS0FBV1gsRUFBQVksaUJBQUEsd0NBQzNCVCxFQUFjSCxFQUFVOUIsaUJBQWMsbUJBRXRDaUMsRUFBTUMsVUFBUVMsS0FBQSxTQUFBQyxHQUtsQixPQUpHWixFQUFBLEtBQ0RBLEVBQUFBLFFBQUFBLFlBQUFZLEVBQUFDLFFBQUFELEVBQUFWLFFBQUEsUUFBQXBDLGNBQUEsb0JBQUErQyxPQUNBWixFQUFBVyxHQUVJRSxFQUFBQSxhQUFxQixTQUN6QmQsSUFBQUEsT0FDQUMsSUFBTUMsV0FGUixLQUFBVSxFQUFBQyxRQXVCVU4sRUFBZ0JLLEdBbEJyQjlDLEdBQWMsR0FHYmlELE1BQ0osSUFBTUMsT0FDZSxLQUFmQyxFQUFBQSxPQUF1QlAsRUFBQUEsTUFBQUEsU0FBaUIsUUFFOUNNLEVBQXNCTCxHQUNwQlgsR0FBa0IsR0FFbEIsTUFDRU8sSUFBQUEsV0FDREssRUFBQU0sVUE1RmVsQixFQTJCcEJDLEVBbUY2QlcsRUFqQzNCWCxFQUFNQyxRQUFRLGFBQWFsQyxVQUFVQyxJQUFJLG1CQWlCdkM4QyxHQUFVSSxHQUVSLE1BQ0UsSUFBQSxRQUNFWixFQUFBQSxLQUFlSyxFQUFmQyxTQUNBRSxFQUFjSCxHQUNmRyxHQUFBLEdBQ0QsTUFtQkYsUUFsQkEsS0FBQUgsRUFBS0MsUUFDSE4sRUFBSUssR0FDRkwsR0FBQUEsR0E3RVYsSUFBQU4sS0FxR01nQixFQUFnQnpDLFFBcEJoQmdDLE1BQUFDLEtBQUtRLEdBQUxOLEtBQUEsU0FBQUMsR0FDRSxJQUFBTSxHQUFRQSxFQUVOSCxNQUFBQSxLQUFBQSxFQUFBQSxpQkFBQSxxQkFBQUosS0FBQSxTQUFBUyxHQUNEQSxFQUFBRixVQXNCQ0EsR0FBVSxNQW5CWkEsSUFDRVgsRUFBQUEsVUFBQUEsSUFBQUEseUJBQ0FRLEdBQUFBLE1BR0pBLEdBQ0VWLEVBQUFnQixjQUFPUixVQUFQNUMsSUFBcUIsbUJBQ25Cc0MsS0FFRHJCLFNBQUEsRUFBQWMsRUFBQUUsUUFBQSxVQUFBb0Isd0JBQUFDLEVBQUFDLFlBQUEzRCxTQUFBQyxjQUFBLFdBQUEyRCxhQUFBLE9BNkJUakIsTUFBTUMsS0FBS1gsRUFBS1ksaUJBQWlCLFVBQVUzQyxPQUFPeUMsTUFBTUMsS0FBS1gsRUFBS1ksaUJBQWlCLGNBQWNDLEtBQUksU0FBQUMsR0FBRSxPQUFJQSxFQUFHUixpQkFBaUIsU0FBUyxXQXpCdElRLEVBQUlLLFFBQUFBLFVBQ0ZULEVBQUFBLFFBQU1DLFVBQUtRLFVBQWlCTixPQUFJLGdCQUMxQk8sRUFBQUEsUUFBVSxhQUVkVixFQUFBQSxRQUFNQyxhQUFRQyxVQUFIdkMsT0FBb0IsbUJBQzdCeUMsRUFBSVEsUUFBU0YsY0FDWEEsRUFBQUEsUUFBQUEsYUFBQWxELFVBQUFHLE9BQUEsMEJBTUY0QyxJQUFBQSxFQUFBQSxJQUFBQSxNQUFjLGFBRWpCbEQsU0FiRHVDLGlCQUFBLFNBQUEsU0FBQUMsR0FjRCxJQUFBcUIsRUFBQXJCLEVBQUFzQixPQUVELEdBQUFELEVBQUlYLFFBQUFBLGtCQUFhLENBQ2ZWLEVBQUFBLGlCQUVELElBSERzQixFQUdPRCxFQUFBeEIsUUFBQSxrQkFBQTBCLFFBQUFDLE1BQ0wzQyxFQUFRckIsU0FBSW1DLGNBQUoseUJBQUFqQyxPQUF5Q3VELEVBQXpDLE9BckVaLGlCQUFBSyxJQXlFTWxCLFNBQVMzQyxjQUFDNEMsdUJBQXVGckMsRUFBTVAsY0FBQ3NDLGtCQUEwQjBCLFVBQU1qRSxTQUFBQyxjQUFBLHVCQUFBZ0UsVUFFMUlsQixFQUFHVixjQUFILGtCQUFBNEIsVUFBc0NKLEVBQXRDeEIsUUFBQSxjQUFBcEMsY0FBQSxvQkFBQWdFLFdBSUFsQixFQUFBQSxNQUFHVixFQUFRLENBQ1p2QixPQURZLFdBTndGLGVBQUFnRCxHQUF2R3RELEVBQUEwRCxjQUFBQyxNQXFDSzNDLFdBcEJMbUIsTUFBQUMsS0FBSWlCLFNBQU14QixpQkFBUSxvQkFBbUJTLEtBQUEsU0FBQUMsR0FBQSxPQUNuQ1AsRUFBQUEsaUJBQUEsU0FBQSxTQUFBQSxHQUVBLElBQUFBLEVBQU1zQixPQUFNekIsUUFBU0Esb0JBQVFHLEVBQWRnQixjQUF3Q1EsVUFBdkR6QyxTQUFBLFlBQUEsQ0FDQSxJQUFNZixFQUFTUixFQUFBQSxjQUFTQyxRQUFULFVBRWZNLEVBQUl1RCxNQUFNdEQsR0FBS29CLGNBTWQsQ0FBQSxDQXlCSHdDLFNBQVVwRSxTQUFTQyxjQUFjLDJCQXZCL0JNLFNBQUt5RCxTQUFBQSxHQUNIbEQsWUFEaUIsV0FFZnNELEVBQUlOLGNBQVcseUJBQWMzRCxVQUFBRyxPQUFBLG1CQUMzQkUsRUFBQUEsV0FDRCxPQUdOLENBQ0Y0RCxTQUVEcEUsU0FBQUMsY0FBQSxnQ0F1QkVvRSxTQUFVLFNBQUFELEdBdEJaekIsWUFBVzNDLFdBQW9Eb0UsRUFDMUQ3QixjQUFBQSx5QkFBK0JwQyxVQUFBRyxPQUFBLG1CQUNoQzhELEVBQU1OLFdBQ0osT0FJSCxDQVA0RE0sU0FVL0RwRSxTQUFBQyxjQUFBLHFCQXFCRW9FLFNBQVUsU0FBQUQsR0FwQlovRCxZQUFNaUUsV0FDSkYsRUFBVXBFLGNBQVNDLHlCQUFjRSxVQURkRyxPQUFBLG1CQUVuQitELEVBQVVFLFdBQ1JsRSxPQUdDLENBQ0YrRCxTQUFBcEUsU0FBQUMsY0FBQSxrQkFQa0JvRSxTQVNyQixTQUFBRCxHQUNFQSxJQUFBQSxFQUFVcEUsU0FBU0MsY0FBYywyQ0FDakNvRSxFQUFVckUsU0FBQW9FLGNBQVksbURBRWxCQSxZQUFBQSxXQUNBQSxFQUFBQSxNQUFTRyxFQUFULENBRlExRCxPQUVSLFdBRUg4QixNQUFBQyxLQUFBcEMsRUFBQXFDLGlCQUFBLFVBQUFDLEtBQUEsU0FBQUMsR0FBQSxPQUFBQSxFQUFBQyxNQUFBLE1BRUh6QyxFQUFBeUQsTUFBQVEsR0FBQWhELE9BQ0U0QyxFQUFVcEUsY0FBU0MseUJBRHJCRSxVQUFBRyxPQUFBLHNCQUdJRCxTQUNFK0QsT0FHSCxDQVBIQSxTQVNBcEUsU0FBQUMsY0FBQSwwQkFDRW1FLFNBQVEsU0FBQUEsR0FDUkMsSUFBQUEsRUFBVXJFLFNBQUFDLGNBQVksdUNBQ2RPLEVBQVNSLFNBQVNDLGNBQWMsK0NBR3RDSSxZQUFBQSxXQUNFRSxFQUFBQSxNQUFLeUQsRUFBTCxDQUNFbkQsT0FERixXQUVJOEIsTUFBQUEsS0FBTUMsRUFBS3BDLGlCQUFPcUMsVUFBbEJDLEtBQTZDQSxTQUFBQSxHQUFJLE9BQUFDLEVBQUFDLE1BQUUsTUFBQXpDLEVBQUF5RCxNQUFJakIsR0FBSnZCLE9BQUE0QyxFQUFuRG5FLGNBQUEseUJBQUFFLFVBQUFHLE9BQUEsc0JBRUE4RCxTQUNELE9BR04sQ0FmSEEsU0FpQkFwRSxTQUFBQyxjQUFBLHlCQUNFbUUsU0FBUSxTQUFBQSxHQUNSQyxJQUFBQSxFQUFVckUsU0FBQUMsY0FBWSxpQ0FDZE8sRUFBU1IsU0FBU0MsY0FBYyx5Q0FHdENJLFlBQUFBLFdBQ0VFLEVBQUFBLE1BQUt5RCxFQUFMLENBQ0VuRCxPQURGLFdBRUk4QixNQUFBQSxLQUFNQyxFQUFLcEMsaUJBQU9xQyxVQUFsQkMsS0FBNkNBLFNBQUFBLEdBQUksT0FBQUMsRUFBQUMsTUFBRSxNQUFBekMsRUFBQXlELE1BQUlqQixHQUFKdkIsT0FBQTRDLEVBQW5EbkUsY0FBQSx5QkFBQUUsVUFBQUcsT0FBQSxzQkFFQThELFNBQ0QsT0FHTixDQWZIQSxTQWlCQXBFLFNBQUFDLGNBQUEsMkJBQ0VtRSxTQUFRLFNBQUFBLEdBQ1JDLElBQUFBLEVBQVVyRSxTQUFBQyxjQUFZLG1DQUNkTyxFQUFTUixTQUFTQyxjQUFjLDJDQUd0Q0ksWUFBQUEsV0FDRUUsRUFBQUEsTUFBS3lELEVBQUwsQ0FDRW5ELE9BREYsV0FFSThCLE1BQUFBLEtBQU1DLEVBQUtwQyxpQkFBT3FDLFVBQWxCQyxLQUE2Q0EsU0FBQUEsR0FBSSxPQUFBQyxFQUFBQyxNQUFFLE1BQUF6QyxFQUFBeUQsTUFBSWpCLEdBQUp2QixPQUFBNEMsRUFBbkRuRSxjQUFBLHlCQUFBRSxVQUFBRyxPQUFBLHNCQUVBOEQsU0FDRCxPQUdOLENBZkhBLFNBaUJBcEUsU0FBQUMsY0FBQSxvQ0FDRW1FLFNBQVEsU0FBQUEsR0FDUkMsSUFBQUEsRUFBVXJFLFNBQUFDLGNBQVksNENBQ2RPLEVBQVNSLFNBQVNDLGNBQWMsMkNBR3RDSSxZQUFBQSxXQUNFRSxFQUFBQSxNQUFLeUQsRUFBTCxDQUNFbkQsT0FERixXQUVJOEIsTUFBQUEsS0FBTUMsRUFBS3BDLGlCQUFPcUMsVUFBbEJDLEtBQTZDQSxTQUFBQSxHQUFJLE9BQUFDLEVBQUFDLE1BQUUsTUFBQXpDLEVBQUF5RCxNQUFJakIsR0FBSnZCLE9BQUE0QyxFQUFuRG5FLGNBQUEseUJBQUFFLFVBQUFHLE9BQUEsc0JBRUE4RCxTQUNELFFBTUN0QixLQUFFOUMsU0FBQUEsR0FDVnFFLElBQUFBLEVBQVVELEVBQVZDLFNBQVVBLEVBQUFELEVBQUFDLFNBRVJELEdBRUEvRCxFQUFBQSxTQUFXK0QsR0FBQSxXQUFBLE9BQU1DLEVBQUFELFNBR0x4QixNQUFLcEMsS0FBT3FDLFNBQUFBLGlCQUEyQkMsY0FDN0N2QyxTQUFBQSxpQkFBV2lFLFNBQUFBLFdBQ1hKLFNBQUFBLGNBQVNuRSxzQkFDVkQsU0FBQUMsY0FBQSxxQkFBQUUsVUFBQUcsT0FBQSx1QkFPVGdFLFNBQUFBLGlCQUFnQixTQUFRLFNBQUE5QixHQUN0QixJQUFRNEIsRUFBdUJuQyxFQUFBQSxPQUF2Qm1DLFFBQVIsYUFvQklLLElBbEJBTCxFQUFVakUsVUFBQW9CLFNBQUEsZ0JBQ1poQixFQUFBQSxpQkFDRGtFLEVBQUF0RSxVQUFBb0IsU0FBQSxzQkFMSHZCLFNBQUFDLGNBQUEsc0JBT1F5RSxTQUFVekUsY0FBY0QscUJBQVM2QyxVQUFpQnZDLE9BQXhELG9CQUdGTixFQUFTdUMsVUFBQUEsT0FBaUIseUJBU3hCdkMsU0FBTXlFLGlCQUFjWCxTQUFPekIsU0FBQUEsR0FtQjNCLElBQU1zQyxFQUFvQm5DLEVBQUVzQixPQUFPekIsUUFBUSx3QkFoQnpDLEdBQUFzQyxJQUNFbkMsU0FBRUMsY0FBRixxQkFBQXRDLFVBQUFHLE9BQUEsb0JBb0JFcUUsRUFBa0JyQixhQUFhLGdCQUFnQixDQWpCbkQsSUFBS21CLEVBQVNqQyxFQUFDckMsT0FDVEgsRUFBU0MsRUFBQUEsVUFDWEQsRUFBU0MsRUFBVG9DLFFBQXVCLG1CQUFxQmxDLGNBQWlCLGdDQUM5RHNFLEVBQUFaLEVBQUF4QixRQUFBLGFBbUJLdUMsRUFBaUJILEVBQVV4RSxjQUFjLG9CQWxCL0N3RSxFQUFvQkksRUFBTzVFLGNBQTNCLFNBRUg2RSxHQUlIQSxFQUFBM0UsVUFBQUcsT0FBQSwrQkFFUXFFLElBa0JBSSxFQUFlL0IsTUFBUWdDLEdBR3pCTCxFQUFrQnhFLFVBQVVDLElBQUksK0JBaEJsQ3dFLEVBQUlELFVBQWtCckIsTUFLcEJYLE1BQUFDLEtBQUE1QyxTQUFNNEUsaUJBQWlCSCxnQkFBd0IzQixLQUFBLFNBQUFDLEdBQUEsT0FBQUEsRUFBQVIsaUJBQS9DLFNBQUEsU0FBQUMsR0FDQUEsRUFBQUMsaUJBa0JKLElBQU1xQixFQUFTZixFQUFHZ0IsUUFBUWtCLElBaEJ0QkMsRUFBaUJuQyxFQUFBVixRQUFBLGVBQUFwQyxjQUFBLGlCQUVoQjhDLEVBQUFWLFFBQUEsU0FBQXBDLGNBQUEsdUJBQUFFLFVBQUFHLE9BQUEsc0JBa0JMeUMsRUFBRzVDLFVBQVVDLElBQUksc0JBZlgyRSxJQUNEaEMsRUFBQVYsUUFBQSxlQUFBcEMsY0FBQSxpQkFBQWtGLGdCQUFBLGVBa0JIcEMsRUFBR1YsUUFBUSxlQUFlcEMsY0FBMUIsa0JBQUFDLE9BQTBENEQsRUFBMUQsT0FBc0VzQixhQUFhLGVBQWUsVUFkakcsSUFBQUMsRUFBQSxJQUFBQyxNQUFBLGlCQU1IM0MsTUFBQUMsS0FBTWtCLFNBQVNmLGlCQUFmLG9CQUNBN0MsT0FBQXlDLE1BQU11QyxLQUFBQSxTQUFpQnJDLGlCQUFjLHNCQUVyQ0UsS0FBQUEsU0FBQUEsR0FBQUEsT0FBR1YsRUFBQUEsaUJBQWlCcEMsU0FBYyxXQUNsQzhDLElBQUUwQixFQUFXckUsRUFBSUgsY0FBQSxtQkFrQmpCOEMsRUFBR1YsUUFBUSxVQUFVcEMsY0FBYyxvQkFBb0JrQixNQUFNb0UsTUFBUXhDLEVBQUdWLFFBQVEsVUFBVW9CLHdCQUF3QjhCLE1BQVEsS0FmeEh4QyxFQUFHVixVQUFRZCxTQUFldEIsZUFDMUI4QyxFQUFHVixtQkFzQlBNLE1BQU1DLEtBQUs1QyxTQUFTNkMsaUJBQWlCLHlDQUF5Q0MsS0FBSSxTQUFBQyxHQUFFLE9BQUlBLEVBQUdSLGlCQUFpQixTQUFTLFdBakJySCxJQUFNaUQsRUFBQUEsRUFBVXpCLFFBQUcwQixRQUNqQkMsRUFBVTNDLEVBQUFnQixRQUFBNEIsS0FBQ0EsRUFBQUEsRUFBQUEsUUFBQUEsVUFBQUEsY0FBQUEsU0FDWjVDLEVBRURWLFFBQUEsZ0JBQUEwQixRQUFBMEIsUUFBQUcsRUFtQkU3QyxFQUFHVixRQUFRLGdCQUFnQjBCLFFBQVE0QixLQUFPQSxFQUMxQ0UsRUFBT0MsWUFBY0gsRUFBS0ksV0FBVyxJQUFLLEtBeEMxQyxTQUFBM0QsRUFBQXVELEdBaUJBRCxVQUFVLENBQUNDLEtBQUFBLElBQU9BLEtBQUt2RCxHQUl6Qk8sQ0FBVzNDLEVBQVEyRixTQXdCbkJoRCxNQUFNQyxLQUFLNUMsU0FBUzZDLGlCQUFpQix5Q0FBeUNDLEtBQUksU0FBQUMsR0FBRSxPQUFJQSxFQUFHUixpQkFBaUIsU0FBUyxXQWxCbkgsSUFBQVMsRUFBS3lCLEVBQUFBLFVBRUoxQixFQUFBVixRQUFBLFVBQUFwQyxjQUFBLFNBQUErQyxNQUFBQSxFQUNGRCxFQVBVVixRQUFKLFVBQUFsQyxVQUFBRyxPQUFBLGdCQTRCRHlDLEVBQUdWLFFBQVEsVUFBVWxDLFVBQVVvQixTQUFTLG9CQWxCOUNvQixFQUFLTixRQUFNckMsVUFBUzZDLGNBQWlCd0MsU0FLbkN0QyxNQUFBQSxLQUFHVixTQUFRUSxpQkFBZ0JrQixzQkFBM0JqQixLQUFBLFNBQUFDLEdBQ0FBLFVBQUdWLENBQUFBLEtBQVFVLEVBQUFWLFFBQUEsVUFBWHBDLGNBQUEsZ0JBQUE4RCxRQUFBNEIsT0FBQUEsS0FBQTVDLE1BR0RKLE1BVG1GQyxLQUFBNUMsU0FBQTZDLGlCQUFBLG9CQUFBQyxLQUFBLFNBQUFDLEdBQUEsT0FBQUEsRUFBQVIsaUJBQUEsU0FBQSxTQUFBQyxHQUFBQSxFQUFwRkMsaUJBWUtELEVBQUNJLE9BQUs1QyxRQUFTNkMsOEJBQWdFRSxFQUFBOUMsY0FBT3NDLDZCQUEwQnBDLFVBQU0wRSxPQUFBLHlDQU16SDdFLFNBQUF1QyxpQkFBZSxTQUFVcEMsU0FBQUEsR0FDdkI0QyxJQUFBQSxFQUFxQm1CLFNBQUFBLGNBQWNtQixvQ0FQNkM3QyxFQUFBc0IsT0FBQXpCLFFBQUEscUJBQUFHLEVBQUFzQixPQUFBekIsUUFBQSwyQkFBQTJELEdBQXBGQSxFQVdBN0YsVUFBQUcsT0FBQSxzQ0FFYXFGLE1BQUFBLEtBQUkzRixTQUFLcUMsaUJBQWtCcEMsMEJBQThCOEQsS0FBQUEsU0FBQUEsR0FBMURrQyxFQUF5RU4saUJBQW5GLFNBQUEsU0FBQW5ELEdBREZBLEVBR0UwRCxrQkFDRnZELElBQU1DLEVBQWNDLEVBQUFBLFFBQWlCLG1CQUEwQlEsR0FBT2QsRUF3QmxFYSxFQUFnQmpELFVBQVVHLE9BQU8seUJBcEJqQ3lDLE1BQUVILEtBQUMzQyxFQUFBQSxpQkFBYyxxQkFBNkJFLEtBQUFBLFNBQUFBLEdBQy9DLElBQUFnRyxFQUFBL0MsRUFBQW5ELGNBQUEsc0NBR0hzRCxFQUFBRixVQUFBQSxHQUFBLEdBQ0FyRCxFQUFTdUMsaUJBQWlCLFNBQVMsV0FDM0J5RCxJQUFBQSxFQUFBQSxHQUVGckQsTUFBSW1CLEtBQU96QixFQUFBQSxpQkFBUSxrQkFBK0JBLEtBQUFBLFNBQUFBLEdBQ3BEMkQsR0FBQUEsRUFBQUEsUUFBb0I3Rix5QkFBaUJGLGNBQUEsbUJBQXJDZ0UsVUFBQSxRQXlCUWpCLEdBckJOSixFQUFjQyxVQUFBQSxFQUFpQnVELFVBQUEsRUFBQXBELEVBQUFyQyxPQUE4QixHQUM1RDRCLEVBQUFBLFVBQUxuQyxJQUErQiwrQ0FHdkJnRCxFQUFBQSxVQUF1QmYsRUFBUTBCLFFBQUErQixZQUNqQ3pDLEVBQVVsRCxVQUFkRyxPQUFBLG9EQVNFaUQsRUFDRUgsRUFBWWpELFVBQVpDLElBQUEsMkJBR0U0QyxFQUFTcUQsVUFBS2hFLE9BQVEsOEJBSXRCOEQsRUFBQUEsZ0JBR0FBLE1BQUFBLEtBQUFBLFNBQUFBLGlCQUF5QkEsNEJBQXFCTCxLQUE5QyxTQUFBL0MsR0FBQSxPQUFBQSxFQUFBUixpQkFBQSxTQUFBLFNBQUFDLEdBQ0EyRCxJQUFBQSxFQUFBQSxFQUFBQSxjQUNEbkQsRUFBQWEsRUFBQUksVUFFSkosRUFwQkR4QixRQUFBLG1CQUFBcEMsY0FBQSx5QkFBQStDLE1BQUFBLFFBdUJFSSxJQUVBQSxFQUFnQmpELFNBQUFBLEVBQVVHLEdBRTdCLElBbkNEZ0csRUFBQSxTQUFBQyxHQXFDQU4sSUFBS08sRUFBTHBDLEVBQUFxQyxtQkFBQXhHLGNBQUEsNEJBRUF3RSxFQUFBaUMsRUFBQXpHLGNBQUEseUJBQUF5RyxFQWVRQyxFQUFxRCxhQUFsQ3ZDLEVBQVNkLGFBQWEsUUFkN0NWLEVBQUs1QyxFQUEwQjRHLEVBQUE5RCxLQUFBLFNBQUFDLEdBQUEsT0FBQUEsRUFBQThELE9BQUEzRyxPQUE0QjRDLEVBQUlnRSxTQUFBL0QsU0FBQUEsR0FBRSxPQUFBc0QsRUFBQVUsV0FBQUMsS0FBQUMsTUFBQTdDLEVBQUFMLFFBQUFtRCxTQUFBQyxFQUFPNUUsRUFBaUJTLE1BQVNvRSxjQUNoR3ZELEVBQVVMLEVBQUFBLFFBQWhCLHNCQUFBdkQsY0FBQSwwQkFDQW9ILEdBQW1CLEVBR3BCNUMsRUFMc0U2QyxVQUFBLEdBT3ZFSixFQUFNSyxLQUFBQSxTQUFBQSxHQUFrQixHQUFBaEIsR0FBMEMsSUFBOUJ4RCxFQUFBcUUsY0FBc0JwRixRQUFLbUYsR0FBRyxDQUFBLElBQUlLLEVBQUpiLEVBQUEsdURBQUF6RyxPQUExQ2lILElBQUFaLEVBQUEsaUNBQUEsR0FBMEMsc0NBQUFyRyxPQUExQzZDLEVBQUEwRSxPQUFBLEVBQUFOLEVBQUF4RyxRQUEwQyxXQUFBVCxPQUExQzZDLEVBQUEwRSxPQUFBTixFQUFBeEcsUUFBMEMsUUFBQSxtRkFBQVQsT0FBbEU2QyxFQUFrRSxRQXFCMURzRSxHQUFlLEVBbkJqQkssRUFBQUEsbUJBQUFBLFlBQW1CdEQsT0FLckJpRCxHQUNBWCxFQUFnQkMsV0FBQUEsVUFBd0I3RCxPQUFJLDZCQUFFNEQsRUFBQWlCLFdBQUF4SCxVQUFBRyxPQUFBLDZCQUFtQnNHLEVBQ2pFRixFQUFNUyxXQUFpQi9DLFVBQWVnRCxJQUFBQSw0QkFENENWLEVBQVNLLFdBQVQ1RyxVQUFBQyxJQUFBLDZCQTZCbEZ1QyxNQUFNQyxLQUFLNkIsRUFBVTVCLGlCQUFpQiw0QkFBNEJDLEtBQUksU0FBQUMsR0FBRSxPQUFJQSxFQUFHUixpQkFBaUIsU0FBUyxXQXJCekcyRSxFQUFRcEUsTUFBSUMsRUFBQWtCLFVBQ1ZHLEVBQUltQyxhQUFleEQsYUFBQUEsRUFBaUI2RSxXQXdCaENDLElBcEJGUixFQUFBQSxTQUFlLEVBQ2Y1QyxFQUFBQSxnQkFBVXFELG1CQU1acEIsSUFBZ0JBLEVBQVl2RyxVQUFVRyxTQUFPLGVBQzdDb0csRUFBQUEsY0FJZ0IsU0FBaEJBLEVBQUFBLE9BQ0R0QyxFQUVEN0IsaUJBQUEsU0FBQSxXQUFBLE9BQUErRCxHQUFBLE1BbUJBbEMsRUFBUzdCLGlCQUFpQixTQUFTLFdBQUEsT0FBTStELEdBQVksTUFDckRsQyxFQUFTN0IsaUJBQWlCLFFBQVEsV0FuQmJNLEtBQXJCRixFQUFXOEIsT0FBVTVCLEVBQWlCa0IsUUFBQWYsTUFFcENvQixFQUFBQSxNQUFTZ0IsRUFBYXJCLFFBQUFmLE1BRmdEb0IsRUFBTXBCLE1BQUNULFFBQVB2QyxTQVV4RTZDLGlCQUFBLHlCQUFBbEMsUUFxQkZnQyxNQUFNQyxLQUFLNUMsU0FBUzZDLGlCQUFpQiwwQkFBMEJDLEtBQUksU0FBQUMsR0FwQjdEd0QsYUFBSnhELEVBQUl3RCxLQWhFY3BHLE1BQVVDLHNCQUFJNEIsTUFBOUIsU0FBQXdGLEdBQUEsT0FBQUEsRUFBQU8sVUFpRVV2QixNQUFWLFNBQUFJLEdBQ0RjLEVBQUEzRSxFQUFBNkQsTUF3QkNjLEVBQWdCM0UsTUFuQmlCSixNQUFBQyxLQUFuQzVDLFNBQUE2QyxpQkFBQSx5QkFBQUMsS0FBQSxTQUFBa0YsR0FDQTVELElBQUFBLEdBQVM3QixFQUFBQSxRQUFBQSxJQUNQMEYsR0FBSTdELEVBQVNwQixRQUFUaUYsSUFDRjdELEdBQUFBLEVBQVNwQixRQUFUa0YsSUFDREMsR0FBTUgsRUFBQWpFLFFBQUFrRSxJQUVORyxXQUFBQyxPQUFBTCxFQUFBLENBQ0ZNLE1BTkQsQ0FBQUMsRUFBQUosR0FPREssU0FBQSxFQTdqQm1CQyxNQWdrQnRCLENBeUJNUCxJQUFBQSxFQUNBRCxJQUFBQSxHQXhCSnRGLEtBQU1DLE1BR0E4RSxFQUFBQSxXQUFBQSxHQUFBQSxTQUFvQmQsU0FBQUEsR0FDckIsSUFGRHNCLEVBQUFyRyxTQUFBNkcsRUFBQSxJQURGVCxFQUlPcEcsU0FBQTZHLEVBQUEsSUFFTlYsRUFBQTNGLFFBQUEsbUJBQUFwQyxjQUFBLHlCQUFBK0MsTUFBQSxHQUFBOUMsT0FBQWdJLEVBQUEsU0FBQWhJLE9BQUErSCxFQUFBLE1BQ0ZELEVBUkQzRixRQUFBLGtCQUFBcEMsY0FBQSxzQkFBQWdFLFVBQUFpRSxFQVlGRixFQUFBM0YsUUFBQSxrQkFBQXBDLGNBQUEsb0JBQUFnRSxVQUFBZ0UsUUFJRXRGLE1BQUFDLEtBQU0yRixTQUFRUCxpQkFBZCxnQ0FBQWxGLEtBQUEsU0FBQUMsR0FBQSxPQUFBQSxFQUFBUixpQkFBQSxTQUFBLFdBQ0EsSUFBTTRGLEVBQWNwRixFQUFDZ0IsUUFBUWtFLG1CQUE3QmhJLGNBQUEseUJBR0VxSSxHQUFBQSxFQUFBQSxjQUFjSCxTQURVOUUsUUFBQSxDQUV4Qm1GLElBQUFBLEVBRndCekYsRUFBQTlDLGNBQUEsbUJBQUFnRSxVQUl0QmlFLEVBREtsRixNQUFBMkYsRUFFTFYsRUFBQUEsYUFBQUEsYUFBQUEsR0FGS1csRUFIaUJ4RCxhQUFBLFdBQUEsaUJBQUF3RCxFQUExQjVGLE1BQUEsR0FVQWdGLEVBQU9JLGFBQWMsYUFBUyxJQUM1QlEsRUFBWS9HLGdCQUFnQixrQkFLNUJtRyxTQUFBQSxpQkFBZSxTQUFBLFNBQUF4RixHQUNoQixJQVBEcUcsRUFBQXJHLEVBQUFzQixPQStCSStFLEVBQVExSSxVQUFVb0IsU0FBUyx1QkFuQmpDb0IsRUFBQXhCLE1BQVduQixRQUFTNkMsT0FDbEJGLE1BQU1pRyxLQUFBQSxFQUFXdkcsUUFBTUEsd0JBQTJCcEMsaUJBQWMsc0NBQWhFNkMsS0FBQSxTQUFBQyxHQXNCSUEsRUFBRzVDLFVBQVVHLE9BQU8sMkNBZnRCc0ksTUFBQUEsS0FBQUEsU0FBWXhELGlCQUFhLDJCQUF6QnRDLEtBQUEsU0FBQUMsR0FBQSxPQUFBQSxFQUFBUixpQkFBQSxTQUFBLFdBQ0QsSUFORHVHLEVBTU8vRixFQUFBVixRQUFBLGNBQUFwQyxjQUFBLDRCQUNMMkksRUFBWTVGLEVBQVpYLFFBQUEsb0JBRUF1RyxFQUFXekksVUFBQ2dGLFNBQWdCLDJCQUM3QjRELEVBQUE1SSxVQUFBRyxPQUFBLDRCQUVEd0ksR0FxQklBLEVBQVkzSSxVQUFVRyxPQUFPLDJCQUcvQnlJLEVBQWE1SSxVQUFVQyxJQUFJLGtDQWpCM0J1QyxJQUFBQSxFQUFtQk4sU0FBUVEsaUJBQUEsb0NBRzVCN0MsU0FBQTZDLGlCQUFBLHVCQUFBbUcsU0FBQSxTQUFBakcsR0FBQSxPQUFBQSxFQUFBUixpQkFBQSxTQUFBLFdBQ0YsSUFDQzBHLEVBQUFsRyxFQUFBZ0IsUUFBQXZDLEtBb0JNMEgsRUFBV25HLEVBQUdnQixRQUFRbkMsS0FuQnhCZ0IsRUFBY0MsRUFBQUEsVUFDbEJFLEVBQUFWLFFBQU15RyxnQkFBaUJ6RyxjQUFRLHNCQUE0QmxCLE1BQUFZLFFBQUFvSCxJQUEzREYsRUFBQSxRQUFBLE9BQ0FsRyxFQUFBa0IsVUFBTThFLElBQWtCMUcsRUFBUTZHLEVBQWhDRCxRQUlDRyxFQUFNSixTQUFBLFNBQUFqRyxHQUFBLE9BQUFBLEVBQUFSLGlCQUFBLFNBQUEsV0FDTCxJQUFBYyxFQUFJeUYsRUFBQUEsY0FBYSxTQUFBekYsUUFFaEJyRCxTQUFBNkMsaUJBQUEsZ0NBQUFtRyxTQUFBLFNBQUFqRyxHQUFBLE9BQUFBLEVBQUFNLFFBQUFBLEtBc0JIK0YsRUFBa0JKLFNBQVEsU0FBQTNDLEdBcEJ4QjBDLElBQUFBLElBQ0QxQyxFQUFBcEcsY0FBQSxTQUFBb0QsUUFBQUEsWUFLd0RyRCxTQUFBNkMsaUJBQU9OLGdDQUFnQ3lHLFNBQUEsU0FBQWpHLEdBQUEsT0FBQUEsRUFBQVIsaUJBQUEsVUFBQSxXQUNoRyxJQUFBOEcsR0FBYyxFQUVkdEcsRUFBQVYsUUFBTThHLG1CQUFpQjdCLGlCQUF2QixnQ0FBQTBCLFNBQUEsU0FBQWpHLEdBRUdWLEVBQUFBLFVBQ0hVLEdBQUEsTUFJRnFHLEVBQWtCSixTQUFRLFNBQUFqRyxHQUFBLE9BQUFBLEVBQUE5QyxjQUFFLFNBQUFvRCxRQUFBZ0csV0FHMENySixTQUFBNkMsaUJBQUksK0JBQUptRyxTQUFBLFNBQUFqRyxHQUFBLE9BQUFBLEVBQUFSLGlCQUFBLFNBQUEsV0FBQVEsRUFBQTBELG1CQUFwRXRHLFVBQUEwRSxPQUFBLDhDQUdJd0IsU0FBQUEsaUJBQUtwRyxTQUFjLFNBQUF1QyxHQUNwQixJQUFBOEcsRUFBQXRKLFNBQUFDLGNBQUEseUNBUHVCcUosSUFBQTlHLEVBQUFzQixPQUFBekIsUUFBQSwyQkFBNUJpSCxFQVdBbkosVUFBQUcsT0FBQSwyQ0FFRU4sU0FBQTZDLGlCQUFBLG1CQUFBbUcsU0FBQSxTQUFBakcsR0FFQUEsVUFBR1YsQ0FBQUEsTUFBUSxVQUFBa0gsV0FBbUIxRyxJQUFBQSxPQUFpQixPQUFBOEMsS0FBQTVDLE1BQS9DLENBQUEsQ0FNQXFHLFNBQUFBLFNBQUFBLGNBQTBCLGdDQUFFL0UsU0FBQSxTQUFBRCxHQUFBL0QsWUFBNUIsV0FUa0UrRCxFQUFBbkUsY0FBQSx5QkFBQUUsVUFBQUcsT0FBQSxtQkFZcEU4RCxFQUFBRyxXQXdCTyxRQXZCUHpCLEtBQUEsU0FBQWIsR0FJQWpDLElBQVFvRSxFQUFrQm5DLEVBQWxCbUMsU0FBQzdCLEVBQWlCTixFQUFqQk0sU0EyQkg2QixHQXhCSjdELEVBQUkrSSxTQUFBQSxHQUFvQnhGLFdBQUFBLE9BQUZPLEVBQWlCRCxTQTZCdkMsSUFBTW9GLEVBQVV4SixTQUFTQyxjQUFjLFdBdkI1QndKLEtBQUFBLE1BQU9DLGFBQVJDLFFBQUEsOEJBUU52RixFQUFBQSxVQVJ5Qm1GLEVBQUFBLE1BQVV4SCxRQUE3QixPQUFvQzZILFNBQUFBLGNBQVEsa0JBQUFySCxpQkFBQSxTQUFBLFdBQTVDaUgsRUFBd0R6RyxVQUFsRTNDLElBQUEsZ0JBREZDLFlBSUEsV0E0Qk1tSixFQUFRbEosU0EzQlJ1SixhQUFhQyxRQUFJLDZCQUFBLEtBQ3JCMUYsU0FLRyxJQUhTMkYsRUFBVi9KLFNBQUFDLGNBQUEsWUFrQ0MrRyxLQUFLQyxNQUFNeUMsYUFBYUMsUUFBUSwrQkFsQm5DSSxFQUFNUCxVQVJSSyxFQUFBQSxVQUFrQnpKLElBQUEsa0JBQ2hCSixTQUFrQnFFLGNBQUFBLGlCQUFsQjlCLGlCQUFBLFNBQUEsV0E2QkV3SCxFQUFTNUosVUFBVUcsT0FBTyxrQkEzQjVCRCxZQUFJK0QsV0FDRjdELEVBQUt5SixTQUFtQk4sYUFBTXJGLFFBQVNELDhCQUFmLEtBQXhCLFNBT0osSUFBQTZGLEVBU08sWUFKTzNKLFNBQUFBLEdBQ1JvSixTQUFBQSxLQUFBQSxNQUFhSSxRQUFRLGtDQUN0Qm5LLE9BQUUwQixTQUhILEVBQUFKLEdBTUZ1SSxHQUNEeEosU0FBQUMsY0FBQSxnQkFBQUUsVUFBQUcsT0FBQSx1QkErQkROLFNBQVNDLGNBQWMsbUJBQW1Cc0MsaUJBQWlCLFNBQVMsWUF4QzFEVixTQUFDNUIsU0FBY2lCLEtBQUFDLE1BQUFXLFdBQ3JCMEgsU0FBQUEsS0FBUXJKLE1BQUFBLFFBQVJxSixnQ0FBQUEsUUFBQTdKLE9BQUFvQixRQUFBeUksTUFhRk8sU0FBQUEsY0FBbUIzSixnQkFBSUQsVUFBdkJDLElBQUEseUJBSUVDLFNBQUFBLGNBQVcsMEJBQU1rQyxpQkFBQSxRQUFBMEgsR0FDZkYsU0FBQUEsY0FBQSx1QkFBQXhILGlCQUFBLFFBQUEwSCxHQUVEdEgsTUFBQUMsS0FBRTVDLFNBSEg2QyxpQkFBQSxtQ0FBQUMsS0FBQSxTQUFBQyxHQUZGQSxFQUFBNUMsVUFBQW9CLFNBQUEsZUFIRndCLEVBQUF5RCxnQkF3Q3dCLElBQUkwRCxPQUFPLHlCQUEwQixDQTNCM0RDLE1BQUlsSixFQTZCSm1KLHFCQUFzQixFQTVCeEJDLGFBQU01SSxHQUNKUixjQUFVWSxPQUNWN0IsZ0JBQWNtQixFQUNmbUosWUFIRCxDQWlDSUMsSUFBSyxDQTdCSHZKLGNBQWUsRUFDbkJoQixnQkFBY21CLE1BR08sSUFBQStJLE9BQWpCRCxtQkFBdUIsQ0FDM0JqSixNQUFBQSxFQUNBaEIsYUFBU0MsR0FDVnVLLGNBSEQsRUFtQ0VDLGVBQWdCLEVBOUJsQnpLLHFCQUFBLEVBQ0V5QixXQUFBQSxDQUNBekIsR0FBQUEscUJBRkYwSyxXQUFBLEtBU29CbkosSUFBUzJJLE9BQUEsMkJBQWUsQ0FDeENuSCxNQUFFLEVBQ0hzSCxhQUFBLEdBQ0ZELHFCQUpELEVBS0VPLFdBQU1DLENBQ05ULEdBQUkscUJBQ0pDLFdBQUFBLEtBSWEsQ0FBQSxDQUNYaEcsU0FBS3BFLFNBQUFDLGNBQUEseUJBQ0h1SyxTQUFBQSxTQUFBQSxHQUNBSyxZQUFBQSxXQUZHekcsRUFBQW5FLGNBQUEseUJBQUFFLFVBQUFHLE9BQUEsbUJBRE04RCxFQUFBRyxXQU5iLE9BZUE4RixDQUNBRyxTQUFBQSxTQUhxRHZLLGNBQUEsa0NBSXJEd0ssU0FBQUEsU0FBQUEsR0FDQUwsWUFBQUEsV0FDQU8sRUFBVTFLLGNBQUUseUJBQUFFLFVBQUFHLE9BQUEsbUJBQ1Z5QyxFQUFJd0IsV0FDSm1HLE9BSUosQ0FDRVAsU0FBTW5LLFNBRDBEQyxjQUFBLGdDQUVoRW9LLFNBQUFBLFNBQUFBLEdBQ0FELFlBQUFBLFdBQ0FPLEVBQVUxSyxjQUFFLHlCQUFBRSxVQUFBRyxPQUFBLG1CQUNWeUMsRUFBSXdCLFdBQ0ptRyxPQStCSixDQTNCQXRHLFNBQU0wRyxTQUFjN0ssY0FBQSwyQkFDbEJtRSxTQUFRLFNBQUFBLEdBQ1JDLFlBQVUsV0FDUmhFLEVBQUFBLGNBQWlCLHlCQUFBRixVQUFBRyxPQUFBLG1CQUNmOEQsRUFBQUEsV0FDQUEsT0FMYyxDQVVsQkEsU0FBUXBFLFNBQUVBLGNBQVNDLGtDQUNuQm9FLFNBQVEsU0FBQUQsR0FDTi9ELFlBQUFBLFdBQ0UrRCxFQUFBQSxjQUFTbkUseUJBQVRFLFVBQWdEQSxPQUFVRyxtQkFDMUQ4RCxFQUFBQSxXQUZRLE9BT1pBLENBQ0FDLFNBQVFyRSxTQUFFQyxjQUFBbUUsZ0NBQ1IvRCxTQUFBQSxTQUFBQSxHQUNFK0QsWUFBQUEsV0FDQUEsRUFBQUEsY0FBQSx5QkFBQWpFLFVBQUFHLE9BQUEsbUJBQ0Q4RCxFQUhERyxXQUlELFFBTUdILEtBQUFBLFNBQUFBLEdBQ0FBLElBQUFBLEVBQUFuQyxFQUFBbUMsU0FBU0csRUFBVHRDLEVBQVNzQyxTQUVaSCxHQWxDZ0I3RCxFQW9DbkJ5SixTQUFBNUYsR0FBQSxXQUFBLE9BQUFDLEVBQUFELFNBS01BLE1BQUFBLEtBQUFBLFNBQVNHLGlCQUFULHFCQUFBekIsS0FBQSxTQUFBQyxHQUNEQSxFQUFBUixpQkFIRCxpQkFBQSxTQUFBQyxHQUlETyxFQUFBVixRQUFBLFFBQUFwQyxjQUFBLGlCQUFBOEQsUUFBQWdILFFBQUF2SSxFQUFBc0IsT0FBQTdELGNBQUEsU0FBQStDLFNBR0RvQixFQUFBQSxjQUFVcEUsTUFJTm9FLFNBQUFBLGlCQUFBLHVCQUFBekQsUUFDRHFLLE1BSFMsc0JBQVZoSixNQUFBLFNBQUF3RixHQUFBLE9BQUFBLEVBQUFPLFVBQUEvRixNQUFBLFNBQUE0RSxHQUlEakUsTUFBQUMsS0FBQTVDLFNBQUE2QyxpQkFBQSx3QkFBQUMsS0FBQSxTQUFBQyxHQUdIQSxFQUFBUixpQkFBQSxTQUFBLFNBQUFDLEdBc0JRLElBQU1xQixFQUFRckIsRUFBRWdCLGNBckJiVixFQUFJYixFQUFRSSxRQUFBLFVBQ2IrQixFQUFBQSxFQUFSTCxRQUFBZ0gsUUF3Qk0sR0FBSUEsRUFBUyxDQXRCZjNHLElBQUoyQyxFQUFjSCxFQUFBcUUsUUFBQSxTQUFBbEksR0FBQSxPQUFBQSxFQUFBOEQsTUFBQWtFLEtBQUEsR0FBQWhFLE9BQ1BpRCxFQUFtQm5HLEVBQUFiLE1BQUFvRSxjQUFNL0MsRUFBTlIsRUFBQXhCLFFBQUEsVUFBQXBDLGNBQUEsbUJBQXhCaUwsRUFBQXhFLEVBQUF6RyxjQUFBLHdCQUNEb0gsR0FBQSxFQTJCVzZELElBdkJkQSxFQUFvQnJJLFVBQWlCLElBQ25DLEtBQUFnQixFQUFBYixRQUdHa0IsRUFBQUEsS0FBY21CLFNBQUFBLEdBR25CLElBQUF0QyxFQUFBcUUsY0FBQVEsUUFBQVQsS0F1QmdCRSxHQUFlLEVBdEJsQnhFLEVBQWlCaUYsbUJBQUEsWUFBakJqRixxREFBQUEsT0FBZ0RzRSxFQUFBLCtCQUFBLEdBQWhEdEUsc0NBQUFBLE9BQWdERSxFQUFBMEUsT0FBQSxFQUFBTixFQUFBeEcsUUFBaERrQyxXQUFBQSxPQUFnREUsRUFBQTBFLE9BQUFOLEVBQUF4RyxRQUFoRGtDLGFBRVR3RSxHQUNLOUUsTUFBQUEsS0FBQUEsRUFBMEJNLGlCQUFLLDBCQUFBQyxLQUFBLFNBQUFDLEdBQUEsT0FBQUEsRUFBQVIsaUJBQUEsU0FBQSxXQUMxQnNCLEVBQVFyQixNQUFFZ0IsRUFBQUEsaUJBS2RrRCxFQUFvQnVFLFVBQU8xSixTQUFFLGVBQUFtRixFQUFJRixpQkFJakN6RCxFQUFBUixpQkFBSThFLFNBQWUsV0E0QnJCLElBQU1YLEVBQW1CM0QsRUFBR1YsUUFBUSxVQUFVcEMsY0FBYyx3QkF6QnhEaUwsSUFDRHhFLEVBQUFZLFVBQUEsYUFRRTNFLE1BQUFDLEtBQUE1QyxTQUxENkMsaUJBQUEsaUNBQUFDLEtBQUEsU0FBQUMsR0FBQSxPQUFBQSxFQUFBUixpQkFBQSxVQUFBLFdBaUNWLElBQU00SSxFQUFnQnBJLEVBQUdWLFFBQVEsUUFBUXBDLGNBQWMseUJBekIzQzBDLEVBQUFBLFNBQTBFd0ksRUFBQWhMLFVBQU9vQyxPQUFBQSxvQkFDL0VzQixFQUFBQSxnQkFBY2QsY0FEMERvSSxFQUExRWhMLFVBQUFDLElBQUEsb0JBR0QrSyxFQUFBL0YsYUFBQSxXQUFBLG1CQUlEc0IsTUFBQUEsS0FBQUEsU0FBQUEsaUJBQWlCRiw4QkFBakIxRCxLQUFBLFNBQUFDLEdBQUEsT0FBQUEsRUFBQVIsaUJBQUEsU0FBQSxXQUNEdkMsU0FBQUMsY0FBQSxlQUFBK0MsTUFBQUQsRUFBQWdCLFFBQUFrQixJQUFBLFFBRUosSUFBQW1HLEVBbkNEcEwsU0FBQUMsY0FBQSxvQkFzQ0UsR0FBQW1MLEVBQU0xRSxDQTZCWixJQUFNMkUsRUFBYXJMLFNBQVNDLGNBQWMsNEJBM0JwQ3FMLEVBQUk1RSxTQUFKekcsY0FBc0IsNEJBQ3BCeUcsRUFBQUEsU0FBaUJZLGNBQWpCLDBCQTFDTmlFLEVBQUEsQ0E4Q0RDLFFBL0NELENBQUEsR0FrREZDLE1BQUE1SixTQUFBN0IsU0FBQUMsY0FBQSxtQkFBQThELFFBQUEwSCxRQUM0RUMsRUFBT25KLFNBQUFBLEdBQ2pGSSxNQUFNd0ksS0FBQUEsU0FBYXRJLGlCQUFjLCtCQUFzQkMsS0FBQSxTQUFBQyxHQUFBLE9BQWpDQSxFQUF0QjVDLFVBQUFHLE9BQUEsZ0NBOEJFTixTQUFTQyxjQUFULGdDQUFBQyxPQUF1RHlMLEVBQXZELE9BQXdFeEwsVUFBVUMsSUFBSSw2QkE1QnhGVCxPQUFJb0QsU0FBSixFQUFnQixJQUlkb0ksRUFBQUEsU0FBQUEsR0FDQUEsSUFBQUEsRUFBYy9GLEVBQWF3Ryx1QkFDNUJDLEVBQUE3TCxTQUFBQyxjQUFBLHFCQVRILElBQUE2TCxFQUFBL0gsUUFBQWdJLE9BQUFDLEVBWU1wSixJQUFjQyxFQUFUNEksTUFBMEIsR0FBb0NJLEVBQU90SixTQUM5RXZDLEVBQVNDLFVBQWNHLElBQUEsaUNBRGdENkwsRUFBQW5FLG1CQUFBLGNBQUEsb0VBQUE1SCxPQUFBOEwsRUFBQSxFQUFBLE1BQUE5TCxPQUFBOEwsRUFBQSxFQUFBLFVBQXpFQSxFQUFBVCxFQUFBRSxNQUFBLElBR1FMLEVBQUFBLFNBZ0NBYSxFQUFXbkUsbUJBQW1CLGNBQTlCLG9FQUFBNUgsT0FBaUg4TCxFQUFhLEVBQTlILE1BQUE5TCxPQUFvSThMLEVBQWEsRUFBakosU0E5QkpaLEVBQUFBLFVBQWlCOUssT0FBQSx1Q0FFYmdMLElBQUFBLEVBQWF0TCxRQUFTQyxPQUFjK0wsR0FBMUMsSUFBMENBLEVBQzFDRixFQUFtQjlMLFNBZ0NmQSxTQUFTQyxjQUFjLHNCQUFzQjZILG1CQUFtQixhQUFoRSxvRUFBQTVILE9BQWtKOEwsRUFBYSxFQUEvSixNQUFBOUwsT0FBcUs4TCxFQUFhLEVBQWxMLFNBN0JKQyxFQUFNVixVQUFlakwsT0FBQSxzQ0FDbkJrTCxHQUFTUSxJQURVVCxFQUFBRSxRQUFBUSxFQUFBOUwsVUFBQW9CLFNBQUEsMkJBQUEsQ0FFbkJrSyxJQUFLUyxFQUFvQmpNLFNBQUFBLGlCQUFjLHFCQWdDckNnTSxFQUFXOUwsVUFBVUMsSUFBSSxpQ0E1QjdCdUMsTUFBTStJLEtBQUFBLEdBQUFBLFVBQUFBLEtBQWlCQyxTQUFBQSxFQUFBQSxHQUNyQmhKLEVBQUtzQixVQUFNakUsRUFBUzZDLEVBQXNERSxFQUFBZ0IsUUFBTzVELEtBQUFBLEVBQWlCZ00sT0FvQzlGQyxFQUFZLFNBQUFDLEdBOUJsQixJQUFNQyxFQUFXRCxFQUNUUCxFQUFBQSxNQUFvQmxKLEtBQUdxSixTQUFXTCxpQkFBQUEsMEJBQXhDOUksS0FBQSxTQUFBQyxHQUFBLE9BQUFBLEVBQUF3SixRQVdJTixPQXNCSixJQUFJTyxJQUFJQyxTQUFTQyxNQUFNQyxhQUFhQyxXQUFXQyxNQUFNLEtBQUsvSixLQUFJLFNBQUFDLEdBOUI5RCxJQUFLK0ksRUFBTGdCLGVBQUtoQixFQUFBQSxNQUFvQixLQUF6QixHQUFBLEdBQ0VpQixFQUFjQyxTQUFLekIsS0FDakJNLEdBQVd2TCxJQUFYeUMsTUFJQThJLEdBQUFBLFVBQUFBLE9BQUE3TCxTQUFBQyxjQUFBLHNDQUFBZ0UsWUFNRmpFLEVBQVNDLFNBQUFBLEdBQUFBLElBQWNnTixFQUFkaE4sRUFBY2dOLElBQUFDLEVBQWRqTixFQUFjaU4sTUFBQUMsRUFBZGxOLEVBQWNrTixTQUFzQnJGLEVBQXBDN0gsRUFBb0M2SCxLQUFBQSxFQUFwQzdILEVBQW9DNkgsUUFBQUEsRUFBcEM3SCxFQUFvQzZILFNBQW1CMkUsRUFBdkR4TSxFQUF1RHdNLFNBQWhFVyxFQUFTbk4sRUFBVG1OLFlBQUFDLEVBQVNwTixFQUFUb04sS0FBQUMsRUFBU3JOLEVBQVRxTixPQUFBQyxFQUFTdE4sRUFBVHNOLFFBQUFDLEVBQVN2TixFQUFUdU4sTUFBU3ZOLE1BQUFBLDhCQUFBQSxPQUNFRSxFQUFVRyxrQkFBTyxHQURuQkwsc0ZBQUFBLE9BRTJEc0IsRUFGM0R0Qix3R0FBQUEsT0FNb0J3TixFQUFVM0ssNkJBQWUsR0FON0M3QyxNQUFBQSxPQU02Q3NNLEVBTjdDdE0sNERBQUFBLE9BT1A4SyxFQVBPOUssS0FBQUEsT0FPUHdNLEVBUE94TSxtRUFBQUEsT0FNVHlOLEVBQUE1SyxLQUFBLFNBQUFDLEdBQUEsTUFBQSxxREFBQTdDLE9BSUQ2QyxFQUFBNEssT0FBQSxvQ0FBQSxJQUpDek4sT0FJRDZDLEVBQUE2SyxPQUFBLG9DQUFBLEdBSkMsZ0NBQUExTixPQUlENkMsRUFBQXdKLEtBSkMsb0JBQUFyTSxPQUlENkMsRUFBQThLLFdBSkMscUNBT0pDLEtBQUEsSUFiYTdOLG1HQUFBQSxPQTBDZ0YsQ0FBQyxVQUFXLFdBQVksYUFBYThOLFFBQVFMLEVBQVMvTSxPQUFTLEdBQUcsR0ExQ2xKVixpRUFBQUEsT0FjS29NLEVBZExwTSx3REFBQUEsT0FlWG9OLEVBZldwTixnS0FBQUEsT0FrQlgsSUFBQTRCLFNBQUEwTCxHQUFBLDRCQUFvRSxHQWxCekR0TixzREFBQUEsT0FtQlRxTixFQW5CU3JOLDREQUFBQSxPQW1CVHNOLEVBbkJTdE4sbUhBQUFBLE9Bb0J1QnVOLEVBcEJ2QnZOLGdKQUFBQSxPQXlCZUQsRUFBU0MsbUJBQWMscUJBekJ0Q0Esc0dBK0JjbUwsRUFBQTdJLGlCQUFBLFNBQUEsU0FBQUMsR0FBQUEsRUFBQUMsaUJBQUEySSxFQUFBakwsVUFBQUMsSUFBQSxtQkFBQSxJQUF3Q3NOLEVBQXhDbkMsRUFBQUMsUUFBQUQsRUFBQUMsUUFBQTdLLE9BQUEsR0FBQSxFQUFrRDhMLEVBQWxETCxFQUFrREssMEJBQUFBLE9BQWxEVCxJQUFBVCxFQUFBQyxRQUErRThCLEtBQUFBLEdBQS9FM0ssTUFBQUMsS0FBQTVDLFNBQUE2QyxpQkFBQSxzQkFDSUMsS0FBQSxTQUFBQyxHQU9Kd0ksRUFBQUMsUUFBQXdCLFNBQUFuTCxTQUFBa0IsRUFBQWtCLGFBQWZsQixFQUVDK0ssVUFWYzFOLElBQUEsZ0NBaUMzQmdMLE1BQUFBLEdBQWdCN0ksTUFBQUEsU0FBQUEsR0FBQUEsT0FBQUEsRUFBaEJ3RixVQUFBL0YsTUFBMEMsU0FBQTRFLEdBQ3hDcEUsRUFBRUMsS0FBQUEsU0FBQUEsR0FFRjJJLFNBQUFBLGNBQUEsbUJBQThCdEQsbUJBQTlCLFlBQUFrRyxFQUFBM0gsT0FvQk0yRixJQUFlVCxFQUFhRSxRQWRsQ0YsRUFBYUMsVUFBYVEsSUFBQUEsK0JBZ0J0QlYsRUFBV25MLFVBQVVDLElBQUksZ0NBWHpCMkMsRUFBQTVDLFVBQWlCRyxPQUFBLHlCQUlHK0ssRUFBeEI5SSxpQkFBcUQsU0FBQSxTQUFBQyxHQUNuRG9FLEVBQUFBLGlCQUVDLElBRkQrRSxFQUFBSixFQUFBQyxRQUFBLEdBQUEsRUFrQkl5QyxFQUFXN0IsRUFBUywwQkFBQWxNLE9BQTJCeUwsSUFiakRQLEVBQUFBLFFBQWdCakwsQ0FBQUEsR0FFakI2SyxNQUFBaUQsR0FBQWpNLE1BQUEsU0FBQXdGLEdBQUEsT0FBQUEsRUFBQU8sVUFBQS9GLE1BQUEsU0FBQTRFLEdBZ0JELElBQUlzSCxFQUFZLEdBYmpCdEgsRUFYRDlELEtBQUEsU0FBQXVELEdBY0Y2SCxHQUFBRixFQUFBM0gsTUFFRTdELFNBQUVDLGNBQUYsNEJBQUF0QyxVQUFBRyxPQUFBLCtCQUVBb0wsRUFBaUJDLEdBR2pCLElBQUFKLEdBRUFQLEVBQU1pRCxVQUFlN04sSUFBQSwrQkFDbkJnTCxFQUFhakwsVUFBYkcsT0FBQSwrQkFFQXNHLFNBQUs5RCxjQUFJdUQsbUJBQVFpQixVQUFBNEcsS0FJakJsTyxHQUNBMEwsRUFBQUEsTUFnQkpKLEVBQVcvSSxpQkFBaUIsU0FBUyxTQUFBQyxHQVZqQzRJLEVBQUFBLGlCQUVELElBaEJETyxFQUFBSixFQUFBQyxRQUFBRCxFQUFBQyxRQUFBN0ssT0FBQSxHQUFBLEVBNEJNc04sRUFBVzdCLEVBQVMsMEJBQUFsTSxPQUEyQnlMLElBVG5EVyxFQUFTWCxRQUFBQSxDQUFEQSxHQUVYWCxNQUVEaUQsR0FBQWpNLE1BQUEsU0FBQXdGLEdBQUEsT0FBQUEsRUFBQU8sVUFBQS9GLE1BQUEsU0FBQTRFLEdBVUksSUFBSXNILEVBQVksR0FSbEIxTCxFQUFFQyxLQUFBQSxTQUFBQSxHQUVGeUwsR0FBaUJGLEVBQWdCeEMsTUFLakNSLFNBQU1pRCxjQUFlLDRCQUFHOU4sVUFBQUcsT0FBQSwrQkFBQW9MLEVBQVEzRCxHQUM5QjRELElBQUFKLEVBQUFFLFFBRUE3RSxFQUFTekcsVUFBUUMsSUFBQSwrQkFDZjhOLEVBQVMvTixVQUFJNk4sSUFBQUEsZ0NBSWZ0QyxTQUFBQSxjQUFlQyxtQkFBZnJFLFVBQUE0RyxFQUVBakMsR0FDRWIsRUFBQUEsU0FNRnBMLFNBQUF1QyxpQkFBZ0IsU0FBQSxTQUFBQyxHQUNkOEosSUFBQUEsRUFBUTlKLEVBQUNtSixPQUVaLEdBcEJEOUgsRUFBQTFELFVBQUFvQixTQUFBLG9CQUFBLENBUkYsSUErQkFvSyxFQUFBOUosU0FBQWdDLEVBQUFFLFFBQUFnSSxNQU1Va0MsRUFBVzdCLEVBQVMsMEJBQUFsTSxPQUEyQnlMLElBSnZESixFQUFlQyxRQUFmLENBQUFHLEdBRUFYLE1BQUluSCxHQUFNMUQsTUFBVW9CLFNBQUFBLEdBQUFBLE9BQWhCaUcsRUFBeUJPLFVBQUEvRixNQUFBLFNBQUE0RSxHQUMzQixJQUFNK0UsRUFBVyxHQUdqQkosRUFBQUEsS0FBQUEsU0FBQUEsR0FFQVAsR0FBQWdELEVBQXdCM0gsTUFDdEJxRixFQUFhQyxHQUdYdUMsSUFBYUYsRUFBQUEsT0FDZDNDLEVBRkRsTCxVQUFBRyxPQUFBLCtCQUlBb0wsRUFBQUEsVUFBZUMsSUFBQUEsK0JBS2JQLEVBQWdCakwsVUFBVUMsSUFBSSxnQ0FIWm1MLElBQWhCSSxHQUNGTixFQUFBQSxVQUFXbEwsSUFBVUcsK0JBQ3JCZ0wsRUFBQUEsVUFBV25MLE9BQWMsK0JBQ3pCaUwsRUFBQUEsVUFBZ0JqTCxPQUFjLGlDQUU5QmtMLEVBQUFBLFVBQVdsTCxPQUFjLCtCQUN6Qm1MLEVBQUFBLFVBQVduTCxPQUFVRywrQkFDckI4SyxFQUFBQSxVQUFnQmpMLE9BQVVHLGdDQUcxQmdMLEdBQ0FGLEVBQUFBLEdBR0ZwTCxTQUFJaU0sY0FBWSxtQkFBQTNFLFVBQUE0RyxTQU1uQnZMLE1BQUFDLEtBQUE1QyxTQUFBNkMsaUJBQUEscUJBQUFDLEtBQUEsU0FBQUMsR0FBQSxPQUFBQSxFQUFBUixpQkFBQSxTQUFBLFdBQ0YsSUF2Q0R1QixFQUFBZixFQUFBZ0IsUUFBQUQsT0E2Q0F6QyxTQUFTLENBQ1A0TCxJQUFLak4sU0FBU0MsY0FBVCxnQkFBQUMsT0FBdUM0RCxFQUF2QyxPQUFtREwsd0JBQXdCd0osSUFBTXROLE9BQU9nRSxZQUFjM0QsU0FBU0MsY0FBYyxXQUFXMkQsYUFKakpqQixTQUFXM0MsaUJBSVBpTixNQUFBQSxLQUFHak4sU0FBRUEsaUJBQUEsaUNBQUE4QyxLQUFBLFNBQUFDLEdBQW1EVSxPQUFBQSxFQUFBQSxpQkFBd0J3SixTQUFNdE4sV0FDdEZ3TyxJQUFBQSxFQUFVcEwsRUFBQWdCLFFBQUFxSyxJQUVickwsRUFQbUVWLFFBQUosMkJBQUFwQyxjQUFBLDJDQUFBRSxVQUFBRyxPQUFBLDBDQUFBeUMsRUF4ckMxQzVDLFVBZ3NDcEJDLElBQUEsMENBQ0Z1QyxNQUFNQyxLQUFLNUMsU0FBUzZDLGlCQUFpQixxQkFBQUMsS0FBQSxTQUFBQyxHQUFBLE9BQXJDQSxFQUFzRUQsVUFBSXVMLFdBQ3hFLElBQUFDLEVBQW1CdkssU0FBbkI5RCxjQUFBLCtCQUtBMEMsR0FBZ0UyTCxFQUFPckssaUJBQVAsU0FBQSxXQUFBLElBQWhFc0ssRUFBQUQsRUFBQTNHLFdBQUExSCxjQUFBLFVBTkZxTyxFQUFBM0csV0FBQTFILGNBQUEsVUFBQW1GLGFBQUEsTUFBQW1KLEVBQUFqTCxhQUFBLE9BQUEsZUFRRWdMLEVBQU1BLFVBQXFCdE8sSUFBU0MseUNBSXBDcU8sSUFBQUEsRUFBbUIvTCxTQUFBQSxjQUEwQixvQkFHM0MrTCxHQUFBQSxFQUFBQSxDQUVELElBTERFLEVBQUEsQ0FNRGhELFFBQUEsRUFPR0MsTUFBTyxHQXFDUFQsRUFBS3pJLGlCQUFBLFNBQWdCaU0sU0FBQUEsR0FBZ0NoTSxFQUFBQyxpQkFBQSxJQUFnQlQsRUFBS3lNLEVBQVExSyxRQUFBc0ksTUFIaEZtQyxFQUFhaEQsUUFTVlIsTUFBQSxHQUFBOUssT0FBQW1NLEVBQUEsVUFBQW5NLE9BQUFzTyxFQUFBaEQsVUFBQXhKLE1BQUEsU0FBQXdGLEdBQUEsT0FBQUEsRUFBQU8sVUFBQS9GLE1BQUEsU0FBQTRFLEdBQ0ZBLEVBTkQ5RCxLQUFBLFNBQUE0TCxHQTFDZSxJQUFBQyxFQUFBekIsRUFBQVgsRUFBQXFDLEVBQUF0QixFQUFBdUIsRUFBQUMsRUF5Q2pCOU8sU0FBQUMsY0FBQSwrQkFBQTZILG1CQUFBLGFBekNpQm9GLEdBQUF5QixFQXlDakJELEdBekNpQnhCLE1BQUFYLEVBQUFvQyxFQUFBcEMsS0FBQXFDLEVBQUFELEVBQUFDLEtBQUF0QixFQUFBcUIsRUFBQXJCLE9BQUF1QixFQUFBRixFQUFBRSxTQUFBQyxFQUFBSCxFQUFBRyxJQUFBLHdEQUFBNU8sT0FFYnNPLEVBQUFBLDBGQUFBQSxPQUFldEIsRUFBZnNCLGVBRUovQyxzREFKaUIsdUxBQUF2TCxPQU9HcU0sRUFQSCxnRUFBQXJNLE9BT0cwTyxFQVBILHNDQUFBMU8sT0FPaUMyTyxFQUE5Qiw0Q0FBQUMsRUFBQSxPQUFBLEdBUEgscUZBQUE1TyxPQXNCWSxDQUFBLEVBQUssRUFBQSxFQUFJb04sRUFBQUEsR0FBTHhLLEtBQ3pCLFNBQUFOLEdBQUEsT0FBQUEsR0FBQThLLEVBRUFRLHNGQU9WLHNEQVBVQSxLQUFLLElBekJJLHdFQUFBNU4sT0FpQ3VCMk8sRUFqQ3ZCLHdDQW9EbkJMLEVBQUFoRCxVQUFBZ0QsRUFBQS9DLE9BTlFnRCxFQUFnQm5PLGtCQVlwQnlDLElBQUFBLEVBQUEvQyxTQUFBNkMsaUJBQUEsb0NBRUhrTSxFQUpEcE8sUUFLRGdDLE1BRURDLEtBQUFtTSxHQUFBak0sS0FBQSxTQUFBQyxHQU5TQSxFQUFHNUMsVUFBVW9CLFNBQVMsZUFDekJ3QixFQUFHeUQsZ0JBV043RCxNQUFBQyxLQUFBNUMsU0FBQTZDLGlCQUFBLDRCQUFBQyxLQUFBLFNBQUFDLEdBQ0YsSUFORGlNLEVBQUFqTSxFQUFBOUMsY0FBQSxnQ0FRTWdQLElBQWNELEVBQWRDLFVBQWMxTixTQUFNLGVBQ3hCeU4sRUFBTUUsZ0JBSUo3TyxJQUFBQSxFQUFXLFdBQ1QsSUFBQTZPLEVBQWFBLFNBQWFuTCxjQUExQixvQ0FDQXZELEVBQVVSLFNBQUdrUCxjQUFhalAsNENBRzFCRCxHQUNBQSxZQUFBQSxXQUxBLElBQU00TyxFQUFPTSxFQUFhbkwsUUFBUTZLLEtBTzlCcE8sRUFBSjBPLEVBQVlqUCxjQUFBLGlDQUFBZ0UsVUFFVnpELFNBQUFBLGNBQU9QLDJCQUFzQ2dFLFVBQTdDN0QsSUFBeUQrTyxrQ0FDekQzTyxTQUFBQSxjQUFPUCxnQ0FBNENrUCxVQUFuRFAsRUFDRDVPLFNBQUFDLGNBQUEsZ0NBQUFnRSxVQUFBa0wsRUFFSjNPLElBR0hBLEVBQUFQLGNBQUEsd0JBQUFnRSxVQUFBMkssRUFQUXBPLEVBQU9QLGNBQWMsd0JBQXdCZ0UsVUFBWWtMLEVBQ3pEM08sRUFBT1AsY0FBYyxzQkFBc0IrQyxNQUFRbU0sS0FRekQsSUFLSSxHQUFBblAsU0FBTW9QLGNBQWVwUCxxQkFBQSxDQUNyQixJQUFBcVAsRUFBTUMsU0FBZ0JGLGNBQWFyTCw0Q0FDbkN3TCxFQUFnQnZQLFNBQUdBLGNBQVNDLDRDQUU1Qm9QLEdBQ0VELEVBQUFBLGlCQUF1QjlPLFNBQU8sV0FDOUJrUCxJQUFBQSxFQUFXclAsU0FBY0YsY0FBQSxvQ0FDekJELEdBQVNDLEVBQWM4RCxRQUFBMEwsTUFDdkJ6UCxFQUFTQyxTQUFjQSxjQUFkQSx3Q0FBQUEsT0FBK0R1UCxFQUFtQkUsRUFBbEZ6UCxPQUVUdVAsSUFDRUgsRUFBQUEsVUFBWWxQLE9BQWMsbUNBQzNCcVAsRUFBQXJQLFVBQUFDLElBQUEsbUNBQ0ZKLFNBQUFDLGNBQUEsNENBQUFFLFVBQUFHLE9BQUEsK0NBZEhOLFNBQUFDLGNBQUEscUNBQUFnRSxVQUFBdUwsRUFBQXpMLFFBQUEyTCxNQVdRRixFQUFXekwsUUFBUTRMLE9BT3pCSixFQUFhcFAsVUFBQUMsSUFBQSxtREFNYm1QLEdBQ0VILEVBQUFBLGlCQUF1QjlPLFNBQU8sV0FDOUJzUCxJQUFBQSxFQUFXelAsU0FBY0YsY0FBQSxvQ0FDekJELEdBQVNDLEVBQWM4RCxRQUFBMEwsTUFDdkJ6UCxFQUFTQyxTQUFjQSxjQUFkQSx3Q0FBQUEsT0FBK0QyUCxFQUFtQkYsRUFBbEZ6UCxPQUVUMlAsSUFDRUwsRUFBQUEsVUFBWXBQLE9BQWMsbUNBQzNCeVAsRUFBQXpQLFVBQUFDLElBQUEsbUNBQ0ZKLFNBQUFDLGNBQUEsNENBQUFFLFVBQUFHLE9BQUEsK0NBZEhOLFNBQUFDLGNBQUEscUNBQUFnRSxVQUFBMkwsRUFBQTdMLFFBQUEyTCxNQW1CSkUsRUFBQTdMLFFBQUE4TCxNQVBVTixFQUFZcFAsVUFBVUMsSUFBSSxtREFhOUI4TyxNQUFBQSxLQUFBQSxTQUFBQSxpQkFBdUI1Tyw0QkFBT3dDLEtBQUEsU0FBQUMsR0FBQSxPQUE5QkEsRUFBQVIsaUJBQUEsU0FBQSxTQUFBQyxHQUNELElBQUFBLEVBQUFzQixPQUFBekIsUUFBQSwyQkFBQSxDQUpELElBQU02TSxFQUFlbFAsU0FBU0MsY0FBYyxvQ0FPNUNnUCxHQUNEQyxFQUFBL08sVUFBQUcsT0FBQSxtQ0FGQ3lDLEVBQUc1QyxVQUFVQyxJQUFJLG1DQU1yQnVDLFdBR0FBLE1BQU1tTixLQUFBQSxTQUFBQSxpQkFBOEI5UCxzREFBcEM4QyxLQUFBLFNBQUFDLEdBQUEsT0FBQUEsRUFBQVIsaUJBQUEsUUFBQTBNLE1BQ0EsSUFBTWMsRUFBaUIvUCxTQUFTQyxjQUFjLGVBQ3hDK1AsRUFBYWhRLFNBQUdBLGNBQVNDLGdCQUN6QmdRLEVBQUFBLE1BQXlCalEsS0FBQUEsU0FBU0MsaUJBQWMsZUFDaERpUSxFQUFpQmxRLFNBQUdBLGNBQVNDLHVCQUM3QmtRLEVBQWNuUSxTQUFTQyxjQUFjLGlCQUNyQ21RLEVBQXFCcFEsU0FBU0MsY0FBYywyQkFDNUNvUSxFQUFBQSxTQUEwQnJRLGNBQVNDLHVCQUNyQ3FRLEVBQVl0USxTQUVoQkMsY0FBQSwyQkFKTW1RLEVBQXFCcFEsU0FBU0MsY0FBYyxrQkFLNUNzUSxFQUFzQmpMLFNBQU1yRixjQUVsQyx1REFMSXFRLEVBQWUsRUFRZkYsRUFBa0IsSUFBQ2pRLE1BQW5CLGNBR0VILEVBQWNtQixTQUFBQSxHQUVkeEIsU0FBTzBCLGNBQVlpUCwyQkFDcEJGLEVBQUFqUSxVQUFBRyxPQUFBLHdCQVJMWCxPQUFBNlEsV0FBQSxNQUFBQyxJQUtNelEsU0FBU2tCLEtBQUtDLE1BQU1DLFFBQVUsa0NBUWxDc1AsT0FBQUEsU0FBWWxLLEVBQUFBLE1BS1owSixHQUNBQSxFQUFBQSxhQUlBLElBQUFTLEVBQTBCLFdBQzFCQyxFQUFBQSxNQUFxQkMsT0FBckIsTUFDRFgsRUFFRC9PLE1BQUEyUCxPQUFBWixFQUFBYSxhQUFBLEVBQUEsTUFDSWhCLEVBQWdCLFdBQ2xCLElBQUlhLEVBQVlsSCxFQUFxQnpKLGNBQUEsd0JBQ25DOFAsRUFBZTVQLFVBQWN5USxFQUFBRyxjQUs1QmhCLElBTkgvSSxLQU9PQyxNQUFBeUMsYUFBQUMsUUFBQSxxQ0FDTG9HLEVBQWV6UCxVQUFmeVAsRUFBQUEsVUFBQTNQLElBQUEsNkJBSUpKLFNBQUFDLGNBQUEsNkJBQUFzQyxpQkFBQSxTQUFBLFdBQ0F3TixFQUFBelAsU0FDQW9KLGFBQUFJLFFBQUEsb0NBQUEsUUFhTTlKLEdBQ0ErQyxFQUFHNUMsS0FBVUMsU0FBQUEsR0FBQUEsT0FBSTJDLEVBQUFSLGlCQUFqQixTQUFBLFNBQUFDLEdBUkZPLEVBQUc5QyxjQUFjLHlCQUF5QmtCLE1BQVEsR0FVaEQ0QixFQUFBOUMsY0FBT0Esc0JBQWNrQixNQUFBLElBTmxCeEIsT0FBTzZRLFdBQWEsTUFBUXpOLEVBQUc1QyxVQUFVb0IsU0FBUyx1QkFBMEJpQixFQUFFc0IsT0FBT3pCLFFBQVEseUJBVWhHckMsRUFBU0MsVUFBY0csSUFBQSxxQkFFeEJKLFNBQUFDLGNBQUEsc0JBQUFFLFVBQUFHLE9BQUEscUJBQ0Z5QyxFQWxCc0I1QyxVQUFBQyxJQUFBLHFCQXFCekIyQyxFQUFBOUMsY0FBQSx3QkFUUThDLEVBQUc5QyxjQUFjLHVCQUF1QkssU0FXOUM0UCxTQUFBQSxjQUFrQjNOLHFCQUEwQm9PLE1BQUFBLGdCQUE1QzVOLEVBQUE5QyxjQUFBLHFCQUFBa0IsTUFBQTZQLGdCQUdGaFIsU0FBQUMsY0FBQSxvQkFBQWdFLFVBQUFsQixFQUFBOUMsY0FBQSxvQkFBQWdFLGlCQUlJZ04sR0FDRGYsRUFGRDNOLGlCQUFBLFFBQUFvTyxHQU9GWCxJQUNFQSxFQUFBeEosYUFDQTJKLEVBQVk1TixjQUFBQSx3QkFBK0JBLGlCQUFNLFVBQUEsV0FDL0MwTyxPQUdFZixLQU5GQyxJQVlFQSxFQUFNZSxpQkFBZSxjQUFBLFdBRTJDQyxJQUFBQSxFQUFNakIsRUFBUGxOLE1BQUEsR0FGMUMsSUFFMENvTyxFQUFzQ0MsUUFBWUMsTUFGNUYsSUFBQTNRLE9BT3RCLE9BRkNzUCxFQUFBQSxTQUVLLEVBR0xFLEdBQTZCLFNBQTdCQSxFQUFZcE0sUUFBUXdOLE9BQXBCLENBQ0QsSUFBQUwsRUFBQSw0REFBQWhSLFFBQUFGLFNBQUFDLGNBQUEsNkJBQUE4RCxRQUFBakUsR0FBQSxFQUFBLDhDQUFBSSxPQVZtQ2tSLEVBVW5DLGdEQUFBbFIsT0FFRHNSLEtBQUFDLGVBQUEsUUFBQSxDQUFBTixLQUFBLFVBQUFPLE9BQUEsWUFBQUwsT0FBQU0sS0FBQUwsT0FGQyxzQkFyQkhyQixFQTRCQW5JLG1CQUFBLFlBQUFvSixHQVpJVSxRQWFtQyxTQUE1QnpCLEVBQUM1TixRQUFpQmdQLFNBQzNCL08sU0FBRUMsY0FBRkQsMkJBQUFBLE9BQUEyTixFQUFBcE0sUUFBQWpFLEdBQUEwQywyQkFBQXlCLFVBQUFtTixFQUVBakIsRUFBWWpNLFVBQUFBLE9BQWNxTSxnQ0FINUJKLEVBQUFwTSxRQUFBd04sT0FBQSxRQU5FckIsRUFBa0JsTixNQUFRLEdBZTFCa04sRUFBZ0I1TixRQUNkRSxPQUlMMk4sRUFFRDVOLGlCQUFBLFVBQUEsU0FBQUMsR0FmSUEsRUFBRUMsaUJBZ0JOekMsRUFBU3VDLGNBQWlCZ08sTUFHeEJKLEVBQVVoUSxpQkFBVW9CLFlBQVMsU0FBQWlCLEdBSTNCNE4sTUFIZTVOLEVBQUdxQixRQUFNOEQsRUFBQUEsUUFBVzVELEVBQWpCOE4sUUFHQzFRLEVBQUFBLFdBRW5Ca1AsRUFBQUEsaUJBQ0FGLEVBQVlwTSxjQUFhK04sUUFNMUI5UixTQWJEdUMsaUJBYU8sU0FBQSxTQUFBQyxHQUNMeU8sSUFBQUEsRUFBQUEsRUFBQUEsT0FFSCxHQUVEcE4sRUFBQTFELFVBQUFvQixTQUFBLHVCQUFBc0MsRUFBQXhCLFFBQUEseUJBQUEsQ0FqQkksSUFBTXlQLEVBQVlqTyxFQUFNOEQsV0FBVzVELFFBQVFqRSxHQW1CN0N1USxFQUFBQSxVQUF3QjlOLElBQUFBLHdCQUN0QnZDLEVBQVNDLE1BQVRtQixRQUFBcEIsU0FBQUEsT0FBQXdDLEVBQUF1UCxRQUFBLEdBQUEvUixhQUFBQSxPQUFrRHFRLEVBQUFBLFFBQUFBLFFBQWdDdlEsR0FBbEZFLE9BSUpxUSxFQUFBdE0sUUFBQWpFLEdBQUFnUyxFQWxCSTNCLEVBQVlwTSxRQUFRakUsR0FBS2dTLEVBbUJ6QjlSLE9BQVNDLFdBQVQsTUFDRkQsRUFBU0MsT0FBY2MsUUFDckJmLFNBQU1nUyxLQUFBQSxNQUFBQSxRQUFOLGdDQUFBOVIsUUFBNEJQLE9BQUFvQixRQUE1QixZQUlBbVAsRUFBQUEsRUFBa0I1TixRQUFsQiw4QkFPSitOLEdBbkJFQSxFQUF3QjlOLGlCQUFpQixTQUFTLFdBQ2hEdkMsU0FBU0MsY0FBVCwyQkFBQUMsT0FBa0RtUSxFQUF3QnRNLFFBQVFqRSxHQUFsRixPQUEwRlEsWUF1QjFGNFAsU0FBQUEsY0FBa0I1Tiw0Q0FDbEI0TixTQUFBQSxjQUFrQmxOLDJDQUFsQlQsaUJBQUEsU0FBQSxXQUNBb08sSUFBQUEsRUFBb0IzUSxTQUFBQyxjQUFBLDJCQUFBQyxPQUFBaVEsRUFBQXBNLFFBQUFqRSxHQUFBLDJCQUFBbUUsVUFJeEJrTSxFQUFBaFEsVUFBQUMsSUFBQSxnQ0FuQkkrUCxFQUFZcE0sUUFBUXdOLE9BQVMsT0FDN0JyQixFQUFrQjVOLFFBbUJ0QjROLEVBQXNCbE4sTUFBR2dQLEVBQ3ZCMUosU0FBT3JJLGNBRGdCLG9CQUFBZ0UsVUFBQStOLEVBRXZCQyxPQUtBbkMsU0FBQUEsY0FBcUIsdUJBQ25COVAsU0FBTWtTLGNBQUFBLHNCQUFxQjNQLGlCQUFpQixTQUE1QyxXQUNBNE4sRUFBTWdDLFVBQWU3UixPQUFNTCxnQ0FFM0I4QyxFQUFHUixRQUFBQSxPQUFpQixPQUNsQnVOLEVBQUFBLFFBQ0VJLEVBQVFsTixNQUFTLEdBQ2ZxRCxPQU1KOEwsSUFBQUEsRUFBZ0JoUixDQUVoQmlSLE1BQUFBLEtBQ0RILElBWkQsS0FjQWxQLEtBQUUsTUFJQXFQLEdBQ0FBLEVBQUFBLEtBQUFBLFNBQUFBLEdBdEJGLElBQU1GLEVBQXFCblAsRUFBRzlDLGNBQWMseUJBeUIxQ2tTLEVBQW9CcFAsRUFBRzlDLGNBQUssc0JBRTFCa1MsRUFBQUEsaUJBQUFBLGNBQXNCRSxTQUFBQSxHQUN2QnZDLEVBQUFoTixLQUFBLFNBQUF1RCxHQUNBQSxJQVpIdEQsSUFjR1IsRUFBQUEsY0FBaUIseUJBQWlCcEIsTUFBQWtSLFVBQUEsZ0JBQ2pDbk0sRUFBQUEsY0FBRixzQkFBQS9FLE1BQUFrUixVQUFBLG9CQVdESCxFQVpEL1EsTUFBQW1SLFdBQUEsT0FoQ0ZILEVBQUFoUixNQUFBbVIsV0FBQSxPQWVJRixFQUFpQjlKLE1BQVE5RixFQUFFK1AsUUFBUSxHQUFHUixXQUNyQyxHQUVIaFAsRUFBR1IsaUJBQWlCLGFBQWEsU0FBQUMsR0FpQy9CZ1EsSUFBQUEsRUFBa0JoUSxFQUFBK1AsUUFBQSxHQUFBUixRQUNkVSxFQUFFelMsRUFBQXNJLE1BQXVCb0ssRUFFL0JyUyxFQUFXNFIsSUFBTVMsRUFDZnRPLEVBQVNuRSxLQUFUd1MsRUFHSEEsRUFBQSxHQUFBQSxFQUFBLE1BRUhQLEVBQUEvUSxNQUFBa1IsVUFBQSxlQUFBblMsT0FBQXVTLEVBQUEsT0FDRXJPLEVBQW1CbkUsTUFBQUEsVUFBbkJtRSxlQUFBQSxPQUFpQ3FPLEVBQWpDck8sV0FFRS9ELEdBRUVSLEVBQUFBLGlCQUFnQixZQUFoQixTQUFBMkMsR0FDREEsRUFIUzBELGtCQUlYLElBQUF5TSxFQUFBUCxFQUFBSyxLQUFBLEdBQUEsR0FBQSxJQUdEck8sRUFBbUJuRSxNQUFBQSxRQUFuQm1FLDRFQUFBQSxPQUVtQnVPLEVBRm5Cdk8sZ0JBSUl2RSxFQUFBQSxNQUFpQnVCLFFBQWpCdkIsNEVBQUFBLE9BRUg4UyxFQUZHOVMsbUJBS0p1RSxNQUlJdkUsSUFBQUEsRUFBQUEsS0FJTixDQUFBLENBQ0V1RSxTQUFRcEUsU0FBRUEsY0FBU0MsNEJBQ25Cb0UsU0FBUSxTQUFBRCxHQUNOL0QsWUFBQUEsV0FDRStELEVBQUFBLGNBQVNuRSx5QkFBVEUsVUFBZ0RBLE9BQVVHLG1CQUMxRFQsRUFBQUEsYUFGUSxPQU9adUUsQ0FDQUMsU0FBUXJFLFNBQUVDLGNBQUFtRSxrQ0FDUi9ELFNBQUFBLFNBQUFBLEdBQ0UrRCxZQUFBQSxXQUNBdkUsRUFBQUEsY0FBaUIseUJBQWpCTSxVQUFBRyxPQUFBLG1CQUNEVCxFQUhELGFBSUQsT0FJRHdFLENBQ0VoRSxTQUFBQSxTQUFXSixjQUFNLGdDQUNmb0UsU0FBTXVPLFNBQUFBLEdBQ052UyxZQUFNdUcsV0FDSmlNLEVBQUdoUixjQUFTK1EseUJBRER6UyxVQUFBRyxPQUFBLG1CQUVYb0QsRUFBWWtQLGFBQ1pyTixPQUdGdU4sQ0FFQTFPLFNBQUFBLFNBQVNuRSxjQUFjLDRCQUN2QkosU0FBQUEsU0FBQUEsR0FDRFEsWUFaRCxXQWFEK0QsRUFBQW5FLGNBQUEseUJBQUFFLFVBQUFHLE9BQUEsbUJBR0hULEVBQUEsYUF4Q08sT0EwQ0wsQ0F0Q0F1RSxTQUFVcEUsU0FBU0MsY0FBYyxvQ0F3Q2pDb0UsU0FBSUQsU0FBQUEsR0FDRjdELFlBQUt5SixXQUFtQjVGLEVBQU1DLGNBQVNELHlCQUFmakUsVUFBQUcsT0FBQSxtQkFBQVQsRUFBeEIsYUFDRCxPQUlIOEMsQ0FBZ0V5QixTQUFJckIsU0FBR1IsY0FBaUIsNEJBQ3RGOEIsU0FBTUQsU0FBQUEsR0FDTi9ELFlBQU0wUyxXQUNOM08sRUFBTTRPLGNBQWlCRCx5QkFBZTlTLFVBQWNLLE9BQUEsbUJBRXBEcUMsRUFBV29RLGFBQ1QsT0FJQyxDQUVEcFEsU0FBQUEsU0FBV29RLGNBQWVsUSx5QkFBOEN3QixTQUFBLFNBQUFELEdBQUEvRCxZQUF4RSxXQUNBc0MsSUFBQUEsRUFBV29RLEVBQWVsUSxVQUFrRCtELEVBQU0sQ0FBTmlNLEVBQTVFaFIsU0FBQStRLEVBQUFDLEdBRUFJLEVBQUFBLFNBQU05UyxFQUFVRyxHQUNoQjJTLE1BQU1oVCxTQUFBQSxFQUFjc0YsT0FDcEIwTixPQUFNaFQsU0FBQUEsRUFBYzZRLFNBRXJCZ0MsRUFkREksUUFBQTdRLFFBQUEsaUJBQUFwQyxjQUFBLCtCQUFBK0MsTUFBQWdFLEtBQUFtTSxVQUFBdk0sR0FyQkl4QyxFQUFTbkUsY0FBYyx5QkFBeUJFLFVBQVVHLE9BQU8sbUJBdUNyRVQsRUFBSW1ULGFBQ0ZBLFFBTUl2TyxLQUFBQSxTQUFBQSxHQUNELElBQUFMLEVBQUFuQyxFQUFBbUMsU0FBQUMsRUFBQXBDLEVBQUFvQyxTQUlIMUIsR0FBMEZwQyxFQUFBeUosU0FBSWpILEdBQUdSLFdBQUFBLE9BQUFBLEVBQWlCNkIsU0FBeEJ6QixNQUFBQyxLQUExRjVDLFNBQUE2QyxpQkFBQSxxQkFBQUMsS0FBQSxTQUFBQyxHQUFBLE9BQUFBLEVBQUFSLGlCQUFBLFNBQUEsV0FNRCxJQUFBNkIsRUFBQXJCLEVBQUE0RSxXQUFBMUgsY0FBQSxpQkF6QzZEOFMsRUFBQTNPLEVBQUFnUCxXQUFBLEdBNENoRUosRUFBQUQsRUFBQTlTLGNBQUEsbUJBQ0EwQyxNQUFNMFEsS0FBQUEsRUFBY3hRLGlCQUFBcUsseUJBQVNwSyxLQUFBLFNBQUFDLEdBQzNCK1AsSUFBQUEsRUFBWS9QLEVBQUdWLFFBQUlpUixtQkFFakJDLE1BQUFBLEtBQUFBLEVBQVdDLFVBRnFCMVEsS0FBQSxTQUFBdUQsR0FHaENvTixFQUFBQSxzQkFIZ0MsWUFBQXBOLE1BTWhDcU4sTUFBQUEsS0FBU1gsRUFOdUJsUSxpQkFBQSx1QkFBQUMsS0FBQSxTQUFBQyxHQUFBLE9BQUFBLEVBQUFDLE1BQUEsTUFPaEMyUSxNQUFBQSxLQUFBQSxFQUFtQmhVLGlCQUFvQiwyQkFQUG1ELEtBQUEsU0FBQUMsR0FBQSxPQUFBQSxFQUFBTSxTQUFBLEtBU2hDdVEsRUFBQUEsVUFBQUEsT0FUZ0MsYUFBQSxzQkFVaENDLEVBQUFBLGNBQWtCLHFCQVZjdlQsU0FXaEN3VCxFQUFBQSxjQUFlelIsc0JBQXlCcEMsU0FYUmdULEVBQWxDek0sZ0JBZUZwQyxFQUFNMlAsV0FBZUMsc0JBQVkvVCxZQUFjOFMsR0FDM0NnQixJQUNGQSxFQUFleFIsaUJBQWYsU0FBaUMsV0FDL0IsSUFBTTBSLEVBQWNqQixFQUFHZSxjQUFnQjlULG1CQUV2QytTLEVBQUlpQixRQUFnQixVQUFBaFUsY0FBQSxvQkFBQWtCLE1BQUFvRSxNQUFBeU4sRUFBQTNRLFFBQUEsVUFBQW9CLHdCQUFBOEIsTUFBQSxLQUVuQmQsRUFBQXRFLFVBQUFvQixTQUFBLGVBTEhrRCxFQUFBK0IsZ0JBNUJFN0QsTUFBTUMsS0FBS29RLEVBQWVuUSxpQkFBaUIseUNBQXlDQyxLQUFJLFNBQUFDLEdBQUUsT0FBSUEsRUFBR1IsaUJBQWlCLFNBQVMsV0F3QzNIMlIsSUFBQUEsRUFBQUEsRUFBSmpRLFVBRUlsQixFQUFBVixRQUFhRyxVQUFTMlIsY0FBdEIsU0FBQW5SLE1BQUFBLEVBQ0FELEVBQUFWLFFBQVksVUFBTytSLFVBQW5COVQsT0FBQSw2QkFqQ0osSUFBTStTLEVBQWMsU0FBQW5HLEdBd0NkNEYsRUFBSXVCLElBQVFmLFFBQUtnQixFQUFBQSxDQUNmQyxTQUFJRixFQUNGQSxZQUFBQSxFQUNEWixVQUFBLEVBdENMZSxRQUFRLEVBd0NKRixRQUFBQSxFQUNBQSxXQUFBQSxFQUNBQSxrQkFBQUEsT0FBb0I5RCxXQUFDdlEsSUFBYyxJQUFBLElBQ3BDd1UsYUFBQSxFQXRDSGIsZ0JBQWlCLElBd0NmQyxpQkFBTWEsSUFFTnJCLFFBQUFBLEVBQVdoUixRQUFDcVMsaUJBQVp6VSxjQUFBLHdCQXJCSjhULEVBQUEvVCxTQUFBQyxjQUFBLHNDQTJCRjhULEdBeENFQSxFQUFnQnhSLGlCQUFpQixhQUFhLFdBQzVDLElBQU0wUixFQUFpQkYsRUFBZ0I5VCxjQUFjLHNDQXdDb0JnVSxHQUMzRVosRUFBWVksTUFoQ2QsSUFBTUMsRUFBbUJsVSxTQUFTQyxjQUFjLG1CQXdDZWlVLEdBQzdEblIsRUFBV1IsaUJBQUEsVUFBMEJwQixTQUFBQSxHQUNyQ25CLElBQUFBLEVBQVNDLEVBQUFBLE9BQUFBLE1BQWMsR0FDbkJOLEVBQU82USxJQUFBQSxXQUhibUUsRUFNQUMsVUFBQSxXQXRDTSxJQUFNMUgsRUFBUXlILEVBQU9FLE9BdUN2QjdVLEVBQVNDLFNBQWNBLGNBQUEsc0JBQ25CMkMsRUFBY0MsRUFBaUJSLFFBQUEsa0JBQ25DZ1MsR0FBTVMsRUFBOEI3VSxjQUFBLHdDQUM5QjhVLEdBRU5ELEVBQUFBLFNBSkZSLEVBQUFyVSxjQUFBLHFCQUFBa0IsTUFBQTZQLGdCQUFBLE9BQUE5USxPQUFBZ04sRUFBQSxLQVFBdkssRUFBb0JFLGNBQWlCLHVCQUFBdkMsU0FBbURnVSxFQUFPL1IsY0FBMEIsMkJBQU11RixtQkFBQSxhQUF2Qyx3Q0FBQTVILE9BQXVDZ04sRUFBdkMsZUFJdEY0SCxJQUFBQSxFQUFpQjNULEVBQWpCbEIsY0FBQSx1QkFFRG9ULEVBTnVGcUIsSUFPekZDLEVBQUFLLGNBQUFDLE1BS0N0UyxNQUFBQyxLQUFJc1MsU0FBQUEsaUJBQWUsa0NBQUFwUyxLQUFBLFNBQUFDLEdBQUEsT0FBQUEsRUFBQVIsaUJBQUEsU0FBQSxXQUNqQixJQUFBdUIsRUFBYW9SLEVBQUFBLFFBQUFBLFNBR2JsVixTQUFBQSxjQUFTQyx3QkFBY2tCLE1BQUFZLFFBQUEsT0FDdkIvQixTQUFBQSxjQUFBQSwwQkFBQUEsT0FBdUI4RCxFQUF2QjlELE9BQXlEc0gsTUFBQUEsUUFBekQsUUFFQXRILE9BQUFBLFdBQVNDLE1BQWNOLE9BQUEwQixTQUFBLEVBQUEsU0FHdEJzQixNQUFBQyxLQUFBNUMsU0FBQTZDLGlCQUFBLG9CQUFBQyxLQUFBLFNBQUFDLEdBQUEsT0FBQUEsRUFBQVIsaUJBQUEsU0FBQSxXQUNGUSxFQVhEVixRQVdPLDBCQUFBbEIsTUFBQVksUUFBQSxPQUNML0IsU0FBQUEsY0FBU0Msd0JBQWNrQixNQUFBWSxRQUE4QjVCLFFBQ3REUixPQUFBNlEsV0FBQSxNQUFBN1EsT0FBQTBCLFNBQUEsRUFBQSxTQUlIckIsU0FBUzZDLGNBQVQseUJBQXVFRixNQUFBQyxLQUFNNUMsU0FBQ3VDLGlCQUFILDZDQUFvQ08sS0FBQSxTQUFBQyxHQUFBLE9BQUFBLEVBQUFSLGlCQUFBLFNBQUEsV0FDN0csSUFBTVMsRUFBTkQsRUFBQVYsUUFBQSwwQkFDTThTLEVBQVdDLFNBQWNuVixFQUFjOEQsUUFBQXNSLGdCQUc3Q3JWLEVBQVNDLE1BQUFBLFFBQVQsT0FFQUQsU0FBQUEsY0FBQUEsMEJBQUFBLE9BQXVCK1UsRUFBQSxFQUF2Qi9VLE9BQXVCbUIsTUFBQVksUUFBOER1RixjQUduRnRILE1BQUFBLEtBQUFBLFNBQVNDLGlCQUFjLDZDQUF2QjZDLEtBQUEsU0FBQUMsR0FBQSxPQUFBQSxFQUFBUixpQkFBQSxTQUFBLFdBQ0QsSUFBQXVTLEVBQUEvUixFQUFBVixRQUFBLDBCQXRDTzBTLEVBQW9CbFQsU0FBU2lULEVBQWlCL1EsUUFBUXNSLGdCQXlDL0RQLEVBZHNFM1QsTUFBQVksUUFBQSxPQUF2RS9CLFNBZ0JBQyxjQWhCQSwwQkFBQUMsT0FnQkE2VSxFQUFBLEVBaEJBLE9BZ0JBNVQsTUFBQVksUUFBQSxlQUN1RSxJQUV2RXVULEVBQUEsV0F0Q0UsSUFBTUosRUFBZ0JsVixTQUFTQyxjQUFjLG1EQXdDN0NvQixHQUFBQSxFQUFTLENBQ1A0TCxJQUFHc0ksRUFBRXZWLEVBQVNDLGNBQWNBLGNBQUEsZ0JBQStCd0QsVUFBQUEsTUFBd0J3SixVQUFZLEdBQUN0SixPQUNoR3dLLEVBQVUrRyxFQUFBbFMsTUFBQTRKLFdBQUE0SSxRQUFBLHdCQUFBLEtBQUEsV0FIZHhWLFNBQUFDLGNBQUEsMkRBQUFnRSxVQUFBc1IsRUF6M0RBdlYsU0FBQUMsY0FBQSxrQ0FBQXFILFVBQUFtTyxFQTIxREl6VixTQUFTQyxjQUFjLDhCQUE4QkUsVUFBVUcsT0FBTyxxQ0FDbEVOLFNBQVNDLGNBQWMsNkJBQ3pCRCxTQUFTQyxjQUFjLDJCQUEyQnFILFVBQVltTyxRQUdoRXpWLFNBQVNDLGNBQWMsOEJBQThCRSxVQUFVQyxJQUFJLHNDQUt2RUosU0FBUzZDLGlCQUFpQixtQ0FBbUNtRyxTQUFRLFNBQUFqRyxHQUFFLE9BQUlBLEVBQUdSLGlCQUFpQixVQUFVLFdBQ3ZHLElBQU1TLEVBQVFELEVBQUdDLE1BQ1htUyxFQUFRcFMsRUFBR3FTLGNBQWNuVixjQUFjLCtCQUErQmdFLFVBRTVFakUsU0FBU0MsY0FBYyxxQ0FBcUNFLFVBQVVHLE9BQU8sb0NBQzdFTixTQUFTQyxjQUFULHlDQUFBQyxPQUFnRThDLEVBQWhFLE9BQTJFN0MsVUFBVUMsSUFBSSxvQ0FFekZKLFNBQVNDLGNBQWMsOERBQThEcUgsVUFBWSxVQUFZNk4sRUFBUSxVQUVqSG5WLFNBQVNDLGNBQWMsNkJBQ3pCRCxTQUFTQyxjQUFjLDJCQUEyQmdFLFVBQVlrUixHQUdoRUcsVUFJRnRWLFNBQVM2QyxpQkFBaUIsbUNBQW1DbUcsU0FBUSxTQUFBakcsR0FBRSxPQUFJQSxFQUFHUixpQkFBaUIsU0FBVStTLE1BR3pHdFYsU0FBU0MsY0FBYywyQkFBMkJzQyxpQkFBaUIsU0FBUyxXQUMxRWxCLFNBQVMsQ0FDUDRMLElBQUtqTixTQUFTQyxjQUFjLCtCQUErQndELHdCQUF3QndKLElBQU10TixPQUFPZ0UsWUFBYzNELFNBQVNDLGNBQWMsV0FBVzJELGFBQWUsR0FDL0p1SyxTQUFVIiwiZmlsZSI6ImNvbW1vbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cub25sb2FkID0gKCkgPT4ge1xuXG4gIGNvbnN0IHNob3dOb3RpZmljYXRpb24gPSBpZCA9PiB7XG4gIGNvbnN0ICRub3RpZmljYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuaGVhZGVyLW5vdGlmaWNhdGlvbltkYXRhLW5vdGlmaWNhdGlvbj1cIiR7aWR9XCJdYCk7XG4gICRub3RpZmljYXRpb24uY2xhc3NMaXN0LmFkZCgnaGVhZGVyLW5vdGlmaWNhdGlvbi0tYWN0aXZlJyk7XG4gIFxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAkbm90aWZpY2F0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hlYWRlci1ub3RpZmljYXRpb24tLWFjdGl2ZScpO1xuICB9LCA0MDAwKTtcbn07XG4gIC8vINCe0LHRitC10LrRgiDQs9C70L7QsdCw0LvRjNC90L7Qs9C+IEFQSVxuY29uc3QgJGFwaSA9IHt9O1xuXG4vLyBBUEkg0LTQu9GPINGA0LDQsdC+0YLRiyDRgSDQv9C+0L/QsNC/0LDQvNC4XG4kYXBpLnBvcHVwID0gKCRwb3B1cCwgeyBvbkhpZGUsIG9uU2hvdyB9ID0ge30pID0+IHtcbiAgLy8g0J7RgtC60LvRjtGH0LDQtdGCINCy0L7Qt9C80L7QttC90L7RgdGC0Ywg0YHQutGA0L7Qu9C70LjRgtGMINGB0YLRgNCw0L3QuNGG0YNcbiAgY29uc3QgaGlkZU92ZXJmbG93ID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3NzVGV4dCA9IGBwb3NpdGlvbjogZml4ZWQ7IG1hcmdpbi10b3A6ICR7LXdpbmRvdy5zY3JvbGxZfXB4YDtcbiAgfTtcbiAgXG4gIC8vINCS0LrQu9GO0YfQsNC10YIg0LLQvtC30LzQvtC20L3QvtGB0YLRjCDRgdC60YDQvtC70LvQuNGC0Ywg0YHRgtGA0LDQvdC40YbRg1xuICBjb25zdCBzaG93T3ZlcmZsb3cgPSBvZmZzZXQgPT4ge1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjogc3RhdGljOyBtYXJnaW4tdG9wOiAwJztcbiAgICBcbiAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgb2Zmc2V0KTtcbiAgfTtcbiAgXG4gIHJldHVybiB7XG4gICAgLy8g0JLQvtC30LLRgNCw0YnQsNC10YIgdHJ1ZSwg0LXRgdC70Lgg0L/QvtC/0LDQvyDQv9C+0LrQsNC30YvQstCw0LXRgtGB0Y8sINCyINC40L3QvtC8INGB0LvRg9GH0LDQtSBmYWxzZVxuICAgIGlzU2hvd246ICgpID0+ICRwb3B1cC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwLS1vcGVuZWQnKSxcbiAgICAvLyDQn9C+0LrQsNC30YvQstCw0LXRgiDQv9C+0L/QsNC/XG4gICAgc2hvdygpIHtcbiAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgJHBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9KTtcblxuICAgICAgaGlkZU92ZXJmbG93KCk7XG5cbiAgICAgIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICRwb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cC0tb3BlbmVkJyk7XG4gICAgICAgIGlmICh0eXBlb2Ygb25TaG93ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgb25TaG93KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgLy8g0KHQutGA0YvQstCw0LXRgiDQv9C+0L/QsNC/XG4gICAgaGlkZSgpIHtcbiAgICAgIGNvbnN0IG9mZnNldCA9IC1wYXJzZUludChkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpblRvcCk7XG4gIFxuICAgICAgJHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwLS1vcGVuZWQnKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAkcG9wdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgc2hvd092ZXJmbG93KG9mZnNldCk7XG4gICAgICAgIGlmICh0eXBlb2Ygb25IaWRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgb25IaWRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDMwMCk7XG4gICAgfVxuICB9O1xufTtcblxuLy8gQVBJINC00LvRjyDQstCw0LvQuNC00LDRhtC40Lgg0YTQvtGA0LxcbiRhcGkudmFsaWRhdGUgPSAoZm9ybSwgcmVxdWVzdCkgPT4ge1xuICBsZXQgJGZpcnN0SW52YWxpZEZpZWxkID0gbnVsbDtcbiAgY29uc3QgZW1haWxSZWdleHAgPSAvXigoW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31dKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcbiAgY29uc3Qgc2V0SW52YWxpZElucHV0ID0gaW5wdXQgPT4ge1xuICAgIGlmIChpbnB1dC5jbG9zZXN0KCcuaW5wdXQnKSkge1xuICAgICAgaW5wdXQuY2xvc2VzdCgnLmlucHV0JykuY2xhc3NMaXN0LmFkZCgnaW5wdXQtLWVycm9yJyk7XG4gICAgfSBlbHNlIGlmIChpbnB1dC5jbG9zZXN0KCcudGV4dGFyZWEnKSkge1xuICAgICAgaW5wdXQuY2xvc2VzdCgnLnRleHRhcmVhJykuY2xhc3NMaXN0LmFkZCgndGV4dGFyZWEtLWVycm9yJyk7XG4gICAgfVxuICAgICRmaXJzdEludmFsaWRGaWVsZCA9IGlucHV0O1xuICAgIGlucHV0LmZvY3VzKCk7XG4gIH07XG4gIGNvbnN0IHNldEludmFsaWRDaGVja2JveCA9IGlucHV0ID0+IHtcbiAgICAkZmlyc3RJbnZhbGlkRmllbGQgPSBpbnB1dDtcbiAgICBpbnB1dC5jbG9zZXN0KCcuY2hlY2tib3gnKS5jbGFzc0xpc3QuYWRkKCdjaGVja2JveC0tZXJyb3InKTtcbiAgfTtcblxuICBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBsZXQgZm9ybUlzVmFsaWQgPSB0cnVlO1xuICAgIGNvbnN0ICRmb3JtSW5wdXRzID0gQXJyYXkuZnJvbShmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3JlcXVpcmVkXSwgdGV4dGFyZWFbcmVxdWlyZWRdJykpO1xuICAgIGNvbnN0ICRjaGVja2JveFNlbGVjdCA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmNoZWNrYm94c2VsZWN0Jyk7XG5cbiAgICAkZm9ybUlucHV0cy5yZXZlcnNlKCkubWFwKGVsID0+IHtcbiAgICAgICRmaXJzdEludmFsaWRGaWVsZCA9IG51bGw7XG5cbiAgICAgIGlmIChlbC5kYXRhc2V0LnBhc3NSZXBlYXQgJiYgZWwudmFsdWUgIT09IGVsLmNsb3Nlc3QoJ2Zvcm0nKS5xdWVyeVNlbGVjdG9yKCdpbnB1dFtkYXRhLXBhc3NdJykudmFsdWUpIHtcbiAgICAgICAgc2V0SW52YWxpZElucHV0KGVsKTtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoKGVsLmdldEF0dHJpYnV0ZSgndHlwZScpKSB7XG4gICAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICBjYXNlICdwYXNzd29yZCc6XG4gICAgICAgICAgaWYgKGVsLnZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgc2V0SW52YWxpZElucHV0KGVsKTtcbiAgICAgICAgICAgIGZvcm1Jc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0ZWwnOlxuICAgICAgICAgIGlmIChlbC52YWx1ZSA9PT0gJycgfHwgZWwudmFsdWUuaW5jbHVkZXMoJ18nKSkge1xuICAgICAgICAgICAgc2V0SW52YWxpZElucHV0KGVsKTtcbiAgICAgICAgICAgIGZvcm1Jc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICAgICAgaWYgKCFlbC5jaGVja2VkKSB7XG4gICAgICAgICAgICBzZXRJbnZhbGlkQ2hlY2tib3goZWwpO1xuICAgICAgICAgICAgZm9ybUlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2VtYWlsJzpcbiAgICAgICAgICBpZiAoIWVtYWlsUmVnZXhwLnRlc3QoZWwudmFsdWUpKSB7XG4gICAgICAgICAgICBzZXRJbnZhbGlkSW5wdXQoZWwpO1xuICAgICAgICAgICAgZm9ybUlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKGVsLnZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgc2V0SW52YWxpZElucHV0KGVsKTtcbiAgICAgICAgICAgIGZvcm1Jc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICBcbiAgICBpZiAoJGNoZWNrYm94U2VsZWN0Lmxlbmd0aCkge1xuICAgICAgQXJyYXkuZnJvbSgkY2hlY2tib3hTZWxlY3QpLm1hcChlbCA9PiB7XG4gICAgICAgIGxldCBjaGVja2VkID0gZmFsc2U7XG4gIFxuICAgICAgICBBcnJheS5mcm9tKGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGVja2JveF9faW5wdXQnKSkubWFwKGNoZWNrYm94ID0+IHtcbiAgICAgICAgICBpZiAoY2hlY2tib3guY2hlY2tlZCkge1xuICAgICAgICAgICAgY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgXG4gICAgICAgIGlmICghY2hlY2tlZCkge1xuICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94c2VsZWN0LS1lcnJvcicpO1xuICAgICAgICAgIGZvcm1Jc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChmb3JtSXNWYWxpZCkge1xuICAgICAgZS5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgcmVxdWVzdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY3JvbGxUbygwLCAkZmlyc3RJbnZhbGlkRmllbGQuY2xvc2VzdCgnLmlucHV0JykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueSArIHBhZ2VZT2Zmc2V0IC0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcicpLm9mZnNldEhlaWdodCAtIDEwKTtcbiAgICB9XG4gIH0pO1xuXG4gIEFycmF5LmZyb20oZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpKS5jb25jYXQoQXJyYXkuZnJvbShmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RleHRhcmVhJykpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgaWYgKGVsLmNsb3Nlc3QoJy5pbnB1dCcpKSB7XG4gICAgICBlbC5jbG9zZXN0KCcuaW5wdXQnKS5jbGFzc0xpc3QucmVtb3ZlKCdpbnB1dC0tZXJyb3InKTtcbiAgICB9IGVsc2UgaWYgKGVsLmNsb3Nlc3QoJy5jaGVja2JveCcpKSB7XG4gICAgICBlbC5jbG9zZXN0KCcuY2hlY2tib3gnKS5jbGFzc0xpc3QucmVtb3ZlKCdjaGVja2JveC0tZXJyb3InKTtcbiAgICB9IGVsc2UgaWYgKGVsLmNsb3Nlc3QoJy50ZXh0YXJlYScpKSB7XG4gICAgICBlbC5jbG9zZXN0KCcudGV4dGFyZWEnKS5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0YXJlYS0tZXJyb3InKTtcbiAgICB9XG4gIH0pKTtcbn07XG5cbiAgLy8gaGFuZGxlIG9wZW4gcG9wdXBcbmNvbnN0IHBvcHVwU2hvdyA9IG5ldyBFdmVudCgncG9wdXBTaG93Jyk7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gZS50YXJnZXQ7XG5cbiAgaWYgKCR0aGlzLmNsb3Nlc3QoJy5qcy1vcGVuLXBvcHVwJykpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgXG4gICAgY29uc3QgdGFyZ2V0ID0gJHRoaXMuY2xvc2VzdCgnLmpzLW9wZW4tcG9wdXAnKS5kYXRhc2V0LnBvcHVwO1xuICAgIGNvbnN0ICRwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5qcy1wb3B1cFtkYXRhLXBvcHVwPVwiJHt0YXJnZXR9XCJdYCk7XG5cbiAgICBpZiAodGFyZ2V0ID09PSAncmVxdWVzdC1hdXRoJykge1xuICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLWhlYWRfX25hbWUnKSkge1xuICAgICAgICAkcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19kZXNjIGInKS5pbm5lclRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1oZWFkX19uYW1lJykuaW5uZXJUZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZGVzYyBiJykuaW5uZXJUZXh0ID0gJHRoaXMuY2xvc2VzdCgnLnR1dG9yY2FyZCcpLnF1ZXJ5U2VsZWN0b3IoJy50dXRvcmNhcmRfX25hbWUnKS5pbm5lclRleHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJGFwaS5wb3B1cCgkcG9wdXAsIHtcbiAgICAgIG9uU2hvdygpIHtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gJ2VkaXQtcGhvdG8nKSB7XG4gICAgICAgICAgJHBvcHVwLmRpc3BhdGNoRXZlbnQocG9wdXBTaG93KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLnNob3coKTtcbiAgfVxufSk7XG5cbi8vIGhhbmRsZSBjbG9zZSBwb3B1cFxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtY2xvc2UtcG9wdXAnKSkubWFwKGVsID0+XG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgaWYoIWUudGFyZ2V0LmNsb3Nlc3QoJy5wb3B1cF9fd2luZG93JykgfHwgIWUuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLXBvcHVwJykpIHtcbiAgICAgIGNvbnN0ICRwb3B1cCA9IGUuY3VycmVudFRhcmdldC5jbG9zZXN0KCcucG9wdXAnKTtcblxuICAgICAgJGFwaS5wb3B1cCgkcG9wdXApLmhpZGUoKTtcbiAgICB9XG4gIH0pXG4pO1xuXG4vLyBhbGwgcG9wdXAgZm9ybXNcbmNvbnN0ICRwb3B1cEZvcm1zID0gW3tcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1yZXN0b3JlLWZvcm1dJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgJGVsZW1lbnQuc3VibWl0KCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtcmVxdWVzdC1hdXRoLWZvcm1dJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgJGVsZW1lbnQuc3VibWl0KCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtcmVmdXNlXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICRlbGVtZW50LnN1Ym1pdCgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXBheV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBjb25zdCAkcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cImFwcGxpY2F0aW9uLXBheVwiXScpO1xuICAgIGNvbnN0ICRzdWNjZXNzUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cImFwcGxpY2F0aW9uLXBheS1zdWNjZXNzXCJdJyk7XG4gIFxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGFwaS5wb3B1cCgkcG9wdXAsIHtcbiAgICAgICAgb25IaWRlKCkge1xuICAgICAgICAgIEFycmF5LmZyb20oJHBvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykpLm1hcChlbCA9PiBlbC52YWx1ZSA9ICcnKTtcbiAgICAgICAgICAkYXBpLnBvcHVwKCRzdWNjZXNzUG9wdXApLnNob3coKTtcbiAgICAgICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgICB9XG4gICAgICB9KS5oaWRlKCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtc2VydmljZS1wYXldJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgY29uc3QgJHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJzZXJ2aWNlLXBheVwiXScpO1xuICAgIGNvbnN0ICRzdWNjZXNzUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cInNlcnZpY2UtcGF5LXN1Y2Nlc3NcIl0nKTtcbiAgXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkYXBpLnBvcHVwKCRwb3B1cCwge1xuICAgICAgICBvbkhpZGUoKSB7XG4gICAgICAgICAgQXJyYXkuZnJvbSgkcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKSkubWFwKGVsID0+IGVsLnZhbHVlID0gJycpO1xuICAgICAgICAgICRhcGkucG9wdXAoJHN1Y2Nlc3NQb3B1cCkuc2hvdygpO1xuICAgICAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAgIH1cbiAgICAgIH0pLmhpZGUoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1vZmZlci1mb3JtXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIGNvbnN0ICRwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwib2ZmZXJcIl0nKTtcbiAgICBjb25zdCAkc3VjY2Vzc1BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJvZmZlci1zdWNjZXNzXCJdJyk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRhcGkucG9wdXAoJHBvcHVwLCB7XG4gICAgICAgIG9uSGlkZSgpIHtcbiAgICAgICAgICBBcnJheS5mcm9tKCRwb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpKS5tYXAoZWwgPT4gZWwudmFsdWUgPSAnJyk7XG4gICAgICAgICAgJGFwaS5wb3B1cCgkc3VjY2Vzc1BvcHVwKS5zaG93KCk7XG4gICAgICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICAgfVxuICAgICAgfSkuaGlkZSgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXJlcXVlc3QtZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBjb25zdCAkcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cInJlcXVlc3RcIl0nKTtcbiAgICBjb25zdCAkc3VjY2Vzc1BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJyZXF1ZXN0LXN1Y2Nlc3NcIl0nKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGFwaS5wb3B1cCgkcG9wdXAsIHtcbiAgICAgICAgb25IaWRlKCkge1xuICAgICAgICAgIEFycmF5LmZyb20oJHBvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykpLm1hcChlbCA9PiBlbC52YWx1ZSA9ICcnKTtcbiAgICAgICAgICAkYXBpLnBvcHVwKCRzdWNjZXNzUG9wdXApLnNob3coKTtcbiAgICAgICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgICB9XG4gICAgICB9KS5oaWRlKCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtcmVxdWVzdC1zcGVjaWZpYy1mb3JtXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIGNvbnN0ICRwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwicmVxdWVzdC1zcGVjaWZpY1wiXScpO1xuICAgIGNvbnN0ICRzdWNjZXNzUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cInJlcXVlc3Qtc3VjY2Vzc1wiXScpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkYXBpLnBvcHVwKCRwb3B1cCwge1xuICAgICAgICBvbkhpZGUoKSB7XG4gICAgICAgICAgQXJyYXkuZnJvbSgkcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKSkubWFwKGVsID0+IGVsLnZhbHVlID0gJycpO1xuICAgICAgICAgICRhcGkucG9wdXAoJHN1Y2Nlc3NQb3B1cCkuc2hvdygpO1xuICAgICAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAgIH1cbiAgICAgIH0pLmhpZGUoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufV07XG5cbi8vIGFwcGx5IHZhbGlkYXRpb24gb24gcG9wdXBzIGZvcm1zXG4kcG9wdXBGb3Jtcy5tYXAoZm9ybSA9PiB7XG4gIGNvbnN0IHsgJGVsZW1lbnQsIGNhbGxiYWNrIH0gPSBmb3JtO1xuXG4gIGlmICgkZWxlbWVudCkge1xuICAgICRhcGkudmFsaWRhdGUoJGVsZW1lbnQsICgpID0+IGNhbGxiYWNrKCRlbGVtZW50KSk7XG4gIH1cbn0pO1xuICBjb25zdCAkZHJvcGRvd25zID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcGRvd24nKSk7XG5cbi8vIGNsb3NlIGRyb3Bkb3duIG9uIG91dGVyIGNsaWNrXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bi0tYWN0aXZlJykpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd24tLWFjdGl2ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3Bkb3duLS1hY3RpdmUnKTtcbiAgfVxufSk7XG5cblxuLy8gb3BlbiBkcm9wZG93blxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJGRyb3Bkb3duID0gZS50YXJnZXQuY2xvc2VzdCgnLmRyb3Bkb3duJyk7XG5cbiAgaWYgKCRkcm9wZG93bikge1xuICAgIGlmICgkZHJvcGRvd24uY2xhc3NMaXN0LmNvbnRhaW5zKCdpbnB1dF9fY29kZScpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICBcbiAgICBpZiAoISRkcm9wZG93bi5jbGFzc0xpc3QuY29udGFpbnMoJ2Ryb3Bkb3duLS1hY3RpdmUnKSkge1xuICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bi0tYWN0aXZlJykpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duLS1hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdkcm9wZG93bi0tYWN0aXZlJyk7XG4gICAgICB9XG4gICAgICAkZHJvcGRvd24uY2xhc3NMaXN0LnRvZ2dsZSgnZHJvcGRvd24tLWFjdGl2ZScpO1xuICAgIH1cbiAgfVxufSk7XG5cblxuLy8gY2hhbmdlIGRyb3Bkb3duIHZhbHVlXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkZHJvcGRvd25NZW51SXRlbSA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5kcm9wZG93bl9fbWVudS1pdGVtJyk7XG5cbiAgaWYgKCRkcm9wZG93bk1lbnVJdGVtKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duLS1hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdkcm9wZG93bi0tYWN0aXZlJyk7XG5cbiAgICBpZiAoJGRyb3Bkb3duTWVudUl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLXRvZ2dsZScpKSB7XG4gICAgICBjb25zdCAkdGhpcyA9IGUudGFyZ2V0O1xuICAgICAgY29uc3QgbmV3VmFsdWUgPSAkdGhpcy5pbm5lclRleHQ7XG4gICAgICBjb25zdCAkaGlkZGVuSXRlbSA9ICR0aGlzLmNsb3Nlc3QoJy5kcm9wZG93bl9fbWVudScpLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bl9fbWVudS1pdGVtLS1oaWRkZW4nKTtcbiAgICAgIGNvbnN0ICRkcm9wZG93biA9ICR0aGlzLmNsb3Nlc3QoJy5kcm9wZG93bicpO1xuICAgICAgY29uc3QgJGRyb3Bkb3duVmFsdWUgPSAkZHJvcGRvd24ucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duX192YWx1ZScpO1xuICAgICAgY29uc3QgJGRyb3Bkb3duSW5wdXQgPSAkZHJvcGRvd24ucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcblxuICAgICAgaWYgKCRoaWRkZW5JdGVtKSB7XG4gICAgICAgICRoaWRkZW5JdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3Bkb3duX19tZW51LWl0ZW0tLWhpZGRlbicpO1xuICAgICAgfVxuXG4gICAgICBpZiAoJGRyb3Bkb3duSW5wdXQpIHtcbiAgICAgICAgJGRyb3Bkb3duSW5wdXQudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgJGRyb3Bkb3duTWVudUl0ZW0uY2xhc3NMaXN0LmFkZCgnZHJvcGRvd25fX21lbnUtaXRlbS0taGlkZGVuJyk7IFxuICAgICAgJGRyb3Bkb3duVmFsdWUuaW5uZXJUZXh0ID0gbmV3VmFsdWU7XG4gICAgfVxuICB9XG59KTtcbiAgLy8gaGFuZGxlIHRhYnMgbG9naWNcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhYnNfX2l0ZW0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgdGFyZ2V0ID0gZWwuZGF0YXNldC50YWI7XG4gIGNvbnN0ICRhY3RpdmVUYWJDb250ZW50ID0gZWwuY2xvc2VzdCgnW2RhdGEtdGFic10nKS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmVdJyk7XG5cbiAgZWwuY2xvc2VzdCgnLnRhYnMnKS5xdWVyeVNlbGVjdG9yKCcudGFic19faXRlbS0tYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgndGFic19faXRlbS0tYWN0aXZlJyk7XG4gIGVsLmNsYXNzTGlzdC5hZGQoJ3RhYnNfX2l0ZW0tLWFjdGl2ZScpO1xuXG4gIGlmICgkYWN0aXZlVGFiQ29udGVudCkge1xuICAgIGVsLmNsb3Nlc3QoJ1tkYXRhLXRhYnNdJykucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aXZlXScpLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1hY3RpdmUnKTtcbiAgICBlbC5jbG9zZXN0KCdbZGF0YS10YWJzXScpLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWNvbnRlbnQ9XCIke3RhcmdldH1cIl1gKS5zZXRBdHRyaWJ1dGUoJ2RhdGEtYWN0aXZlJywgdHJ1ZSk7XG4gIH1cbn0pKTtcbiAgY29uc3QgY2hhbmdlQ291bnRyeUV2ZW50ID0gbmV3IEV2ZW50KCdjaGFuZ2VDb3VudHJ5Jyk7XG5cbmNvbnN0IHVwZGF0ZU1hc2sgPSAoaW5wdXQsIG1hc2spID0+IHtcbiAgSW5wdXRtYXNrKHttYXNrfSkubWFzayhpbnB1dCk7XG59O1xuXG4vLyBPcGVuIGlucHV0IGRyb3Bkb3duXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dC5kcm9wZG93bicpKVxuLmNvbmNhdChBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dCAuZHJvcGRvd24nKSkpXG4ubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCAkZHJvcGRvd24gPSBlbC5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd25fX21lbnUnKTtcbiAgZWwuY2xvc2VzdCgnLmlucHV0JykucXVlcnlTZWxlY3RvcignLmlucHV0X19kcm9wZG93bicpLnN0eWxlLndpZHRoID0gZWwuY2xvc2VzdCgnLmlucHV0JykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAncHgnO1xuXG4gIGlmICghJGRyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucygnZmFrZVNjcm9sbCcpKSB7XG4gICAgJGRyb3Bkb3duLmZha2VTY3JvbGwoKTtcbiAgfVxufSkpO1xuXG4vLyBDaGFuZ2UgcGhvbmUgY29kZSBvbiBpbnB1dCBkcm9wZG93blxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW5wdXRfX2Ryb3Bkb3duLWl0ZW1bZGF0YS1jb2RlLWxvY10nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCBsb2MgPSBlbC5kYXRhc2V0LmNvZGVMb2M7XG4gIGNvbnN0IG1hc2sgPSBlbC5kYXRhc2V0Lm1hc2s7XG4gIGNvbnN0ICRpbnB1dCA9IGVsLmNsb3Nlc3QoJy5pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG5cbiAgZWwuY2xvc2VzdCgnLmlucHV0X19jb2RlJykuZGF0YXNldC5jb2RlTG9jID0gbG9jO1xuICBlbC5jbG9zZXN0KCcuaW5wdXRfX2NvZGUnKS5kYXRhc2V0Lm1hc2sgPSBtYXNrO1xuICAkaW5wdXQucGxhY2Vob2xkZXIgPSBtYXNrLnJlcGxhY2VBbGwoJzknLCAnXycpO1xuICB1cGRhdGVNYXNrKCRpbnB1dCwgbWFzayk7XG59KSk7XG5cbi8vIENoYW5nZSBpbnB1dCBkcm9wZG93biB2YWx1ZVxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW5wdXRfX2Ryb3Bkb3duLWl0ZW1bZGF0YS1kcm9wZG93bl0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCB2YWx1ZSA9IGVsLmlubmVyVGV4dDtcbiAgXG4gIGVsLmNsb3Nlc3QoJy5pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykudmFsdWUgPSB2YWx1ZTtcbiAgZWwuY2xvc2VzdCgnLmlucHV0JykuY2xhc3NMaXN0LnJlbW92ZSgnaW5wdXQtLWVycm9yJyk7XG5cbiAgaWYgKGVsLmNsb3Nlc3QoJy5pbnB1dCcpLmNsYXNzTGlzdC5jb250YWlucygnanMtYXV0aC1jb3VudHJ5JykpIHtcbiAgICBlbC5jbG9zZXN0KCcuaW5wdXQnKS5kaXNwYXRjaEV2ZW50KGNoYW5nZUNvdW50cnlFdmVudCk7XG4gIH1cbn0pKTtcblxuLy8gTWFza2luZyBwaG9uZSBpbnB1dFxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwidGVsXCJdJykpLm1hcChlbCA9PiB7XG4gIElucHV0bWFzayh7bWFzazogZWwuY2xvc2VzdCgnLmlucHV0JykucXVlcnlTZWxlY3RvcignLmlucHV0X19jb2RlJykuZGF0YXNldC5tYXNrfSkubWFzayhlbCk7XG59KTtcbiAgLy8gc2hvdyBjaGVja2JveCBoaW50XG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGVja2JveF9faGludCcpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBcbiAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KCcuY2hlY2tib3hfX2hpbnQtY29udGFpbmVyJykpIHtcbiAgICBlbC5xdWVyeVNlbGVjdG9yKCcuY2hlY2tib3hfX2hpbnQtY29udGFpbmVyJykuY2xhc3NMaXN0LnRvZ2dsZSgnY2hlY2tib3hfX2hpbnQtY29udGFpbmVyLS1zaG93bicpXG4gIH1cbn0pKTtcblxuLy8gaGlkZSBjaGVja2JveCBoaW50XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkaGludFNob3duQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoZWNrYm94X19oaW50LWNvbnRhaW5lci0tc2hvd24nKTtcblxuICBpZiAoKCFlLnRhcmdldC5jbG9zZXN0KCcuY2hlY2tib3hfX2hpbnQnKSB8fCBlLnRhcmdldC5jbG9zZXN0KCcuY2hlY2tib3hfX2hpbnQtY2xvc2UnKSkgJiYgJGhpbnRTaG93bkNvbnRhaW5lcikge1xuICAgICRoaW50U2hvd25Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tib3hfX2hpbnQtY29udGFpbmVyLS1zaG93bicpO1xuICB9XG59KTtcbiAgLy8gaGFuZGxlIGNoZWNrYm94c2VsZWN0IGxvZ2ljXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGVja2JveHNlbGVjdF9fbGlzdCcpKS5tYXAobGlzdCA9PiB7XG4gIGxpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICBcbiAgICBjb25zdCAkY2hlY2tib3hTZWxlY3QgPSBsaXN0LmNsb3Nlc3QoJy5jaGVja2JveHNlbGVjdCcpO1xuICAgIGxldCBjaGVja2VkID0gZmFsc2U7XG5cbiAgICAkY2hlY2tib3hTZWxlY3QuY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tib3hzZWxlY3QtLWVycm9yJyk7XG5cbiAgICBBcnJheS5mcm9tKGxpc3QucXVlcnlTZWxlY3RvckFsbCgnLmNoZWNrYm94X19pbnB1dCcpKS5tYXAoY2hlY2tib3ggPT4ge1xuICAgICAgY29uc3QgJHBsYWNlaG9sZGVyID0gJGNoZWNrYm94U2VsZWN0LnF1ZXJ5U2VsZWN0b3IoJy5jaGVja2JveHNlbGVjdF9faW5wdXQtcGxhY2Vob2xkZXInKTtcblxuICAgICAgaWYgKGNoZWNrYm94LmNoZWNrZWQpIGNoZWNrZWQgPSB0cnVlO1xuXG4gICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgbGV0IHZhbHVlID0gJyc7XG5cbiAgICAgICAgQXJyYXkuZnJvbShsaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0OmNoZWNrZWQnKSkubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgIHZhbHVlICs9IGl0ZW0uY2xvc2VzdCgnLmNoZWNrYm94c2VsZWN0X19pdGVtJykucXVlcnlTZWxlY3RvcignLmNoZWNrYm94X190ZXh0JykuaW5uZXJUZXh0ICsgJywgJztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgJHBsYWNlaG9sZGVyLmlubmVyVGV4dCA9IHZhbHVlLnN1YnN0cmluZygwLCB2YWx1ZS5sZW5ndGggLSAyKTtcbiAgICAgICAgICAkcGxhY2Vob2xkZXIuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3hzZWxlY3RfX2lucHV0LXBsYWNlaG9sZGVyLS1hY3RpdmUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkcGxhY2Vob2xkZXIuaW5uZXJUZXh0ID0gJHBsYWNlaG9sZGVyLmRhdGFzZXQucGxhY2Vob2xkZXI7XG4gICAgICAgICAgJHBsYWNlaG9sZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrYm94c2VsZWN0X19pbnB1dC1wbGFjZWhvbGRlci0tYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICBcbiAgICBpZiAoY2hlY2tlZCkge1xuICAgICAgJGNoZWNrYm94U2VsZWN0LmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94c2VsZWN0LS1jaGVja2VkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRjaGVja2JveFNlbGVjdC5jbGFzc0xpc3QucmVtb3ZlKCdjaGVja2JveHNlbGVjdC0tY2hlY2tlZCcpO1xuICAgIH1cbiAgfSk7XG5cbiAgbGlzdC5mYWtlU2Nyb2xsKCk7XG59KTtcbiAgLy8gc2V0IGZpbHRlciBpbnB1dCB2YWx1ZVxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsdGVyc19fZHJvcGRvd24taXRlbScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSBlLmN1cnJlbnRUYXJnZXQ7XG4gIGNvbnN0IHZhbHVlID0gJHRoaXMuaW5uZXJUZXh0O1xuXG4gICR0aGlzLmNsb3Nlc3QoJy5maWx0ZXJzX19pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXJzX19pbnB1dC1maWVsZCcpLnZhbHVlID0gdmFsdWU7XG59KSk7XG5cbmNvbnN0IGdldExvY2F0aW9uRGF0YSA9ICgpID0+IGZldGNoKCdqc29uL2xvY2F0aW9uLmpzb24nKS50aGVuKHJlcyA9PiByZXMuanNvbigpKTtcblxuY29uc3QgaW5pdFNtYXJ0U2VhcmNoID0gKCRlbGVtZW50LCBkYXRhKSA9PiB7XG4gIC8vIGhhbmRsZSBmaWx0ZXIgaW5wdXRcbiAgY29uc3QgaGFuZGxlSW5wdXQgPSBmaXJzdFJlbmRlciA9PiB7XG4gICAgY29uc3QgJGRyb3Bkb3duRWxlbWVudCA9ICRlbGVtZW50Lm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyc19fZHJvcGRvd24taW5uZXInKTtcbiAgICBjb25zdCAkZHJvcGRvd24gPSAkZHJvcGRvd25FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYWtlU2Nyb2xsX19jb250ZW50JykgfHwgJGRyb3Bkb3duRWxlbWVudDtcbiAgICBjb25zdCBpbnB1dFNtYXJ0U2VhcmNoID0gJGVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJykgPT09ICdsb2NhdGlvbic7XG4gICAgY29uc3Qgb3B0aW9ucyA9IGlucHV0U21hcnRTZWFyY2ggPyBkYXRhLm1hcChlbCA9PiBlbC5rZXkpLmNvbmNhdChkYXRhLmZsYXRNYXAoaXRlbSA9PiBpdGVtLmNpdGllcykpIDogSlNPTi5wYXJzZSgkZWxlbWVudC5kYXRhc2V0Lm9wdGlvbnMpO1xuICAgIGNvbnN0IGxvd2VyQ2FzZVZhbHVlID0gJGVsZW1lbnQudmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCAkY2hlY2tib3ggPSAkZHJvcGRvd24uY2xvc2VzdCgnLmZpbHRlcnNfX2Ryb3Bkb3duJykucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XG4gICAgbGV0IG1hdGNoZXNGb3VuZCA9IGZhbHNlO1xuXG4gICAgJGRyb3Bkb3duLmlubmVySFRNTCA9ICcnO1xuICBcbiAgICAvLyByZW5kZXIgZmlsdGVyIGRyb3Bkb3duIGl0ZW1zXG4gICAgb3B0aW9ucy5tYXAoZWwgPT4ge1xuICAgICAgaWYgKGZpcnN0UmVuZGVyIHx8IGVsLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihsb3dlckNhc2VWYWx1ZSkgPT09IDApIHtcbiAgICAgICAgY29uc3QgJGVsZW1lbnQgPSBpbnB1dFNtYXJ0U2VhcmNoID9cbiAgICAgICAgICBgPGEgY2xhc3M9XCJmaWx0ZXJzX19kcm9wZG93bi1pdGVtIGRyb3Bkb3duX19tZW51LWl0ZW0keyhsb3dlckNhc2VWYWx1ZSAmJiAhZmlyc3RSZW5kZXIpID8gJyBmaWx0ZXJzX19kcm9wZG93bi1pdGVtLS1zbWFydCcgOiAnJ31cIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCI+PHNwYW4+JHtlbC5zdWJzdHIoMCwgbG93ZXJDYXNlVmFsdWUubGVuZ3RoKX08L3NwYW4+JHtlbC5zdWJzdHIobG93ZXJDYXNlVmFsdWUubGVuZ3RoKX08L2E+YCA6XG4gICAgICAgICAgYDxhIGNsYXNzPVwiZmlsdGVyc19fZHJvcGRvd24taXRlbSBkcm9wZG93bl9fbWVudS1pdGVtXCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiPiR7ZWx9PC9hPmA7XG4gICAgICAgIG1hdGNoZXNGb3VuZCA9IHRydWU7XG4gICAgICAgICRkcm9wZG93bi5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsICRlbGVtZW50KVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gdG9nZ2xlIGZpbHRlciBkcm9wZG93biB2aXNpYmlsaXR5XG4gICAgaWYgKG1hdGNoZXNGb3VuZCkge1xuICAgICAgJGRyb3Bkb3duRWxlbWVudC5wYXJlbnROb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpbHRlcnNfX2Ryb3Bkb3duLS1oaWRkZW4nKTtcbiAgICAgICRkcm9wZG93bkVsZW1lbnQucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdmaWx0ZXJzX19kcm9wZG93bi0tZW1wdHknKTtcbiAgICB9IGVsc2UgaWYgKCEkY2hlY2tib3gpIHtcbiAgICAgICRkcm9wZG93bkVsZW1lbnQucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdmaWx0ZXJzX19kcm9wZG93bi0taGlkZGVuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRkcm9wZG93bkVsZW1lbnQucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdmaWx0ZXJzX19kcm9wZG93bi0tZW1wdHknKTtcbiAgICB9XG5cbiAgICAvLyBoYW5kbGUgaW5wdXQgdmFsdWVcbiAgICBBcnJheS5mcm9tKCRkcm9wZG93bi5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsdGVyc19fZHJvcGRvd24taXRlbScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAkZWxlbWVudC52YWx1ZSA9IGVsLmlubmVyVGV4dDtcbiAgICAgICRlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScsIGVsLmlubmVyVGV4dCk7XG5cbiAgICAgIGlmICgkY2hlY2tib3gpIHtcbiAgICAgICAgJGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgJGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdyZWFkb25seScpO1xuICAgICAgfVxuICAgIH0pKTtcblxuICAgIC8vIGZha2VTY3JvbGwgaW5pdFxuICAgIGlmIChmaXJzdFJlbmRlciAmJiAhJGRyb3Bkb3duRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zha2VTY3JvbGwnKSkge1xuICAgICAgJGRyb3Bkb3duLmZha2VTY3JvbGwoKTtcbiAgICB9XG4gIH07XG4gIC8vIGFkZCBsaXN0ZW5lcnMgb24gZmlsdGVyIGlucHV0XG4gIGlmICgkZWxlbWVudC5uYW1lICE9PSAnY29zdCcpIHtcbiAgICAkZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IGhhbmRsZUlucHV0KGZhbHNlKSk7XG4gICAgJGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiBoYW5kbGVJbnB1dCh0cnVlKSk7XG4gICAgJGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcbiAgICAgIGlmICgkZWxlbWVudC52YWx1ZSA9PT0gJycgfHwgISRlbGVtZW50LmRhdGFzZXQudmFsdWUpIHtcbiAgICAgICAgJGVsZW1lbnQudmFsdWUgPSAnJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRlbGVtZW50LnZhbHVlID0gJGVsZW1lbnQuZGF0YXNldC52YWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcblxuLy8gZmlsdGVyIG1haW4gbG9naWNcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsdGVyc19faW5wdXQtZmllbGQnKS5sZW5ndGgpIHtcbiAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsdGVyc19faW5wdXQtZmllbGQnKSkubWFwKGVsID0+IHtcbiAgICBpZiAoZWwubmFtZSA9PT0gJ2xvY2F0aW9uJykge1xuICAgICAgZ2V0TG9jYXRpb25EYXRhKCkudGhlbihkYXRhID0+IHtcbiAgICAgICAgaW5pdFNtYXJ0U2VhcmNoKGVsLCBkYXRhKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0U21hcnRTZWFyY2goZWwpO1xuICAgIH1cbiAgfSk7XG59XG5cblxuLy8gaGFuZGxlIGZpbHRlciByYW5nZSBzbGlkZXJcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlcnNfX2Nvc3QtcmFuZ2UnKSkubWFwKCRyYW5nZSA9PiB7XG4gIGNvbnN0IG1pbiA9ICskcmFuZ2UuZGF0YXNldC5taW47XG4gIGNvbnN0IG1heCA9ICskcmFuZ2UuZGF0YXNldC5tYXg7XG4gIGNvbnN0IHNtaW4gPSArJHJhbmdlLmRhdGFzZXQubWluO1xuICBjb25zdCBzbWF4ID0gKyRyYW5nZS5kYXRhc2V0Lm1heDtcblxuICBub1VpU2xpZGVyLmNyZWF0ZSgkcmFuZ2UsIHtcbiAgICBzdGFydDogW3NtaW4sIHNtYXhdLFxuICAgIGNvbm5lY3Q6IHRydWUsXG4gICAgcmFuZ2U6IHtcbiAgICAgIG1pbixcbiAgICAgIG1heFxuICAgIH0sXG4gICAgc3RlcDogMTAwXG4gIH0pO1xuXG4gICRyYW5nZS5ub1VpU2xpZGVyLm9uKCdzbGlkZScsIHZhbHVlcyA9PiB7XG4gICAgY29uc3QgbWluID0gcGFyc2VJbnQodmFsdWVzWzBdKTtcbiAgICBjb25zdCBtYXggPSBwYXJzZUludCh2YWx1ZXNbMV0pO1xuXG4gICAgJHJhbmdlLmNsb3Nlc3QoJy5maWx0ZXJzX19pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXJzX19pbnB1dC1maWVsZCcpLnZhbHVlID0gYCR7bWlufSDigr0g4oCTICR7bWF4fSDigr1gO1xuICAgICRyYW5nZS5jbG9zZXN0KCcuZmlsdGVyc19fY29zdCcpLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvc3Q9XCJmcm9tXCJdJykuaW5uZXJUZXh0ID0gbWluO1xuICAgICRyYW5nZS5jbG9zZXN0KCcuZmlsdGVyc19fY29zdCcpLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvc3Q9XCJ0b1wiXScpLmlubmVyVGV4dCA9IG1heDtcbiAgfSk7XG59KTtcblxuXG4vLyBoYW5kbGUgZmlsdGVyIGNoZWNrYm94XG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19kcm9wZG93bi1jaGVja2JveCcpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0ICRpbnB1dEZpZWxkID0gZWwuY2xvc2VzdCgnLmZpbHRlcnNfX2lucHV0JykucXVlcnlTZWxlY3RvcignLmZpbHRlcnNfX2lucHV0LWZpZWxkJyk7XG5cbiAgaWYgKGVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuY2hlY2tlZCkge1xuICAgIGNvbnN0IGNoZWNrYm94VmFsdWUgPSBlbC5xdWVyeVNlbGVjdG9yKCcuY2hlY2tib3hfX3RleHQnKS5pbm5lclRleHQ7XG4gIFxuICAgICRpbnB1dEZpZWxkLnZhbHVlID0gY2hlY2tib3hWYWx1ZTtcbiAgICAkaW5wdXRGaWVsZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnLCBjaGVja2JveFZhbHVlKTtcbiAgICAkaW5wdXRGaWVsZC5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJ3JlYWRvbmx5Jyk7XG4gIH0gZWxzZSB7XG4gICAgJGlucHV0RmllbGQudmFsdWUgPSAnJztcbiAgICAkaW5wdXRGaWVsZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnLCAnJyk7XG4gICAgJGlucHV0RmllbGQucmVtb3ZlQXR0cmlidXRlKCdyZWFkb25seScpO1xuICB9XG59KSk7XG4gIC8vIHNob3cgaGlkZG5lIHN1YmplY3QgaW4gdHV0b3JjYXJkXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGFyZ2V0ID0gZS50YXJnZXQ7XG5cbiAgaWYgKCR0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy10dXRvcmNhcmQtbW9yZScpKSB7XG4gICAgJHRhcmdldC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIFxuICAgIEFycmF5LmZyb20oJHRhcmdldC5jbG9zZXN0KCcudHV0b3JjYXJkX19zdWJqZWN0cycpLnF1ZXJ5U2VsZWN0b3JBbGwoJy50dXRvcmNhcmRfX3N1YmplY3RzLWl0ZW0tLWhpZGRlbicpKS5tYXAoZWwgPT4ge1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgndHV0b3JjYXJkX19zdWJqZWN0cy1pdGVtLS1oaWRkZW4nKTtcbiAgICB9KTtcbiAgfVxufSk7XG4gIC8vIGFjY29yZGlvbiBsb2dpY1xuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjb3JkaW9uX19pdGVtLXRpdGxlJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgJGFjdGl2ZUl0ZW0gPSBlbC5jbG9zZXN0KCcuYWNjb3JkaW9uJykucXVlcnlTZWxlY3RvcignLmFjY29yZGlvbl9faXRlbS0tYWN0aXZlJyk7XG4gIGNvbnN0ICRjdXJyZW50SXRlbSA9IGVsLmNsb3Nlc3QoJy5hY2NvcmRpb25fX2l0ZW0nKTtcblxuICBpZiAoJGN1cnJlbnRJdGVtLmNsYXNzTGlzdC5jb250YWlucygnYWNjb3JkaW9uX19pdGVtLS1hY3RpdmUnKSkge1xuICAgICRjdXJyZW50SXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY2NvcmRpb25fX2l0ZW0tLWFjdGl2ZScpO1xuICB9IGVsc2Uge1xuICAgIGlmICgkYWN0aXZlSXRlbSkge1xuICAgICAgJGFjdGl2ZUl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWNjb3JkaW9uX19pdGVtLS1hY3RpdmUnKTtcbiAgICB9XG4gIFxuICAgICRjdXJyZW50SXRlbS5jbGFzc0xpc3QuYWRkKCdhY2NvcmRpb25fX2l0ZW0tLWFjdGl2ZScpO1xuICB9XG59KSk7XG4gIGNvbnN0ICR0b2dnbGVDaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBlcnNvbmFsX19hcHBsaWNhdGlvbnMtY2hlY2tib3gnKTtcblxuLy8gdG9nZ2xlIGFwcGxpY2F0aW9uIGZvcm0gbWVzc2FnZVxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFwcGxpY2F0aW9uX193cml0ZScpLmZvckVhY2goZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IHNob3dUZXh0ID0gZWwuZGF0YXNldC5zaG93O1xuICBjb25zdCBoaWRlVGV4dCA9IGVsLmRhdGFzZXQuaGlkZTtcbiAgY29uc3QgY3VycmVudFRleHQgPSBlbC5pbm5lckhUTUw7XG5cbiAgZWwuY2xvc2VzdCgnLmFwcGxpY2F0aW9uJykucXVlcnlTZWxlY3RvcignLmFwcGxpY2F0aW9uX19mb3JtJykuc3R5bGUuZGlzcGxheSA9IGN1cnJlbnRUZXh0ID09PSBzaG93VGV4dCA/ICdibG9jaycgOiAnbm9uZSc7XG4gIGVsLmlubmVyVGV4dCA9IGN1cnJlbnRUZXh0ID09PSBzaG93VGV4dCA/IGhpZGVUZXh0IDogc2hvd1RleHQ7XG59KSk7XG5cbi8vIHRvZ2dsZSBhcHBsaWNhdGlvbnMgY2hlY2tib3hlc1xuJHRvZ2dsZUNoZWNrYm94ZXMuZm9yRWFjaChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgY2hlY2tlZCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuY2hlY2tlZDtcbiAgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hcHBsaWNhdGlvbl9fY2hlY2tib3ggaW5wdXQnKS5mb3JFYWNoKGVsID0+IGVsLmNoZWNrZWQgPSBjaGVja2VkKTtcbiAgJHRvZ2dsZUNoZWNrYm94ZXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICBpZiAoaXRlbSAhPT0gZWwpIHtcbiAgICAgIGl0ZW0ucXVlcnlTZWxlY3RvcignaW5wdXQnKS5jaGVja2VkID0gY2hlY2tlZDtcbiAgICB9XG4gIH0pO1xufSkpO1xuXG4vLyB0b2dnbGUgbWFpbiBjaGVja2JveFxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFwcGxpY2F0aW9uX19jaGVja2JveCBpbnB1dCcpLmZvckVhY2goZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICBsZXQgaXNDaGVja2VkID0gdHJ1ZTtcblxuICBlbC5jbG9zZXN0KCcucGVyc29uYWxfX2NhcmQnKS5xdWVyeVNlbGVjdG9yQWxsKCcuYXBwbGljYXRpb25fX2NoZWNrYm94IGlucHV0JykuZm9yRWFjaChlbCA9PiB7XG4gICAgaWYgKCFlbC5jaGVja2VkKSB7XG4gICAgICBpc0NoZWNrZWQgPSBmYWxzZTtcbiAgICB9XG4gIH0pO1xuXG4gICR0b2dnbGVDaGVja2JveGVzLmZvckVhY2goZWwgPT4gZWwucXVlcnlTZWxlY3RvcignaW5wdXQnKS5jaGVja2VkID0gaXNDaGVja2VkKTtcbn0pKTtcblxuLy8gdG9nZ2xlIGFwcGxpY2F0aW9uIHJlYXNvblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFwcGxpY2F0aW9uX19kZWNsaW5lZC1saW5rJykuZm9yRWFjaChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZWwubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC50b2dnbGUoJ2FwcGxpY2F0aW9uX19kZWNsaW5lZC1yZWFzb24tLWFjdGl2ZScpO1xufSkpO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkYWN0aXZlUmVhc29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFwcGxpY2F0aW9uX19kZWNsaW5lZC1yZWFzb24tLWFjdGl2ZScpO1xuXG4gIGlmICgkYWN0aXZlUmVhc29uICYmICFlLnRhcmdldC5jbG9zZXN0KCcuYXBwbGljYXRpb25fX2RlY2xpbmVkJykpIHtcbiAgICAkYWN0aXZlUmVhc29uLmNsYXNzTGlzdC5yZW1vdmUoJ2FwcGxpY2F0aW9uX19kZWNsaW5lZC1yZWFzb24tLWFjdGl2ZScpO1xuICB9XG59KTtcbiAgLy8gbWFza2luZyBiYWxhY25lIGlucHV0XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYmFsYW5jZV9faW5wdXQnKS5mb3JFYWNoKGVsID0+IHtcbiAgSW5wdXRtYXNrKHthbGlhczogJ2RlY2ltYWwnLCByYWRpeFBvaW50OiAnICcsIHN1ZmZpeDogJyDigr0nfSkubWFzayhlbCk7XG59KTtcblxuLy8gYWxsIGJhbGFuY2UgZm9ybXNcbmNvbnN0ICRiYWxhbmNlRm9ybXMgPSBbe1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLWJhbGFuY2UtcmVwbGVuc2loXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICRlbGVtZW50LnN1Ym1pdCgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59XTtcblxuLy8gYXBwbHkgdmFsaWRhdGlvbiBvbiBiYWxhbmNlIGZvcm1zXG4kYmFsYW5jZUZvcm1zLm1hcChmb3JtID0+IHtcbiAgY29uc3QgeyAkZWxlbWVudCwgY2FsbGJhY2sgfSA9IGZvcm07XG5cbiAgaWYgKCRlbGVtZW50KSB7XG4gICAgJGFwaS52YWxpZGF0ZSgkZWxlbWVudCwgKCkgPT4gY2FsbGJhY2soJGVsZW1lbnQpKTtcbiAgfVxufSk7XG4gIFxuICBjb25zdCAkYmFubmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhbm5lcicpO1xuXG4vLyBiYW5uZXIgaGFuZGxpbmdcbmlmICghSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGV0bWV0dXRvcjpiYW5uZXJJc0hpZGRlbicpKSkge1xuICAkYmFubmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYW5uZXJfX2Nsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgJGJhbm5lci5jbGFzc0xpc3QuYWRkKCdiYW5uZXItLWhpZGUnKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRiYW5uZXIucmVtb3ZlKCk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGV0bWV0dXRvcjpiYW5uZXJJc0hpZGRlbicsIHRydWUpO1xuICAgIH0sIDUwMClcbiAgfSk7XG59IGVsc2Uge1xuICAkYmFubmVyLnJlbW92ZSgpO1xufVxuICBjb25zdCAkY29va2llcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb29raWVzJyk7XG5cbi8vIGNvb2tpZXMgaGFuZGxpbmdcbmlmICghSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGV0bWV0dXRvcjpjb29raWVzSXNIaWRkZW4nKSkpIHtcbiAgJGNvb2tpZXMuY2xhc3NMaXN0LmFkZCgnY29va2llcy0tc2hvd24nKTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29va2llc19fYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgJGNvb2tpZXMuY2xhc3NMaXN0LnJlbW92ZSgnY29va2llcy0tc2hvd24nKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRjb29raWVzLnJlbW92ZSgpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xldG1ldHV0b3I6Y29va2llc0lzSGlkZGVuJywgdHJ1ZSk7XG4gICAgfSwgNTAwKVxuICB9KTtcbn0gZWxzZSB7XG4gICRjb29raWVzLnJlbW92ZSgpO1xufVxuICBsZXQgb2Zmc2V0ID0gMDtcbmNvbnN0IGhpZGVPdmVyZmxvdyA9ICgpID0+IHtcbiAgb2Zmc2V0ID0gLXBhcnNlSW50KGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luVG9wKTtcbiAgZG9jdW1lbnQuYm9keS5zdHlsZS5jc3NUZXh0ID0gYHBvc2l0aW9uOiBmaXhlZDsgbWFyZ2luLXRvcDogJHstd2luZG93LnNjcm9sbFl9cHhgO1xufTtcbmNvbnN0IHNob3dPdmVyZmxvdyA9IG9mZnNldCA9PiB7XG4gIGRvY3VtZW50LmJvZHkuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjogc3RhdGljOyBtYXJnaW4tdG9wOiAwJztcbiAgd2luZG93LnNjcm9sbFRvKDAsIG9mZnNldCk7XG59O1xuY29uc3QgaGlkZUhlYWRlck1lbnUgPSAoKSA9PiB7XG4gIHNob3dPdmVyZmxvdygpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW1lbnUnKS5jbGFzc0xpc3QucmVtb3ZlKCdoZWFkZXItbWVudS0tc2hvd24nKTtcbn07XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2J1cmdlcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBoaWRlT3ZlcmZsb3coKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1tZW51JykuY2xhc3NMaXN0LmFkZCgnaGVhZGVyLW1lbnUtLXNob3duJyk7XG59KTtcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1tZW51X19iYWNrZHJvcCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZUhlYWRlck1lbnUpO1xuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1tZW51X19jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZUhlYWRlck1lbnUpO1xuXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oZWFkZXJfX25vdGlmaWNhdGlvbnMtd3JhcHBlcicpKS5tYXAoZWwgPT4ge1xuICBpZiAoIWVsLmNsYXNzTGlzdC5jb250YWlucygnZmFrZVNjcm9sbCcpKSB7XG4gICAgZWwuZmFrZVNjcm9sbCgpO1xuICB9XG59KTtcbiAgY29uc3QgcG9wdWxhclNsaWRlciA9IG5ldyBTd2lwZXIoJy5wb3B1bGFyX19ncmlkLS1tb2JpbGUnLCB7XG4gIGxvb3A6IHRydWUsXG4gIGxvb3BBZGRpdGlvbmFsU2xpZGVzOiAzLFxuICBzcGFjZUJldHdlZW46IDIwLFxuICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gIGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxuICBicmVha3BvaW50czoge1xuICAgIDc2MDoge1xuICAgICAgc2xpZGVzUGVyVmlldzogMixcbiAgICAgIGNlbnRlcmVkU2xpZGVzOiBmYWxzZVxuICAgIH1cbiAgfVxufSk7XG4gIGNvbnN0IHJldmlld3NTbGlkZXIgPSBuZXcgU3dpcGVyKCcucmV2aWV3c19fc2xpZGVyJywge1xuICBsb29wOiB0cnVlLFxuICBzcGFjZUJldHdlZW46IDIwLFxuICBzbGlkZXNQZXJWaWV3OiAzLFxuICBzbGlkZXNQZXJHcm91cDogMyxcbiAgbG9vcEFkZGl0aW9uYWxTbGlkZXM6IDMsXG4gIHBhZ2luYXRpb246IHtcbiAgICBlbDogJy5zd2lwZXItcGFnaW5hdGlvbicsXG4gICAgY2xpY2thYmxlOiB0cnVlXG4gIH1cbn0pO1xuXG5jb25zdCByZXZpZXdTbGlkZXJNb2JpbGUgPSBuZXcgU3dpcGVyKCcucmV2aWV3c19fc2xpZGVyLS1tb2JpbGUnLCB7XG4gIGxvb3A6IHRydWUsXG4gIHNwYWNlQmV0d2VlbjogMjAsXG4gIGxvb3BBZGRpdGlvbmFsU2xpZGVzOiAzLFxuICBwYWdpbmF0aW9uOiB7XG4gICAgZWw6ICcuc3dpcGVyLXBhZ2luYXRpb24nLFxuICAgIGNsaWNrYWJsZTogdHJ1ZVxuICB9XG59KTtcbiAgLy8gYWxsIGF1dGggZm9ybXNcbmNvbnN0ICRhdXRoRm9ybXMgPSBbe1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLWxvZ2luLWZvcm1dJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgJGVsZW1lbnQuc3VibWl0KCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtc2lnbnVwLXN0dWRlbnQtZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAkZWxlbWVudC5zdWJtaXQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1zaWdudXAtdHV0b3ItZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAkZWxlbWVudC5zdWJtaXQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1zdXBwb3J0LWZvcm1dJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgJGVsZW1lbnQuc3VibWl0KCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtc2lnbnVwLXN0dWRlbnQtZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAkZWxlbWVudC5zdWJtaXQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1zaWdudXAtdHV0b3ItZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAkZWxlbWVudC5zdWJtaXQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufV07XG5cbi8vIGFwcGx5IHZhbGlkYXRpb24gb24gYXV0aCBmb3Jtc1xuJGF1dGhGb3Jtcy5tYXAoZm9ybSA9PiB7XG4gIGNvbnN0IHsgJGVsZW1lbnQsIGNhbGxiYWNrIH0gPSBmb3JtO1xuXG4gIGlmICgkZWxlbWVudCkge1xuICAgICRhcGkudmFsaWRhdGUoJGVsZW1lbnQsICgpID0+IGNhbGxiYWNrKCRlbGVtZW50KSk7XG4gIH1cbn0pO1xuXG4vLyBzZXQgY291bnRyeSB2YWx1ZSB0byBjaXRpZXMgaW5wdXRcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWF1dGgtY291bnRyeScpKS5tYXAoZWwgPT4ge1xuICBlbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2VDb3VudHJ5JywgZSA9PiB7XG4gICAgZWwuY2xvc2VzdCgnZm9ybScpLnF1ZXJ5U2VsZWN0b3IoJy5qcy1hdXRoLWNpdHknKS5kYXRhc2V0LmNvdW50cnkgPSBlLnRhcmdldC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLnZhbHVlO1xuICB9KTtcbiAgZWwuZGlzcGF0Y2hFdmVudChjaGFuZ2VDb3VudHJ5RXZlbnQpO1xufSk7XG5cbi8vIGhhbmRsaW5nIGNpdGllcyBpbnB1dFxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1hdXRoLWNpdHkgaW5wdXQnKS5sZW5ndGgpIHtcbiAgZmV0Y2goJ2pzb24vbG9jYXRpb24uanNvbicpLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpLnRoZW4oZGF0YSA9PiB7XG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtYXV0aC1jaXR5IGlucHV0JykpLm1hcChlbCA9PiB7XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGUgPT4ge1xuICAgICAgICBjb25zdCAkdGhpcyA9IGUuY3VycmVudFRhcmdldDtcbiAgICAgICAgY29uc3QgJGxhYmVsRWxlbWVudCA9ICR0aGlzLmNsb3Nlc3QoJy5pbnB1dCcpO1xuICAgICAgICBjb25zdCBjb3VudHJ5ID0gJGxhYmVsRWxlbWVudC5kYXRhc2V0LmNvdW50cnk7XG5cbiAgICAgICAgaWYgKGNvdW50cnkpIHtcbiAgICAgICAgICBjb25zdCBjaXRpZXMgPSBkYXRhLmZpbHRlcihlbCA9PiBlbC5rZXkgPT09IGNvdW50cnkpWzBdLmNpdGllcztcbiAgICAgICAgICBjb25zdCBsb3dlckNhc2VWYWx1ZSA9ICR0aGlzLnZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgY29uc3QgJGRyb3Bkb3duRWxlbWVudCA9ICR0aGlzLmNsb3Nlc3QoJy5pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bl9fbWVudScpO1xuICAgICAgICAgIGNvbnN0ICRkcm9wZG93bkNvbnRlbnQgPSAkZHJvcGRvd25FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYWtlU2Nyb2xsX19jb250ZW50Jyk7XG4gICAgICAgICAgbGV0IG1hdGNoZXNGb3VuZCA9IGZhbHNlO1xuXG4gICAgICAgICAgaWYgKCRkcm9wZG93bkNvbnRlbnQpIHtcbiAgICAgICAgICAgICRkcm9wZG93bkNvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCR0aGlzLnZhbHVlICE9PSAnJykge1xuICAgICAgICAgICAgY2l0aWVzLm1hcChlbCA9PiB7XG4gICAgICAgICAgICAgIGlmIChlbC50b0xvd2VyQ2FzZSgpLmluZGV4T2YobG93ZXJDYXNlVmFsdWUpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkZHJvcGRvd25Db250ZW50Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYDxhIGNsYXNzPVwiaW5wdXRfX2Ryb3Bkb3duLWl0ZW0gZHJvcGRvd25fX21lbnUtaXRlbSR7bG93ZXJDYXNlVmFsdWUgPyAnIGlucHV0X19kcm9wZG93bi1pdGVtLS1zbWFydCcgOiAnJ31cIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCI+PHNwYW4+JHtlbC5zdWJzdHIoMCwgbG93ZXJDYXNlVmFsdWUubGVuZ3RoKX08L3NwYW4+JHtlbC5zdWJzdHIobG93ZXJDYXNlVmFsdWUubGVuZ3RoKX08L2E+YClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChtYXRjaGVzRm91bmQpIHtcbiAgICAgICAgICAgICAgQXJyYXkuZnJvbSgkbGFiZWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dF9fZHJvcGRvd24taXRlbScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgJHRoaXMudmFsdWUgPSBlbC5pbm5lclRleHQ7XG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoISRkcm9wZG93bkVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmYWtlU2Nyb2xsJykpIHtcbiAgICAgICAgICAgICRkcm9wZG93bkVsZW1lbnQuZmFrZVNjcm9sbCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xuICAgICAgICBjb25zdCAkZHJvcGRvd25FbGVtZW50ID0gZWwuY2xvc2VzdCgnLmlucHV0JykucXVlcnlTZWxlY3RvcignLmZha2VTY3JvbGxfX2NvbnRlbnQnKTtcblxuICAgICAgICBpZiAoJGRyb3Bkb3duRWxlbWVudCkge1xuICAgICAgICAgICRkcm9wZG93bkVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn1cblxuLy8gaGFuZGxpbmcgcmVxdWlyZWQgYWdyZWVtZW50IGNoZWNrYm94XG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W25hbWU9XCJydWxlc0FncmVlbWVudFwiXScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICBjb25zdCAkc3VibWl0QnV0dG9uID0gZWwuY2xvc2VzdCgnZm9ybScpLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJyk7XG5cbiAgaWYgKGVsLmNoZWNrZWQpIHtcbiAgICAkc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tZGlzYWJsZWQnKTtcbiAgICAkc3VibWl0QnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgfSBlbHNlIHtcbiAgICAkc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbi0tZGlzYWJsZWQnKTtcbiAgICAkc3VibWl0QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgfVxufSkpO1xuXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hdXRoX190b2dnbGUgLnRhYnNfX2l0ZW0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXV0aF9fdHlwZScpLnZhbHVlID0gZWwuZGF0YXNldC50YWIgLSAxO1xufSkpO1xuICBjb25zdCAkY2F0YWxvZ01vcmVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtY2F0YWxvZy1tb3JlJyk7XG5cbmlmICgkY2F0YWxvZ01vcmVCdG4pIHtcbiAgY29uc3QgJHByZXZBcnJvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uX19hcnJvdy0tcHJldicpO1xuICBjb25zdCAkbmV4dEFycm93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2luYXRpb25fX2Fycm93LS1uZXh0Jyk7XG4gIGNvbnN0ICRzZXBhcmF0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnaW5hdGlvbl9fc2VwYXJhdG9yJyk7XG5cbiAgLy8gY2F0YWxvZyBwYWdlcyBzdGF0ZVxuICBjb25zdCBjYXRhbG9nUGFnZXMgPSB7XG4gICAgY3VycmVudDogWzFdLFxuICAgIHRvdGFsOiBwYXJzZUludChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZ19faXRlbXMnKS5kYXRhc2V0LnRvdGFsKVxuICB9O1xuXG4gIC8vIHNldCBwYWdpbmF0aW9uIGN1cnJlbnQgcGFnZVxuICBjb25zdCBzZXRDdXJyZW50UGFnZSA9IGN1cnJlbnRQYWdlID0+IHtcbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYWdpbmF0aW9uX19wYWdlLS1jdXJyZW50JykpLm1hcChlbCA9PiBlbC5jbGFzc0xpc3QucmVtb3ZlKCdwYWdpbmF0aW9uX19wYWdlLS1jdXJyZW50JykpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wYWdpbmF0aW9uX19wYWdlW2RhdGEtcGFnZT1cIiR7Y3VycmVudFBhZ2V9XCJdYCkuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fcGFnZS0tY3VycmVudCcpO1xuICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcbiAgfTtcblxuICAvLyBzZXQgcGFnaW5hdGlvbiBicmVha1xuICBjb25zdCBzZXRCcmVhayA9IGxhdGVzdFBhZ2UgPT4ge1xuICAgIGNvbnN0ICRiZWZvcmVTZXBhcmF0b3JJdGVtID0gJHNlcGFyYXRvci5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAgIGNvbnN0ICRmaXJzdEl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnaW5hdGlvbl9fcGFnZScpO1xuXG4gICAgaWYgKCskYmVmb3JlU2VwYXJhdG9ySXRlbS5kYXRhc2V0LnBhZ2UgPT09IGxhdGVzdFBhZ2UpIHtcbiAgICAgIGlmIChsYXRlc3RQYWdlID09PSBjYXRhbG9nUGFnZXMudG90YWwgLSAyKSB7XG4gICAgICAgICRmaXJzdEl0ZW0ucmVtb3ZlKCk7XG4gICAgICAgICRzZXBhcmF0b3IuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fc2VwYXJhdG9yLS1oaWRkZW4nKTtcbiAgICAgICAgJHNlcGFyYXRvci5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWJlZ2luJywgYDxhIGNsYXNzPVwicGFnaW5hdGlvbl9fcGFnZVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiBkYXRhLXBhZ2U9XCIke2xhdGVzdFBhZ2UgKyAxfVwiPiR7bGF0ZXN0UGFnZSArIDF9PC9hPmApO1xuICAgICAgfSBlbHNlIGlmIChsYXRlc3RQYWdlIDwgY2F0YWxvZ1BhZ2VzLnRvdGFsIC0gMikge1xuICAgICAgICAkZmlyc3RJdGVtLnJlbW92ZSgpO1xuICAgICAgICAkc2VwYXJhdG9yLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlYmVnaW4nLCBgPGEgY2xhc3M9XCJwYWdpbmF0aW9uX19wYWdlXCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIGRhdGEtcGFnZT1cIiR7bGF0ZXN0UGFnZSArIDF9XCI+JHtsYXRlc3RQYWdlICsgMX08L2E+YCk7XG4gICAgICAgICRzZXBhcmF0b3IuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fc2VwYXJhdG9yLS1oaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCskZmlyc3RJdGVtLmRhdGFzZXQucGFnZSA9PT0gbGF0ZXN0UGFnZSAmJiBsYXRlc3RQYWdlICE9PSAxKSB7XG4gICAgICAkYmVmb3JlU2VwYXJhdG9ySXRlbS5yZW1vdmUoKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uX19wYWdlcycpLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGA8YSBjbGFzcz1cInBhZ2luYXRpb25fX3BhZ2VcIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgZGF0YS1wYWdlPVwiJHtsYXRlc3RQYWdlIC0gMX1cIj4ke2xhdGVzdFBhZ2UgLSAxfTwvYT5gKTtcbiAgICAgICRzZXBhcmF0b3IuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fc2VwYXJhdG9yLS1oaWRkZW4nKTtcbiAgICB9IGVsc2UgaWYgKGxhdGVzdFBhZ2UgPT09IGNhdGFsb2dQYWdlcy50b3RhbCAmJiAhJHNlcGFyYXRvci5jbGFzc0xpc3QuY29udGFpbnMoJ3BhZ2luYXRpb25fX3NlcGFyYXRvci0tJykpIHtcbiAgICAgIGNvbnN0ICRwYWdpbmF0aW9uUGFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGFnaW5hdGlvbl9fcGFnZScpO1xuXG4gICAgICAkc2VwYXJhdG9yLmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX3NlcGFyYXRvci0taGlkZGVuJyk7XG4gICAgICBBcnJheS5mcm9tKCRwYWdpbmF0aW9uUGFnZXMpLnJldmVyc2UoKS5tYXAoKGVsLCBpKSA9PiB7XG4gICAgICAgIGVsLmlubmVyVGV4dCA9IGxhdGVzdFBhZ2UgLSBpO1xuICAgICAgICBlbC5kYXRhc2V0LnBhZ2UgPSBsYXRlc3RQYWdlIC0gaTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvLyBmb3JtaW5nIHF1ZXJ5IHVybCB3aXRoIGZpbHRlcnMgdmFsdWVzIGZyb20gdXJsIHBhcmFtZXJ0cmVzXG4gIGNvbnN0IGZvcm1hdFVSTCA9IHVybCA9PiB7XG4gICAgbGV0IGZvcm1hdHRlZFVSTCA9IHVybDtcbiAgICBjb25zdCBmaWx0ZXJzTmFtZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19pbnB1dC1maWVsZCcpKS5tYXAoZWwgPT4gZWwubmFtZSk7XG4gICAgXG4gICAgbmV3IFVSTChsb2NhdGlvbi5ocmVmKS5zZWFyY2hQYXJhbXMudG9TdHJpbmcoKS5zcGxpdChcIiZcIikubWFwKGVsID0+IHtcbiAgICAgIGNvbnN0IFsga2V5IF0gPSBlbC5zcGxpdCgnPScpO1xuICAgICAgaWYgKGZpbHRlcnNOYW1lcy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgIGZvcm1hdHRlZFVSTCArPSAnJicgKyBlbDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZvcm1hdHRlZFVSTCArPSBgJmxpbWl0PSR7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLWNhdGFsb2ctbGltaXQgLmRyb3Bkb3duX192YWx1ZScpLmlubmVyVGV4dH1gO1xuXG4gICAgcmV0dXJuIGZvcm1hdHRlZFVSTDtcbiAgfTtcblxuICAvLyBnZW5lcmF0ZSBjYXRhbG9nIGl0ZW0gZWxlbWVudFxuICBjb25zdCBjYXRhbG9nSXRlbUVsZW1lbnQgPSAoeyB0b3AsIGltYWdlLCB2ZXJpZmllZCwgbmFtZSwgY291bnRyeSwgc3ViamVjdHMsIGxvY2F0aW9uLCBkZXNjcmlwdGlvbiwgbGluaywgcmF0aW5nLCByZXZpZXdzLCBwcmljZSB9KSA9PiBgXG4gICAgPGRpdiBjbGFzcz1cInR1dG9yY2FyZCR7dG9wID8gJyB0dXRvcmNhcmQtLXRvcCcgOiAnJ31cIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ0dXRvcmNhcmRfX2ltYWdlXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2ltZy9pbmh0bWwvJHtpbWFnZX0nKVwiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInR1dG9yY2FyZF9faW5mb1wiPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19uYW1lJHt2ZXJpZmllZCA/ICcgdHV0b3JjYXJkX19uYW1lLS12ZXJpZmllZCcgOiAnJ31cIj4ke25hbWV9PC9wPlxuICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19sb2NhdGlvblwiIGRhdGEtbG9jPSR7Y291bnRyeX0+JHtsb2NhdGlvbn08L3A+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInR1dG9yY2FyZF9fc3ViamVjdHNcIj5cbiAgICAgICAgICAgICR7c3ViamVjdHMubWFwKGVsID0+IGBcbiAgICAgICAgICAgICAgPGEgY2xhc3M9XCJ0dXRvcmNhcmRfX3N1YmplY3RzLWl0ZW0ke2VsLnNlYXJjaCA/ICcgdHV0b3JjYXJkX19zdWJqZWN0cy1pdGVtLS1zZWFyY2gnIDogJyd9JHtlbC5oaWRkZW4gPyAnIHR1dG9yY2FyZF9fc3ViamVjdHMtaXRlbS0taGlkZGVuJyA6ICcnfVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIj4ke2VsLm5hbWV9IDxzcGFuPijQvtC/0YvRgiA8Yj4ke2VsLmV4cGVyaWVuY2V9PC9iPik8L3NwYW4+PC9hPlxuICAgICAgICAgICAgYCkuam9pbignJyl9XG4gICAgICAgICAgICA8YSBjbGFzcz1cInR1dG9yY2FyZF9fc3ViamVjdHMtbW9yZSBqcy10dXRvcmNhcmQtbW9yZVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIj4rJHtbJ9C/0YDQtdC00LzQtdGCJywgJ9C/0YDQtdC00LzQtdGC0LAnLCAn0L/RgNC10LTQvNC10YLQvtCyJ10uZGVjbGluZShzdWJqZWN0cy5sZW5ndGggLSAyLCB0cnVlKX08L2E+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0dXRvcmNhcmRfX2Rlc2NcIj4ke2Rlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgPC9kaXY+PGEgY2xhc3M9XCJ0dXRvcmNhcmRfX21vcmVcIiBocmVmPSR7bGlua30+0J/QvtC00YDQvtCx0L3QtdC1PC9hPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkX19hY3Rpb25zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0dXRvcmNhcmRfX2FjdGlvbnMtaW5mb1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0dXRvcmNhcmRfX3JhdGluZyR7cGFyc2VJbnQocmV2aWV3cykgPT09IDAgPyAnIHR1dG9yY2FyZF9fcmF0aW5nLS1lbXB0eScgOiAnJ31cIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19yYXRpbmctcmF0ZVwiPiR7cmF0aW5nfTwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19yYXRpbmctcmV2aWV3c1wiPigke3Jldmlld3N9KTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkX19jb3N0XCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInR1dG9yY2FyZF9fY29zdC12YWx1ZVwiPiR7cHJpY2V9IOKCvTwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19jb3N0LWRlc2NcIj7QsiDRh9Cw0YE8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGpzLW9wZW4tcG9wdXAke3RvcCA/ICcgYnV0dG9uLS1wcmltYXJ5JyA6ICcgYnV0dG9uLS1zZWNvbmRhcnknfSB0dXRvcmNhcmRfX2J0blwiIGRhdGEtcG9wdXA9XCJyZXF1ZXN0LWF1dGhcIj7QntGB0YLQsNCy0LjRgtGMINC30LDRj9Cy0LrRgzwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIGA7XG5cbiAgLy8gbG9hZCBtb3JlIGNhdGFsb2cgaXRlbXNcbiAgJGNhdGFsb2dNb3JlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgJGNhdGFsb2dNb3JlQnRuLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbi0tbG9hZGluZycpO1xuXG4gICAgY29uc3QgbGF0ZXN0UGFnZSA9IGNhdGFsb2dQYWdlcy5jdXJyZW50W2NhdGFsb2dQYWdlcy5jdXJyZW50Lmxlbmd0aCAtIDFdICsgMTtcbiAgICBjb25zdCBxdWVyeVVybCA9IGZvcm1hdFVSTChganNvbi9jYXRhbG9nLmpzb24/cGFnZT0ke2xhdGVzdFBhZ2V9YCk7XG5cbiAgICAvLyBzZXQgY3VycmVudCBwYWdlc1xuICAgIGNhdGFsb2dQYWdlcy5jdXJyZW50LnB1c2gobGF0ZXN0UGFnZSk7XG5cbiAgICAvLyBzZXQgY3VycmVudCBwYWdpbnRhaW9uIHBhZ2VzXG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGFnaW5hdGlvbl9fcGFnZScpKS5tYXAoZWwgPT4ge1xuICAgICAgaWYgKGNhdGFsb2dQYWdlcy5jdXJyZW50LmluY2x1ZGVzKHBhcnNlSW50KGVsLmlubmVyVGV4dCkpKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX3BhZ2UtLWN1cnJlbnQnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZldGNoKHF1ZXJ5VXJsKS50aGVuKHJlcyA9PiByZXMuanNvbigpKS50aGVuKGRhdGEgPT4ge1xuICAgICAgZGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nX19pdGVtcycpLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgY2F0YWxvZ0l0ZW1FbGVtZW50KGl0ZW0pKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAobGF0ZXN0UGFnZSA9PT0gY2F0YWxvZ1BhZ2VzLnRvdGFsKSB7XG4gICAgICAgICRjYXRhbG9nTW9yZUJ0bi5jbGFzc0xpc3QuYWRkKCdjYXRhbG9nX19ib3R0b20tYnRuLS1oaWRkZW4nKTtcbiAgICAgICAgJG5leHRBcnJvdy5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgIH1cblxuICAgICAgJGNhdGFsb2dNb3JlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBnbyB0byBwcmV2aW91cyBwYWdlXG4gICRwcmV2QXJyb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBjdXJyZW50UGFnZSA9IGNhdGFsb2dQYWdlcy5jdXJyZW50WzBdIC0gMTtcbiAgICBjb25zdCBxdWVyeVVybCA9IGZvcm1hdFVSTChganNvbi9jYXRhbG9nLmpzb24/cGFnZT0ke2N1cnJlbnRQYWdlfWApO1xuXG4gICAgY2F0YWxvZ1BhZ2VzLmN1cnJlbnQgPSBbY3VycmVudFBhZ2VdO1xuXG4gICAgZmV0Y2gocXVlcnlVcmwpLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpLnRoZW4oZGF0YSA9PiB7XG4gICAgICBsZXQgJGVsZW1lbnRzID0gJyc7XG4gIFxuICAgICAgZGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgICAgICRlbGVtZW50cyArPSBjYXRhbG9nSXRlbUVsZW1lbnQoaXRlbSk7XG4gICAgICB9KTtcblxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2luYXRpb25fX2Fycm93LS1uZXh0JykuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICBzZXRDdXJyZW50UGFnZShjdXJyZW50UGFnZSk7XG5cbiAgICAgIGlmIChjdXJyZW50UGFnZSA9PT0gMSkge1xuICAgICAgICAkcHJldkFycm93LmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX2Fycm93LS1kaXNhYmxlZCcpO1xuICAgICAgfVxuXG4gICAgICAkY2F0YWxvZ01vcmVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnY2F0YWxvZ19fYm90dG9tLWJ0bi0taGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZ19faXRlbXMnKS5pbm5lckhUTUwgPSAkZWxlbWVudHM7XG4gICAgfSk7XG5cbiAgICBpZiAoJHNlcGFyYXRvcikge1xuICAgICAgc2V0QnJlYWsoY3VycmVudFBhZ2UpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gZ28gdG8gbmV4dCBwYWdlXG4gICRuZXh0QXJyb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBjdXJyZW50UGFnZSA9IGNhdGFsb2dQYWdlcy5jdXJyZW50W2NhdGFsb2dQYWdlcy5jdXJyZW50Lmxlbmd0aCAtIDFdICsgMTtcbiAgICBjb25zdCBxdWVyeVVybCA9IGZvcm1hdFVSTChganNvbi9jYXRhbG9nLmpzb24/cGFnZT0ke2N1cnJlbnRQYWdlfWApO1xuXG4gICAgY2F0YWxvZ1BhZ2VzLmN1cnJlbnQgPSBbY3VycmVudFBhZ2VdO1xuXG4gICAgZmV0Y2gocXVlcnlVcmwpLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpLnRoZW4oZGF0YSA9PiB7XG4gICAgICBsZXQgJGVsZW1lbnRzID0gJyc7XG4gIFxuICAgICAgZGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgICAgICRlbGVtZW50cyArPSBjYXRhbG9nSXRlbUVsZW1lbnQoaXRlbSk7XG4gICAgICB9KTtcblxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2luYXRpb25fX2Fycm93LS1wcmV2JykuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICBzZXRDdXJyZW50UGFnZShjdXJyZW50UGFnZSk7XG5cbiAgICAgIGlmIChjdXJyZW50UGFnZSA9PT0gY2F0YWxvZ1BhZ2VzLnRvdGFsKSB7XG4gICAgICAgICRjYXRhbG9nTW9yZUJ0bi5jbGFzc0xpc3QuYWRkKCdjYXRhbG9nX19ib3R0b20tYnRuLS1oaWRkZW4nKTtcbiAgICAgICAgJG5leHRBcnJvdy5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgIH1cblxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGFsb2dfX2l0ZW1zJykuaW5uZXJIVE1MID0gJGVsZW1lbnRzO1xuICBcbiAgICAgIGlmICgkc2VwYXJhdG9yKSB7XG4gICAgICAgIHNldEJyZWFrKGN1cnJlbnRQYWdlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gZ28gdG8gc3BlY2lmaWMgcGFnZVxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGNvbnN0ICR0aGlzID0gZS50YXJnZXQ7XG5cbiAgICBpZiAoJHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdwYWdpbmF0aW9uX19wYWdlJykpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gcGFyc2VJbnQoJHRoaXMuZGF0YXNldC5wYWdlKTtcbiAgICAgIGNvbnN0IHF1ZXJ5VXJsID0gZm9ybWF0VVJMKGBqc29uL2NhdGFsb2cuanNvbj9wYWdlPSR7Y3VycmVudFBhZ2V9YCk7XG5cbiAgICAgIGNhdGFsb2dQYWdlcy5jdXJyZW50ID0gW2N1cnJlbnRQYWdlXTtcblxuICAgICAgZmV0Y2gocXVlcnlVcmwpLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIGxldCAkZWxlbWVudHMgPSAnJztcbiAgICBcbiAgICAgICAgZGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgJGVsZW1lbnRzICs9IGNhdGFsb2dJdGVtRWxlbWVudChpdGVtKTtcbiAgICAgICAgfSk7XG4gIFxuICAgICAgICBzZXRDdXJyZW50UGFnZShjdXJyZW50UGFnZSk7XG4gIFxuICAgICAgICBpZiAoY3VycmVudFBhZ2UgPT09IGNhdGFsb2dQYWdlcy50b3RhbCkge1xuICAgICAgICAgICRwcmV2QXJyb3cuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICAgICAgJG5leHRBcnJvdy5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgICAgICAkY2F0YWxvZ01vcmVCdG4uY2xhc3NMaXN0LmFkZCgnY2F0YWxvZ19fYm90dG9tLWJ0bi0taGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFBhZ2UgPT09IDEpIHtcbiAgICAgICAgICAkcHJldkFycm93LmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX2Fycm93LS1kaXNhYmxlZCcpO1xuICAgICAgICAgICRuZXh0QXJyb3cuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICAgICAgJGNhdGFsb2dNb3JlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2NhdGFsb2dfX2JvdHRvbS1idG4tLWhpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRwcmV2QXJyb3cuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICAgICAgJG5leHRBcnJvdy5jbGFzc0xpc3QucmVtb3ZlKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgICAgICAkY2F0YWxvZ01vcmVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnY2F0YWxvZ19fYm90dG9tLWJ0bi0taGlkZGVuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJHNlcGFyYXRvcikge1xuICAgICAgICAgIHNldEJyZWFrKGN1cnJlbnRQYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nX19pdGVtcycpLmlubmVySFRNTCA9ICRlbGVtZW50cztcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG4gIC8vIHNjcm9sbCB0byB0dXRvciBzZWN0aW9uXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50dXRvcl9fbmF2LWxpbmsnKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCB0YXJnZXQgPSBlbC5kYXRhc2V0LnRhcmdldDtcblxuICBzY3JvbGxUbyh7XG4gICAgdG9wOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1ibG9jaz1cIiR7dGFyZ2V0fVwiXWApLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCAtIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKS5vZmZzZXRIZWlnaHQsXG4gICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gIH0pO1xufSkpO1xuICAvLyBzZXQgcGF5bWVudCBwZXIgaG91clxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZmlsZS1oZWFkX19zdWJqZWN0cy1pdGVtJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgcGF5bWVudCA9IGVsLmRhdGFzZXQucGF5O1xuXG4gIGVsLmNsb3Nlc3QoJy5wcm9maWxlLWhlYWRfX3N1YmplY3RzJykucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtaGVhZF9fc3ViamVjdHMtaXRlbS0taGlnaGxpZ2h0JykuY2xhc3NMaXN0LnJlbW92ZSgncHJvZmlsZS1oZWFkX19zdWJqZWN0cy1pdGVtLS1oaWdobGlnaHQnKTtcbiAgZWwuY2xhc3NMaXN0LmFkZCgncHJvZmlsZS1oZWFkX19zdWJqZWN0cy1pdGVtLS1oaWdobGlnaHQnKTtcblxuICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1wcm9maWxlLWNvc3QnKSkubWFwKGVsID0+IGVsLmlubmVyVGV4dCA9IHBheW1lbnQpO1xufSkpO1xuICBjb25zdCAkcHJvZmlsZVZpZGVvQ292ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1hYm91dF9fdmlkZW8tY292ZXInKTtcblxuLy8gcGxheSB2aWRlIG9uIGFib3V0IHNlY3Rpb25cbmlmICgkcHJvZmlsZVZpZGVvQ292ZXIpIHtcbiAgJHByb2ZpbGVWaWRlb0NvdmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0ICR2aWRlbyA9ICRwcm9maWxlVmlkZW9Db3Zlci5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ2lmcmFtZScpO1xuXG4gICAgJHByb2ZpbGVWaWRlb0NvdmVyLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignaWZyYW1lJykuc2V0QXR0cmlidXRlKCdzcmMnLCAkdmlkZW8uZ2V0QXR0cmlidXRlKCdzcmMnKSArICc/YXV0b3BsYXk9MScpO1xuICAgICRwcm9maWxlVmlkZW9Db3Zlci5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLWFib3V0X192aWRlby1jb3Zlci0taGlkZGVuJyk7XG4gIH0pO1xufVxuICBjb25zdCAkcmV2aWV3c01vcmVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcmV2aWV3cy1tb3JlJyk7XG5cbmlmICgkcmV2aWV3c01vcmVCdG4pIHtcbiAgLy8gcmV2aWV3cyBwYWdlcyBzdGF0ZVxuICBjb25zdCByZXZpZXdzUGFnZXMgPSB7XG4gICAgY3VycmVudDogMSxcbiAgICB0b3RhbDogM1xuICB9O1xuICAvLyBnZW5lcmF0ZSByZXZpZXcgZWxlbWVudFxuICBjb25zdCByZXZpZXdFbGVtZW50ID0gKHsgaW1hZ2UsIG5hbWUsIGRhdGUsIHJhdGluZywgZmVlZGJhY2ssIHRhZyB9KSA9PiBgXG4gICAgPGRpdiBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2tcIj5cbiAgICAgICR7aW1hZ2UgP1xuICAgICAgICBgPGRpdiBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2staW1hZ2VcIiBzdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6IHVybCgnaW1nL2luaHRtbC8ke2ltYWdlfScpXCI+PC9kaXY+YCA6XG4gICAgICAgICc8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay1pbWFnZVwiPjwvZGl2PidcbiAgICAgIH1cbiAgICAgIDxkaXYgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX2ZlZWRiYWNrLWluZm9cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2staGVhZFwiPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2stbmFtZVwiPiR7bmFtZX08L3A+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2stZGF0ZVwiPiR7ZGF0ZX08L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgJHt0YWcgPyAnPHAgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX2ZlZWRiYWNrLXRhZ1wiPicgKyB0YWcgKyAnPC9wPicgOiAnJ31cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX3JhdGluZy1zdGFyc1wiPlxuICAgICAgICAgICR7WzEsIDIsIDMsIDQsIDVdLm1hcChlID0+IGUgPD0gcmF0aW5nID9cbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19yYXRpbmctc3RhciBwcm9maWxlLXJldmlld3NfX3JhdGluZy1zdGFyLS1mdWxsXCI+PC9kaXY+JyA6XG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fcmF0aW5nLXN0YXJcIj48L2Rpdj4nXG4gICAgICAgICAgKS5qb2luKCcnKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxwIGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay10ZXh0XCI+JHtmZWVkYmFja308L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYDtcblxuICAvLyBsb2FkIG1vcmUgcmV2aWV3IG9uIGJ1dHRvbiBjbGlja1xuICAkcmV2aWV3c01vcmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgdXJsID0gJHJldmlld3NNb3JlQnRuLmRhdGFzZXQudXJsO1xuXG4gICAgLy8gaW5jcmVtZW50IGN1cnJlbnQgbG9hZGVkIHJldmlld3MgcGFnZVxuICAgICsrcmV2aWV3c1BhZ2VzLmN1cnJlbnQ7XG4gICAgXG4gICAgLy8gbG9hZCByZXZpZXdzXG4gICAgZmV0Y2goYCR7dXJsfT9wYWdlPSR7cmV2aWV3c1BhZ2VzLmN1cnJlbnR9YCkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihkYXRhID0+IHtcbiAgICAgIGRhdGEubWFwKHJldmlldyA9PiB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXJldmlld3NfX2ZlZWRiYWNrcycpLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgcmV2aWV3RWxlbWVudChyZXZpZXcpKTtcblxuICAgICAgICBpZiAocmV2aWV3c1BhZ2VzLmN1cnJlbnQgPT09IHJldmlld3NQYWdlcy50b3RhbCkge1xuICAgICAgICAgICRyZXZpZXdzTW9yZUJ0bi5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufVxuICAvLyBpbml0IGZha2VTY3JvbGwgb24gdGltZXpvbmUgZHJvcGRvd25cbmNvbnN0ICR0aW1lem9uZURyb3Bkb3ducyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9maWxlLXNjaGVkdWxlX190aW1lem9uZS1tZW51Jyk7XG5cbmlmICgkdGltZXpvbmVEcm9wZG93bnMubGVuZ3RoKSB7XG4gIEFycmF5LmZyb20oJHRpbWV6b25lRHJvcGRvd25zKS5tYXAoZWwgPT4ge1xuICAgIGlmICghZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdmYWtlU2Nyb2xsJykpIHtcbiAgICAgIGVsLmZha2VTY3JvbGwoKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBpbml0IGZha2VTY3JvbGwgb24gZGF0ZS90aW1lIGRyb3Bkb3duc1xuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZmlsZS1zY2hlZHVsZV9fdGltZScpKS5tYXAoZWwgPT4ge1xuICBjb25zdCAkY29udGFpbmVyID0gZWwucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX3RpbWUtbWVudScpO1xuXG4gIGlmICgkY29udGFpbmVyICYmICEkY29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygnZmFrZVNjcm9sbCcpKSB7XG4gICAgJGNvbnRhaW5lci5mYWtlU2Nyb2xsKCk7XG4gIH1cbn0pO1xuXG5jb25zdCBzZXREYXRlVGltZSA9ICgpID0+IHtcbiAgY29uc3QgJGN1cnJlbnRVbml0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX3VuaXQtLWN1cnJlbnQnKTtcbiAgY29uc3QgJHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJyZXF1ZXN0LXNwZWNpZmljXCJdJyk7XG5cbiAgaWYgKCRjdXJyZW50VW5pdCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3QgZGF0ZSA9ICRjdXJyZW50VW5pdC5kYXRhc2V0LmRhdGU7XG4gICAgICBjb25zdCB0aW1lID0gJGN1cnJlbnRVbml0LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX190aW1lLXZhbHVlJykuaW5uZXJUZXh0O1xuICBcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19waWNrJykuY2xhc3NMaXN0LmFkZCgncHJvZmlsZS1zY2hlZHVsZV9fcGljay0tYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fcGljay1kYXRlJykuaW5uZXJUZXh0ID0gZGF0ZTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19waWNrLXRpbWUnKS5pbm5lclRleHQgPSB0aW1lO1xuXG4gICAgICBpZiAoJHBvcHVwKSB7XG4gICAgICAgICRwb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2hlYWRpbmctZGF0ZScpLmlubmVyVGV4dCA9IGRhdGU7XG4gICAgICAgICRwb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2hlYWRpbmctdGltZScpLmlubmVyVGV4dCA9IHRpbWU7XG4gICAgICAgICRwb3B1cC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwidGltZVwiXScpLnZhbHVlID0gdGltZTtcbiAgICAgIH1cbiAgICB9LCAwKTtcbiAgfVxufVxuXG4vLyBoYW5kbGUgc2NoZWR1bGUgc2xpZGVyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGUnKSkge1xuICBjb25zdCAkcHJldkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLXByZXYnKTtcbiAgY29uc3QgJG5leHRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1uZXh0Jyk7XG4gIFxuICBpZiAoJHByZXZCdXR0b24pIHtcbiAgICAkcHJldkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0ICRhY3RpdmVTbGlkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19zbGlkZS0tYWN0aXZlJyk7XG4gICAgICBjb25zdCBjdXJyZW50SW5kZXggPSArJGFjdGl2ZVNsaWRlLmRhdGFzZXQuc2xpZGU7XG4gICAgICBjb25zdCAkcHJldlNsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnByb2ZpbGUtc2NoZWR1bGVfX3NsaWRlW2RhdGEtc2xpZGU9XCIke2N1cnJlbnRJbmRleCAtIDF9XCJdYCk7XG4gICAgXG4gICAgICBpZiAoJHByZXZTbGlkZSkge1xuICAgICAgICAkYWN0aXZlU2xpZGUuY2xhc3NMaXN0LnJlbW92ZSgncHJvZmlsZS1zY2hlZHVsZV9fc2xpZGUtLWFjdGl2ZScpO1xuICAgICAgICAkcHJldlNsaWRlLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtc2NoZWR1bGVfX3NsaWRlLS1hY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX2NvbnRyb2xzLWJ1dHRvbi0tbmV4dCcpLmNsYXNzTGlzdC5yZW1vdmUoJ3Byb2ZpbGUtc2NoZWR1bGVfX2NvbnRyb2xzLWJ1dHRvbi0tZGlzYWJsZWQnKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX2NvbnRyb2xzLWRhdGVzJykuaW5uZXJUZXh0ID0gJHByZXZTbGlkZS5kYXRhc2V0LmRhdGVzO1xuICAgIFxuICAgICAgICBpZiAoJHByZXZTbGlkZS5kYXRhc2V0LmZpcnN0KSB7XG4gICAgICAgICAgJHByZXZCdXR0b24uY2xhc3NMaXN0LmFkZCgncHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1kaXNhYmxlZCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgXG4gIGlmICgkbmV4dEJ1dHRvbikge1xuICAgICRuZXh0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgJGFjdGl2ZVNsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX3NsaWRlLS1hY3RpdmUnKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9ICskYWN0aXZlU2xpZGUuZGF0YXNldC5zbGlkZTtcbiAgICAgIGNvbnN0ICRuZXh0U2xpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucHJvZmlsZS1zY2hlZHVsZV9fc2xpZGVbZGF0YS1zbGlkZT1cIiR7Y3VycmVudEluZGV4ICsgMX1cIl1gKTtcbiAgICBcbiAgICAgIGlmICgkbmV4dFNsaWRlKSB7XG4gICAgICAgICRhY3RpdmVTbGlkZS5jbGFzc0xpc3QucmVtb3ZlKCdwcm9maWxlLXNjaGVkdWxlX19zbGlkZS0tYWN0aXZlJyk7XG4gICAgICAgICRuZXh0U2xpZGUuY2xhc3NMaXN0LmFkZCgncHJvZmlsZS1zY2hlZHVsZV9fc2xpZGUtLWFjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1wcmV2JykuY2xhc3NMaXN0LnJlbW92ZSgncHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1kaXNhYmxlZCcpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtZGF0ZXMnKS5pbm5lclRleHQgPSAkbmV4dFNsaWRlLmRhdGFzZXQuZGF0ZXM7XG4gICAgXG4gICAgICAgIGlmICgkbmV4dFNsaWRlLmRhdGFzZXQubGFzdCkge1xuICAgICAgICAgICRuZXh0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtc2NoZWR1bGVfX2NvbnRyb2xzLWJ1dHRvbi0tZGlzYWJsZWQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbi8vIGhhbmRsZSBzZWxlY3QgZGF0ZXRpbWUgdW5pdFxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZmlsZS1zY2hlZHVsZV9fdW5pdCcpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KCcucHJvZmlsZS1zY2hlZHVsZV9fdGltZScpKSB7XG4gICAgY29uc3QgJGN1cnJlbnRVbml0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX3VuaXQtLWN1cnJlbnQnKTtcbiAgXG4gICAgaWYgKCRjdXJyZW50VW5pdCkge1xuICAgICAgJGN1cnJlbnRVbml0LmNsYXNzTGlzdC5yZW1vdmUoJ3Byb2ZpbGUtc2NoZWR1bGVfX3VuaXQtLWN1cnJlbnQnKTtcbiAgICB9XG4gIFxuICAgIGVsLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtc2NoZWR1bGVfX3VuaXQtLWN1cnJlbnQnKTtcbiAgICBzZXREYXRlVGltZSgpO1xuICB9XG59KSk7XG5cbi8vIGV4ZWN1dGUgc2V0IGRhdGV0aW1lIG9uIHRpbWUgY2hhbmdlXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9maWxlLXNjaGVkdWxlX190aW1lLW1lbnUgLmRyb3Bkb3duX19tZW51LWl0ZW0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2V0RGF0ZVRpbWUpKTtcbiAgY29uc3QgJGRpYWxvZ0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19ncmlkJyk7XG5jb25zdCAkZGlhbG9nTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19hc2lkZScpO1xuY29uc3QgJGRpYWxvZ0xpc3RJdGVtcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoYXQtaXRlbScpKTtcbmNvbnN0ICRkaWFsb2dXYXJuaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2hlYWQtd2FybmluZycpO1xuY29uc3QgJGRpYWxvZ1dpbmRvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19kaWFsb2cnKTtcbmNvbnN0ICRkaWFsb2dXaW5kb3dDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdF9fZGlhbG9nLWNvbnRhaW5lcicpO1xuY29uc3QgJGRpYWxvZ0lucHV0RmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdF9fZm9vdGVyLWlucHV0Jyk7XG5jb25zdCAkZGlhbG9nRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19mb290ZXItY29udGFpbmVyJyk7XG5jb25zdCAkZGlhbG9nQ29udGV4dE1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdF9fY29udGV4dCcpO1xuY29uc3QgJGRpYWxvZ0RlbGV0ZU1lc3NhZ2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cImRpYWxvZy1kZWxldGVcIl0gW2RhdGEtZGVsZXRlXScpO1xubGV0IHNjcmVlbk9mZnNldCA9IDA7XG5cbi8vIGN1c3RvbSBmb3JtIHN1Ym1pdCBldmVudFxuY29uc3QgZm9ybVN1Ym1pdEV2ZW50ID0gbmV3IEV2ZW50KCdmb3JtU3VibWl0Jyk7XG5cbi8vIGRlc3Ryb3kgZGlhbG9nIGNvbnRleHQgbWVudVxuY29uc3QgY29udGV4dERlc3Ryb3kgPSBkZWxldGVNZXNzYWdlID0+IHtcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19jb250ZXh0LS1zaG93bicpKSB7XG4gICAgJGRpYWxvZ0NvbnRleHRNZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2NoYXRfX2NvbnRleHQtLXNob3duJyk7XG4gICAgXG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgNzYwICYmICFkZWxldGVNZXNzYWdlKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246IHN0YXRpYzsgbWFyZ2luLXRvcDogMCc7XG4gICAgICBcbiAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCBzY3JlZW5PZmZzZXQpO1xuICAgIH1cbiAgfVxufTtcblxuaWYgKCRkaWFsb2dMaXN0KSB7XG4gICRkaWFsb2dMaXN0LmZha2VTY3JvbGwoKTtcbn1cblxuLy8gc2V0IGhlaWdodCBvZiBmb3JtIHRleHRhcmVhIGZpZWxkXG5jb25zdCBzZXREaWFsb2dJbnB1dEhlaWdodCA9ICgpID0+IHtcbiAgJGRpYWxvZ0lucHV0RmllbGQuc3R5bGUuaGVpZ2h0ID0gJzVweCc7XG4gICRkaWFsb2dJbnB1dEZpZWxkLnN0eWxlLmhlaWdodCA9ICRkaWFsb2dJbnB1dEZpZWxkLnNjcm9sbEhlaWdodCArIDMgKyAncHgnO1xufTtcblxuY29uc3Qgc2Nyb2xsQ2hhdFRvQm90dG9tID0gKCkgPT4ge1xuICBjb25zdCAkY2hhdFNjcm9sbENvbnRhaW5lciA9ICRkaWFsb2dXaW5kb3cucXVlcnlTZWxlY3RvcignLmZha2VTY3JvbGxfX2NvbnRlbnQnKTtcbiAgJGNoYXRTY3JvbGxDb250YWluZXIuc2Nyb2xsVG9wID0gJGNoYXRTY3JvbGxDb250YWluZXIuc2Nyb2xsSGVpZ2h0O1xufTtcblxuLy8gZGlhbG9nIHdhcm5pbmcgaGFuZGxpbmdcbmlmICgkZGlhbG9nV2FybmluZykge1xuICBpZiAoIUpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xldG1ldHV0b3I6ZGlhbG9nV2FybmluZ0lzSGlkZGVuJykpKSB7XG4gICAgJGRpYWxvZ1dhcm5pbmcuY2xhc3NMaXN0LmFkZCgnY2hhdF9faGVhZC13YXJuaW5nLS1zaG93bicpO1xuICBcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdF9faGVhZC13YXJuaW5nLWNsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAkZGlhbG9nV2FybmluZy5yZW1vdmUoKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsZXRtZXR1dG9yOmRpYWxvZ1dhcm5pbmdJc0hpZGRlbicsIHRydWUpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgICRkaWFsb2dXYXJuaW5nLnJlbW92ZSgpO1xuICB9XG59XG5cbi8vIGdvIGJhY2sgdG8gZGlhbG9nIGxpc3RzIG9uIG1vYmlsZSBkZXZpY2VzXG4vLyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdF9faGVhZC1iYWNrJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4vLyAgICRkaWFsb2dDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnY2hhdF9fZ3JpZC0taW5uZXInKTtcbi8vIH0pO1xuXG4vLyB0b2dnbGUgY3VycmVudCBkaWFsb2dcbmlmICgkZGlhbG9nTGlzdEl0ZW1zKSB7XG4gICRkaWFsb2dMaXN0SXRlbXMubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgZWwucXVlcnlTZWxlY3RvcignLmNoYXQtaXRlbV9fY29udGFpbmVyJykuc3R5bGUgPSAnJztcbiAgICBlbC5xdWVyeVNlbGVjdG9yKCcuY2hhdC1pdGVtX19kZWxldGUnKS5zdHlsZSA9ICcnO1xuICBcbiAgICBcbiAgICBpZiAoKHdpbmRvdy5pbm5lcldpZHRoID4gNzU5ICYmICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2NoYXQtaXRlbS0tYWN0aXZlJykpIHx8ICFlLnRhcmdldC5jbG9zZXN0KCcuY2hhdC1pdGVtX19kZWxldGUnKSkge1xuICAgICAgJGRpYWxvZ0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdjaGF0X19ncmlkLS1pbm5lcicpO1xuICBcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0LWl0ZW0tLWFjdGl2ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2NoYXQtaXRlbS0tYWN0aXZlJyk7XG4gICAgICBlbC5jbGFzc0xpc3QuYWRkKCdjaGF0LWl0ZW0tLWFjdGl2ZScpO1xuICBcbiAgICAgIGlmIChlbC5xdWVyeVNlbGVjdG9yKCcuY2hhdC1pdGVtX19jb3VudGVyJykpIHtcbiAgICAgICAgZWwucXVlcnlTZWxlY3RvcignLmNoYXQtaXRlbV9fY291bnRlcicpLnJlbW92ZSgpO1xuICAgICAgfVxuICBcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19oZWFkLWltYWdlJykuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gZWwucXVlcnlTZWxlY3RvcignLmNoYXQtaXRlbV9faW1hZ2UnKS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdF9faGVhZC1uYW1lJykuaW5uZXJUZXh0ID0gZWwucXVlcnlTZWxlY3RvcignLmNoYXQtaXRlbV9fbmFtZScpLmlubmVyVGV4dDtcbiAgICB9XG4gIH0pKTtcbn1cblxuLy8gaGFuZGxlIGlucHV0IGZpZWxkXG5pZiAoJGRpYWxvZ0lucHV0RmllbGQpIHtcbiAgJGRpYWxvZ0lucHV0RmllbGQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBzZXREaWFsb2dJbnB1dEhlaWdodCk7XG59XG5cbi8vIHNldCBzY3JvbGwgb24gZGlhbG9nIHdpbmRvd1xuaWYgKCRkaWFsb2dXaW5kb3cpIHtcbiAgJGRpYWxvZ1dpbmRvdy5mYWtlU2Nyb2xsKCk7XG4gICRkaWFsb2dXaW5kb3cucXVlcnlTZWxlY3RvcignLmZha2VTY3JvbGxfX2NvbnRlbnQnKS5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7XG4gICAgY29udGV4dERlc3Ryb3koKTtcbiAgfSk7XG5cbiAgc2Nyb2xsQ2hhdFRvQm90dG9tKCk7XG59XG5cbmlmICgkZGlhbG9nRm9ybSkge1xuICAvLyBjdXN0b20gZm9ybSBzdWJtaXQgZXZlbnQgaGFuZGxlclxuICAkZGlhbG9nRm9ybS5hZGRFdmVudExpc3RlbmVyKCdmb3JtU3VibWl0JywgKCkgPT4ge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSAkZGlhbG9nSW5wdXRGaWVsZC52YWx1ZTtcbiAgXG4gICAgaWYgKG1lc3NhZ2UucmVwbGFjZSgvXFxzL2csICcnKS5sZW5ndGggPT09IDApIHtcbiAgICAgICRkaWFsb2dJbnB1dEZpZWxkLmZvY3VzKCk7XG4gICAgXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICBcbiAgICBpZiAoJGRpYWxvZ0Zvcm0uZGF0YXNldC5hY3Rpb24gPT09ICdzZW5kJykge1xuICAgICAgY29uc3QgJG1lc3NhZ2VFbGVtZW50ID0gYDxkaXYgY2xhc3M9XCJjaGF0X19tZXNzYWdlIGNoYXRfX21lc3NhZ2UtLXJpZ2h0XCIgZGF0YS1pZD1cIiR7K2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19tZXNzYWdlOmxhc3QtY2hpbGQnKS5kYXRhc2V0LmlkICsgMX1cIj5cbiAgICAgICAgPHAgY2xhc3M9XCJjaGF0X19tZXNzYWdlLXRleHRcIj4ke21lc3NhZ2V9PC9wPlxuICAgICAgICA8cCBjbGFzcz1cImNoYXRfX21lc3NhZ2UtdGltZVwiPiR7SW50bC5EYXRlVGltZUZvcm1hdCgncnUtUnUnLCB7aG91cjogJ251bWVyaWMnLCBtaW51dGU6ICdudW1lcmljJ30pLmZvcm1hdChEYXRlLm5vdygpKX08L3A+XG4gICAgICA8L2Rpdj5gO1xuICAgIFxuICAgICAgJGRpYWxvZ1dpbmRvd0NvbnRhaW5lci5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsICRtZXNzYWdlRWxlbWVudCk7XG4gICAgICBzY3JvbGxDaGF0VG9Cb3R0b20oKTtcbiAgICB9IGVsc2UgaWYgKCRkaWFsb2dGb3JtLmRhdGFzZXQuYWN0aW9uID09PSAnZWRpdCcpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5jaGF0X19tZXNzYWdlW2RhdGEtaWQ9XCIkeyRkaWFsb2dGb3JtLmRhdGFzZXQuaWR9XCJdIC5jaGF0X19tZXNzYWdlLXRleHRgKS5pbm5lclRleHQgPSBtZXNzYWdlO1xuICAgICAgJGRpYWxvZ0Zvcm0uY2xhc3NMaXN0LnJlbW92ZSgnY2hhdF9fZm9vdGVyLWNvbnRhaW5lci0tZWRpdCcpO1xuICAgICAgJGRpYWxvZ0Zvcm0uZGF0YXNldC5hY3Rpb24gPSAnc2VuZCc7XG4gICAgfVxuICBcbiAgICAkZGlhbG9nSW5wdXRGaWVsZC52YWx1ZSA9ICcnO1xuICAgICRkaWFsb2dJbnB1dEZpZWxkLmZvY3VzKCk7XG4gICAgc2V0RGlhbG9nSW5wdXRIZWlnaHQoKTtcbiAgfSk7XG5cbiAgLy8gc2VuZCBtZXNzYWdlIGhhbmRsZXJzXG4gICRkaWFsb2dGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgXG4gICAgJGRpYWxvZ0Zvcm0uZGlzcGF0Y2hFdmVudChmb3JtU3VibWl0RXZlbnQpO1xuICB9KTtcblxuICAkZGlhbG9nRm9ybS5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIGUgPT4ge1xuICAgIGNvbnN0IGtleWNvZGUgPSBlLmtleUNvZGUgPyBlLmtleUNvZGUgOiBlLndoaWNoO1xuICBcbiAgICBpZiAoa2V5Y29kZSA9PT0gMTMgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICRkaWFsb2dGb3JtLmRpc3BhdGNoRXZlbnQoZm9ybVN1Ym1pdEV2ZW50KTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBoYW5kbGUgbWVzc2FnZSBjb250ZXh0IG1lbnVcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gZS50YXJnZXQ7XG5cbiAgaWYgKCR0aGlzLmNsYXNzTGlzdC5jb250YWlucygnY2hhdF9fbWVzc2FnZS10ZXh0JykgJiYgJHRoaXMuY2xvc2VzdCgnLmNoYXRfX21lc3NhZ2UtLXJpZ2h0JykpIHtcbiAgICBjb25zdCBtZXNzYWdlSUQgPSAkdGhpcy5wYXJlbnROb2RlLmRhdGFzZXQuaWQ7XG5cbiAgICAkZGlhbG9nQ29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZCgnY2hhdF9fY29udGV4dC0tc2hvd24nKTtcbiAgICAkZGlhbG9nQ29udGV4dE1lbnUuc3R5bGUuY3NzVGV4dCA9IGBsZWZ0OiAke2UuY2xpZW50WCArIDEwfXB4OyB0b3A6ICR7ZS5jbGllbnRZICsgc2Nyb2xsWSArIDEwfXB4O2A7XG5cbiAgICAkZGlhbG9nRGVsZXRlTWVzc2FnZUJ0bi5kYXRhc2V0LmlkID0gbWVzc2FnZUlEO1xuICAgICRkaWFsb2dGb3JtLmRhdGFzZXQuaWQgPSBtZXNzYWdlSUQ7XG5cbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPCA3NjApIHtcbiAgICAgIHNjcmVlbk9mZnNldCA9IHdpbmRvdy5zY3JvbGxZO1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jc3NUZXh0ID0gYHBvc2l0aW9uOiBmaXhlZDsgbWFyZ2luLXRvcDogJHstd2luZG93LnNjcm9sbFl9cHhgO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb250ZXh0RGVzdHJveSgkdGhpcy5jbG9zZXN0KCdbZGF0YS1hY3Rpb249XCJkZWxldGVcIl0nKSk7XG4gIH1cbn0pO1xuXG4vLyBkZWxldGUgY2hhdCBtZXNzYWdlXG5pZiAoJGRpYWxvZ0RlbGV0ZU1lc3NhZ2VCdG4pIHtcbiAgJGRpYWxvZ0RlbGV0ZU1lc3NhZ2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmNoYXRfX21lc3NhZ2VbZGF0YS1pZD1cIiR7JGRpYWxvZ0RlbGV0ZU1lc3NhZ2VCdG4uZGF0YXNldC5pZH1cIl1gKS5yZW1vdmUoKTtcbiAgfSk7XG59XG5cbi8vIGhhbmRsZSBjb250ZXh0IGVkaXQgY2xpY2tcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdF9fY29udGV4dC1pdGVtW2RhdGEtYWN0aW9uPVwiZWRpdFwiXScpKSB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19jb250ZXh0LWl0ZW1bZGF0YS1hY3Rpb249XCJlZGl0XCJdJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY29uc3Qgb3JpZ2luYWxNZXNzYWdlVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5jaGF0X19tZXNzYWdlW2RhdGEtaWQ9XCIkeyRkaWFsb2dGb3JtLmRhdGFzZXQuaWR9XCJdIC5jaGF0X19tZXNzYWdlLXRleHRgKS5pbm5lclRleHQ7XG4gIFxuICAgICRkaWFsb2dGb3JtLmNsYXNzTGlzdC5hZGQoJ2NoYXRfX2Zvb3Rlci1jb250YWluZXItLWVkaXQnKTtcbiAgICAkZGlhbG9nRm9ybS5kYXRhc2V0LmFjdGlvbiA9ICdlZGl0JztcbiAgICAkZGlhbG9nSW5wdXRGaWVsZC5mb2N1cygpO1xuICAgICRkaWFsb2dJbnB1dEZpZWxkLnZhbHVlID0gb3JpZ2luYWxNZXNzYWdlVGV4dDtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdF9fZWRpdC10ZXh0JykuaW5uZXJUZXh0ID0gb3JpZ2luYWxNZXNzYWdlVGV4dDtcbiAgICBzZXREaWFsb2dJbnB1dEhlaWdodCgpO1xuICB9KTtcbn1cblxuLy8gY2FuY2VsIG1lc3NhZ2UgZWRpdGluZ1xuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19lZGl0LWNhbmNlbCcpKSB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19lZGl0LWNhbmNlbCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICRkaWFsb2dGb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2NoYXRfX2Zvb3Rlci1jb250YWluZXItLWVkaXQnKTtcbiAgICAkZGlhbG9nRm9ybS5kYXRhc2V0LmFjdGlvbiA9ICdzZW5kJztcbiAgICAkZGlhbG9nSW5wdXRGaWVsZC5mb2N1cygpO1xuICAgICRkaWFsb2dJbnB1dEZpZWxkLnZhbHVlID0gJyc7XG4gICAgc2V0RGlhbG9nSW5wdXRIZWlnaHQoKTtcbiAgfSk7XG59XG5cbi8vIGhhbmRsZSBkZWxldGUgZGlhbG9nIG9uIG1vYmlsZSBkZXZpY2VzXG5jb25zdCBzd2lwZUNvb3JkaW5hdGVzID0ge1xuICBzdGFydDogbnVsbCxcbiAgZW5kOiBudWxsLFxuICBkaWZmOiBudWxsXG59O1xuXG5pZiAoJGRpYWxvZ0xpc3RJdGVtcykge1xuICAkZGlhbG9nTGlzdEl0ZW1zLm1hcChlbCA9PiB7XG4gICAgY29uc3QgJGNoYXRJdGVtQ29udGFpbmVyID0gZWwucXVlcnlTZWxlY3RvcignLmNoYXQtaXRlbV9fY29udGFpbmVyJyk7XG4gICAgY29uc3QgJGNoYXRJdGVtRGVsZXRlID0gZWwucXVlcnlTZWxlY3RvcignLmNoYXQtaXRlbV9fZGVsZXRlJyk7XG4gIFxuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBlID0+IHtcbiAgICAgICRkaWFsb2dMaXN0SXRlbXMubWFwKGl0ZW0gPT4ge1xuICAgICAgICBpZiAoaXRlbSAhPT0gZWwpIHtcbiAgICAgICAgICBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5jaGF0LWl0ZW1fX2NvbnRhaW5lcicpLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKDApJztcbiAgICAgICAgICBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5jaGF0LWl0ZW1fX2RlbGV0ZScpLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKDApJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIFxuICAgICAgJGNoYXRJdGVtQ29udGFpbmVyLnN0eWxlLnRyYW5zaXRpb24gPSAnbm9uZSc7XG4gICAgICAkY2hhdEl0ZW1EZWxldGUuc3R5bGUudHJhbnNpdGlvbiA9ICdub25lJztcbiAgXG4gICAgICBzd2lwZUNvb3JkaW5hdGVzLnN0YXJ0ID0gZS50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgfSwgZmFsc2UpO1xuICBcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBlID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRDb29yZGluYXRlID0gZS50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICBjb25zdCBkaWZmID0gc3dpcGVDb29yZGluYXRlcy5zdGFydCAtIGN1cnJlbnRDb29yZGluYXRlO1xuICAgIFxuICAgICAgc3dpcGVDb29yZGluYXRlcy5lbmQgPSBjdXJyZW50Q29vcmRpbmF0ZTtcbiAgICAgIHN3aXBlQ29vcmRpbmF0ZXMuZGlmZiA9IGRpZmY7XG4gIFxuICBcbiAgICAgIGlmIChkaWZmID4gMCAmJiBkaWZmIDwgMTIwKSB7XG4gICAgICAgICRjaGF0SXRlbUNvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHtkaWZmfXB4KWA7XG4gICAgICAgICRjaGF0SXRlbURlbGV0ZS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHtkaWZmfXB4KWA7XG4gICAgICB9XG4gICAgfSwgZmFsc2UpO1xuICBcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGUgPT4geyAgICBcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBjb25zdCBkZXN0ID0gc3dpcGVDb29yZGluYXRlcy5kaWZmIDwgNjAgPyAwIDogLTEyMDtcbiAgICAgIFxuICAgICAgJGNoYXRJdGVtQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAuM3MgZWFzZTtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKCR7ZGVzdH1weCk7XG4gICAgICBgO1xuICAgICAgJGNoYXRJdGVtRGVsZXRlLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAuM3MgZWFzZTtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKCR7ZGVzdH1weCk7XG4gICAgICBgO1xuICAgIH0sIGZhbHNlKTtcbiAgfSk7XG59XG4gIC8vIGNyb3BwZWQgaW1hZ2UgdG8gc2VuZCB0byBzZXJ2ZXJcbmxldCBjcm9wcGVkSW1hZ2UgPSBudWxsO1xuXG4vLyBhbGwgcGVyc29uYWwgZm9ybXNcbmNvbnN0ICRwZXJzb25hbEZvcm1zID0gW3tcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1wZXJzb25hbC1kYXRhXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgIHNob3dOb3RpZmljYXRpb24oJ3N1Y2Nlc3MnKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1wZXJzb25hbC1leHBlcmllbmNlXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgIHNob3dOb3RpZmljYXRpb24oJ3N1Y2Nlc3MnKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1wZXJzb25hbC1jb250YWN0c10nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICBzaG93Tm90aWZpY2F0aW9uKCdzdWNjZXNzJyk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtcGVyc29uYWwtcGFzc10nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICBzaG93Tm90aWZpY2F0aW9uKCdzdWNjZXNzJyk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtcGVyc29uYWwtbm90aWZpY2F0aW9uXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgIHNob3dOb3RpZmljYXRpb24oJ3N1Y2Nlc3MnKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1wZXJzb25hbC1pbmZvXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgIHNob3dOb3RpZmljYXRpb24oJ3N1Y2Nlc3MnKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1waG90by1mb3JtXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3QgZmlsZURhdGEgPSBjcm9wcGVkSW1hZ2UuZ2V0RGF0YSgpO1xuICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgeDogcGFyc2VJbnQoZmlsZURhdGEueCksXG4gICAgICAgIHk6IHBhcnNlSW50KGZpbGVEYXRhLnkpLFxuICAgICAgICB3aWR0aDogcGFyc2VJbnQoZmlsZURhdGEud2lkdGgpLFxuICAgICAgICBoZWlnaHQ6IHBhcnNlSW50KGZpbGVEYXRhLmhlaWdodClcbiAgICAgIH07XG4gICAgICBjcm9wcGVkSW1hZ2UuZWxlbWVudC5jbG9zZXN0KCcucG9wdXBfX3Bob3RvJykucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImltYWdlQ3JvcEluZm9cIl0nKS52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuXG4gICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgc2hvd05vdGlmaWNhdGlvbignc3VjY2VzcycpO1xuICAgIH0sIDEwMDApO1xuICB9XG59XTtcblxuLy8gYXBwbHkgdmFsaWRhdGlvbiBvbiBwZXJzb25hbCBmb3Jtc1xuJHBlcnNvbmFsRm9ybXMubWFwKGZvcm0gPT4ge1xuICBjb25zdCB7ICRlbGVtZW50LCBjYWxsYmFjayB9ID0gZm9ybTtcblxuICBpZiAoJGVsZW1lbnQpIHtcbiAgICAkYXBpLnZhbGlkYXRlKCRlbGVtZW50LCAoKSA9PiBjYWxsYmFjaygkZWxlbWVudCkpO1xuICB9XG59KTtcblxuLy8gYWRkIGl0ZW1zIGxvZ2ljXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1wZXJzb25hbC1hZGQnKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCAkZWxlbWVudCA9IGVsLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignLmpzLWNvcHktaXRlbScpO1xuICBjb25zdCAkY2xvbmVkRWxlbWVudCA9ICRlbGVtZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgY29uc3QgJGlucHV0RHJvcGRvd24gPSAkY2xvbmVkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuaW5wdXQuZHJvcGRvd24nKTtcblxuICBBcnJheS5mcm9tKCRjbG9uZWRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mYWtlU2Nyb2xsX19jb250ZW50JykpLm1hcChlbCA9PiB7XG4gICAgY29uc3QgJG1lbnUgPSBlbC5jbG9zZXN0KCcuZHJvcGRvd25fX21lbnUnKTtcblxuICAgIEFycmF5LmZyb20oZWwuY2hpbGRyZW4pLm1hcChpdGVtID0+IHtcbiAgICAgICRtZW51Lmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlZW5kJywgaXRlbSk7XG4gICAgfSk7XG5cbiAgICBBcnJheS5mcm9tKCRjbG9uZWRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdJykpLm1hcChlbCA9PiBlbC52YWx1ZSA9ICcnKTtcbiAgICBBcnJheS5mcm9tKCRjbG9uZWRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpKS5tYXAoZWwgPT4gZWwuY2hlY2tlZCA9IGZhbHNlKTtcblxuICAgICRtZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2Zha2VTY3JvbGwnLCAnZmFrZVNjcm9sbC0taGFzQmFyJyk7XG4gICAgJG1lbnUucXVlcnlTZWxlY3RvcignLmZha2VTY3JvbGxfX3dyYXAnKS5yZW1vdmUoKTtcbiAgICAkbWVudS5xdWVyeVNlbGVjdG9yKCcuZmFrZVNjcm9sbF9fdHJhY2snKS5yZW1vdmUoKTtcbiAgICAkbWVudS5mYWtlU2Nyb2xsKCk7XG4gIH0pO1xuXG4gICRlbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdiZWZvcmVlbmQnLCAkY2xvbmVkRWxlbWVudCk7XG4gIFxuICBpZiAoJGlucHV0RHJvcGRvd24pIHtcbiAgICAkaW5wdXREcm9wZG93bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0ICRkcm9wZG93biA9ICRpbnB1dERyb3Bkb3duLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bl9fbWVudScpO1xuXG4gICAgICAkaW5wdXREcm9wZG93bi5jbG9zZXN0KCcuaW5wdXQnKS5xdWVyeVNlbGVjdG9yKCcuaW5wdXRfX2Ryb3Bkb3duJykuc3R5bGUud2lkdGggPSAkaW5wdXREcm9wZG93bi5jbG9zZXN0KCcuaW5wdXQnKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCArICdweCc7XG4gICAgXG4gICAgICBpZiAoISRkcm9wZG93bi5jbGFzc0xpc3QuY29udGFpbnMoJ2Zha2VTY3JvbGwnKSkge1xuICAgICAgICAkZHJvcGRvd24uZmFrZVNjcm9sbCgpO1xuICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICBBcnJheS5mcm9tKCRpbnB1dERyb3Bkb3duLnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dF9fZHJvcGRvd24taXRlbVtkYXRhLWRyb3Bkb3duXScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGVsLmlubmVyVGV4dDtcbiAgICAgIFxuICAgICAgZWwuY2xvc2VzdCgnLmlucHV0JykucXVlcnlTZWxlY3RvcignaW5wdXQnKS52YWx1ZSA9IHZhbHVlO1xuICAgICAgZWwuY2xvc2VzdCgnLmlucHV0JykuY2xhc3NMaXN0LnJlbW92ZSgnaW5wdXQtLWVycm9yJyk7XG4gICAgfSkpO1xuICB9XG59KSk7XG5cbi8vIGluaXRpYWxpemUgaW1hZ2UgY3JvcHBlclxuY29uc3QgY3JvcHBlckluaXQgPSBpbWFnZSA9PiB7XG4gIGNyb3BwZWRJbWFnZSA9IG5ldyBDcm9wcGVyKGltYWdlLCB7XG4gICAgdmlld01vZGU6IDMsXG4gICAgYXNwZWN0UmF0aW86IDEsXG4gICAgem9vbWFibGU6IGZhbHNlLFxuICAgIGd1aWRlczogZmFsc2UsXG4gICAgY2VudGVyOiBmYWxzZSxcbiAgICBoaWdobGlnaHQ6IGZhbHNlLFxuICAgIG1pbkNvbnRhaW5lcldpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCA8IDc2MCA/IDIwMCA6IDM1MCxcbiAgICBhdXRvQ3JvcEFyZWE6IDEsXG4gICAgbWluQ3JvcEJveFdpZHRoOiAyMDAsXG4gICAgbWluQ3JvcEJveEhlaWdodDogMjAwLFxuICAgIHByZXZpZXc6IGltYWdlLmNsb3Nlc3QoJy5wb3B1cF9fcGhvdG8nKS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3Bob3RvLXBpYycpXG4gIH0pO1xufTtcblxuY29uc3QgJGVkaXRQaG90b1BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJlZGl0LXBob3RvXCJdJyk7XG5pZiAoJGVkaXRQaG90b1BvcHVwKSB7XG4gICRlZGl0UGhvdG9Qb3B1cC5hZGRFdmVudExpc3RlbmVyKCdwb3B1cFNob3cnLCAoKSA9PiB7XG4gICAgY29uc3QgJHVwbG9hZGVkSW1hZ2UgPSAkZWRpdFBob3RvUG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19waG90by1pbWFnZVtkYXRhLXVwbG9hZGVkXScpO1xuICBcbiAgICBpZiAoJHVwbG9hZGVkSW1hZ2UpIHtcbiAgICAgIGNyb3BwZXJJbml0KCR1cGxvYWRlZEltYWdlKTtcbiAgICB9XG4gIH0pXG59XG5cbi8vIGdldCB1cGxvYWRlZCBwaG90b1xuY29uc3QgJHBvcHVwUGhvdG9JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1waG90by1pbnB1dCcpO1xuXG5pZiAoJHBvcHVwUGhvdG9JbnB1dCkge1xuICAkcG9wdXBQaG90b0lucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGUgPT4ge1xuICAgIGNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlc1swXTtcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICBcbiAgICByZWFkZXIub25sb2FkZW5kID0gKCkgPT4ge1xuICAgICAgY29uc3QgaW1hZ2UgPSByZWFkZXIucmVzdWx0O1xuICAgICAgY29uc3QgJGNyb3BwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3JvcHBlci1jb250YWluZXInKTtcbiAgICAgIGNvbnN0ICRwb3B1cFBob3RvQ29udGFpbmVyID0gJHBvcHVwUGhvdG9JbnB1dC5jbG9zZXN0KCcucG9wdXBfX3Bob3RvJyk7XG4gICAgICBcbiAgICAgIGlmICgkY3JvcHBlciB8fCAhJHBvcHVwUGhvdG9Db250YWluZXIucXVlcnlTZWxlY3RvcignLnBvcHVwX19waG90by1pbWFnZVtkYXRhLXVwbG9hZGVkXScpKSB7XG4gICAgICAgIGlmICgkY3JvcHBlcikge1xuICAgICAgICAgICRjcm9wcGVyLnJlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgJHBvcHVwUGhvdG9Db250YWluZXIucXVlcnlTZWxlY3RvcignLnBvcHVwX19waG90by1waWMnKS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7aW1hZ2V9KWA7XG4gICAgICAgICRwb3B1cFBob3RvQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGhvdG8taW1hZ2UnKS5yZW1vdmUoKTtcbiAgICAgICAgJHBvcHVwUGhvdG9Db250YWluZXIucXVlcnlTZWxlY3RvcignLnBvcHVwX19waG90by1jb250YWluZXInKS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBgPGltZyBjbGFzcz1cInBvcHVwX19waG90by1pbWFnZVwiIHNyYz1cIiR7aW1hZ2V9XCIgYWx0PVwiXCI+YClcbiAgICAgIH1cblxuICAgICAgY29uc3QgJGltYWdlRWxlbWVudCA9ICRwb3B1cFBob3RvQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGhvdG8taW1hZ2UnKTtcbiAgXG4gICAgICBjcm9wcGVySW5pdCgkaW1hZ2VFbGVtZW50KTtcbiAgICB9O1xuICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICB9KTtcbn1cblxuLy8gZ28gdG8gZGV0YWlsZWQgc2NoZWR1bGVcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBlcnNvbmFsX19zY2hlZHVsZS10aW1lLWxpbmsnKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCB0YXJnZXQgPSBlbC5kYXRhc2V0LnNjaGVkdWxlO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNjaGVkdWxlLW1haW5dJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtc2NoZWR1bGUtZGV0YWlsPVwiJHt0YXJnZXR9XCJdYCkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+IDExOTkpIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcbn0pKTtcblxuLy8gZ28gYmFjayB0byBtYWluIHNjaGVkdWxlXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wZXJzb25hbF9fYmFjaycpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGVsLmNsb3Nlc3QoJ1tkYXRhLXNjaGVkdWxlLWRldGFpbF0nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zY2hlZHVsZS1tYWluXScpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICBpZiAod2luZG93LmlubmVyV2lkdGggPiAxMTk5KSB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG59KSk7XG5cbi8vIGhhbmRsZSBzY2hlZHVsZSBkYXlzIHRvZ2dsZXJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGVyc29uYWxfX3NjaGVkdWxlJykpIHtcbiAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1wcmV2JykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCAkY3VycmVudFNjaGVkdWxlID0gZWwuY2xvc2VzdCgnW2RhdGEtc2NoZWR1bGUtZGV0YWlsXScpO1xuICAgIGNvbnN0IGN1cnJlbnRTY2hlZHVsZUlkID0gcGFyc2VJbnQoJGN1cnJlbnRTY2hlZHVsZS5kYXRhc2V0LnNjaGVkdWxlRGV0YWlsKTtcblxuICAgICRjdXJyZW50U2NoZWR1bGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1zY2hlZHVsZS1kZXRhaWw9XCIke2N1cnJlbnRTY2hlZHVsZUlkIC0gMX1cIl1gKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgfSkpO1xuXG4gIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2ZpbGUtc2NoZWR1bGVfX2NvbnRyb2xzLWJ1dHRvbi0tbmV4dCcpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY29uc3QgJGN1cnJlbnRTY2hlZHVsZSA9IGVsLmNsb3Nlc3QoJ1tkYXRhLXNjaGVkdWxlLWRldGFpbF0nKTtcbiAgICBjb25zdCBjdXJyZW50U2NoZWR1bGVJZCA9IHBhcnNlSW50KCRjdXJyZW50U2NoZWR1bGUuZGF0YXNldC5zY2hlZHVsZURldGFpbCk7XG5cbiAgICAkY3VycmVudFNjaGVkdWxlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtc2NoZWR1bGUtZGV0YWlsPVwiJHtjdXJyZW50U2NoZWR1bGVJZCArIDF9XCJdYCkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIH0pKTtcbn1cblxuY29uc3Qgc2V0U2VsZWN0ZWRTZXJ2aWNlVGVybSA9ICgpID0+IHtcbiAgY29uc3QgJGNoZWNrZWRSYWRpbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wZXJzb25hbF9fc2VydmljZXMtdGVybXMtLWFjdGl2ZSBpbnB1dDpjaGVja2VkJyk7XG5cbiAgaWYgKCRjaGVja2VkUmFkaW8pIHtcbiAgICBjb25zdCB0ZXJtID0gJGNoZWNrZWRSYWRpby5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yYWRpb19fdGV4dCcpLmlubmVySFRNTC5zcGxpdCgnPHNwYW4+JylbMF0udHJpbSgpO1xuICAgIGNvbnN0IGNvc3QgPSAkY2hlY2tlZFJhZGlvLnZhbHVlLnRvU3RyaW5nKCkucmVwbGFjZSgvXFxCKD89KFxcZHszfSkrKD8hXFxkKSkvZywgJyAnKSArICcgJiM4MzgxOyc7XG4gIFxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wZXJzb25hbF9fc2VydmljZXMtc2VsZWN0ZWQgc3BhbltkYXRhLXNlbGVjdGVkPVwidGVybVwiXScpLmlubmVyVGV4dCA9IHRlcm07XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBlcnNvbmFsX19zZXJ2aWNlcy10b3BheSBzcGFuJykuaW5uZXJIVE1MID0gY29zdDtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wZXJzb25hbF9fc2VydmljZXMtZm9vdGVyJykuY2xhc3NMaXN0LnJlbW92ZSgncGVyc29uYWxfX3NlcnZpY2VzLWZvb3Rlci0taGlkZGVuJyk7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NwYW5bZGF0YS1zZXJ2aWNlLWNvc3RdJykpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NwYW5bZGF0YS1zZXJ2aWNlLWNvc3RdJykuaW5uZXJIVE1MID0gY29zdDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBlcnNvbmFsX19zZXJ2aWNlcy1mb290ZXInKS5jbGFzc0xpc3QuYWRkKCdwZXJzb25hbF9fc2VydmljZXMtZm9vdGVyLS1oaWRkZW4nKTtcbiAgfVxufTtcblxuLy8gaGFuZGxlIHNlcnZpY2UgdG9nZ2xlclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBlcnNvbmFsX19zZXJ2aWNlcy1sYWJlbCBpbnB1dCcpLmZvckVhY2goZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICBjb25zdCB2YWx1ZSA9IGVsLnZhbHVlO1xuICBjb25zdCB0aXRsZSA9IGVsLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBlcnNvbmFsX19zZXJ2aWNlcy1oZWFkaW5nJykuaW5uZXJUZXh0O1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wZXJzb25hbF9fc2VydmljZXMtdGVybXMtLWFjdGl2ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ3BlcnNvbmFsX19zZXJ2aWNlcy10ZXJtcy0tYWN0aXZlJyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wZXJzb25hbF9fc2VydmljZXMtdGVybXNbZGF0YS10ZXJtcz1cIiR7dmFsdWV9XCJdYCkuY2xhc3NMaXN0LmFkZCgncGVyc29uYWxfX3NlcnZpY2VzLXRlcm1zLS1hY3RpdmUnKTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGVyc29uYWxfX3NlcnZpY2VzLXNlbGVjdGVkIHNwYW5bZGF0YS1zZWxlY3RlZD1cInNlcnZpY2VcIl0nKS5pbm5lckhUTUwgPSAnJmxhcXVvOycgKyB0aXRsZSArICcmcmFxdW87JztcblxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19oZWFkaW5nLXNlcnZpY2UnKSkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faGVhZGluZy1zZXJ2aWNlJykuaW5uZXJUZXh0ID0gdGl0bGU7XG4gIH1cblxuICBzZXRTZWxlY3RlZFNlcnZpY2VUZXJtKCk7XG59KSk7XG5cbi8vIGhhbmRsZSBzZXJ2aWNlIHRlcm0gdG9nZ2xlclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBlcnNvbmFsX19zZXJ2aWNlcy1yYWRpbyBpbnB1dCcpLmZvckVhY2goZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgc2V0U2VsZWN0ZWRTZXJ2aWNlVGVybSkpO1xuXG4vLyBzY3JvbGwgdG8gdmVyaWZpY2F0aW9uXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGVyc29uYWxfX3ZlcmlmeS1hcnJvdycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBzY3JvbGxUbyh7XG4gICAgdG9wOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGVyc29uYWxfX3ZlcmlmaWNhdGlvbi1idG4nKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQgLSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyJykub2Zmc2V0SGVpZ2h0IC0gMjAsXG4gICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gIH0pO1xufSk7XG5cbn0iXX0=
