"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,a=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(o=r.next()).done)&&(a.push(o.value),!t||a.length!==t);c=!0);}catch(e){i=!0,n=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw n}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}window.onload=function(){var e={popup:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.onHide,o=t.onShow,n=function(){document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px")},a=function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)};return{isShown:function(){return e.classList.contains("popup--opened")},show:function(){var t=new Promise((function(t){e.style.display="block",t()}));n(),t.then((function(){e.classList.add("popup--opened"),"function"==typeof o&&o()}))},hide:function(){var t=-parseInt(document.body.style.marginTop);e.classList.remove("popup--opened"),setTimeout((function(){e.style.display="none",a(t),"function"==typeof r&&r()}),300)}}},validate:function(e,t){var r=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,o=function(e){e.closest(".input")?e.closest(".input").classList.add("input--error"):e.closest(".textarea")&&e.closest(".textarea").classList.add("textarea--error"),e.focus()};e.querySelector('button[type="submit"]').addEventListener("click",(function(n){n.preventDefault();var a=!0,c=Array.from(e.querySelectorAll("input[required], textarea[required]")),i=e.querySelectorAll(".checkboxselect");c.reverse().map((function(e){switch(e.dataset.passRepeat&&e.value!==e.closest("form").querySelector("input[data-pass]").value&&o(e),e.getAttribute("type")){case"text":case"password":""===e.value&&(o(e),a=!1);break;case"tel":(""===e.value||e.value.includes("_"))&&(o(e),a=!1);break;case"checkbox":e.checked||(e.closest(".checkbox").classList.add("checkbox--error"),a=!1);break;case"email":r.test(e.value)||(o(e),a=!1);break;default:""===e.value&&(o(e),a=!1)}})),i.length&&Array.from(i).map((function(e){var t=!1;Array.from(e.querySelectorAll(".checkbox__input")).map((function(e){e.checked&&(t=!0)})),t||(e.classList.add("checkboxselect--error"),a=!1)})),a&&t()})),Array.from(e.querySelectorAll("input")).concat(Array.from(e.querySelectorAll("textarea"))).map((function(e){return e.addEventListener("input",(function(){e.closest(".input")?e.closest(".input").classList.remove("input--error"):e.closest(".checkbox")?e.closest(".checkbox").classList.remove("checkbox--error"):e.closest(".textarea")&&e.closest(".textarea").classList.remove("textarea--error")}))}))}};document.addEventListener("click",(function(t){var r=t.target;if(r.classList.contains("js-open-popup")){t.preventDefault();var o=r.dataset.popup,n=document.querySelector('.js-popup[data-popup="'.concat(o,'"]'));e.popup(n).show()}})),Array.from(document.querySelectorAll(".js-close-popup")).map((function(t){return t.addEventListener("click",(function(t){if(!t.target.closest(".popup__window")||!t.currentTarget.classList.contains("js-popup")){var r=t.currentTarget.closest(".popup");e.popup(r).hide()}}))})),[{$element:document.querySelector("form[data-restore-form]"),callback:function(){}},{$element:document.querySelector("form[data-request-auth-form]"),callback:function(){}},{$element:document.querySelector("form[data-offer-form]"),callback:function(){var t=document.querySelector('.js-popup[data-popup="offer"]'),r=document.querySelector('.js-popup[data-popup="offer-success"]');e.popup(t,{onHide:function(){Array.from(t.querySelectorAll("input")).map((function(e){return e.value=""})),e.popup(r).show()}}).hide()}},{$element:document.querySelector("form[data-request-form]"),callback:function(){var t=document.querySelector('.js-popup[data-popup="request"]'),r=document.querySelector('.js-popup[data-popup="request-success"]');e.popup(t,{onHide:function(){Array.from(t.querySelectorAll("input")).map((function(e){return e.value=""})),e.popup(r).show()}}).hide()}},{$element:document.querySelector("form[data-request-specific-form]"),callback:function(){var t=document.querySelector('.js-popup[data-popup="request-specific"]'),r=document.querySelector('.js-popup[data-popup="request-success"]');e.popup(t,{onHide:function(){Array.from(t.querySelectorAll("input")).map((function(e){return e.value=""})),e.popup(r).show()}}).hide()}}].map((function(t){var r=t.$element,o=t.callback;r&&e.validate(r,o)}));var t=Array.from(document.querySelectorAll(".dropdown"));document.addEventListener("click",(function(e){var r=e.target;t.map((function(e){e.closest(".dropdown")!==r.closest(".dropdown")&&e.classList.remove("dropdown--active")}))})),t.map((function(e){return e.addEventListener("click",(function(r){e.classList.contains("input__code")&&r.preventDefault(),e.classList.contains("dropdown--active")||(t.map((function(e){return e!=e&&e.classList.remove("dropdown--active")})),e.classList.toggle("dropdown--active"))}))})),document.addEventListener("click",(function(e){var t=e.target.closest(".dropdown__menu-item");if(t&&(document.querySelector(".dropdown--active").classList.remove("dropdown--active"),t.getAttribute("data-toggle"))){var r=e.target,o=r.innerText,n=r.closest(".dropdown__menu").querySelector(".dropdown__menu-item--hidden"),a=r.closest(".dropdown").querySelector(".dropdown__value");n&&n.classList.remove("dropdown__menu-item--hidden"),t.classList.add("dropdown__menu-item--hidden"),a.innerText=o}})),Array.from(document.querySelectorAll(".tabs__item")).map((function(e){return e.addEventListener("click",(function(t){t.preventDefault();var r=e.dataset.tab,o=e.closest("[data-tabs]").querySelector("[data-active]");e.closest(".tabs").querySelector(".tabs__item--active").classList.remove("tabs__item--active"),e.classList.add("tabs__item--active"),o&&(e.closest("[data-tabs]").querySelector("[data-active]").removeAttribute("data-active"),e.closest("[data-tabs]").querySelector('[data-content="'.concat(r,'"]')).setAttribute("data-active",!0))}))}));var r=new Event("changeCountry");Array.from(document.querySelectorAll(".input.dropdown")).concat(Array.from(document.querySelectorAll(".input .dropdown"))).map((function(e){return e.addEventListener("click",(function(){var t=e.querySelector(".dropdown__menu");e.closest(".input").querySelector(".input__dropdown").style.width=e.closest(".input").getBoundingClientRect().width+"px",t.classList.contains("fakeScroll")||t.fakeScroll()}))})),Array.from(document.querySelectorAll(".input__dropdown-item[data-code-loc]")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.codeLoc,r=e.dataset.mask,o=e.closest(".input").querySelector("input");e.closest(".input__code").dataset.codeLoc=t,e.closest(".input__code").dataset.mask=r,o.placeholder=r.replaceAll("9","_"),function(e,t){Inputmask({mask:t}).mask(e)}(o,r)}))})),Array.from(document.querySelectorAll(".input__dropdown-item[data-dropdown]")).map((function(e){return e.addEventListener("click",(function(){var t=e.innerText;e.closest(".input").querySelector("input").value=t,e.closest(".input").classList.remove("input--error"),e.closest(".input").classList.contains("js-auth-country")&&e.closest(".input").dispatchEvent(r)}))})),Array.from(document.querySelectorAll('input[type="tel"]')).map((function(e){Inputmask({mask:e.closest(".input").querySelector(".input__code").dataset.mask}).mask(e)})),Array.from(document.querySelectorAll(".checkboxselect__list")).map((function(e){e.addEventListener("click",(function(t){t.stopPropagation();var r=e.closest(".checkboxselect"),o=!1;r.classList.remove("checkboxselect--error"),Array.from(e.querySelectorAll(".checkbox__input")).map((function(t){var n=r.querySelector(".checkboxselect__input-placeholder");t.checked&&(o=!0),t.addEventListener("click",(function(){var t="";Array.from(e.querySelectorAll("input:checked")).map((function(e){t+=e.closest(".checkboxselect__item").querySelector(".checkbox__text").innerText+", "})),t?(n.innerText=t.substring(0,t.length-2),n.classList.add("checkboxselect__input-placeholder--active")):(n.innerText=n.dataset.placeholder,n.classList.remove("checkboxselect__input-placeholder--active"))}))})),o?r.classList.add("checkboxselect--checked"):r.classList.remove("checkboxselect--checked")})),e.fakeScroll()})),Array.from(document.querySelectorAll(".filters__dropdown-item")).map((function(e){return e.addEventListener("click",(function(e){var t=e.currentTarget,r=t.innerText;t.closest(".filters__input").querySelector(".filters__input-field").value=r}))})),document.querySelectorAll(".filters__input-field").length&&Array.from(document.querySelectorAll(".filters__input-field")).map((function(e){fetch("data/location.json").then((function(e){return e.json()})).then((function(t){var r=e,o=function(e){var o=r.nextElementSibling.querySelector(".filters__dropdown-inner"),n=o.querySelector(".fakeScroll__content")||o,a="location"===r.getAttribute("name"),c=a?t.map((function(e){return e.key})).concat(t.flatMap((function(e){return e.cities}))):JSON.parse(r.dataset.options),i=r.value.toLowerCase(),s=n.closest(".filters__dropdown").querySelector('input[type="checkbox"]'),l=!1;n.innerHTML="",c.map((function(t){if(e||0===t.toLowerCase().indexOf(i)){var r=a?'<a class="filters__dropdown-item dropdown__menu-item'.concat(i&&!e?" filters__dropdown-item--smart":"",'" href="javascript:void(0)"><span>').concat(t.substr(0,i.length),"</span>").concat(t.substr(i.length),"</a>"):'<a class="filters__dropdown-item dropdown__menu-item" href="javascript:void(0)">'.concat(t,"</a>");l=!0,n.insertAdjacentHTML("beforeend",r)}})),l?(o.parentNode.classList.remove("filters__dropdown--hidden"),o.parentNode.classList.remove("filters__dropdown--empty")):s?o.parentNode.classList.add("filters__dropdown--empty"):o.parentNode.classList.add("filters__dropdown--hidden"),Array.from(n.querySelectorAll(".filters__dropdown-item")).map((function(e){return e.addEventListener("click",(function(){r.value=e.innerText,r.setAttribute("data-value",e.innerText),s&&(s.checked=!1,r.removeAttribute("readonly"))}))})),e&&!o.classList.contains("fakeScroll")&&n.fakeScroll()};"cost"!==r.name&&(r.addEventListener("input",(function(){return o(!1)})),r.addEventListener("focus",(function(){return o(!0)})),r.addEventListener("blur",(function(){""!==r.value&&r.dataset.value?r.value=r.dataset.value:r.value=""})))}))})),Array.from(document.querySelectorAll(".filters__cost-range")).map((function(e){var t=+e.dataset.min,r=+e.dataset.max,o=+e.dataset.min,n=+e.dataset.max;noUiSlider.create(e,{start:[o,n],connect:!0,range:{min:t,max:r},step:100}),e.noUiSlider.on("slide",(function(t){var r=parseInt(t[0]),o=parseInt(t[1]);e.closest(".filters__input").querySelector(".filters__input-field").value="".concat(r," ₽ – ").concat(o," ₽"),e.closest(".filters__cost").querySelector('[data-cost="from"]').innerText=r,e.closest(".filters__cost").querySelector('[data-cost="to"]').innerText=o}))})),Array.from(document.querySelectorAll(".filters__dropdown-checkbox")).map((function(e){return e.addEventListener("click",(function(){var t=e.closest(".filters__input").querySelector(".filters__input-field");if(e.querySelector("input").checked){var r=e.querySelector(".checkbox__text").innerText;t.value=r,t.setAttribute("data-value",r),t.setAttribute("readonly","readonly")}else t.value="",t.setAttribute("data-value",""),t.removeAttribute("readonly")}))})),document.addEventListener("click",(function(e){var t=e.target;t.classList.contains("js-tutorcard-more")&&(t.style.display="none",Array.from(t.closest(".tutorcard__subjects").querySelectorAll(".tutorcard__subjects-item--hidden")).map((function(e){e.classList.remove("tutorcard__subjects-item--hidden")})))}));var o=document.querySelector(".banner");JSON.parse(localStorage.getItem("letmetutor:bannerIsHidden"))?o.remove():(o.style.display="flex",document.querySelector(".banner__close").addEventListener("click",(function(){o.classList.add("banner--hide"),setTimeout((function(){o.remove(),localStorage.setItem("letmetutor:bannerIsHidden",!0)}),500)})));var n=document.querySelector(".cookies");JSON.parse(localStorage.getItem("letmetutor:cookiesIsHidden"))?n.remove():(n.classList.add("cookies--shown"),document.querySelector(".cookies__btn").addEventListener("click",(function(){n.classList.remove("cookies--shown"),setTimeout((function(){n.remove(),localStorage.setItem("letmetutor:cookiesIsHidden",!0)}),500)})));var a=function(){!function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)}(),document.querySelector(".header-menu").classList.remove("header-menu--shown")};document.querySelector(".header__burger").addEventListener("click",(function(){-parseInt(document.body.style.marginTop),document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px"),document.querySelector(".header-menu").classList.add("header-menu--shown")})),document.querySelector(".header-menu__backdrop").addEventListener("click",a),document.querySelector(".header-menu__close").addEventListener("click",a),Array.from(document.querySelectorAll(".header__notifications-wrapper")).map((function(e){e.classList.contains("fakeScroll")||e.fakeScroll()}));new Swiper(".popular__grid--mobile",{loop:!0,loopAdditionalSlides:3,spaceBetween:20,slidesPerView:"auto",centeredSlides:!0,breakpoints:{760:{slidesPerView:2,centeredSlides:!1}}}),new Swiper(".reviews__slider",{loop:!0,spaceBetween:20,slidesPerView:3,slidesPerGroup:3,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".reviews__slider--mobile",{loop:!0,spaceBetween:20,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}});document.querySelector("form[data-login-form]")&&e.validate(document.querySelector("form[data-login-form]"),(function(){document.querySelector("form[data-login-form]").submit()})),document.querySelector("form[data-signup-student-form]")&&e.validate(document.querySelector("form[data-signup-student-form]"),(function(){document.querySelector("form[data-signup-student-form]").submit()})),document.querySelector("form[data-signup-tutor-form]")&&e.validate(document.querySelector("form[data-signup-tutor-form]"),(function(){document.querySelector("form[data-signup-tutor-form]").submit()})),document.querySelector("form[data-support-form]")&&e.validate(document.querySelector("form[data-support-form]"),(function(){document.querySelector("form[data-support-form]").submit()})),Array.from(document.querySelectorAll(".js-auth-country")).map((function(e){return e.addEventListener("changeCountry",(function(t){e.closest("form").querySelector(".js-auth-city").dataset.country=t.target.querySelector("input").value}))})),document.querySelectorAll(".js-auth-city input").length&&fetch("data/location.json").then((function(e){return e.json()})).then((function(e){Array.from(document.querySelectorAll(".js-auth-city input")).map((function(t){t.addEventListener("input",(function(t){var r=t.currentTarget,o=r.closest(".input"),n=o.dataset.country;if(n){var a=e.filter((function(e){return e.key===n}))[0].cities,c=r.value.toLowerCase(),i=r.closest(".input").querySelector(".dropdown__menu"),s=i.querySelector(".fakeScroll__content"),l=!1;s&&(s.innerHTML=""),""!==r.value&&(a.map((function(e){0===e.toLowerCase().indexOf(c)&&(l=!0,s.insertAdjacentHTML("beforeend",'<a class="input__dropdown-item dropdown__menu-item'.concat(c?" input__dropdown-item--smart":"",'" href="javascript:void(0)"><span>').concat(e.substr(0,c.length),"</span>").concat(e.substr(c.length),"</a>")))})),l&&Array.from(o.querySelectorAll(".input__dropdown-item")).map((function(e){return e.addEventListener("click",(function(){r.value=e.innerText}))}))),i.classList.contains("fakeScroll")||i.fakeScroll()}})),t.addEventListener("focus",(function(){var e=t.closest(".input").querySelector(".fakeScroll__content");e&&(e.innerHTML="")}))}))})),Array.from(document.querySelectorAll('input[name="rulesAgreement"]')).map((function(e){return e.addEventListener("change",(function(){var t=e.closest("form").querySelector('button[type="submit"]');e.checked?(t.classList.remove("button--disabled"),t.removeAttribute("disabled")):(t.classList.add("button--disabled"),t.setAttribute("disabled","disabled"))}))})),Array.from(document.querySelectorAll(".auth__toggle .tabs__item")).map((function(e){return e.addEventListener("click",(function(){document.querySelector(".auth__type").value=e.dataset.tab-1}))}));var c=document.querySelector(".js-catalog-more");if(c){var i=document.querySelector(".pagination__arrow--prev"),s=document.querySelector(".pagination__arrow--next"),l={current:[1],total:10},u=function(e){Array.from(document.querySelectorAll(".pagination__page--current")).map((function(e){return e.classList.remove("pagination__page--current")})),document.querySelector('.pagination__page[data-page="'.concat(e,'"]')).classList.add("pagination__page--current")},d=function(e){var t=document.querySelector(".pagination__separator"),r=t.previousSibling,o=document.querySelector(".pagination__page");+r.dataset.page===e?e===l.total-2?(o.remove(),t.classList.add("pagination__separator--hidden"),t.insertAdjacentHTML("beforebegin",'<a class="pagination__page" href="javascript:void(0)" data-page="'.concat(e+1,'">').concat(e+1,"</a>"))):e<l.total-2&&(o.remove(),t.insertAdjacentHTML("beforebegin",'<a class="pagination__page" href="javascript:void(0)" data-page="'.concat(e+1,'">').concat(e+1,"</a>")),t.classList.remove("pagination__separator--hidden")):+o.dataset.page===e&&1!==e&&(r.remove(),document.querySelector(".pagination__pages").insertAdjacentHTML("afterbegin",'<a class="pagination__page" href="javascript:void(0)" data-page="'.concat(e-1,'">').concat(e-1,"</a>")),t.classList.remove("pagination__separator--hidden"))},p=function(e){var t=e,r=Array.from(document.querySelectorAll(".filters__input-field")).map((function(e){return e.name}));return new URL(location.href).searchParams.toString().split("&").map((function(e){var o=_slicedToArray(e.split("="),1)[0];r.includes(o)&&(t+="&"+e)})),t+="&limit=".concat(document.querySelector(".js-catalog-limit .dropdown__value").innerText)},m=function(e){var t=e.top,r=e.image,o=e.verified,n=e.name,a=e.country,c=e.subjects,i=e.location,s=e.description,l=e.link,u=e.rating,d=e.reviews,p=e.price;return'\n    <div class="tutorcard'.concat(t?" tutorcard--top":"",'">\n      <div class="tutorcard__image" style="background-image: url(\'img/inhtml/').concat(r,'\')"></div>\n      <div class="tutorcard__info">\n        <div>\n          <p class="tutorcard__name').concat(o?" tutorcard__name--verified":"",'">').concat(n,'</p>\n          <p class="tutorcard__location" data-loc=').concat(a,">").concat(i,'</p>\n          <div class="tutorcard__subjects">\n            ').concat(c.map((function(e){return'\n              <a class="tutorcard__subjects-item'.concat(e.search?" tutorcard__subjects-item--search":"").concat(e.hidden?" tutorcard__subjects-item--hidden":"",'" href="javascript:void(0)">').concat(e.name," <span>(опыт <b>").concat(e.experience,"</b>)</span></a>\n            ")})).join(""),'\n            <a class="tutorcard__subjects-more js-tutorcard-more" href="javascript:void(0)">+2 предмета</a>\n          </div>\n          <p class="tutorcard__desc">').concat(s,'</p>\n        </div><a class="tutorcard__more" href=').concat(l,'>Подробнее</a>\n      </div>\n      <div class="tutorcard__actions">\n        <div class="tutorcard__actions-info">\n          <div class="tutorcard__rating').concat(0===parseInt(d)?" tutorcard__rating--empty":"",'">\n            <p class="tutorcard__rating-rate">').concat(u,'</p>\n            <p class="tutorcard__rating-reviews">(').concat(d,')</p>\n          </div>\n          <div class="tutorcard__cost">\n            <p class="tutorcard__cost-value">').concat(p,' ₽</p>\n            <p class="tutorcard__cost-desc">в час</p>\n          </div>\n        </div>\n        <button class="button js-open-popup').concat(t?" button--primary":" button--secondary",' tutorcard__btn" data-popup="request-auth">Оставить заявку</button>\n      </div>\n    </div>\n  ')};c.addEventListener("click",(function(e){e.preventDefault();var t=l.current[l.current.length-1]+1,r=p("data/catalog.json?page=".concat(t));l.current.push(t),Array.from(document.querySelectorAll(".pagination__page")).map((function(e){l.current.includes(parseInt(e.innerText))&&e.classList.add("pagination__page--current")})),fetch(r).then((function(e){return e.json()})).then((function(e){e.map((function(e){document.querySelector(".catalog__items").insertAdjacentHTML("beforeend",m(e))})),t===l.total&&(c.classList.add("catalog__bottom-btn--hidden"),s.classList.add("pagination__arrow--disabled"))}))})),i.addEventListener("click",(function(e){e.preventDefault();var t=l.current[0]-1,r=p("data/catalog.json?page=".concat(t));l.current=[t],fetch(r).then((function(e){return e.json()})).then((function(e){var r="";e.map((function(e){r+=m(e)})),document.querySelector(".pagination__arrow--next").classList.remove("pagination__arrow--disabled"),u(t),1===t&&i.classList.add("pagination__arrow--disabled"),c.classList.remove("catalog__bottom-btn--hidden"),document.querySelector(".catalog__items").innerHTML=r})),d(t)})),s.addEventListener("click",(function(e){e.preventDefault();var t=l.current[l.current.length-1]+1,r=p("data/catalog.json?page=".concat(t));l.current=[t],fetch(r).then((function(e){return e.json()})).then((function(e){var r="";e.map((function(e){r+=m(e)})),document.querySelector(".pagination__arrow--prev").classList.remove("pagination__arrow--disabled"),u(t),t===l.total&&(c.classList.add("catalog__bottom-btn--hidden"),s.classList.add("pagination__arrow--disabled")),document.querySelector(".catalog__items").innerHTML=r,d(t)}))})),document.addEventListener("click",(function(e){var t=e.target;if(t.classList.contains("pagination__page")){var r=parseInt(t.dataset.page),o=p("data/catalog.json?page=".concat(r));l.current=[r],fetch(o).then((function(e){return e.json()})).then((function(e){var t="";e.map((function(e){t+=m(e)})),u(r),r===l.total?(c.classList.add("catalog__bottom-btn--hidden"),s.classList.add("pagination__arrow--disabled")):1===r?(i.classList.add("pagination__arrow--disabled"),c.classList.remove("catalog__bottom-btn--hidden")):(s.classList.remove("pagination__arrow--disabled"),i.classList.remove("pagination__arrow--disabled"),c.classList.remove("catalog__bottom-btn--hidden")),d(r),document.querySelector(".catalog__items").innerHTML=t}))}}))}Array.from(document.querySelectorAll(".tutor__nav-link")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.target;scrollTo({top:document.querySelector('[data-block="'.concat(t,'"]')).getBoundingClientRect().top+window.pageYOffset-document.querySelector(".header").offsetHeight,behavior:"smooth"})}))})),Array.from(document.querySelectorAll(".profile-head__subjects-item")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.pay;e.closest(".profile-head__subjects").querySelector(".profile-head__subjects-item--highlight").classList.remove("profile-head__subjects-item--highlight"),e.classList.add("profile-head__subjects-item--highlight"),Array.from(document.querySelectorAll(".tutor__cost-value span")).map((function(e){return e.innerText=t}))}))}));var f=document.querySelector(".profile-about__video-cover");f&&f.addEventListener("click",(function(){var e=f.parentNode.querySelector("iframe");f.parentNode.querySelector("iframe").setAttribute("src",e.getAttribute("src")+"?autoplay=1"),f.classList.add("profile-about__video-cover--hidden")}));var _=document.querySelector(".js-reviews-more");if(_){var v={current:1,total:3};_.addEventListener("click",(function(e){e.preventDefault();var t=_.dataset.url;++v.current,fetch("".concat(t,"?page=").concat(v.current)).then((function(e){return e.json()})).then((function(e){e.map((function(e){var t,r,o,n,a,c,i;document.querySelector(".profile-reviews__feedbacks").insertAdjacentHTML("beforeend",(r=(t=e).image,o=t.name,n=t.date,a=t.rating,c=t.feedback,i=t.tag,'\n    <div class="profile-reviews__feedback">\n      '.concat(r?'<div class="profile-reviews__feedback-image" style="background-image: url(\'img/inhtml/'.concat(r,"')\"></div>"):'<div class="profile-reviews__feedback-image"></div>','\n      <div class="profile-reviews__feedback-info">\n        <div class="profile-reviews__feedback-head">\n          <div>\n            <p class="profile-reviews__feedback-name">').concat(o,'</p>\n            <p class="profile-reviews__feedback-date">').concat(n,"</p>\n          </div>\n          ").concat(i?'<p class="profile-reviews__feedback-tag">'+i+"</p>":"",'\n        </div>\n        <div class="profile-reviews__rating-stars">\n          ').concat([1,2,3,4,5].map((function(e){return e<=a?'<div class="profile-reviews__rating-star profile-reviews__rating-star--full"></div>':'<div class="profile-reviews__rating-star"></div>'})).join(""),'\n        </div>\n        <p class="profile-reviews__feedback-text">').concat(c,"</p>\n      </div>\n    </div>\n  "))),v.current===v.total&&_.remove()}))}))}))}if(document.querySelector(".profile-schedule")){var y=document.querySelector(".profile-schedule__timezone-menu");y.classList.contains("fakeScroll")||y.fakeScroll()}var h=function(){var e=document.querySelector(".profile-schedule__unit--current"),t=document.querySelector('.js-popup[data-popup="request-specific"]');e&&setTimeout((function(){var r=e.dataset.date,o=e.querySelector(".profile-schedule__time-value").innerText;document.querySelector(".profile-schedule__pick").classList.add("profile-schedule__pick--active"),document.querySelector(".profile-schedule__pick-date").innerText=r,document.querySelector(".profile-schedule__pick-time").innerText=o,t&&(t.querySelector(".popup__heading-date").innerText=r,t.querySelector(".popup__heading-time").innerText=o,t.querySelector('input[name="time"]').value=o)}),0)},b=document.querySelector(".profile-schedule__controls-button--prev"),S=document.querySelector(".profile-schedule__controls-button--next");b&&b.addEventListener("click",(function(){var e=document.querySelector(".profile-schedule__slide--active"),t=+e.dataset.slide,r=document.querySelector('.profile-schedule__slide[data-slide="'.concat(t-1,'"]'));r&&(e.classList.remove("profile-schedule__slide--active"),r.classList.add("profile-schedule__slide--active"),document.querySelector(".profile-schedule__controls-button--next").classList.remove("profile-schedule__controls-button--disabled"),document.querySelector(".profile-schedule__controls-dates").innerText=r.dataset.dates,r.dataset.first&&b.classList.add("profile-schedule__controls-button--disabled"))})),S&&S.addEventListener("click",(function(){var e=document.querySelector(".profile-schedule__slide--active"),t=+e.dataset.slide,r=document.querySelector('.profile-schedule__slide[data-slide="'.concat(t+1,'"]'));r&&(e.classList.remove("profile-schedule__slide--active"),r.classList.add("profile-schedule__slide--active"),document.querySelector(".profile-schedule__controls-button--prev").classList.remove("profile-schedule__controls-button--disabled"),document.querySelector(".profile-schedule__controls-dates").innerText=r.dataset.dates,r.dataset.last&&S.classList.add("profile-schedule__controls-button--disabled"))})),Array.from(document.querySelectorAll(".profile-schedule__unit")).map((function(e){return e.addEventListener("click",(function(t){if(!t.target.closest(".profile-schedule__time")){var r=document.querySelector(".profile-schedule__unit--current");r&&r.classList.remove("profile-schedule__unit--current"),e.classList.add("profile-schedule__unit--current"),h()}}))})),Array.from(document.querySelectorAll(".profile-schedule__time-menu .dropdown__menu-item")).map((function(e){return e.addEventListener("click",h)}))};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbmxvYWQiLCIkYXBpIiwiJHBvcHVwIiwiX3JlZiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsIm9uSGlkZSIsIm9uU2hvdyIsImhpZGVPdmVyZmxvdyIsImRvY3VtZW50IiwiYm9keSIsInN0eWxlIiwiY3NzVGV4dCIsImNvbmNhdCIsInNjcm9sbFkiLCJzaG93T3ZlcmZsb3ciLCJvZmZzZXQiLCJzY3JvbGxUbyIsImlzU2hvd24iLCJjb250YWlucyIsInNob3ciLCJQcm9taXNlIiwicmVzb2x2ZSIsImNsYXNzTGlzdCIsImFkZCIsImhpZGUiLCJwYXJzZUludCIsIm1hcmdpblRvcCIsImRpc3BsYXkiLCJ0aGVuIiwiZm9ybSIsInJlcXVlc3QiLCJlbWFpbFJlZ2V4cCIsInJlbW92ZSIsInNldFRpbWVvdXQiLCJpbnB1dCIsImNsb3Nlc3QiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIiRmb3JtSW5wdXRzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsInNldEludmFsaWRJbnB1dCIsIm1hcCIsImVsIiwiZGF0YXNldCIsInZhbHVlIiwiZm9jdXMiLCJzZXRJbnZhbGlkQ2hlY2tib3giLCJmb3JtSXNWYWxpZCIsImluY2x1ZGVzIiwiJGNoZWNrYm94U2VsZWN0IiwiY2hlY2tlZCIsImdldEF0dHJpYnV0ZSIsImNoZWNrYm94IiwiJHRoaXMiLCJ0YXJnZXQiLCJwb3B1cCIsImN1cnJlbnRUYXJnZXQiLCJjYWxsYmFjayIsIiRlbGVtZW50IiwiJHN1Y2Nlc3NQb3B1cCIsIiRkcm9wZG93bnMiLCJ0b2dnbGUiLCIkZHJvcGRvd25NZW51SXRlbSIsImlubmVyVGV4dCIsIiRoaWRkZW5JdGVtIiwiJGRyb3Bkb3duVmFsdWUiLCJuZXdWYWx1ZSIsInRhYiIsIiRhY3RpdmVUYWJDb250ZW50IiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiY2hhbmdlQ291bnRyeUV2ZW50IiwiRXZlbnQiLCIkZHJvcGRvd24iLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ3aWR0aCIsImZha2VTY3JvbGwiLCJsb2MiLCJjb2RlTG9jIiwibWFzayIsIiRpbnB1dCIsIklucHV0bWFzayIsInJlcGxhY2VBbGwiLCJ1cGRhdGVNYXNrIiwiZGlzcGF0Y2hFdmVudCIsImxpc3QiLCJpdGVtIiwiJHBsYWNlaG9sZGVyIiwic3Vic3RyaW5nIiwicGxhY2Vob2xkZXIiLCJzdG9wUHJvcGFnYXRpb24iLCJmZXRjaCIsInJlcyIsImpzb24iLCJkYXRhIiwiaGFuZGxlSW5wdXQiLCJmaXJzdFJlbmRlciIsIm5leHRFbGVtZW50U2libGluZyIsIiRkcm9wZG93bkVsZW1lbnQiLCJpbnB1dFNtYXJ0U2VhcmNoIiwia2V5IiwiZmxhdE1hcCIsImNpdGllcyIsIkpTT04iLCJwYXJzZSIsIm9wdGlvbnMiLCJ0b0xvd2VyQ2FzZSIsImlubmVySFRNTCIsImluZGV4T2YiLCJsb3dlckNhc2VWYWx1ZSIsInN1YnN0ciIsImluc2VydEFkamFjZW50SFRNTCIsIm1hdGNoZXNGb3VuZCIsInBhcmVudE5vZGUiLCIkY2hlY2tib3giLCJuYW1lIiwiJHJhbmdlIiwibWluIiwibWF4Iiwic21pbiIsIm5vVWlTbGlkZXIiLCJjcmVhdGUiLCJjb25uZWN0IiwicmFuZ2UiLCJzdGVwIiwib24iLCJ2YWx1ZXMiLCJzdGFydCIsInNtYXgiLCIkaW5wdXRGaWVsZCIsImNoZWNrYm94VmFsdWUiLCIkdGFyZ2V0IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIiRiYW5uZXIiLCJzZXRJdGVtIiwiJGNvb2tpZXMiLCJoaWRlSGVhZGVyTWVudSIsIlN3aXBlciIsImxvb3AiLCJzbGlkZXNQZXJWaWV3IiwiY2VudGVyZWRTbGlkZXMiLCJzcGFjZUJldHdlZW4iLCJzbGlkZXNQZXJHcm91cCIsInBvcHVsYXJTbGlkZXIiLCJsb29wQWRkaXRpb25hbFNsaWRlcyIsInBhZ2luYXRpb24iLCJyZXZpZXdzU2xpZGVyIiwic3VibWl0IiwicmV2aWV3U2xpZGVyTW9iaWxlIiwiY2xpY2thYmxlIiwidmFsaWRhdGUiLCJjb3VudHJ5IiwiZmlsdGVyIiwiJGRyb3Bkb3duQ29udGVudCIsIiRzdWJtaXRCdXR0b24iLCIkY2F0YWxvZ01vcmVCdG4iLCIkcHJldkFycm93IiwiJG5leHRBcnJvdyIsImN1cnJlbnQiLCJ0b3RhbCIsImN1cnJlbnRQYWdlIiwic2V0QnJlYWsiLCJsYXRlc3RQYWdlIiwiJGJlZm9yZVNlcGFyYXRvckl0ZW0iLCIkc2VwYXJhdG9yIiwicHJldmlvdXNTaWJsaW5nIiwicGFnZSIsIiRmaXJzdEl0ZW0iLCJjYXRhbG9nUGFnZXMiLCJzZXRDdXJyZW50UGFnZSIsImZvcm1hdFVSTCIsInVybCIsImZvcm1hdHRlZFVSTCIsIlVSTCIsIl9zbGljZWRUb0FycmF5IiwiZmlsdGVyc05hbWVzIiwiY2F0YWxvZ0l0ZW1FbGVtZW50IiwidmVyaWZpZWQiLCJsb2NhdGlvbiIsImRlc2NyaXB0aW9uIiwibGluayIsInJhdGluZyIsInJldmlld3MiLCJwcmljZSIsImltYWdlIiwic2VhcmNoIiwiaGlkZGVuIiwiZXhwZXJpZW5jZSIsInNlYXJjaFBhcmFtcyIsImpvaW4iLCJxdWVyeVVybCIsIiRlbGVtZW50cyIsInRvcCIsInBhZ2VZT2Zmc2V0IiwiYmVoYXZpb3IiLCJwYXltZW50IiwiJHByb2ZpbGVWaWRlb0NvdmVyIiwiJHZpZGVvIiwiJHJldmlld3NNb3JlQnRuIiwicmV2aWV3c1BhZ2VzIiwiX3JlZjMiLCJkYXRlIiwiZmVlZGJhY2siLCJ0YWciLCIkdGltZXpvbmVEcm9wZG93biIsInJldmlldyIsIiRjdXJyZW50VW5pdCIsInNldERhdGVUaW1lIiwidGltZSIsIiRwcmV2QnV0dG9uIiwiJGFjdGl2ZVNsaWRlIiwiY3VycmVudEluZGV4Iiwic2xpZGUiLCIkcHJldlNsaWRlIiwiJG5leHRCdXR0b24iLCJkYXRlcyIsImZpcnN0IiwiJG5leHRTbGlkZSIsImxhc3Qi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Q0FBQXhCLE9BQUE0TSxFQUFBLEVBQUEsT0FLTU0sSUFDRlAsRUFBYWpNLFVBQVVVLE9BQU8sbUNBYXBDUyxFQUFXakMsVUFBU21DLElBQUFBLG1DQUFtRG5DLFNBQU82QixjQUFBQSw0Q0FBK0JmLFVBQUFVLE9BQUEsK0NBQzNHeEIsU0FBT2tELGNBQWUscUNBQTRCUyxVQUFBMkosRUFBQS9LLFFBQUE2SyxNQVQxQ0UsRUFBVy9LLFFBQVFnTCxNQVl6QkosRUFBSVIsVUFBYzVMLElBQUEsbURBT3JCa0IsTUFYc0VDLEtBQUFsQyxTQUFBbUMsaUJBQUEsNEJBQUFFLEtBQUEsU0FBQUMsR0FBQSxPQUFBQSxFQUFBVCxpQkFBQSxTQUFBLFNBQUFDLEdBQUEsSUFhdkVBLEVBQUFvQixPQUFBdkIsUUFBQSwyQkFBQSxDQVhJLElBQU1nTCxFQUFlM00sU0FBUzRCLGNBQWMsb0NBWWlEK0ssR0FBakdBLEVBQUE3TCxVQUFBVSxPQUFBLG1DQU5JYyxFQUFHeEIsVUFBVUMsSUFBSSxtQ0FDakI2TCxXQUtKM0ssTUFBTUMsS0FBS2xDLFNBQVNtQyxpQkFBaUIsc0RBQXNERSxLQUFJLFNBQUFDLEdBQUUsT0FBSUEsRUFBR1QsaUJBQWlCLFFBQVMrSyIsImZpbGUiOiJjb21tb24ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2luZG93Lm9ubG9hZCA9ICgpID0+IHtcblxuICAvLyDQntCx0YrQtdC60YIg0LPQu9C+0LHQsNC70YzQvdC+0LPQviBBUElcbmNvbnN0ICRhcGkgPSB7fTtcblxuLy8gQVBJINC00LvRjyDRgNCw0LHQvtGC0Ysg0YEg0L/QvtC/0LDQv9Cw0LzQuFxuJGFwaS5wb3B1cCA9ICgkcG9wdXAsIHsgb25IaWRlLCBvblNob3cgfSA9IHt9KSA9PiB7XG4gIC8vINCe0YLQutC70Y7Rh9Cw0LXRgiDQstC+0LfQvNC+0LbQvdC+0YHRgtGMINGB0LrRgNC+0LvQu9C40YLRjCDRgdGC0YDQsNC90LjRhtGDXG4gIGNvbnN0IGhpZGVPdmVyZmxvdyA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmNzc1RleHQgPSBgcG9zaXRpb246IGZpeGVkOyBtYXJnaW4tdG9wOiAkey13aW5kb3cuc2Nyb2xsWX1weGA7XG4gIH07XG4gIFxuICAvLyDQktC60LvRjtGH0LDQtdGCINCy0L7Qt9C80L7QttC90L7RgdGC0Ywg0YHQutGA0L7Qu9C70LjRgtGMINGB0YLRgNCw0L3QuNGG0YNcbiAgY29uc3Qgc2hvd092ZXJmbG93ID0gb2Zmc2V0ID0+IHtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246IHN0YXRpYzsgbWFyZ2luLXRvcDogMCc7XG4gICAgXG4gICAgd2luZG93LnNjcm9sbFRvKDAsIG9mZnNldCk7XG4gIH07XG4gIFxuICByZXR1cm4ge1xuICAgIC8vINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCIHRydWUsINC10YHQu9C4INC/0L7Qv9Cw0L8g0L/QvtC60LDQt9GL0LLQsNC10YLRgdGPLCDQsiDQuNC90L7QvCDRgdC70YPRh9Cw0LUgZmFsc2VcbiAgICBpc1Nob3duOiAoKSA9PiAkcG9wdXAuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cC0tb3BlbmVkJyksXG4gICAgLy8g0J/QvtC60LDQt9GL0LLQsNC10YIg0L/QvtC/0LDQv1xuICAgIHNob3coKSB7XG4gICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICRwb3B1cC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIGhpZGVPdmVyZmxvdygpO1xuXG4gICAgICBwcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAkcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXAtLW9wZW5lZCcpO1xuICAgICAgICBpZiAodHlwZW9mIG9uU2hvdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG9uU2hvdygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIC8vINCh0LrRgNGL0LLQsNC10YIg0L/QvtC/0LDQv1xuICAgIGhpZGUoKSB7XG4gICAgICBjb25zdCBvZmZzZXQgPSAtcGFyc2VJbnQoZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW5Ub3ApO1xuICBcbiAgICAgICRwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cC0tb3BlbmVkJyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgJHBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHNob3dPdmVyZmxvdyhvZmZzZXQpO1xuICAgICAgICBpZiAodHlwZW9mIG9uSGlkZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG9uSGlkZSgpO1xuICAgICAgICB9XG4gICAgICB9LCAzMDApO1xuICAgIH1cbiAgfTtcbn07XG5cbi8vIEFQSSDQtNC70Y8g0LLQsNC70LjQtNCw0YbQuNC4INGE0L7RgNC8XG4kYXBpLnZhbGlkYXRlID0gKGZvcm0sIHJlcXVlc3QpID0+IHtcbiAgY29uc3QgZW1haWxSZWdleHAgPSAvXigoW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31dKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcbiAgY29uc3Qgc2V0SW52YWxpZElucHV0ID0gaW5wdXQgPT4ge1xuICAgIGlmIChpbnB1dC5jbG9zZXN0KCcuaW5wdXQnKSkge1xuICAgICAgaW5wdXQuY2xvc2VzdCgnLmlucHV0JykuY2xhc3NMaXN0LmFkZCgnaW5wdXQtLWVycm9yJyk7XG4gICAgfSBlbHNlIGlmIChpbnB1dC5jbG9zZXN0KCcudGV4dGFyZWEnKSkge1xuICAgICAgaW5wdXQuY2xvc2VzdCgnLnRleHRhcmVhJykuY2xhc3NMaXN0LmFkZCgndGV4dGFyZWEtLWVycm9yJyk7XG4gICAgfVxuICAgIGlucHV0LmZvY3VzKCk7XG4gIH07XG4gIGNvbnN0IHNldEludmFsaWRDaGVja2JveCA9IGlucHV0ID0+IHtcbiAgICBpbnB1dC5jbG9zZXN0KCcuY2hlY2tib3gnKS5jbGFzc0xpc3QuYWRkKCdjaGVja2JveC0tZXJyb3InKTtcbiAgfTtcblxuICBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBsZXQgZm9ybUlzVmFsaWQgPSB0cnVlO1xuICAgIGNvbnN0ICRmb3JtSW5wdXRzID0gQXJyYXkuZnJvbShmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3JlcXVpcmVkXSwgdGV4dGFyZWFbcmVxdWlyZWRdJykpO1xuICAgIGNvbnN0ICRjaGVja2JveFNlbGVjdCA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmNoZWNrYm94c2VsZWN0Jyk7XG5cbiAgICAkZm9ybUlucHV0cy5yZXZlcnNlKCkubWFwKGVsID0+IHtcbiAgICAgIGlmIChlbC5kYXRhc2V0LnBhc3NSZXBlYXQgJiYgZWwudmFsdWUgIT09IGVsLmNsb3Nlc3QoJ2Zvcm0nKS5xdWVyeVNlbGVjdG9yKCdpbnB1dFtkYXRhLXBhc3NdJykudmFsdWUpIHtcbiAgICAgICAgc2V0SW52YWxpZElucHV0KGVsKTtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoKGVsLmdldEF0dHJpYnV0ZSgndHlwZScpKSB7XG4gICAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICBjYXNlICdwYXNzd29yZCc6XG4gICAgICAgICAgaWYgKGVsLnZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgc2V0SW52YWxpZElucHV0KGVsKTtcbiAgICAgICAgICAgIGZvcm1Jc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0ZWwnOlxuICAgICAgICAgIGlmIChlbC52YWx1ZSA9PT0gJycgfHwgZWwudmFsdWUuaW5jbHVkZXMoJ18nKSkge1xuICAgICAgICAgICAgc2V0SW52YWxpZElucHV0KGVsKTtcbiAgICAgICAgICAgIGZvcm1Jc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICAgICAgaWYgKCFlbC5jaGVja2VkKSB7XG4gICAgICAgICAgICBzZXRJbnZhbGlkQ2hlY2tib3goZWwpO1xuICAgICAgICAgICAgZm9ybUlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2VtYWlsJzpcbiAgICAgICAgICBpZiAoIWVtYWlsUmVnZXhwLnRlc3QoZWwudmFsdWUpKSB7XG4gICAgICAgICAgICBzZXRJbnZhbGlkSW5wdXQoZWwpO1xuICAgICAgICAgICAgZm9ybUlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKGVsLnZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgc2V0SW52YWxpZElucHV0KGVsKTtcbiAgICAgICAgICAgIGZvcm1Jc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICBcbiAgICBpZiAoJGNoZWNrYm94U2VsZWN0Lmxlbmd0aCkge1xuICAgICAgQXJyYXkuZnJvbSgkY2hlY2tib3hTZWxlY3QpLm1hcChlbCA9PiB7XG4gICAgICAgIGxldCBjaGVja2VkID0gZmFsc2U7XG4gIFxuICAgICAgICBBcnJheS5mcm9tKGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGVja2JveF9faW5wdXQnKSkubWFwKGNoZWNrYm94ID0+IHtcbiAgICAgICAgICBpZiAoY2hlY2tib3guY2hlY2tlZCkge1xuICAgICAgICAgICAgY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgXG4gICAgICAgIGlmICghY2hlY2tlZCkge1xuICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94c2VsZWN0LS1lcnJvcicpO1xuICAgICAgICAgIGZvcm1Jc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChmb3JtSXNWYWxpZCkge1xuICAgICAgcmVxdWVzdCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgQXJyYXkuZnJvbShmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykpLmNvbmNhdChBcnJheS5mcm9tKGZvcm0ucXVlcnlTZWxlY3RvckFsbCgndGV4dGFyZWEnKSkpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICBpZiAoZWwuY2xvc2VzdCgnLmlucHV0JykpIHtcbiAgICAgIGVsLmNsb3Nlc3QoJy5pbnB1dCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2lucHV0LS1lcnJvcicpO1xuICAgIH0gZWxzZSBpZiAoZWwuY2xvc2VzdCgnLmNoZWNrYm94JykpIHtcbiAgICAgIGVsLmNsb3Nlc3QoJy5jaGVja2JveCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrYm94LS1lcnJvcicpO1xuICAgIH0gZWxzZSBpZiAoZWwuY2xvc2VzdCgnLnRleHRhcmVhJykpIHtcbiAgICAgIGVsLmNsb3Nlc3QoJy50ZXh0YXJlYScpLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHRhcmVhLS1lcnJvcicpO1xuICAgIH1cbiAgfSkpO1xufTtcblxuICAvLyBoYW5kbGUgb3BlbiBwb3B1cFxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSBlLnRhcmdldDtcblxuICBpZiAoJHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy1vcGVuLXBvcHVwJykpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCB0YXJnZXQgPSAkdGhpcy5kYXRhc2V0LnBvcHVwO1xuICAgIGNvbnN0ICRwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5qcy1wb3B1cFtkYXRhLXBvcHVwPVwiJHt0YXJnZXR9XCJdYCk7XG4gICAgXG4gICAgJGFwaS5wb3B1cCgkcG9wdXApLnNob3coKTtcbiAgfVxufSk7XG5cbi8vIGhhbmRsZSBjbG9zZSBwb3B1cFxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtY2xvc2UtcG9wdXAnKSkubWFwKGVsID0+XG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgaWYoIWUudGFyZ2V0LmNsb3Nlc3QoJy5wb3B1cF9fd2luZG93JykgfHwgIWUuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLXBvcHVwJykpIHtcbiAgICAgIGNvbnN0ICRwb3B1cCA9IGUuY3VycmVudFRhcmdldC5jbG9zZXN0KCcucG9wdXAnKTtcblxuICAgICAgJGFwaS5wb3B1cCgkcG9wdXApLmhpZGUoKTtcbiAgICB9XG4gIH0pXG4pO1xuXG4vLyBhbGwgcG9wdXAgZm9ybXMgYW5kIHRoZWlycyB2YWxpZGF0aW9uIGNhbGxiYWNrc1xuY29uc3QgJHBvcHVwRm9ybXMgPSBbe1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXJlc3RvcmUtZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICgpID0+IHt9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXJlcXVlc3QtYXV0aC1mb3JtXScpLFxuICBjYWxsYmFjazogKCkgPT4ge31cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtb2ZmZXItZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICBjb25zdCAkcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cIm9mZmVyXCJdJyk7XG4gICAgY29uc3QgJHN1Y2Nlc3NQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwib2ZmZXItc3VjY2Vzc1wiXScpO1xuXG4gICAgJGFwaS5wb3B1cCgkcG9wdXAsIHtcbiAgICAgIG9uSGlkZSgpIHtcbiAgICAgICAgQXJyYXkuZnJvbSgkcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKSkubWFwKGVsID0+IGVsLnZhbHVlID0gJycpO1xuICAgICAgICAkYXBpLnBvcHVwKCRzdWNjZXNzUG9wdXApLnNob3coKTtcbiAgICAgIH1cbiAgICB9KS5oaWRlKCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtcmVxdWVzdC1mb3JtXScpLFxuICBjYWxsYmFjazogKCkgPT4ge1xuICAgIGNvbnN0ICRwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwicmVxdWVzdFwiXScpO1xuICAgIGNvbnN0ICRzdWNjZXNzUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cInJlcXVlc3Qtc3VjY2Vzc1wiXScpO1xuXG4gICAgJGFwaS5wb3B1cCgkcG9wdXAsIHtcbiAgICAgIG9uSGlkZSgpIHtcbiAgICAgICAgQXJyYXkuZnJvbSgkcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKSkubWFwKGVsID0+IGVsLnZhbHVlID0gJycpO1xuICAgICAgICAkYXBpLnBvcHVwKCRzdWNjZXNzUG9wdXApLnNob3coKTtcbiAgICAgIH1cbiAgICB9KS5oaWRlKCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtcmVxdWVzdC1zcGVjaWZpYy1mb3JtXScpLFxuICBjYWxsYmFjazogKCkgPT4ge1xuICAgIGNvbnN0ICRwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwicmVxdWVzdC1zcGVjaWZpY1wiXScpO1xuICAgIGNvbnN0ICRzdWNjZXNzUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cInJlcXVlc3Qtc3VjY2Vzc1wiXScpO1xuXG4gICAgJGFwaS5wb3B1cCgkcG9wdXAsIHtcbiAgICAgIG9uSGlkZSgpIHtcbiAgICAgICAgQXJyYXkuZnJvbSgkcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKSkubWFwKGVsID0+IGVsLnZhbHVlID0gJycpO1xuICAgICAgICAkYXBpLnBvcHVwKCRzdWNjZXNzUG9wdXApLnNob3coKTtcbiAgICAgIH1cbiAgICB9KS5oaWRlKCk7XG4gIH1cbn1dO1xuXG4vLyBhcHBseSB2YWxpZGF0aW9uIG9uIHBvcHVwcyBmb3Jtc1xuJHBvcHVwRm9ybXMubWFwKGZvcm0gPT4ge1xuICBjb25zdCB7ICRlbGVtZW50LCBjYWxsYmFjayB9ID0gZm9ybTtcblxuICBpZiAoJGVsZW1lbnQpIHtcbiAgICAkYXBpLnZhbGlkYXRlKCRlbGVtZW50LCBjYWxsYmFjayk7XG4gIH1cbn0pO1xuICBjb25zdCAkZHJvcGRvd25zID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcGRvd24nKSk7XG5cbi8vIGNsb3NlIGRyb3Bkb3duIG9uIG91dGVyIGNsaWNrXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9IGUudGFyZ2V0O1xuXG4gICRkcm9wZG93bnMubWFwKGVsID0+IHtcbiAgICBpZihlbC5jbG9zZXN0KCcuZHJvcGRvd24nKSAhPT0gJHRoaXMuY2xvc2VzdCgnLmRyb3Bkb3duJykpIHtcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3Bkb3duLS1hY3RpdmUnKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbi8vIG9wZW4gZHJvcGRvd25cbiRkcm9wZG93bnMubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2lucHV0X19jb2RlJykpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuICBpZiAoIWVsLmNsYXNzTGlzdC5jb250YWlucygnZHJvcGRvd24tLWFjdGl2ZScpKSB7XG4gICAgJGRyb3Bkb3ducy5tYXAoZWwgPT4gZWwgIT09IGVsICYmIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3Bkb3duLS1hY3RpdmUnKSk7XG4gICAgZWwuY2xhc3NMaXN0LnRvZ2dsZSgnZHJvcGRvd24tLWFjdGl2ZScpO1xuICB9XG59KSk7XG5cbi8vIGNoYW5nZSBkcm9wZG93biB2YWx1ZVxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJGRyb3Bkb3duTWVudUl0ZW0gPSBlLnRhcmdldC5jbG9zZXN0KCcuZHJvcGRvd25fX21lbnUtaXRlbScpO1xuXG4gIGlmICgkZHJvcGRvd25NZW51SXRlbSkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bi0tYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnZHJvcGRvd24tLWFjdGl2ZScpO1xuXG4gICAgaWYgKCRkcm9wZG93bk1lbnVJdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS10b2dnbGUnKSkge1xuICAgICAgY29uc3QgJHRoaXMgPSBlLnRhcmdldDtcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0gJHRoaXMuaW5uZXJUZXh0O1xuICAgICAgY29uc3QgJGhpZGRlbkl0ZW0gPSAkdGhpcy5jbG9zZXN0KCcuZHJvcGRvd25fX21lbnUnKS5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd25fX21lbnUtaXRlbS0taGlkZGVuJyk7XG4gICAgICBjb25zdCAkZHJvcGRvd25WYWx1ZSA9ICR0aGlzLmNsb3Nlc3QoJy5kcm9wZG93bicpLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bl9fdmFsdWUnKTtcblxuICAgICAgaWYgKCRoaWRkZW5JdGVtKSB7XG4gICAgICAgICRoaWRkZW5JdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3Bkb3duX19tZW51LWl0ZW0tLWhpZGRlbicpO1xuICAgICAgfVxuXG4gICAgICAkZHJvcGRvd25NZW51SXRlbS5jbGFzc0xpc3QuYWRkKCdkcm9wZG93bl9fbWVudS1pdGVtLS1oaWRkZW4nKTsgXG4gICAgICAkZHJvcGRvd25WYWx1ZS5pbm5lclRleHQgPSBuZXdWYWx1ZTtcbiAgICB9XG4gIH1cbn0pO1xuICAvLyBoYW5kbGUgdGFicyBsb2dpY1xuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFic19faXRlbScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCB0YXJnZXQgPSBlbC5kYXRhc2V0LnRhYjtcbiAgY29uc3QgJGFjdGl2ZVRhYkNvbnRlbnQgPSBlbC5jbG9zZXN0KCdbZGF0YS10YWJzXScpLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZV0nKTtcblxuICBlbC5jbG9zZXN0KCcudGFicycpLnF1ZXJ5U2VsZWN0b3IoJy50YWJzX19pdGVtLS1hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCd0YWJzX19pdGVtLS1hY3RpdmUnKTtcbiAgZWwuY2xhc3NMaXN0LmFkZCgndGFic19faXRlbS0tYWN0aXZlJyk7XG5cbiAgaWYgKCRhY3RpdmVUYWJDb250ZW50KSB7XG4gICAgZWwuY2xvc2VzdCgnW2RhdGEtdGFic10nKS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmVdJykucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWFjdGl2ZScpO1xuICAgIGVsLmNsb3Nlc3QoJ1tkYXRhLXRhYnNdJykucXVlcnlTZWxlY3RvcihgW2RhdGEtY29udGVudD1cIiR7dGFyZ2V0fVwiXWApLnNldEF0dHJpYnV0ZSgnZGF0YS1hY3RpdmUnLCB0cnVlKTtcbiAgfVxufSkpO1xuICBjb25zdCBjaGFuZ2VDb3VudHJ5RXZlbnQgPSBuZXcgRXZlbnQoJ2NoYW5nZUNvdW50cnknKTtcblxuY29uc3QgdXBkYXRlTWFzayA9IChpbnB1dCwgbWFzaykgPT4ge1xuICBJbnB1dG1hc2soe21hc2t9KS5tYXNrKGlucHV0KTtcbn07XG5cbi8vIE9wZW4gaW5wdXQgZHJvcGRvd25cbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmlucHV0LmRyb3Bkb3duJykpXG4uY29uY2F0KEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmlucHV0IC5kcm9wZG93bicpKSlcbi5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0ICRkcm9wZG93biA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bl9fbWVudScpO1xuICBlbC5jbG9zZXN0KCcuaW5wdXQnKS5xdWVyeVNlbGVjdG9yKCcuaW5wdXRfX2Ryb3Bkb3duJykuc3R5bGUud2lkdGggPSBlbC5jbG9zZXN0KCcuaW5wdXQnKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCArICdweCc7XG5cbiAgaWYgKCEkZHJvcGRvd24uY2xhc3NMaXN0LmNvbnRhaW5zKCdmYWtlU2Nyb2xsJykpIHtcbiAgICAkZHJvcGRvd24uZmFrZVNjcm9sbCgpO1xuICB9XG59KSk7XG5cbi8vIENoYW5nZSBwaG9uZSBjb2RlIG9uIGlucHV0IGRyb3Bkb3duXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dF9fZHJvcGRvd24taXRlbVtkYXRhLWNvZGUtbG9jXScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IGxvYyA9IGVsLmRhdGFzZXQuY29kZUxvYztcbiAgY29uc3QgbWFzayA9IGVsLmRhdGFzZXQubWFzaztcbiAgY29uc3QgJGlucHV0ID0gZWwuY2xvc2VzdCgnLmlucHV0JykucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcblxuICBlbC5jbG9zZXN0KCcuaW5wdXRfX2NvZGUnKS5kYXRhc2V0LmNvZGVMb2MgPSBsb2M7XG4gIGVsLmNsb3Nlc3QoJy5pbnB1dF9fY29kZScpLmRhdGFzZXQubWFzayA9IG1hc2s7XG4gICRpbnB1dC5wbGFjZWhvbGRlciA9IG1hc2sucmVwbGFjZUFsbCgnOScsICdfJyk7XG4gIHVwZGF0ZU1hc2soJGlucHV0LCBtYXNrKTtcbn0pKTtcblxuLy8gQ2hhbmdlIGlucHV0IGRyb3Bkb3duIHZhbHVlXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dF9fZHJvcGRvd24taXRlbVtkYXRhLWRyb3Bkb3duXScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IHZhbHVlID0gZWwuaW5uZXJUZXh0O1xuICBcbiAgZWwuY2xvc2VzdCgnLmlucHV0JykucXVlcnlTZWxlY3RvcignaW5wdXQnKS52YWx1ZSA9IHZhbHVlO1xuICBlbC5jbG9zZXN0KCcuaW5wdXQnKS5jbGFzc0xpc3QucmVtb3ZlKCdpbnB1dC0tZXJyb3InKTtcblxuICBpZiAoZWwuY2xvc2VzdCgnLmlucHV0JykuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy1hdXRoLWNvdW50cnknKSkge1xuICAgIGVsLmNsb3Nlc3QoJy5pbnB1dCcpLmRpc3BhdGNoRXZlbnQoY2hhbmdlQ291bnRyeUV2ZW50KTtcbiAgfVxufSkpO1xuXG4vLyBNYXNraW5nIHBob25lIGlucHV0XG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJ0ZWxcIl0nKSkubWFwKGVsID0+IHtcbiAgSW5wdXRtYXNrKHttYXNrOiBlbC5jbG9zZXN0KCcuaW5wdXQnKS5xdWVyeVNlbGVjdG9yKCcuaW5wdXRfX2NvZGUnKS5kYXRhc2V0Lm1hc2t9KS5tYXNrKGVsKTtcbn0pO1xuICAvLyBoYW5kbGUgY2hlY2tib3hzZWxlY3QgbG9naWNcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoZWNrYm94c2VsZWN0X19saXN0JykpLm1hcChsaXN0ID0+IHtcbiAgbGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIFxuICAgIGNvbnN0ICRjaGVja2JveFNlbGVjdCA9IGxpc3QuY2xvc2VzdCgnLmNoZWNrYm94c2VsZWN0Jyk7XG4gICAgbGV0IGNoZWNrZWQgPSBmYWxzZTtcblxuICAgICRjaGVja2JveFNlbGVjdC5jbGFzc0xpc3QucmVtb3ZlKCdjaGVja2JveHNlbGVjdC0tZXJyb3InKTtcblxuICAgIEFycmF5LmZyb20obGlzdC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3hfX2lucHV0JykpLm1hcChjaGVja2JveCA9PiB7XG4gICAgICBjb25zdCAkcGxhY2Vob2xkZXIgPSAkY2hlY2tib3hTZWxlY3QucXVlcnlTZWxlY3RvcignLmNoZWNrYm94c2VsZWN0X19pbnB1dC1wbGFjZWhvbGRlcicpO1xuXG4gICAgICBpZiAoY2hlY2tib3guY2hlY2tlZCkgY2hlY2tlZCA9IHRydWU7XG5cbiAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBsZXQgdmFsdWUgPSAnJztcblxuICAgICAgICBBcnJheS5mcm9tKGxpc3QucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQ6Y2hlY2tlZCcpKS5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgdmFsdWUgKz0gaXRlbS5jbG9zZXN0KCcuY2hlY2tib3hzZWxlY3RfX2l0ZW0nKS5xdWVyeVNlbGVjdG9yKCcuY2hlY2tib3hfX3RleHQnKS5pbm5lclRleHQgKyAnLCAnO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAkcGxhY2Vob2xkZXIuaW5uZXJUZXh0ID0gdmFsdWUuc3Vic3RyaW5nKDAsIHZhbHVlLmxlbmd0aCAtIDIpO1xuICAgICAgICAgICRwbGFjZWhvbGRlci5jbGFzc0xpc3QuYWRkKCdjaGVja2JveHNlbGVjdF9faW5wdXQtcGxhY2Vob2xkZXItLWFjdGl2ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRwbGFjZWhvbGRlci5pbm5lclRleHQgPSAkcGxhY2Vob2xkZXIuZGF0YXNldC5wbGFjZWhvbGRlcjtcbiAgICAgICAgICAkcGxhY2Vob2xkZXIuY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tib3hzZWxlY3RfX2lucHV0LXBsYWNlaG9sZGVyLS1hY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIFxuICAgIGlmIChjaGVja2VkKSB7XG4gICAgICAkY2hlY2tib3hTZWxlY3QuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3hzZWxlY3QtLWNoZWNrZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJGNoZWNrYm94U2VsZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrYm94c2VsZWN0LS1jaGVja2VkJyk7XG4gICAgfVxuICB9KTtcblxuICBsaXN0LmZha2VTY3JvbGwoKTtcbn0pO1xuICAvLyBzZXQgZmlsdGVyIGlucHV0IHZhbHVlXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19kcm9wZG93bi1pdGVtJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9IGUuY3VycmVudFRhcmdldDtcbiAgY29uc3QgdmFsdWUgPSAkdGhpcy5pbm5lclRleHQ7XG5cbiAgJHRoaXMuY2xvc2VzdCgnLmZpbHRlcnNfX2lucHV0JykucXVlcnlTZWxlY3RvcignLmZpbHRlcnNfX2lucHV0LWZpZWxkJykudmFsdWUgPSB2YWx1ZTtcbn0pKTtcblxuLy8gZmlsdGVyIG1haW4gbG9naWNcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsdGVyc19faW5wdXQtZmllbGQnKS5sZW5ndGgpIHtcbiAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsdGVyc19faW5wdXQtZmllbGQnKSkubWFwKGVsID0+IHtcbiAgICBmZXRjaCgnZGF0YS9sb2NhdGlvbi5qc29uJykudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihkYXRhID0+IHtcbiAgICAgIGNvbnN0ICR0aGlzID0gZWw7XG4gICAgICAvLyBoYW5kbGUgZmlsdGVyIGlucHV0XG4gICAgICBjb25zdCBoYW5kbGVJbnB1dCA9IGZpcnN0UmVuZGVyID0+IHtcbiAgICAgICAgY29uc3QgJGRyb3Bkb3duRWxlbWVudCA9ICR0aGlzLm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyc19fZHJvcGRvd24taW5uZXInKTtcbiAgICAgICAgY29uc3QgJGRyb3Bkb3duID0gJGRyb3Bkb3duRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZmFrZVNjcm9sbF9fY29udGVudCcpIHx8ICRkcm9wZG93bkVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGlucHV0U21hcnRTZWFyY2ggPSAkdGhpcy5nZXRBdHRyaWJ1dGUoJ25hbWUnKSA9PT0gJ2xvY2F0aW9uJztcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGlucHV0U21hcnRTZWFyY2ggPyBkYXRhLm1hcChlbCA9PiBlbC5rZXkpLmNvbmNhdChkYXRhLmZsYXRNYXAoaXRlbSA9PiBpdGVtLmNpdGllcykpIDogSlNPTi5wYXJzZSgkdGhpcy5kYXRhc2V0Lm9wdGlvbnMpO1xuICAgICAgICBjb25zdCBsb3dlckNhc2VWYWx1ZSA9ICR0aGlzLnZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0ICRjaGVja2JveCA9ICRkcm9wZG93bi5jbG9zZXN0KCcuZmlsdGVyc19fZHJvcGRvd24nKS5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcbiAgICAgICAgbGV0IG1hdGNoZXNGb3VuZCA9IGZhbHNlO1xuXG4gICAgICAgICRkcm9wZG93bi5pbm5lckhUTUwgPSAnJztcbiAgICAgIFxuICAgICAgICAvLyByZW5kZXIgZmlsdGVyIGRyb3Bkb3duIGl0ZW1zXG4gICAgICAgIG9wdGlvbnMubWFwKGVsID0+IHtcbiAgICAgICAgICBpZiAoZmlyc3RSZW5kZXIgfHwgZWwudG9Mb3dlckNhc2UoKS5pbmRleE9mKGxvd2VyQ2FzZVZhbHVlKSA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgJGVsZW1lbnQgPSBpbnB1dFNtYXJ0U2VhcmNoID9cbiAgICAgICAgICAgICAgYDxhIGNsYXNzPVwiZmlsdGVyc19fZHJvcGRvd24taXRlbSBkcm9wZG93bl9fbWVudS1pdGVtJHsobG93ZXJDYXNlVmFsdWUgJiYgIWZpcnN0UmVuZGVyKSA/ICcgZmlsdGVyc19fZHJvcGRvd24taXRlbS0tc21hcnQnIDogJyd9XCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiPjxzcGFuPiR7ZWwuc3Vic3RyKDAsIGxvd2VyQ2FzZVZhbHVlLmxlbmd0aCl9PC9zcGFuPiR7ZWwuc3Vic3RyKGxvd2VyQ2FzZVZhbHVlLmxlbmd0aCl9PC9hPmAgOlxuICAgICAgICAgICAgICBgPGEgY2xhc3M9XCJmaWx0ZXJzX19kcm9wZG93bi1pdGVtIGRyb3Bkb3duX19tZW51LWl0ZW1cIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCI+JHtlbH08L2E+YDtcbiAgICAgICAgICAgIG1hdGNoZXNGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAkZHJvcGRvd24uaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCAkZWxlbWVudClcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHRvZ2dsZSBmaWx0ZXIgZHJvcGRvd24gdmlzaWJpbGl0eVxuICAgICAgICBpZiAobWF0Y2hlc0ZvdW5kKSB7XG4gICAgICAgICAgJGRyb3Bkb3duRWxlbWVudC5wYXJlbnROb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpbHRlcnNfX2Ryb3Bkb3duLS1oaWRkZW4nKTtcbiAgICAgICAgICAkZHJvcGRvd25FbGVtZW50LnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnZmlsdGVyc19fZHJvcGRvd24tLWVtcHR5Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAoISRjaGVja2JveCkge1xuICAgICAgICAgICRkcm9wZG93bkVsZW1lbnQucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdmaWx0ZXJzX19kcm9wZG93bi0taGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGRyb3Bkb3duRWxlbWVudC5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ2ZpbHRlcnNfX2Ryb3Bkb3duLS1lbXB0eScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaGFuZGxlIGlucHV0IHZhbHVlXG4gICAgICAgIEFycmF5LmZyb20oJGRyb3Bkb3duLnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19kcm9wZG93bi1pdGVtJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAkdGhpcy52YWx1ZSA9IGVsLmlubmVyVGV4dDtcbiAgICAgICAgICAkdGhpcy5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnLCBlbC5pbm5lclRleHQpO1xuXG4gICAgICAgICAgaWYgKCRjaGVja2JveCkge1xuICAgICAgICAgICAgJGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICR0aGlzLnJlbW92ZUF0dHJpYnV0ZSgncmVhZG9ubHknKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcblxuICAgICAgICAvLyBmYWtlU2Nyb2xsIGluaXRcbiAgICAgICAgaWYgKGZpcnN0UmVuZGVyICYmICEkZHJvcGRvd25FbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZmFrZVNjcm9sbCcpKSB7XG4gICAgICAgICAgJGRyb3Bkb3duLmZha2VTY3JvbGwoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIC8vIGFkZCBsaXN0ZW5lcnMgb24gZmlsdGVyIGlucHV0XG4gICAgICBpZiAoJHRoaXMubmFtZSAhPT0gJ2Nvc3QnKSB7XG4gICAgICAgICR0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4gaGFuZGxlSW5wdXQoZmFsc2UpKTtcbiAgICAgICAgJHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiBoYW5kbGVJbnB1dCh0cnVlKSk7XG4gICAgICAgICR0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKCR0aGlzLnZhbHVlID09PSAnJyB8fCAhJHRoaXMuZGF0YXNldC52YWx1ZSkge1xuICAgICAgICAgICAgJHRoaXMudmFsdWUgPSAnJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHRoaXMudmFsdWUgPSAkdGhpcy5kYXRhc2V0LnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG5cbi8vIGhhbmRsZSBmaWx0ZXIgcmFuZ2Ugc2xpZGVyXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19jb3N0LXJhbmdlJykpLm1hcCgkcmFuZ2UgPT4ge1xuICBjb25zdCBtaW4gPSArJHJhbmdlLmRhdGFzZXQubWluO1xuICBjb25zdCBtYXggPSArJHJhbmdlLmRhdGFzZXQubWF4O1xuICBjb25zdCBzbWluID0gKyRyYW5nZS5kYXRhc2V0Lm1pbjtcbiAgY29uc3Qgc21heCA9ICskcmFuZ2UuZGF0YXNldC5tYXg7XG5cbiAgbm9VaVNsaWRlci5jcmVhdGUoJHJhbmdlLCB7XG4gICAgc3RhcnQ6IFtzbWluLCBzbWF4XSxcbiAgICBjb25uZWN0OiB0cnVlLFxuICAgIHJhbmdlOiB7XG4gICAgICBtaW4sXG4gICAgICBtYXhcbiAgICB9LFxuICAgIHN0ZXA6IDEwMFxuICB9KTtcblxuICAkcmFuZ2Uubm9VaVNsaWRlci5vbignc2xpZGUnLCB2YWx1ZXMgPT4ge1xuICAgIGNvbnN0IG1pbiA9IHBhcnNlSW50KHZhbHVlc1swXSk7XG4gICAgY29uc3QgbWF4ID0gcGFyc2VJbnQodmFsdWVzWzFdKTtcblxuICAgICRyYW5nZS5jbG9zZXN0KCcuZmlsdGVyc19faW5wdXQnKS5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyc19faW5wdXQtZmllbGQnKS52YWx1ZSA9IGAke21pbn0g4oK9IOKAkyAke21heH0g4oK9YDtcbiAgICAkcmFuZ2UuY2xvc2VzdCgnLmZpbHRlcnNfX2Nvc3QnKS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb3N0PVwiZnJvbVwiXScpLmlubmVyVGV4dCA9IG1pbjtcbiAgICAkcmFuZ2UuY2xvc2VzdCgnLmZpbHRlcnNfX2Nvc3QnKS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb3N0PVwidG9cIl0nKS5pbm5lclRleHQgPSBtYXg7XG4gIH0pO1xufSk7XG5cblxuLy8gaGFuZGxlIGZpbHRlciBjaGVja2JveFxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsdGVyc19fZHJvcGRvd24tY2hlY2tib3gnKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCAkaW5wdXRGaWVsZCA9IGVsLmNsb3Nlc3QoJy5maWx0ZXJzX19pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXJzX19pbnB1dC1maWVsZCcpO1xuXG4gIGlmIChlbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmNoZWNrZWQpIHtcbiAgICBjb25zdCBjaGVja2JveFZhbHVlID0gZWwucXVlcnlTZWxlY3RvcignLmNoZWNrYm94X190ZXh0JykuaW5uZXJUZXh0O1xuICBcbiAgICAkaW5wdXRGaWVsZC52YWx1ZSA9IGNoZWNrYm94VmFsdWU7XG4gICAgJGlucHV0RmllbGQuc2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJywgY2hlY2tib3hWYWx1ZSk7XG4gICAgJGlucHV0RmllbGQuc2V0QXR0cmlidXRlKCdyZWFkb25seScsICdyZWFkb25seScpO1xuICB9IGVsc2Uge1xuICAgICRpbnB1dEZpZWxkLnZhbHVlID0gJyc7XG4gICAgJGlucHV0RmllbGQuc2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJywgJycpO1xuICAgICRpbnB1dEZpZWxkLnJlbW92ZUF0dHJpYnV0ZSgncmVhZG9ubHknKTtcbiAgfVxufSkpO1xuICAvLyBzaG93IGhpZGRuZSBzdWJqZWN0IGluIHR1dG9yY2FyZFxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRhcmdldCA9IGUudGFyZ2V0O1xuXG4gIGlmICgkdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnanMtdHV0b3JjYXJkLW1vcmUnKSkge1xuICAgICR0YXJnZXQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBcbiAgICBBcnJheS5mcm9tKCR0YXJnZXQuY2xvc2VzdCgnLnR1dG9yY2FyZF9fc3ViamVjdHMnKS5xdWVyeVNlbGVjdG9yQWxsKCcudHV0b3JjYXJkX19zdWJqZWN0cy1pdGVtLS1oaWRkZW4nKSkubWFwKGVsID0+IHtcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3R1dG9yY2FyZF9fc3ViamVjdHMtaXRlbS0taGlkZGVuJyk7XG4gICAgfSk7XG4gIH1cbn0pO1xuICBcbiAgY29uc3QgJGJhbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYW5uZXInKTtcblxuLy8gYmFubmVyIGhhbmRsaW5nXG5pZiAoIUpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xldG1ldHV0b3I6YmFubmVySXNIaWRkZW4nKSkpIHtcbiAgJGJhbm5lci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFubmVyX19jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICRiYW5uZXIuY2xhc3NMaXN0LmFkZCgnYmFubmVyLS1oaWRlJyk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkYmFubmVyLnJlbW92ZSgpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xldG1ldHV0b3I6YmFubmVySXNIaWRkZW4nLCB0cnVlKTtcbiAgICB9LCA1MDApXG4gIH0pO1xufSBlbHNlIHtcbiAgJGJhbm5lci5yZW1vdmUoKTtcbn1cbiAgY29uc3QgJGNvb2tpZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29va2llcycpO1xuXG4vLyBjb29raWVzIGhhbmRsaW5nXG5pZiAoIUpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xldG1ldHV0b3I6Y29va2llc0lzSGlkZGVuJykpKSB7XG4gICRjb29raWVzLmNsYXNzTGlzdC5hZGQoJ2Nvb2tpZXMtLXNob3duJyk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvb2tpZXNfX2J0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICRjb29raWVzLmNsYXNzTGlzdC5yZW1vdmUoJ2Nvb2tpZXMtLXNob3duJyk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkY29va2llcy5yZW1vdmUoKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsZXRtZXR1dG9yOmNvb2tpZXNJc0hpZGRlbicsIHRydWUpO1xuICAgIH0sIDUwMClcbiAgfSk7XG59IGVsc2Uge1xuICAkY29va2llcy5yZW1vdmUoKTtcbn1cbiAgbGV0IG9mZnNldCA9IDA7XG5jb25zdCBoaWRlT3ZlcmZsb3cgPSAoKSA9PiB7XG4gIG9mZnNldCA9IC1wYXJzZUludChkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpblRvcCk7XG4gIGRvY3VtZW50LmJvZHkuc3R5bGUuY3NzVGV4dCA9IGBwb3NpdGlvbjogZml4ZWQ7IG1hcmdpbi10b3A6ICR7LXdpbmRvdy5zY3JvbGxZfXB4YDtcbn07XG5jb25zdCBzaG93T3ZlcmZsb3cgPSBvZmZzZXQgPT4ge1xuICBkb2N1bWVudC5ib2R5LnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246IHN0YXRpYzsgbWFyZ2luLXRvcDogMCc7XG4gIHdpbmRvdy5zY3JvbGxUbygwLCBvZmZzZXQpO1xufTtcbmNvbnN0IGhpZGVIZWFkZXJNZW51ID0gKCkgPT4ge1xuICBzaG93T3ZlcmZsb3coKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1tZW51JykuY2xhc3NMaXN0LnJlbW92ZSgnaGVhZGVyLW1lbnUtLXNob3duJyk7XG59O1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19idXJnZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgaGlkZU92ZXJmbG93KCk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbWVudScpLmNsYXNzTGlzdC5hZGQoJ2hlYWRlci1tZW51LS1zaG93bicpO1xufSk7XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbWVudV9fYmFja2Ryb3AnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZGVIZWFkZXJNZW51KTtcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbWVudV9fY2xvc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZGVIZWFkZXJNZW51KTtcblxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaGVhZGVyX19ub3RpZmljYXRpb25zLXdyYXBwZXInKSkubWFwKGVsID0+IHtcbiAgaWYgKCFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zha2VTY3JvbGwnKSkge1xuICAgIGVsLmZha2VTY3JvbGwoKTtcbiAgfVxufSk7XG4gIGNvbnN0IHBvcHVsYXJTbGlkZXIgPSBuZXcgU3dpcGVyKCcucG9wdWxhcl9fZ3JpZC0tbW9iaWxlJywge1xuICBsb29wOiB0cnVlLFxuICBsb29wQWRkaXRpb25hbFNsaWRlczogMyxcbiAgc3BhY2VCZXR3ZWVuOiAyMCxcbiAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuICBjZW50ZXJlZFNsaWRlczogdHJ1ZSxcbiAgYnJlYWtwb2ludHM6IHtcbiAgICA3NjA6IHtcbiAgICAgIHNsaWRlc1BlclZpZXc6IDIsXG4gICAgICBjZW50ZXJlZFNsaWRlczogZmFsc2VcbiAgICB9XG4gIH1cbn0pO1xuICBjb25zdCByZXZpZXdzU2xpZGVyID0gbmV3IFN3aXBlcignLnJldmlld3NfX3NsaWRlcicsIHtcbiAgbG9vcDogdHJ1ZSxcbiAgc3BhY2VCZXR3ZWVuOiAyMCxcbiAgc2xpZGVzUGVyVmlldzogMyxcbiAgc2xpZGVzUGVyR3JvdXA6IDMsXG4gIGxvb3BBZGRpdGlvbmFsU2xpZGVzOiAzLFxuICBwYWdpbmF0aW9uOiB7XG4gICAgZWw6ICcuc3dpcGVyLXBhZ2luYXRpb24nLFxuICAgIGNsaWNrYWJsZTogdHJ1ZVxuICB9XG59KTtcblxuY29uc3QgcmV2aWV3U2xpZGVyTW9iaWxlID0gbmV3IFN3aXBlcignLnJldmlld3NfX3NsaWRlci0tbW9iaWxlJywge1xuICBsb29wOiB0cnVlLFxuICBzcGFjZUJldHdlZW46IDIwLFxuICBsb29wQWRkaXRpb25hbFNsaWRlczogMyxcbiAgcGFnaW5hdGlvbjoge1xuICAgIGVsOiAnLnN3aXBlci1wYWdpbmF0aW9uJyxcbiAgICBjbGlja2FibGU6IHRydWVcbiAgfVxufSk7XG4gIC8vIGF1dGggZm9ybSB2YWxpZGF0aW9uXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLWxvZ2luLWZvcm1dJykpIHtcbiAgJGFwaS52YWxpZGF0ZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtbG9naW4tZm9ybV0nKSwgKCkgPT4ge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1sb2dpbi1mb3JtXScpLnN1Ym1pdCgpO1xuICB9KTtcbn1cblxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1zaWdudXAtc3R1ZGVudC1mb3JtXScpKSB7XG4gICRhcGkudmFsaWRhdGUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXNpZ251cC1zdHVkZW50LWZvcm1dJyksICgpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtc2lnbnVwLXN0dWRlbnQtZm9ybV0nKS5zdWJtaXQoKTtcbiAgfSk7XG59XG5cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtc2lnbnVwLXR1dG9yLWZvcm1dJykpIHtcbiAgJGFwaS52YWxpZGF0ZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtc2lnbnVwLXR1dG9yLWZvcm1dJyksICgpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtc2lnbnVwLXR1dG9yLWZvcm1dJykuc3VibWl0KCk7XG4gIH0pO1xufVxuXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXN1cHBvcnQtZm9ybV0nKSkge1xuICAkYXBpLnZhbGlkYXRlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1zdXBwb3J0LWZvcm1dJyksICgpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtc3VwcG9ydC1mb3JtXScpLnN1Ym1pdCgpO1xuICB9KTtcbn1cblxuLy8gc2V0IGNvdW50cnkgdmFsdWUgdG8gY2l0aWVzIGlucHV0XG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1hdXRoLWNvdW50cnknKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZUNvdW50cnknLCBlID0+IHtcbiAgZWwuY2xvc2VzdCgnZm9ybScpLnF1ZXJ5U2VsZWN0b3IoJy5qcy1hdXRoLWNpdHknKS5kYXRhc2V0LmNvdW50cnkgPSBlLnRhcmdldC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLnZhbHVlO1xufSkpO1xuXG4vLyBoYW5kbGluZyBjaXRpZXMgaW5wdXRcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtYXV0aC1jaXR5IGlucHV0JykubGVuZ3RoKSB7XG4gIGZldGNoKCdkYXRhL2xvY2F0aW9uLmpzb24nKS50aGVuKHJlcyA9PiByZXMuanNvbigpKS50aGVuKGRhdGEgPT4ge1xuICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWF1dGgtY2l0eSBpbnB1dCcpKS5tYXAoZWwgPT4ge1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBlID0+IHtcbiAgICAgICAgY29uc3QgJHRoaXMgPSBlLmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgIGNvbnN0ICRsYWJlbEVsZW1lbnQgPSAkdGhpcy5jbG9zZXN0KCcuaW5wdXQnKTtcbiAgICAgICAgY29uc3QgY291bnRyeSA9ICRsYWJlbEVsZW1lbnQuZGF0YXNldC5jb3VudHJ5O1xuXG4gICAgICAgIGlmIChjb3VudHJ5KSB7XG4gICAgICAgICAgY29uc3QgY2l0aWVzID0gZGF0YS5maWx0ZXIoZWwgPT4gZWwua2V5ID09PSBjb3VudHJ5KVswXS5jaXRpZXM7XG4gICAgICAgICAgY29uc3QgbG93ZXJDYXNlVmFsdWUgPSAkdGhpcy52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIGNvbnN0ICRkcm9wZG93bkVsZW1lbnQgPSAkdGhpcy5jbG9zZXN0KCcuaW5wdXQnKS5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd25fX21lbnUnKTtcbiAgICAgICAgICBjb25zdCAkZHJvcGRvd25Db250ZW50ID0gJGRyb3Bkb3duRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZmFrZVNjcm9sbF9fY29udGVudCcpO1xuICAgICAgICAgIGxldCBtYXRjaGVzRm91bmQgPSBmYWxzZTtcblxuICAgICAgICAgIGlmICgkZHJvcGRvd25Db250ZW50KSB7XG4gICAgICAgICAgICAkZHJvcGRvd25Db250ZW50LmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICgkdGhpcy52YWx1ZSAhPT0gJycpIHtcbiAgICAgICAgICAgIGNpdGllcy5tYXAoZWwgPT4ge1xuICAgICAgICAgICAgICBpZiAoZWwudG9Mb3dlckNhc2UoKS5pbmRleE9mKGxvd2VyQ2FzZVZhbHVlKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIG1hdGNoZXNGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgJGRyb3Bkb3duQ29udGVudC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8YSBjbGFzcz1cImlucHV0X19kcm9wZG93bi1pdGVtIGRyb3Bkb3duX19tZW51LWl0ZW0ke2xvd2VyQ2FzZVZhbHVlID8gJyBpbnB1dF9fZHJvcGRvd24taXRlbS0tc21hcnQnIDogJyd9XCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiPjxzcGFuPiR7ZWwuc3Vic3RyKDAsIGxvd2VyQ2FzZVZhbHVlLmxlbmd0aCl9PC9zcGFuPiR7ZWwuc3Vic3RyKGxvd2VyQ2FzZVZhbHVlLmxlbmd0aCl9PC9hPmApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAobWF0Y2hlc0ZvdW5kKSB7XG4gICAgICAgICAgICAgIEFycmF5LmZyb20oJGxhYmVsRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW5wdXRfX2Ryb3Bkb3duLWl0ZW0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICR0aGlzLnZhbHVlID0gZWwuaW5uZXJUZXh0O1xuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCEkZHJvcGRvd25FbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZmFrZVNjcm9sbCcpKSB7XG4gICAgICAgICAgICAkZHJvcGRvd25FbGVtZW50LmZha2VTY3JvbGwoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsICgpID0+IHtcbiAgICAgICAgY29uc3QgJGRyb3Bkb3duRWxlbWVudCA9IGVsLmNsb3Nlc3QoJy5pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJy5mYWtlU2Nyb2xsX19jb250ZW50Jyk7XG5cbiAgICAgICAgaWYgKCRkcm9wZG93bkVsZW1lbnQpIHtcbiAgICAgICAgICAkZHJvcGRvd25FbGVtZW50LmlubmVySFRNTCA9ICcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbi8vIGhhbmRsaW5nIHJlcXVpcmVkIGFncmVlbWVudCBjaGVja2JveFxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtuYW1lPVwicnVsZXNBZ3JlZW1lbnRcIl0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgY29uc3QgJHN1Ym1pdEJ1dHRvbiA9IGVsLmNsb3Nlc3QoJ2Zvcm0nKS5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpO1xuXG4gIGlmIChlbC5jaGVja2VkKSB7XG4gICAgJHN1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWRpc2FibGVkJyk7XG4gICAgJHN1Ym1pdEJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gIH0gZWxzZSB7XG4gICAgJHN1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidXR0b24tLWRpc2FibGVkJyk7XG4gICAgJHN1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gIH1cbn0pKTtcblxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYXV0aF9fdG9nZ2xlIC50YWJzX19pdGVtJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmF1dGhfX3R5cGUnKS52YWx1ZSA9IGVsLmRhdGFzZXQudGFiIC0gMTtcbn0pKTtcbiAgY29uc3QgJGNhdGFsb2dNb3JlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLWNhdGFsb2ctbW9yZScpO1xuXG5pZiAoJGNhdGFsb2dNb3JlQnRuKSB7XG4gIGNvbnN0ICRwcmV2QXJyb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnaW5hdGlvbl9fYXJyb3ctLXByZXYnKTtcbiAgY29uc3QgJG5leHRBcnJvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uX19hcnJvdy0tbmV4dCcpO1xuXG4gIC8vIGNhdGFsb2cgcGFnZXMgc3RhdGVcbiAgY29uc3QgY2F0YWxvZ1BhZ2VzID0ge1xuICAgIGN1cnJlbnQ6IFsxXSxcbiAgICB0b3RhbDogMTBcbiAgfTtcblxuICAvLyBzZXQgcGFnaW5hdGlvbiBjdXJyZW50IHBhZ2VcbiAgY29uc3Qgc2V0Q3VycmVudFBhZ2UgPSBjdXJyZW50UGFnZSA9PiB7XG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGFnaW5hdGlvbl9fcGFnZS0tY3VycmVudCcpKS5tYXAoZWwgPT4gZWwuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fcGFnZS0tY3VycmVudCcpKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucGFnaW5hdGlvbl9fcGFnZVtkYXRhLXBhZ2U9XCIke2N1cnJlbnRQYWdlfVwiXWApLmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX3BhZ2UtLWN1cnJlbnQnKTtcbiAgfTtcblxuICAvLyBzZXQgcGFnaW5hdGlvbiBicmVha1xuICBjb25zdCBzZXRCcmVhayA9IGxhdGVzdFBhZ2UgPT4ge1xuICAgIGNvbnN0ICRzZXBhcmF0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnaW5hdGlvbl9fc2VwYXJhdG9yJyk7XG4gICAgY29uc3QgJGJlZm9yZVNlcGFyYXRvckl0ZW0gPSAkc2VwYXJhdG9yLnByZXZpb3VzU2libGluZztcbiAgICBjb25zdCAkZmlyc3RJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2luYXRpb25fX3BhZ2UnKTtcblxuICAgIGlmICgrJGJlZm9yZVNlcGFyYXRvckl0ZW0uZGF0YXNldC5wYWdlID09PSBsYXRlc3RQYWdlKSB7XG4gICAgICBpZiAobGF0ZXN0UGFnZSA9PT0gY2F0YWxvZ1BhZ2VzLnRvdGFsIC0gMikge1xuICAgICAgICAkZmlyc3RJdGVtLnJlbW92ZSgpO1xuICAgICAgICAkc2VwYXJhdG9yLmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX3NlcGFyYXRvci0taGlkZGVuJyk7XG4gICAgICAgICRzZXBhcmF0b3IuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmViZWdpbicsIGA8YSBjbGFzcz1cInBhZ2luYXRpb25fX3BhZ2VcIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgZGF0YS1wYWdlPVwiJHtsYXRlc3RQYWdlICsgMX1cIj4ke2xhdGVzdFBhZ2UgKyAxfTwvYT5gKTtcbiAgICAgIH0gZWxzZSBpZiAobGF0ZXN0UGFnZSA8IGNhdGFsb2dQYWdlcy50b3RhbCAtIDIpIHtcbiAgICAgICAgJGZpcnN0SXRlbS5yZW1vdmUoKTtcbiAgICAgICAgJHNlcGFyYXRvci5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWJlZ2luJywgYDxhIGNsYXNzPVwicGFnaW5hdGlvbl9fcGFnZVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiBkYXRhLXBhZ2U9XCIke2xhdGVzdFBhZ2UgKyAxfVwiPiR7bGF0ZXN0UGFnZSArIDF9PC9hPmApO1xuICAgICAgICAkc2VwYXJhdG9yLmNsYXNzTGlzdC5yZW1vdmUoJ3BhZ2luYXRpb25fX3NlcGFyYXRvci0taGlkZGVuJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgrJGZpcnN0SXRlbS5kYXRhc2V0LnBhZ2UgPT09IGxhdGVzdFBhZ2UgJiYgbGF0ZXN0UGFnZSAhPT0gMSkge1xuICAgICAgJGJlZm9yZVNlcGFyYXRvckl0ZW0ucmVtb3ZlKCk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnaW5hdGlvbl9fcGFnZXMnKS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBgPGEgY2xhc3M9XCJwYWdpbmF0aW9uX19wYWdlXCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIGRhdGEtcGFnZT1cIiR7bGF0ZXN0UGFnZSAtIDF9XCI+JHtsYXRlc3RQYWdlIC0gMX08L2E+YCk7XG4gICAgICAkc2VwYXJhdG9yLmNsYXNzTGlzdC5yZW1vdmUoJ3BhZ2luYXRpb25fX3NlcGFyYXRvci0taGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIGZvcm1pbmcgcXVlcnkgdXJsIHdpdGggZmlsdGVycyB2YWx1ZXMgZnJvbSB1cmwgcGFyYW1lcnRyZXNcbiAgY29uc3QgZm9ybWF0VVJMID0gdXJsID0+IHtcbiAgICBsZXQgZm9ybWF0dGVkVVJMID0gdXJsO1xuICAgIGNvbnN0IGZpbHRlcnNOYW1lcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlcnNfX2lucHV0LWZpZWxkJykpLm1hcChlbCA9PiBlbC5uYW1lKTtcbiAgICBcbiAgICBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpLnNlYXJjaFBhcmFtcy50b1N0cmluZygpLnNwbGl0KFwiJlwiKS5tYXAoZWwgPT4ge1xuICAgICAgY29uc3QgWyBrZXkgXSA9IGVsLnNwbGl0KCc9Jyk7XG4gICAgICBpZiAoZmlsdGVyc05hbWVzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgZm9ybWF0dGVkVVJMICs9ICcmJyArIGVsO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZm9ybWF0dGVkVVJMICs9IGAmbGltaXQ9JHtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtY2F0YWxvZy1saW1pdCAuZHJvcGRvd25fX3ZhbHVlJykuaW5uZXJUZXh0fWA7XG5cbiAgICByZXR1cm4gZm9ybWF0dGVkVVJMO1xuICB9O1xuXG4gIC8vIGdlbmVyYXRlIGNhdGFsb2cgaXRlbSBlbGVtZW50XG4gIGNvbnN0IGNhdGFsb2dJdGVtRWxlbWVudCA9ICh7IHRvcCwgaW1hZ2UsIHZlcmlmaWVkLCBuYW1lLCBjb3VudHJ5LCBzdWJqZWN0cywgbG9jYXRpb24sIGRlc2NyaXB0aW9uLCBsaW5rLCByYXRpbmcsIHJldmlld3MsIHByaWNlIH0pID0+IGBcbiAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkJHt0b3AgPyAnIHR1dG9yY2FyZC0tdG9wJyA6ICcnfVwiPlxuICAgICAgPGRpdiBjbGFzcz1cInR1dG9yY2FyZF9faW1hZ2VcIiBzdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6IHVybCgnaW1nL2luaHRtbC8ke2ltYWdlfScpXCI+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkX19pbmZvXCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0dXRvcmNhcmRfX25hbWUke3ZlcmlmaWVkID8gJyB0dXRvcmNhcmRfX25hbWUtLXZlcmlmaWVkJyA6ICcnfVwiPiR7bmFtZX08L3A+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0dXRvcmNhcmRfX2xvY2F0aW9uXCIgZGF0YS1sb2M9JHtjb3VudHJ5fT4ke2xvY2F0aW9ufTwvcD5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkX19zdWJqZWN0c1wiPlxuICAgICAgICAgICAgJHtzdWJqZWN0cy5tYXAoZWwgPT4gYFxuICAgICAgICAgICAgICA8YSBjbGFzcz1cInR1dG9yY2FyZF9fc3ViamVjdHMtaXRlbSR7ZWwuc2VhcmNoID8gJyB0dXRvcmNhcmRfX3N1YmplY3RzLWl0ZW0tLXNlYXJjaCcgOiAnJ30ke2VsLmhpZGRlbiA/ICcgdHV0b3JjYXJkX19zdWJqZWN0cy1pdGVtLS1oaWRkZW4nIDogJyd9XCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiPiR7ZWwubmFtZX0gPHNwYW4+KNC+0L/Ri9GCIDxiPiR7ZWwuZXhwZXJpZW5jZX08L2I+KTwvc3Bhbj48L2E+XG4gICAgICAgICAgICBgKS5qb2luKCcnKX1cbiAgICAgICAgICAgIDxhIGNsYXNzPVwidHV0b3JjYXJkX19zdWJqZWN0cy1tb3JlIGpzLXR1dG9yY2FyZC1tb3JlXCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiPisyINC/0YDQtdC00LzQtdGC0LA8L2E+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0dXRvcmNhcmRfX2Rlc2NcIj4ke2Rlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgPC9kaXY+PGEgY2xhc3M9XCJ0dXRvcmNhcmRfX21vcmVcIiBocmVmPSR7bGlua30+0J/QvtC00YDQvtCx0L3QtdC1PC9hPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkX19hY3Rpb25zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0dXRvcmNhcmRfX2FjdGlvbnMtaW5mb1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0dXRvcmNhcmRfX3JhdGluZyR7cGFyc2VJbnQocmV2aWV3cykgPT09IDAgPyAnIHR1dG9yY2FyZF9fcmF0aW5nLS1lbXB0eScgOiAnJ31cIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19yYXRpbmctcmF0ZVwiPiR7cmF0aW5nfTwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19yYXRpbmctcmV2aWV3c1wiPigke3Jldmlld3N9KTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkX19jb3N0XCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInR1dG9yY2FyZF9fY29zdC12YWx1ZVwiPiR7cHJpY2V9IOKCvTwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19jb3N0LWRlc2NcIj7QsiDRh9Cw0YE8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGpzLW9wZW4tcG9wdXAke3RvcCA/ICcgYnV0dG9uLS1wcmltYXJ5JyA6ICcgYnV0dG9uLS1zZWNvbmRhcnknfSB0dXRvcmNhcmRfX2J0blwiIGRhdGEtcG9wdXA9XCJyZXF1ZXN0LWF1dGhcIj7QntGB0YLQsNCy0LjRgtGMINC30LDRj9Cy0LrRgzwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIGA7XG5cbiAgLy8gbG9hZCBtb3JlIGNhdGFsb2cgaXRlbXNcbiAgJGNhdGFsb2dNb3JlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGxhdGVzdFBhZ2UgPSBjYXRhbG9nUGFnZXMuY3VycmVudFtjYXRhbG9nUGFnZXMuY3VycmVudC5sZW5ndGggLSAxXSArIDE7XG4gICAgY29uc3QgcXVlcnlVcmwgPSBmb3JtYXRVUkwoYGRhdGEvY2F0YWxvZy5qc29uP3BhZ2U9JHtsYXRlc3RQYWdlfWApO1xuXG4gICAgLy8gc2V0IGN1cnJlbnQgcGFnZXNcbiAgICBjYXRhbG9nUGFnZXMuY3VycmVudC5wdXNoKGxhdGVzdFBhZ2UpO1xuXG4gICAgLy8gc2V0IGN1cnJlbnQgcGFnaW50YWlvbiBwYWdlc1xuICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBhZ2luYXRpb25fX3BhZ2UnKSkubWFwKGVsID0+IHtcbiAgICAgIGlmIChjYXRhbG9nUGFnZXMuY3VycmVudC5pbmNsdWRlcyhwYXJzZUludChlbC5pbm5lclRleHQpKSkge1xuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19wYWdlLS1jdXJyZW50Jyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBmZXRjaChxdWVyeVVybCkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihkYXRhID0+IHtcbiAgICAgIGRhdGEubWFwKGl0ZW0gPT4ge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZ19faXRlbXMnKS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGNhdGFsb2dJdGVtRWxlbWVudChpdGVtKSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGxhdGVzdFBhZ2UgPT09IGNhdGFsb2dQYWdlcy50b3RhbCkge1xuICAgICAgICAkY2F0YWxvZ01vcmVCdG4uY2xhc3NMaXN0LmFkZCgnY2F0YWxvZ19fYm90dG9tLWJ0bi0taGlkZGVuJyk7XG4gICAgICAgICRuZXh0QXJyb3cuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIGdvIHRvIHByZXZpb3VzIHBhZ2VcbiAgJHByZXZBcnJvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gY2F0YWxvZ1BhZ2VzLmN1cnJlbnRbMF0gLSAxO1xuICAgIGNvbnN0IHF1ZXJ5VXJsID0gZm9ybWF0VVJMKGBkYXRhL2NhdGFsb2cuanNvbj9wYWdlPSR7Y3VycmVudFBhZ2V9YCk7XG5cbiAgICBjYXRhbG9nUGFnZXMuY3VycmVudCA9IFtjdXJyZW50UGFnZV07XG5cbiAgICBmZXRjaChxdWVyeVVybCkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihkYXRhID0+IHtcbiAgICAgIGxldCAkZWxlbWVudHMgPSAnJztcbiAgXG4gICAgICBkYXRhLm1hcChpdGVtID0+IHtcbiAgICAgICAgJGVsZW1lbnRzICs9IGNhdGFsb2dJdGVtRWxlbWVudChpdGVtKTtcbiAgICAgIH0pO1xuXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnaW5hdGlvbl9fYXJyb3ctLW5leHQnKS5jbGFzc0xpc3QucmVtb3ZlKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgIHNldEN1cnJlbnRQYWdlKGN1cnJlbnRQYWdlKTtcblxuICAgICAgaWYgKGN1cnJlbnRQYWdlID09PSAxKSB7XG4gICAgICAgICRwcmV2QXJyb3cuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICB9XG5cbiAgICAgICRjYXRhbG9nTW9yZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdjYXRhbG9nX19ib3R0b20tYnRuLS1oaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nX19pdGVtcycpLmlubmVySFRNTCA9ICRlbGVtZW50cztcbiAgICB9KTtcblxuICAgIHNldEJyZWFrKGN1cnJlbnRQYWdlKTtcbiAgfSk7XG5cbiAgLy8gZ28gdG8gbmV4dCBwYWdlXG4gICRuZXh0QXJyb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBjdXJyZW50UGFnZSA9IGNhdGFsb2dQYWdlcy5jdXJyZW50W2NhdGFsb2dQYWdlcy5jdXJyZW50Lmxlbmd0aCAtIDFdICsgMTtcbiAgICBjb25zdCBxdWVyeVVybCA9IGZvcm1hdFVSTChgZGF0YS9jYXRhbG9nLmpzb24/cGFnZT0ke2N1cnJlbnRQYWdlfWApO1xuXG4gICAgY2F0YWxvZ1BhZ2VzLmN1cnJlbnQgPSBbY3VycmVudFBhZ2VdO1xuXG4gICAgZmV0Y2gocXVlcnlVcmwpLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpLnRoZW4oZGF0YSA9PiB7XG4gICAgICBsZXQgJGVsZW1lbnRzID0gJyc7XG4gIFxuICAgICAgZGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgICAgICRlbGVtZW50cyArPSBjYXRhbG9nSXRlbUVsZW1lbnQoaXRlbSk7XG4gICAgICB9KTtcblxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2luYXRpb25fX2Fycm93LS1wcmV2JykuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICBzZXRDdXJyZW50UGFnZShjdXJyZW50UGFnZSk7XG5cbiAgICAgIGlmIChjdXJyZW50UGFnZSA9PT0gY2F0YWxvZ1BhZ2VzLnRvdGFsKSB7XG4gICAgICAgICRjYXRhbG9nTW9yZUJ0bi5jbGFzc0xpc3QuYWRkKCdjYXRhbG9nX19ib3R0b20tYnRuLS1oaWRkZW4nKTtcbiAgICAgICAgJG5leHRBcnJvdy5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgIH1cblxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGFsb2dfX2l0ZW1zJykuaW5uZXJIVE1MID0gJGVsZW1lbnRzO1xuICBcbiAgICAgIHNldEJyZWFrKGN1cnJlbnRQYWdlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gZ28gdG8gc3BlY2lmaWMgcGFnZVxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGNvbnN0ICR0aGlzID0gZS50YXJnZXQ7XG4gIFxuICAgIGlmICgkdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ3BhZ2luYXRpb25fX3BhZ2UnKSkge1xuICAgICAgY29uc3QgY3VycmVudFBhZ2UgPSBwYXJzZUludCgkdGhpcy5kYXRhc2V0LnBhZ2UpO1xuICAgICAgY29uc3QgcXVlcnlVcmwgPSBmb3JtYXRVUkwoYGRhdGEvY2F0YWxvZy5qc29uP3BhZ2U9JHtjdXJyZW50UGFnZX1gKTtcblxuICAgICAgY2F0YWxvZ1BhZ2VzLmN1cnJlbnQgPSBbY3VycmVudFBhZ2VdO1xuXG4gICAgICBmZXRjaChxdWVyeVVybCkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihkYXRhID0+IHtcbiAgICAgICAgbGV0ICRlbGVtZW50cyA9ICcnO1xuICAgIFxuICAgICAgICBkYXRhLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAkZWxlbWVudHMgKz0gY2F0YWxvZ0l0ZW1FbGVtZW50KGl0ZW0pO1xuICAgICAgICB9KTtcbiAgXG4gICAgICAgIHNldEN1cnJlbnRQYWdlKGN1cnJlbnRQYWdlKTtcbiAgXG4gICAgICAgIGlmIChjdXJyZW50UGFnZSA9PT0gY2F0YWxvZ1BhZ2VzLnRvdGFsKSB7XG4gICAgICAgICAgJGNhdGFsb2dNb3JlQnRuLmNsYXNzTGlzdC5hZGQoJ2NhdGFsb2dfX2JvdHRvbS1idG4tLWhpZGRlbicpO1xuICAgICAgICAgICRuZXh0QXJyb3cuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFBhZ2UgPT09IDEpIHtcbiAgICAgICAgICAkcHJldkFycm93LmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX2Fycm93LS1kaXNhYmxlZCcpO1xuICAgICAgICAgICRjYXRhbG9nTW9yZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdjYXRhbG9nX19ib3R0b20tYnRuLS1oaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkbmV4dEFycm93LmNsYXNzTGlzdC5yZW1vdmUoJ3BhZ2luYXRpb25fX2Fycm93LS1kaXNhYmxlZCcpO1xuICAgICAgICAgICRwcmV2QXJyb3cuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICAgICAgJGNhdGFsb2dNb3JlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2NhdGFsb2dfX2JvdHRvbS1idG4tLWhpZGRlbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0QnJlYWsoY3VycmVudFBhZ2UpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZ19faXRlbXMnKS5pbm5lckhUTUwgPSAkZWxlbWVudHM7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuICAvLyBzY3JvbGwgdG8gdHV0b3Igc2VjdGlvblxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudHV0b3JfX25hdi1saW5rJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgdGFyZ2V0ID0gZWwuZGF0YXNldC50YXJnZXQ7XG5cbiAgc2Nyb2xsVG8oe1xuICAgIHRvcDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtYmxvY2s9XCIke3RhcmdldH1cIl1gKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQgLSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyJykub2Zmc2V0SGVpZ2h0LFxuICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICB9KTtcbn0pKTtcblxuLy8gc2V0IHBheW1lbnQgcGVyIGhvdXJcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2ZpbGUtaGVhZF9fc3ViamVjdHMtaXRlbScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IHBheW1lbnQgPSBlbC5kYXRhc2V0LnBheTtcblxuICBlbC5jbG9zZXN0KCcucHJvZmlsZS1oZWFkX19zdWJqZWN0cycpLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLWhlYWRfX3N1YmplY3RzLWl0ZW0tLWhpZ2hsaWdodCcpLmNsYXNzTGlzdC5yZW1vdmUoJ3Byb2ZpbGUtaGVhZF9fc3ViamVjdHMtaXRlbS0taGlnaGxpZ2h0Jyk7XG4gIGVsLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtaGVhZF9fc3ViamVjdHMtaXRlbS0taGlnaGxpZ2h0Jyk7XG5cbiAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudHV0b3JfX2Nvc3QtdmFsdWUgc3BhbicpKS5tYXAoZWwgPT4gZWwuaW5uZXJUZXh0ID0gcGF5bWVudCk7XG59KSk7XG4gIGNvbnN0ICRwcm9maWxlVmlkZW9Db3ZlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLWFib3V0X192aWRlby1jb3ZlcicpO1xuXG4vLyBwbGF5IHZpZGUgb24gYWJvdXQgc2VjdGlvblxuaWYgKCRwcm9maWxlVmlkZW9Db3Zlcikge1xuICAkcHJvZmlsZVZpZGVvQ292ZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY29uc3QgJHZpZGVvID0gJHByb2ZpbGVWaWRlb0NvdmVyLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignaWZyYW1lJyk7XG5cbiAgICAkcHJvZmlsZVZpZGVvQ292ZXIucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdpZnJhbWUnKS5zZXRBdHRyaWJ1dGUoJ3NyYycsICR2aWRlby5nZXRBdHRyaWJ1dGUoJ3NyYycpICsgJz9hdXRvcGxheT0xJyk7XG4gICAgJHByb2ZpbGVWaWRlb0NvdmVyLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtYWJvdXRfX3ZpZGVvLWNvdmVyLS1oaWRkZW4nKTtcbiAgfSk7XG59XG4gIGNvbnN0ICRyZXZpZXdzTW9yZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1yZXZpZXdzLW1vcmUnKTtcblxuaWYgKCRyZXZpZXdzTW9yZUJ0bikge1xuICAvLyByZXZpZXdzIHBhZ2VzIHN0YXRlXG4gIGNvbnN0IHJldmlld3NQYWdlcyA9IHtcbiAgICBjdXJyZW50OiAxLFxuICAgIHRvdGFsOiAzXG4gIH07XG4gIC8vIGdlbmVyYXRlIHJldmlldyBlbGVtZW50XG4gIGNvbnN0IHJldmlld0VsZW1lbnQgPSAoeyBpbWFnZSwgbmFtZSwgZGF0ZSwgcmF0aW5nLCBmZWVkYmFjaywgdGFnIH0pID0+IGBcbiAgICA8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFja1wiPlxuICAgICAgJHtpbWFnZSA/XG4gICAgICAgIGA8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay1pbWFnZVwiIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTogdXJsKCdpbWcvaW5odG1sLyR7aW1hZ2V9JylcIj48L2Rpdj5gIDpcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX2ZlZWRiYWNrLWltYWdlXCI+PC9kaXY+J1xuICAgICAgfVxuICAgICAgPGRpdiBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2staW5mb1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay1oZWFkXCI+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay1uYW1lXCI+JHtuYW1lfTwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay1kYXRlXCI+JHtkYXRlfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAke3RhZyA/ICc8cCBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2stdGFnXCI+JyArIHRhZyArICc8L3A+JyA6ICcnfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fcmF0aW5nLXN0YXJzXCI+XG4gICAgICAgICAgJHtbMSwgMiwgMywgNCwgNV0ubWFwKGUgPT4gZSA8PSByYXRpbmcgP1xuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX3JhdGluZy1zdGFyIHByb2ZpbGUtcmV2aWV3c19fcmF0aW5nLXN0YXItLWZ1bGxcIj48L2Rpdj4nIDpcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19yYXRpbmctc3RhclwiPjwvZGl2PidcbiAgICAgICAgICApLmpvaW4oJycpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHAgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX2ZlZWRiYWNrLXRleHRcIj4ke2ZlZWRiYWNrfTwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICBgO1xuXG4gIC8vIGxvYWQgbW9yZSByZXZpZXcgb24gYnV0dG9uIGNsaWNrXG4gICRyZXZpZXdzTW9yZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB1cmwgPSAkcmV2aWV3c01vcmVCdG4uZGF0YXNldC51cmw7XG5cbiAgICAvLyBpbmNyZW1lbnQgY3VycmVudCBsb2FkZWQgcmV2aWV3cyBwYWdlXG4gICAgKytyZXZpZXdzUGFnZXMuY3VycmVudDtcbiAgICBcbiAgICAvLyBsb2FkIHJldmlld3NcbiAgICBmZXRjaChgJHt1cmx9P3BhZ2U9JHtyZXZpZXdzUGFnZXMuY3VycmVudH1gKS50aGVuKHJlcyA9PiByZXMuanNvbigpKS50aGVuKGRhdGEgPT4ge1xuICAgICAgZGF0YS5tYXAocmV2aWV3ID0+IHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2tzJykuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCByZXZpZXdFbGVtZW50KHJldmlldykpO1xuXG4gICAgICAgIGlmIChyZXZpZXdzUGFnZXMuY3VycmVudCA9PT0gcmV2aWV3c1BhZ2VzLnRvdGFsKSB7XG4gICAgICAgICAgJHJldmlld3NNb3JlQnRuLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59XG4gIC8vIGluaXQgZmFrZVNjcm9sbCBvbiB0aW1lem9uZSBkcm9wZG93blxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlJykpIHtcbiAgY29uc3QgJHRpbWV6b25lRHJvcGRvd24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fdGltZXpvbmUtbWVudScpO1xuXG4gIGlmICghJHRpbWV6b25lRHJvcGRvd24uY2xhc3NMaXN0LmNvbnRhaW5zKCdmYWtlU2Nyb2xsJykpIHtcbiAgICAkdGltZXpvbmVEcm9wZG93bi5mYWtlU2Nyb2xsKCk7XG4gIH1cbn1cblxuY29uc3Qgc2V0RGF0ZVRpbWUgPSAoKSA9PiB7XG4gIGNvbnN0ICRjdXJyZW50VW5pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX191bml0LS1jdXJyZW50Jyk7XG4gIGNvbnN0ICRwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwicmVxdWVzdC1zcGVjaWZpY1wiXScpO1xuXG4gIGlmICgkY3VycmVudFVuaXQpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IGRhdGUgPSAkY3VycmVudFVuaXQuZGF0YXNldC5kYXRlO1xuICAgICAgY29uc3QgdGltZSA9ICRjdXJyZW50VW5pdC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fdGltZS12YWx1ZScpLmlubmVyVGV4dDtcbiAgXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fcGljaycpLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtc2NoZWR1bGVfX3BpY2stLWFjdGl2ZScpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX3BpY2stZGF0ZScpLmlubmVyVGV4dCA9IGRhdGU7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fcGljay10aW1lJykuaW5uZXJUZXh0ID0gdGltZTtcblxuICAgICAgaWYgKCRwb3B1cCkge1xuICAgICAgICAkcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19oZWFkaW5nLWRhdGUnKS5pbm5lclRleHQgPSBkYXRlO1xuICAgICAgICAkcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19oZWFkaW5nLXRpbWUnKS5pbm5lclRleHQgPSB0aW1lO1xuICAgICAgICAkcG9wdXAucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cInRpbWVcIl0nKS52YWx1ZSA9IHRpbWU7XG4gICAgICB9XG4gICAgfSwgMCk7XG4gIH1cbn1cblxuLy8gaGFuZGxlIHNjaGVkdWxlIHNsaWRlclxuY29uc3QgJHByZXZCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1wcmV2Jyk7XG5jb25zdCAkbmV4dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLW5leHQnKTtcblxuaWYgKCRwcmV2QnV0dG9uKSB7XG4gICRwcmV2QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0ICRhY3RpdmVTbGlkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19zbGlkZS0tYWN0aXZlJyk7XG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gKyRhY3RpdmVTbGlkZS5kYXRhc2V0LnNsaWRlO1xuICAgIGNvbnN0ICRwcmV2U2xpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucHJvZmlsZS1zY2hlZHVsZV9fc2xpZGVbZGF0YS1zbGlkZT1cIiR7Y3VycmVudEluZGV4IC0gMX1cIl1gKTtcbiAgXG4gICAgaWYgKCRwcmV2U2xpZGUpIHtcbiAgICAgICRhY3RpdmVTbGlkZS5jbGFzc0xpc3QucmVtb3ZlKCdwcm9maWxlLXNjaGVkdWxlX19zbGlkZS0tYWN0aXZlJyk7XG4gICAgICAkcHJldlNsaWRlLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtc2NoZWR1bGVfX3NsaWRlLS1hY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLW5leHQnKS5jbGFzc0xpc3QucmVtb3ZlKCdwcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLWRpc2FibGVkJyk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtZGF0ZXMnKS5pbm5lclRleHQgPSAkcHJldlNsaWRlLmRhdGFzZXQuZGF0ZXM7XG4gIFxuICAgICAgaWYgKCRwcmV2U2xpZGUuZGF0YXNldC5maXJzdCkge1xuICAgICAgICAkcHJldkJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLWRpc2FibGVkJyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuaWYgKCRuZXh0QnV0dG9uKSB7XG4gICRuZXh0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0ICRhY3RpdmVTbGlkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19zbGlkZS0tYWN0aXZlJyk7XG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gKyRhY3RpdmVTbGlkZS5kYXRhc2V0LnNsaWRlO1xuICAgIGNvbnN0ICRuZXh0U2xpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucHJvZmlsZS1zY2hlZHVsZV9fc2xpZGVbZGF0YS1zbGlkZT1cIiR7Y3VycmVudEluZGV4ICsgMX1cIl1gKTtcbiAgXG4gICAgaWYgKCRuZXh0U2xpZGUpIHtcbiAgICAgICRhY3RpdmVTbGlkZS5jbGFzc0xpc3QucmVtb3ZlKCdwcm9maWxlLXNjaGVkdWxlX19zbGlkZS0tYWN0aXZlJyk7XG4gICAgICAkbmV4dFNsaWRlLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtc2NoZWR1bGVfX3NsaWRlLS1hY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLXByZXYnKS5jbGFzc0xpc3QucmVtb3ZlKCdwcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLWRpc2FibGVkJyk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtZGF0ZXMnKS5pbm5lclRleHQgPSAkbmV4dFNsaWRlLmRhdGFzZXQuZGF0ZXM7XG4gIFxuICAgICAgaWYgKCRuZXh0U2xpZGUuZGF0YXNldC5sYXN0KSB7XG4gICAgICAgICRuZXh0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtc2NoZWR1bGVfX2NvbnRyb2xzLWJ1dHRvbi0tZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG4vLyBoYW5kbGUgc2VsZWN0IGRhdGV0aW1lIHVuaXRcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2ZpbGUtc2NoZWR1bGVfX3VuaXQnKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGlmICghZS50YXJnZXQuY2xvc2VzdCgnLnByb2ZpbGUtc2NoZWR1bGVfX3RpbWUnKSkge1xuICAgIGNvbnN0ICRjdXJyZW50VW5pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX191bml0LS1jdXJyZW50Jyk7XG4gIFxuICAgIGlmICgkY3VycmVudFVuaXQpIHtcbiAgICAgICRjdXJyZW50VW5pdC5jbGFzc0xpc3QucmVtb3ZlKCdwcm9maWxlLXNjaGVkdWxlX191bml0LS1jdXJyZW50Jyk7XG4gICAgfVxuICBcbiAgICBlbC5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLXNjaGVkdWxlX191bml0LS1jdXJyZW50Jyk7XG4gICAgc2V0RGF0ZVRpbWUoKTtcbiAgfVxufSkpO1xuXG4vLyBleGVjdXRlIHNldCBkYXRldGltZSBvbiB0aW1lIGNoYW5nZVxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZmlsZS1zY2hlZHVsZV9fdGltZS1tZW51IC5kcm9wZG93bl9fbWVudS1pdGVtJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNldERhdGVUaW1lKSk7XG5cbn0iXX0=
