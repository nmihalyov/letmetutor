"use strict";window.onload=function(){var e={popup:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.onHide,n=t.onShow,r=function(){document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px")},i=function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)};return{isShown:function(){return e.classList.contains("popup--opened")},show:function(){var t=new Promise((function(t){e.style.display="block",t()}));r(),t.then((function(){e.classList.add("popup--opened"),"function"==typeof n&&n()}))},hide:function(){var t=-parseInt(document.body.style.marginTop);e.classList.remove("popup--opened"),setTimeout((function(){e.style.display="none",i(t),"function"==typeof o&&o()}),300)}}}};Array.from(document.querySelectorAll(".js-open-popup")).map((function(t){return t.addEventListener("click",(function(t){t.preventDefault();var o=t.currentTarget.dataset.popup,n=document.querySelector('.js-popup[data-popup="'.concat(o,'"]'));e.popup(n).show()}))})),Array.from(document.querySelectorAll(".js-close-popup")).map((function(t){return t.addEventListener("click",(function(t){if(t.preventDefault(),!t.target.closest(".popup__window")||!t.currentTarget.classList.contains("js-popup")){var o=t.currentTarget.closest(".popup");e.popup(o).hide()}}))})),document.addEventListener("click",(function(e){e.target.closest(".dropdown")||Array.from(document.querySelectorAll(".dropdown")).map((function(e){return e.classList.remove("dropdown--active")}))})),Array.from(document.querySelectorAll(".dropdown")).map((function(e){return e.addEventListener("click",(function(e){var t=e.currentTarget;Array.from(document.querySelectorAll(".dropdown")).map((function(e){return e!==t&&e.classList.remove("dropdown--active")})),t.classList.toggle("dropdown--active")}))})),document.addEventListener("click",(function(e){if(e.target.getAttribute("data-toggle")){console.log(!0);var t=e.target,o=t.innerText,n=t.cloneNode(),r=t.closest(".dropdown").querySelector(".dropdown__value");n.innerText=r.innerText,r.innerText=o,t.parentNode.prepend(n),t.parentNode.removeChild(t)}})),Array.from(document.querySelectorAll(".tabs__item")).map((function(e){return e.addEventListener("click",(function(e){var t=e.currentTarget,o=t.dataset.tab;t.closest(".tabs").querySelector(".tabs__item--active").classList.remove("tabs__item--active"),t.classList.add("tabs__item--active"),t.closest("[data-tabs]").querySelector("[data-active]").removeAttribute("data-active"),t.closest("[data-tabs]").querySelector('[data-content="'.concat(o,'"]')).setAttribute("data-active",!0)}))}));var t=document.querySelector(".cookies");JSON.parse(localStorage.getItem("letmetutor:cookiesIsHidden"))?t.remove():(t.classList.add("cookies--shown"),document.querySelector(".cookies__btn").addEventListener("click",(function(){t.classList.remove("cookies--shown"),setTimeout((function(){t.remove(),localStorage.setItem("letmetutor:cookiesIsHidden",!0)}),500)})));var o=document.querySelector(".header__banner"),n=function(){!function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)}(),document.querySelector(".header-menu").classList.remove("header-menu--shown")};JSON.parse(localStorage.getItem("letmetutor:bannerIsHidden"))?o.remove():(o.style.display="flex",document.querySelector(".header__banner-close").addEventListener("click",(function(){o.classList.add("header__banner--hide"),setTimeout((function(){o.remove(),localStorage.setItem("letmetutor:bannerIsHidden",!0)}),500)}))),document.querySelector(".header__burger").addEventListener("click",(function(){-parseInt(document.body.style.marginTop),document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px"),document.querySelector(".header-menu").classList.add("header-menu--shown")})),document.querySelector(".header-menu__backdrop").addEventListener("click",n),document.querySelector(".header-menu__close").addEventListener("click",n),Array.from(document.querySelectorAll(".hero__dropdown-item")).map((function(e){return e.addEventListener("click",(function(e){var t=e.currentTarget,o=t.innerText;t.closest(".hero__input").querySelector(".hero__input-field").value=o}))})),Array.from(document.querySelectorAll(".hero__input-field")).map((function(e){var t=e,o=function(e){var o=t.nextElementSibling,n=o.querySelector(".fakeScroll__content")||o,r=JSON.parse(t.dataset.options),i=t.value.toLowerCase(),a=!1;n.innerHTML="",r.map((function(t){(e||t.toLowerCase().match(i))&&(a=!0,n.insertAdjacentHTML("beforeend",'<a class="hero__dropdown-item dropdown__menu-item" href="javascript:void(0)">'.concat(t,"</a>")))})),a?o.classList.remove("hero__dropdown--hidden"):o.classList.add("hero__dropdown--hidden"),Array.from(n.querySelectorAll(".hero__dropdown-item")).map((function(e){return e.addEventListener("click",(function(){t.value=e.innerText,t.setAttribute("data-value",e.innerText)}))})),e&&!o.classList.contains("fakeScroll")&&n.fakeScroll()};t.addEventListener("input",(function(){return o(!1)})),t.addEventListener("focus",(function(){return o(!0)})),t.addEventListener("blur",(function(){""!==t.value&&t.dataset.value?t.value=t.dataset.value:t.value=""}))}));new Swiper(".popular__grid--mobile",{loop:!0,loopAdditionalSlides:3,spaceBetween:20,slidesPerView:"auto",centeredSlides:!0,breakpoints:{760:{slidesPerView:2,centeredSlides:!1}}}),new Swiper(".reviews__slider",{loop:!0,spaceBetween:20,slidesPerView:3,slidesPerGroup:3,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".reviews__slider--mobile",{loop:!0,spaceBetween:20,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbmxvYWQiLCIkYXBpIiwiJHBvcHVwIiwiX3JlZiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsIm9uSGlkZSIsIm9uU2hvdyIsImRvY3VtZW50Iiwic3R5bGUiLCJjb25jYXQiLCJzY3JvbGxZIiwiYm9keSIsImNzc1RleHQiLCJzY3JvbGxUbyIsIm9mZnNldCIsImlzU2hvd24iLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInNob3ciLCJQcm9taXNlIiwicmVzb2x2ZSIsImRpc3BsYXkiLCJoaWRlT3ZlcmZsb3ciLCJhZGQiLCJwcm9taXNlIiwiaGlkZSIsInBhcnNlSW50IiwibWFyZ2luVG9wIiwicmVtb3ZlIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIm1hcCIsImVsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImN1cnJlbnRUYXJnZXQiLCJwb3B1cCIsInRhcmdldCIsImNsb3Nlc3QiLCIkdGhpcyIsImdldEF0dHJpYnV0ZSIsImNvbnNvbGUiLCJsb2ciLCJjbG9uZU5vZGUiLCJxdWVyeVNlbGVjdG9yIiwiJGNsb25lRWxlbWVudCIsImlubmVyVGV4dCIsIiRkcm9wZG93blZhbHVlIiwicGFyZW50Tm9kZSIsInRhYiIsImRhdGFzZXQiLCJyZW1vdmVBdHRyaWJ1dGUiLCIkY29va2llcyIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRUaW1lb3V0Iiwic2V0SXRlbSIsIiRiYW5uZXIiLCJzaG93T3ZlcmZsb3ciLCJoaWRlSGVhZGVyTWVudSIsInZhbHVlIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiJGRyb3Bkb3duIiwiJGRyb3Bkb3duRWxlbWVudCIsImhhbmRsZUlucHV0IiwiZmlyc3RSZW5kZXIiLCJtYXRjaGVzRm91bmQiLCJsb3dlckNhc2VWYWx1ZSIsImlubmVySFRNTCIsIm9wdGlvbnMiLCJtYXRjaCIsInNldEF0dHJpYnV0ZSIsImZha2VTY3JvbGwiLCJTd2lwZXIiLCJsb29wQWRkaXRpb25hbFNsaWRlcyIsInNsaWRlc1BlclZpZXciLCJjZW50ZXJlZFNsaWRlcyIsImJyZWFrcG9pbnRzIiwiNzYwIiwicG9wdWxhclNsaWRlciIsImxvb3AiLCJzbGlkZXNQZXJHcm91cCIsInBhZ2luYXRpb24iLCJyZXZpZXdzU2xpZGVyIiwiY2xpY2thYmxlIiwicmV2aWV3U2xpZGVyTW9iaWxlIl0sIm1hcHBpbmdzIjoiYUFBQUEsT0FBT0MsT0FBUyxXQUVkLElBQUFDLEVBQUEsQ0FJRkEsTUFBQSxTQUFBQyxHQUFrRCxJQUFBQyxFQUFBQyxVQUFBQyxPQUFBLFFBQUFDLElBQUFGLFVBQUEsR0FBQUEsVUFBQSxHQUFBLEdBQXJDRyxFQUFxQ0osRUFBckNJLE9BQUFDLEVBQXFDTCxFQUFyQ0ssT0FBV0QsRUFBQUEsV0FBMEJFLFNBQWxCRCxLQUFrQkUsTUFBbEJGLFFBQWtCLGdDQUFBRyxRQUFBWixPQUFBYSxRQUFBLE9BRzlDSCxFQUFjQyxTQUFBQSxHQUNmRCxTQUVESSxLQUFBSCxNQUFBSSxRQUFBLGtDQUlFZixPQUFPZ0IsU0FBUyxFQUFHQyxJQUFuQmpCLE1BQUFBLENBS0FrQixRQUFTLFdBQUEsT0FBTWYsRUFBT2dCLFVBQVVDLFNBQVMsa0JBRHpDQyxLQUpBckIsV0FLQWtCLElBQUFBLEVBQVMsSUFBQUksU0FBQSxTQUFBQyxHQUFBcEIsRUFBTUEsTUFBTXFCLFFBQU4sUUFGVkQsT0FLSEUsSUFFRUYsRUFBQUEsTUFBTyxXQUNScEIsRUFIRGdCLFVBQUFPLElBQUEsaUJBS1ksbUJBQVpELEdBRUFFLFFBSUdDLEtBbkJMNUIsV0FvQkcsSUFMRGlCLEdBQUFZLFNBQUFuQixTQUFBSSxLQUFBSCxNQUFBbUIsV0FPRjNCLEVBQUFnQixVQUFBWSxPQUFBLGlCQUNBSCxZQXBCSyxXQXFCSHpCLEVBQU1jLE1BQVNPLFFBQVVkLE9BRXpCUCxFQUFPZ0IsR0FDSSxtQkFBQVgsR0FDVEwsTUFLQyxTQUNKNkIs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bi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cub25sb2FkID0gKCkgPT4ge1xuXG4gIC8vINCe0LHRitC10LrRgiDQs9C70L7QsdCw0LvRjNC90L7Qs9C+IEFQSVxuY29uc3QgJGFwaSA9IHt9O1xuXG4vLyBBUEkg0LTQu9GPINGA0LDQsdC+0YLRiyDRgSDQv9C+0L/QsNC/0LDQvNC4XG4kYXBpLnBvcHVwID0gKCRwb3B1cCwgeyBvbkhpZGUsIG9uU2hvdyB9ID0ge30pID0+IHtcbiAgLy8g0J7RgtC60LvRjtGH0LDQtdGCINCy0L7Qt9C80L7QttC90L7RgdGC0Ywg0YHQutGA0L7Qu9C70LjRgtGMINGB0YLRgNCw0L3QuNGG0YNcbiAgY29uc3QgaGlkZU92ZXJmbG93ID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3NzVGV4dCA9IGBwb3NpdGlvbjogZml4ZWQ7IG1hcmdpbi10b3A6ICR7LXdpbmRvdy5zY3JvbGxZfXB4YDtcbiAgfTtcbiAgXG4gIC8vINCS0LrQu9GO0YfQsNC10YIg0LLQvtC30LzQvtC20L3QvtGB0YLRjCDRgdC60YDQvtC70LvQuNGC0Ywg0YHRgtGA0LDQvdC40YbRg1xuICBjb25zdCBzaG93T3ZlcmZsb3cgPSBvZmZzZXQgPT4ge1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjogc3RhdGljOyBtYXJnaW4tdG9wOiAwJztcbiAgICBcbiAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgb2Zmc2V0KTtcbiAgfTtcbiAgXG4gIHJldHVybiB7XG4gICAgLy8g0JLQvtC30LLRgNCw0YnQsNC10YIgdHJ1ZSwg0LXRgdC70Lgg0L/QvtC/0LDQvyDQv9C+0LrQsNC30YvQstCw0LXRgtGB0Y8sINCyINC40L3QvtC8INGB0LvRg9GH0LDQtSBmYWxzZVxuICAgIGlzU2hvd246ICgpID0+ICRwb3B1cC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwLS1vcGVuZWQnKSxcbiAgICAvLyDQn9C+0LrQsNC30YvQstCw0LXRgiDQv9C+0L/QsNC/XG4gICAgc2hvdygpIHtcbiAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgJHBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9KTtcblxuICAgICAgaGlkZU92ZXJmbG93KCk7XG5cbiAgICAgIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICRwb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cC0tb3BlbmVkJyk7XG4gICAgICAgIGlmICh0eXBlb2Ygb25TaG93ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgb25TaG93KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgLy8g0KHQutGA0YvQstCw0LXRgiDQv9C+0L/QsNC/XG4gICAgaGlkZSgpIHtcbiAgICAgIGNvbnN0IG9mZnNldCA9IC1wYXJzZUludChkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpblRvcCk7XG4gIFxuICAgICAgJHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwLS1vcGVuZWQnKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAkcG9wdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgc2hvd092ZXJmbG93KG9mZnNldCk7XG4gICAgICAgIGlmICh0eXBlb2Ygb25IaWRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgb25IaWRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDMwMCk7XG4gICAgfVxuICB9O1xufTtcblxuICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1vcGVuLXBvcHVwJykpLm1hcChlbCA9PlxuICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IHRhcmdldCA9IGUuY3VycmVudFRhcmdldC5kYXRhc2V0LnBvcHVwO1xuICAgIGNvbnN0ICRwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5qcy1wb3B1cFtkYXRhLXBvcHVwPVwiJHt0YXJnZXR9XCJdYCk7XG4gICAgXG4gICAgJGFwaS5wb3B1cCgkcG9wdXApLnNob3coKTtcbiAgfSlcbik7XG4gIFxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtY2xvc2UtcG9wdXAnKSkubWFwKGVsID0+XG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgaWYoIWUudGFyZ2V0LmNsb3Nlc3QoJy5wb3B1cF9fd2luZG93JykgfHwgIWUuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLXBvcHVwJykpIHtcbiAgICAgIGNvbnN0ICRwb3B1cCA9IGUuY3VycmVudFRhcmdldC5jbG9zZXN0KCcucG9wdXAnKTtcblxuICAgICAgJGFwaS5wb3B1cCgkcG9wdXApLmhpZGUoKTtcbiAgICB9XG4gIH0pXG4pO1xuICAvLyBjbG9zZSBkcm9wZG93biBvbiBvdXRlciBjbGlja1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSBlLnRhcmdldDtcblxuICBpZighJHRoaXMuY2xvc2VzdCgnLmRyb3Bkb3duJykpIHtcbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wZG93bicpKS5tYXAoZWwgPT4gZWwuY2xhc3NMaXN0LnJlbW92ZSgnZHJvcGRvd24tLWFjdGl2ZScpKTtcbiAgfVxufSk7XG5cbi8vIG9wZW4gZHJvcGRvd25cbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRyb3Bkb3duJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9IGUuY3VycmVudFRhcmdldDtcbiAgXG4gIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRyb3Bkb3duJykpLm1hcChlbCA9PiBlbCAhPT0gJHRoaXMgJiYgZWwuY2xhc3NMaXN0LnJlbW92ZSgnZHJvcGRvd24tLWFjdGl2ZScpKTtcbiAgJHRoaXMuY2xhc3NMaXN0LnRvZ2dsZSgnZHJvcGRvd24tLWFjdGl2ZScpO1xufSkpO1xuXG4vLyBjaGFuZ2UgZHJvcGRvd24gdmFsdWVcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGlmIChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdG9nZ2xlJykpIHtcbiAgICBjb25zb2xlLmxvZyh0cnVlKVxuICAgIGNvbnN0ICR0aGlzID0gZS50YXJnZXQ7XG4gICAgY29uc3QgbmV3VmFsdWUgPSAkdGhpcy5pbm5lclRleHQ7XG4gICAgY29uc3QgJGNsb25lRWxlbWVudCA9ICR0aGlzLmNsb25lTm9kZSgpO1xuICAgIGNvbnN0ICRkcm9wZG93blZhbHVlID0gJHRoaXMuY2xvc2VzdCgnLmRyb3Bkb3duJykucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duX192YWx1ZScpO1xuICAgIFxuICAgICRjbG9uZUVsZW1lbnQuaW5uZXJUZXh0ID0gJGRyb3Bkb3duVmFsdWUuaW5uZXJUZXh0O1xuICAgICRkcm9wZG93blZhbHVlLmlubmVyVGV4dCA9IG5ld1ZhbHVlO1xuICAgIFxuICAgICR0aGlzLnBhcmVudE5vZGUucHJlcGVuZCgkY2xvbmVFbGVtZW50KTtcbiAgICAkdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCR0aGlzKTtcbiAgfVxufSk7XG4gIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhYnNfX2l0ZW0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gZS5jdXJyZW50VGFyZ2V0O1xuICBjb25zdCB0YXJnZXQgPSAkdGhpcy5kYXRhc2V0LnRhYjtcblxuICAkdGhpcy5jbG9zZXN0KCcudGFicycpLnF1ZXJ5U2VsZWN0b3IoJy50YWJzX19pdGVtLS1hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCd0YWJzX19pdGVtLS1hY3RpdmUnKTtcbiAgJHRoaXMuY2xhc3NMaXN0LmFkZCgndGFic19faXRlbS0tYWN0aXZlJyk7XG5cbiAgJHRoaXMuY2xvc2VzdCgnW2RhdGEtdGFic10nKS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmVdJykucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWFjdGl2ZScpO1xuICAkdGhpcy5jbG9zZXN0KCdbZGF0YS10YWJzXScpLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWNvbnRlbnQ9XCIke3RhcmdldH1cIl1gKS5zZXRBdHRyaWJ1dGUoJ2RhdGEtYWN0aXZlJywgdHJ1ZSk7XG59KSk7XG5cbiAgY29uc3QgJGNvb2tpZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29va2llcycpO1xuXG5pZiAoIUpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xldG1ldHV0b3I6Y29va2llc0lzSGlkZGVuJykpKSB7XG4gICRjb29raWVzLmNsYXNzTGlzdC5hZGQoJ2Nvb2tpZXMtLXNob3duJyk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvb2tpZXNfX2J0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICRjb29raWVzLmNsYXNzTGlzdC5yZW1vdmUoJ2Nvb2tpZXMtLXNob3duJyk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkY29va2llcy5yZW1vdmUoKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsZXRtZXR1dG9yOmNvb2tpZXNJc0hpZGRlbicsIHRydWUpO1xuICAgIH0sIDUwMClcbiAgfSk7XG59IGVsc2Uge1xuICAkY29va2llcy5yZW1vdmUoKTtcbn1cbiAgbGV0IG9mZnNldCA9IDA7XG5jb25zdCAkYmFubmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYmFubmVyJyk7XG5jb25zdCBoaWRlT3ZlcmZsb3cgPSAoKSA9PiB7XG4gIG9mZnNldCA9IC1wYXJzZUludChkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpblRvcCk7XG4gIGRvY3VtZW50LmJvZHkuc3R5bGUuY3NzVGV4dCA9IGBwb3NpdGlvbjogZml4ZWQ7IG1hcmdpbi10b3A6ICR7LXdpbmRvdy5zY3JvbGxZfXB4YDtcbn07XG5jb25zdCBzaG93T3ZlcmZsb3cgPSBvZmZzZXQgPT4ge1xuICBkb2N1bWVudC5ib2R5LnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246IHN0YXRpYzsgbWFyZ2luLXRvcDogMCc7XG4gIHdpbmRvdy5zY3JvbGxUbygwLCBvZmZzZXQpO1xufTtcbmNvbnN0IGhpZGVIZWFkZXJNZW51ID0gKCkgPT4ge1xuICBzaG93T3ZlcmZsb3coKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1tZW51JykuY2xhc3NMaXN0LnJlbW92ZSgnaGVhZGVyLW1lbnUtLXNob3duJyk7XG59O1xuXG5pZiAoIUpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xldG1ldHV0b3I6YmFubmVySXNIaWRkZW4nKSkpIHtcbiAgJGJhbm5lci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19iYW5uZXItY2xvc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAkYmFubmVyLmNsYXNzTGlzdC5hZGQoJ2hlYWRlcl9fYmFubmVyLS1oaWRlJyk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkYmFubmVyLnJlbW92ZSgpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xldG1ldHV0b3I6YmFubmVySXNIaWRkZW4nLCB0cnVlKTtcbiAgICB9LCA1MDApXG4gIH0pO1xufSBlbHNlIHtcbiAgJGJhbm5lci5yZW1vdmUoKTtcbn1cblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYnVyZ2VyJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGhpZGVPdmVyZmxvdygpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW1lbnUnKS5jbGFzc0xpc3QuYWRkKCdoZWFkZXItbWVudS0tc2hvd24nKTtcbn0pO1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW1lbnVfX2JhY2tkcm9wJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWRlSGVhZGVyTWVudSk7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW1lbnVfX2Nsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWRlSGVhZGVyTWVudSk7XG4gIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhlcm9fX2Ryb3Bkb3duLWl0ZW0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gZS5jdXJyZW50VGFyZ2V0O1xuICBjb25zdCB2YWx1ZSA9ICR0aGlzLmlubmVyVGV4dDtcblxuICAkdGhpcy5jbG9zZXN0KCcuaGVyb19faW5wdXQnKS5xdWVyeVNlbGVjdG9yKCcuaGVyb19faW5wdXQtZmllbGQnKS52YWx1ZSA9IHZhbHVlO1xufSkpO1xuXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oZXJvX19pbnB1dC1maWVsZCcpKS5tYXAoZWwgPT4ge1xuICBjb25zdCAkdGhpcyA9IGVsO1xuICBjb25zdCBoYW5kbGVJbnB1dCA9IGZpcnN0UmVuZGVyID0+IHtcbiAgICBjb25zdCAkZHJvcGRvd25FbGVtZW50ID0gJHRoaXMubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgIGNvbnN0ICRkcm9wZG93biA9ICRkcm9wZG93bkVsZW1lbnQucXVlcnlTZWxlY3RvcignLmZha2VTY3JvbGxfX2NvbnRlbnQnKSB8fCAkZHJvcGRvd25FbGVtZW50O1xuICAgIGNvbnN0IG9wdGlvbnMgPSBKU09OLnBhcnNlKCR0aGlzLmRhdGFzZXQub3B0aW9ucyk7XG4gICAgY29uc3QgbG93ZXJDYXNlVmFsdWUgPSAkdGhpcy52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgIGxldCBtYXRjaGVzRm91bmQgPSBmYWxzZTtcblxuICAgICRkcm9wZG93bi5pbm5lckhUTUwgPSAnJztcbiAgXG4gICAgb3B0aW9ucy5tYXAoZWwgPT4ge1xuICAgICAgaWYgKGZpcnN0UmVuZGVyIHx8IGVsLnRvTG93ZXJDYXNlKCkubWF0Y2gobG93ZXJDYXNlVmFsdWUpKSB7XG4gICAgICAgIG1hdGNoZXNGb3VuZCA9IHRydWU7XG4gICAgICAgICRkcm9wZG93bi5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8YSBjbGFzcz1cImhlcm9fX2Ryb3Bkb3duLWl0ZW0gZHJvcGRvd25fX21lbnUtaXRlbVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIj4ke2VsfTwvYT5gKVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKG1hdGNoZXNGb3VuZCkge1xuICAgICAgJGRyb3Bkb3duRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdoZXJvX19kcm9wZG93bi0taGlkZGVuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRkcm9wZG93bkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGVyb19fZHJvcGRvd24tLWhpZGRlbicpO1xuICAgIH1cblxuICAgIEFycmF5LmZyb20oJGRyb3Bkb3duLnF1ZXJ5U2VsZWN0b3JBbGwoJy5oZXJvX19kcm9wZG93bi1pdGVtJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICR0aGlzLnZhbHVlID0gZWwuaW5uZXJUZXh0O1xuICAgICAgJHRoaXMuc2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJywgZWwuaW5uZXJUZXh0KTtcbiAgICB9KSk7XG5cbiAgICBpZiAoZmlyc3RSZW5kZXIgJiYgISRkcm9wZG93bkVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmYWtlU2Nyb2xsJykpIHtcbiAgICAgICRkcm9wZG93bi5mYWtlU2Nyb2xsKCk7XG4gICAgfVxuICB9O1xuXG4gICR0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4gaGFuZGxlSW5wdXQoZmFsc2UpKTtcbiAgJHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiBoYW5kbGVJbnB1dCh0cnVlKSk7XG4gICR0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG4gICAgaWYgKCR0aGlzLnZhbHVlID09PSAnJyB8fCAhJHRoaXMuZGF0YXNldC52YWx1ZSkge1xuICAgICAgJHRoaXMudmFsdWUgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgJHRoaXMudmFsdWUgPSAkdGhpcy5kYXRhc2V0LnZhbHVlO1xuICAgIH1cbiAgfSk7XG59KTtcbiAgY29uc3QgcG9wdWxhclNsaWRlciA9IG5ldyBTd2lwZXIoJy5wb3B1bGFyX19ncmlkLS1tb2JpbGUnLCB7XG4gIGxvb3A6IHRydWUsXG4gIGxvb3BBZGRpdGlvbmFsU2xpZGVzOiAzLFxuICBzcGFjZUJldHdlZW46IDIwLFxuICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gIGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxuICBicmVha3BvaW50czoge1xuICAgIDc2MDoge1xuICAgICAgc2xpZGVzUGVyVmlldzogMixcbiAgICAgIGNlbnRlcmVkU2xpZGVzOiBmYWxzZVxuICAgIH1cbiAgfVxufSk7XG4gIGNvbnN0IHJldmlld3NTbGlkZXIgPSBuZXcgU3dpcGVyKCcucmV2aWV3c19fc2xpZGVyJywge1xuICBsb29wOiB0cnVlLFxuICBzcGFjZUJldHdlZW46IDIwLFxuICBzbGlkZXNQZXJWaWV3OiAzLFxuICBzbGlkZXNQZXJHcm91cDogMyxcbiAgbG9vcEFkZGl0aW9uYWxTbGlkZXM6IDMsXG4gIHBhZ2luYXRpb246IHtcbiAgICBlbDogJy5zd2lwZXItcGFnaW5hdGlvbicsXG4gICAgY2xpY2thYmxlOiB0cnVlXG4gIH1cbn0pO1xuXG5jb25zdCByZXZpZXdTbGlkZXJNb2JpbGUgPSBuZXcgU3dpcGVyKCcucmV2aWV3c19fc2xpZGVyLS1tb2JpbGUnLCB7XG4gIGxvb3A6IHRydWUsXG4gIHNwYWNlQmV0d2VlbjogMjAsXG4gIGxvb3BBZGRpdGlvbmFsU2xpZGVzOiAzLFxuICBwYWdpbmF0aW9uOiB7XG4gICAgZWw6ICcuc3dpcGVyLXBhZ2luYXRpb24nLFxuICAgIGNsaWNrYWJsZTogdHJ1ZVxuICB9XG59KTtcblxufSJdfQ==
