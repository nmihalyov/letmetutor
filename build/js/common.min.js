"use strict";window.onload=function(){var e={popup:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.onHide,n=t.onShow,r=function(){document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px")},i=function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)};return{isShown:function(){return e.classList.contains("popup--opened")},show:function(){var t=new Promise((function(t){e.style.display="block",t()}));r(),t.then((function(){e.classList.add("popup--opened"),"function"==typeof n&&n()}))},hide:function(){var t=-parseInt(document.body.style.marginTop);e.classList.remove("popup--opened"),setTimeout((function(){e.style.display="none",i(t),"function"==typeof o&&o()}),300)}}}};Array.from(document.querySelectorAll(".js-open-popup")).map((function(t){return t.addEventListener("click",(function(t){t.preventDefault();var o=t.currentTarget.dataset.popup,n=document.querySelector('.js-popup[data-popup="'.concat(o,'"]'));e.popup(n).show()}))})),Array.from(document.querySelectorAll(".js-close-popup")).map((function(t){return t.addEventListener("click",(function(t){if(t.preventDefault(),!t.target.closest(".popup__window")||!t.currentTarget.classList.contains("js-popup")){var o=t.currentTarget.closest(".popup");e.popup(o).hide()}}))})),document.addEventListener("click",(function(e){e.target.closest(".dropdown")||Array.from(document.querySelectorAll(".dropdown")).map((function(e){return e.classList.remove("dropdown--active")}))})),Array.from(document.querySelectorAll(".dropdown")).map((function(e){return e.addEventListener("click",(function(e){var t=e.currentTarget;Array.from(document.querySelectorAll(".dropdown")).map((function(e){return e!==t&&e.classList.remove("dropdown--active")})),t.classList.toggle("dropdown--active")}))})),document.addEventListener("click",(function(e){if(e.target.getAttribute("data-toggle")){console.log(!0);var t=e.target,o=t.innerText,n=t.cloneNode(),r=t.closest(".dropdown").querySelector(".dropdown__value");n.innerText=r.innerText,r.innerText=o,t.parentNode.prepend(n),t.parentNode.removeChild(t)}})),Array.from(document.querySelectorAll(".tabs__item")).map((function(e){return e.addEventListener("click",(function(e){var t=e.currentTarget,o=t.dataset.tab;t.closest(".tabs").querySelector(".tabs__item--active").classList.remove("tabs__item--active"),t.classList.add("tabs__item--active"),t.closest("[data-tabs]").querySelector("[data-active]").removeAttribute("data-active"),t.closest("[data-tabs]").querySelector('[data-content="'.concat(o,'"]')).setAttribute("data-active",!0)}))}));var t=document.querySelector(".cookies");JSON.parse(localStorage.getItem("cookiesIsHidden"))?t.remove():(t.classList.add("cookies--shown"),document.querySelector(".cookies__btn").addEventListener("click",(function(){t.classList.remove("cookies--shown"),setTimeout((function(){t.remove(),localStorage.setItem("cookiesIsHidden",!0)}),500)})));var o=document.querySelector(".header__banner"),n=function(){!function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)}(),document.querySelector(".header-menu").classList.remove("header-menu--shown")};JSON.parse(localStorage.getItem("bannerIsHidden"))?o.remove():(o.style.display="flex",document.querySelector(".header__banner-close").addEventListener("click",(function(){o.classList.add("header__banner--hide"),setTimeout((function(){o.remove(),localStorage.setItem("bannerIsHidden",!0)}),500)}))),document.querySelector(".header__burger").addEventListener("click",(function(){-parseInt(document.body.style.marginTop),document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px"),document.querySelector(".header-menu").classList.add("header-menu--shown")})),document.querySelector(".header-menu__backdrop").addEventListener("click",n),document.querySelector(".header-menu__close").addEventListener("click",n),Array.from(document.querySelectorAll(".hero__dropdown-item")).map((function(e){return e.addEventListener("click",(function(e){var t=e.currentTarget,o=t.innerText;t.closest(".hero__input").querySelector(".hero__input-field").value=o}))})),Array.from(document.querySelectorAll(".hero__input-field")).map((function(e){var t=e,o=function(e){var o=t.nextElementSibling,n=o.querySelector(".fakeScroll__content")||o,r=JSON.parse(t.dataset.options),i=t.value.toLowerCase(),a=!1;n.innerHTML="",r.map((function(t){(e||t.toLowerCase().match(i))&&(a=!0,n.insertAdjacentHTML("beforeend",'<a class="hero__dropdown-item dropdown__menu-item" href="javascript:void(0)">'.concat(t,"</a>")))})),a?o.classList.remove("hero__dropdown--hidden"):o.classList.add("hero__dropdown--hidden"),Array.from(n.querySelectorAll(".hero__dropdown-item")).map((function(e){return e.addEventListener("click",(function(){t.value=e.innerText,t.setAttribute("data-value",e.innerText)}))})),e&&!o.classList.contains("fakeScroll")&&n.fakeScroll()};t.addEventListener("input",(function(){return o(!1)})),t.addEventListener("focus",(function(){return o(!0)})),t.addEventListener("blur",(function(){""!==t.value&&t.dataset.value?t.value=t.dataset.value:t.value=""}))}));new Swiper(".popular__grid--mobile",{loop:!0,loopAdditionalSlides:3,slidesPerView:"auto",centeredSlides:!0}),new Swiper(".reviews__slider",{loop:!0,spaceBetween:20,slidesPerView:3,slidesPerGroup:3,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".reviews__slider--mobile",{loop:!0,spaceBetween:20,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbmxvYWQiLCIkYXBpIiwiJHBvcHVwIiwiX3JlZiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsIm9uSGlkZSIsIm9uU2hvdyIsImRvY3VtZW50Iiwic3R5bGUiLCJjb25jYXQiLCJzY3JvbGxZIiwiYm9keSIsImNzc1RleHQiLCJzY3JvbGxUbyIsIm9mZnNldCIsImlzU2hvd24iLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInNob3ciLCJQcm9taXNlIiwicmVzb2x2ZSIsImRpc3BsYXkiLCJoaWRlT3ZlcmZsb3ciLCJhZGQiLCJwcm9taXNlIiwiaGlkZSIsInBhcnNlSW50IiwibWFyZ2luVG9wIiwicmVtb3ZlIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIm1hcCIsImVsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImN1cnJlbnRUYXJnZXQiLCJwb3B1cCIsInRhcmdldCIsImNsb3Nlc3QiLCIkdGhpcyIsImdldEF0dHJpYnV0ZSIsImNvbnNvbGUiLCJsb2ciLCJjbG9uZU5vZGUiLCJxdWVyeVNlbGVjdG9yIiwiJGNsb25lRWxlbWVudCIsImlubmVyVGV4dCIsIiRkcm9wZG93blZhbHVlIiwicGFyZW50Tm9kZSIsInRhYiIsImRhdGFzZXQiLCJyZW1vdmVBdHRyaWJ1dGUiLCIkY29va2llcyIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRUaW1lb3V0Iiwic2V0SXRlbSIsIiRiYW5uZXIiLCJzaG93T3ZlcmZsb3ciLCJoaWRlSGVhZGVyTWVudSIsInZhbHVlIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiJGRyb3Bkb3duIiwiJGRyb3Bkb3duRWxlbWVudCIsImhhbmRsZUlucHV0IiwiZmlyc3RSZW5kZXIiLCJtYXRjaGVzRm91bmQiLCJsb3dlckNhc2VWYWx1ZSIsImlubmVySFRNTCIsIm9wdGlvbnMiLCJtYXRjaCIsInNldEF0dHJpYnV0ZSIsImZha2VTY3JvbGwiLCJTd2lwZXIiLCJsb29wQWRkaXRpb25hbFNsaWRlcyIsImNlbnRlcmVkU2xpZGVzIiwibG9vcCIsInBvcHVsYXJTbGlkZXIiLCJzbGlkZXNQZXJWaWV3IiwicGFnaW5hdGlvbiIsInJldmlld3NTbGlkZXIiLCJjbGlja2FibGUiLCJyZXZpZXdTbGlkZXJNb2JpbGUiXSwibWFwcGluZ3MiOiJhQUFBQSxPQUFPQyxPQUFTLFdBRWQsSUFBQUMsRUFBQSxDQUlGQSxNQUFBLFNBQUFDLEdBQWtELElBQUFDLEVBQUFDLFVBQUFDLE9BQUEsUUFBQUMsSUFBQUYsVUFBQSxHQUFBQSxVQUFBLEdBQUEsR0FBckNHLEVBQXFDSixFQUFyQ0ksT0FBQUMsRUFBcUNMLEVBQXJDSyxPQUFXRCxFQUFBQSxXQUEwQkUsU0FBbEJELEtBQWtCRSxNQUFsQkYsUUFBa0IsZ0NBQUFHLFFBQUFaLE9BQUFhLFFBQUEsT0FHOUNILEVBQWNDLFNBQUFBLEdBQ2ZELFNBRURJLEtBQUFILE1BQUFJLFFBQUEsa0NBSUVmLE9BQU9nQixTQUFTLEVBQUdDLElBQW5CakIsTUFBQUEsQ0FLQWtCLFFBQVMsV0FBQSxPQUFNZixFQUFPZ0IsVUFBVUMsU0FBUyxrQkFEekNDLEtBSkFyQixXQUtBa0IsSUFBQUEsRUFBUyxJQUFBSSxTQUFBLFNBQUFDLEdBQUFwQixFQUFNQSxNQUFNcUIsUUFBTixRQUZWRCxPQUtIRSxJQUVFRixFQUFBQSxNQUFPLFdBQ1JwQixFQUhEZ0IsVUFBQU8sSUFBQSxpQkFLWSxtQkFBWkQsR0FFQUUsUUFJR0MsS0FuQkw1QixXQW9CRyxJQUxEaUIsR0FBQVksU0FBQW5CLFNBQUFJLEtBQUFILE1BQUFtQixXQU9GM0IsRUFBQWdCLFVBQUFZLE9BQUEsaUJBQ0FILFlBcEJLLFdBcUJIekIsRUFBTWMsTUFBU08sUUFBVWQsT0FFekJQLEVBQU9nQixHQUNJLG1CQUFBWCxHQUNUTCxNQUtDLFNBQ0o2QixNQUFBQyxLQUFBdkIsU0FBQXdCLGlCQUFBLG1CQUFBQyxLQUFB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YkEsRUFBQUEsbUJBQUEsWUFBQUEsZ0ZBQUFBLE9BQUFyQyxFQUFBcUMsYUFLQUEsRUFBSkgsRUFBQW5ELFVBQWtCWSxPQUFBLDBCQUVqQnVDLEVBQU1uRCxVQUFBTyxJQUFBLDBCQUlQTSxNQUFNQyxLQUFLb0MsRUFBVW5DLGlCQUFpQix5QkFBeUJDLEtBQUksU0FBQUMsR0FBRSxPQUFJQSxFQUFHQyxpQkFBaUIsU0FBUyxXQUF0R0wsRUFBTUMsTUFBS29DLEVBQUFBLFVBQTBEekIsRUFBQWtDLGFBQU96QyxhQUFpQkQsRUFBcEJlLGlCQUd4RXFCLElBSG9FRixFQUFBbkQsVUFBQUMsU0FBQSxlQUFBaUQsRUFBckVVLGNBT0NuQyxFQUFBUCxpQkFBQSxTQUFBLFdBQUEsT0FBQWtDLEdBQUEsTUFDRjNCLEVBOUJEUCxpQkFBQSxTQUFBLFdBQUEsT0FBQWtDLEdBQUEsTUFrQ0EzQixFQUFNUCxpQkFBaUIsUUFBUSxXQUZ6QkEsS0FBTk8sRUFBTVAsT0FBaUJPLEVBQVNXLFFBQUFZLE1BQ2hDdkIsRUFBTVAsTUFBQUEsRUFBTmtCLFFBQUFZLE1BRGdDdkIsRUFBQXVCLE1BQU1JLFNBR2hDLElBQUFTLE9BQXVCcEMseUJBQXFCLENBQzlDQSxNQUFBQSxFQUNEcUMscUJBQU0sRUFDTHJDLGNBQU11QixPQUNQZSxnQkFBQSxJQXpDTCxJQUFBRixPQUFBLG1CQUFBLENBNENFRyxNQUFNQyxFQUNORCxhQUQyRCxHQUUzREYsY0FBQUEsRUFDQUksZUFBYSxFQUNiSCxxQkFBZ0IsRUFKMkNJLFdBQTNELENBTUFsRCxHQUFNbUQscUJBQ05KLFdBRHFELEtBQUEsSUFBQUgsT0FBQSwyQkFBQSxDQU1yRE0sTUFBQUEsRUFDRWxELGFBQUksR0FDSm9ELHFCQUFXLEVBRkRGLFdBQUEsQ0FOWmxELEdBQUEscUJBWUZvRCxXQUFNQyIsImZpbGUiOiJjb21tb24ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2luZG93Lm9ubG9hZCA9ICgpID0+IHtcblxuICAvLyDQntCx0YrQtdC60YIg0LPQu9C+0LHQsNC70YzQvdC+0LPQviBBUElcbmNvbnN0ICRhcGkgPSB7fTtcblxuLy8gQVBJINC00LvRjyDRgNCw0LHQvtGC0Ysg0YEg0L/QvtC/0LDQv9Cw0LzQuFxuJGFwaS5wb3B1cCA9ICgkcG9wdXAsIHsgb25IaWRlLCBvblNob3cgfSA9IHt9KSA9PiB7XG4gIC8vINCe0YLQutC70Y7Rh9Cw0LXRgiDQstC+0LfQvNC+0LbQvdC+0YHRgtGMINGB0LrRgNC+0LvQu9C40YLRjCDRgdGC0YDQsNC90LjRhtGDXG4gIGNvbnN0IGhpZGVPdmVyZmxvdyA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmNzc1RleHQgPSBgcG9zaXRpb246IGZpeGVkOyBtYXJnaW4tdG9wOiAkey13aW5kb3cuc2Nyb2xsWX1weGA7XG4gIH07XG4gIFxuICAvLyDQktC60LvRjtGH0LDQtdGCINCy0L7Qt9C80L7QttC90L7RgdGC0Ywg0YHQutGA0L7Qu9C70LjRgtGMINGB0YLRgNCw0L3QuNGG0YNcbiAgY29uc3Qgc2hvd092ZXJmbG93ID0gb2Zmc2V0ID0+IHtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246IHN0YXRpYzsgbWFyZ2luLXRvcDogMCc7XG4gICAgXG4gICAgd2luZG93LnNjcm9sbFRvKDAsIG9mZnNldCk7XG4gIH07XG4gIFxuICByZXR1cm4ge1xuICAgIC8vINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCIHRydWUsINC10YHQu9C4INC/0L7Qv9Cw0L8g0L/QvtC60LDQt9GL0LLQsNC10YLRgdGPLCDQsiDQuNC90L7QvCDRgdC70YPRh9Cw0LUgZmFsc2VcbiAgICBpc1Nob3duOiAoKSA9PiAkcG9wdXAuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cC0tb3BlbmVkJyksXG4gICAgLy8g0J/QvtC60LDQt9GL0LLQsNC10YIg0L/QvtC/0LDQv1xuICAgIHNob3coKSB7XG4gICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICRwb3B1cC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIGhpZGVPdmVyZmxvdygpO1xuXG4gICAgICBwcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAkcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXAtLW9wZW5lZCcpO1xuICAgICAgICBpZiAodHlwZW9mIG9uU2hvdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG9uU2hvdygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIC8vINCh0LrRgNGL0LLQsNC10YIg0L/QvtC/0LDQv1xuICAgIGhpZGUoKSB7XG4gICAgICBjb25zdCBvZmZzZXQgPSAtcGFyc2VJbnQoZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW5Ub3ApO1xuICBcbiAgICAgICRwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cC0tb3BlbmVkJyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgJHBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHNob3dPdmVyZmxvdyhvZmZzZXQpO1xuICAgICAgICBpZiAodHlwZW9mIG9uSGlkZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG9uSGlkZSgpO1xuICAgICAgICB9XG4gICAgICB9LCAzMDApO1xuICAgIH1cbiAgfTtcbn07XG5cbiAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtb3Blbi1wb3B1cCcpKS5tYXAoZWwgPT5cbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCB0YXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQuZGF0YXNldC5wb3B1cDtcbiAgICBjb25zdCAkcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanMtcG9wdXBbZGF0YS1wb3B1cD1cIiR7dGFyZ2V0fVwiXWApO1xuICAgIFxuICAgICRhcGkucG9wdXAoJHBvcHVwKS5zaG93KCk7XG4gIH0pXG4pO1xuICBcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWNsb3NlLXBvcHVwJykpLm1hcChlbCA9PlxuICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmKCFlLnRhcmdldC5jbG9zZXN0KCcucG9wdXBfX3dpbmRvdycpIHx8ICFlLmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy1wb3B1cCcpKSB7XG4gICAgICBjb25zdCAkcG9wdXAgPSBlLmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLnBvcHVwJyk7XG5cbiAgICAgICRhcGkucG9wdXAoJHBvcHVwKS5oaWRlKCk7XG4gICAgfVxuICB9KVxuKTtcbiAgLy8gY2xvc2UgZHJvcGRvd24gb24gb3V0ZXIgY2xpY2tcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gZS50YXJnZXQ7XG5cbiAgaWYoISR0aGlzLmNsb3Nlc3QoJy5kcm9wZG93bicpKSB7XG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcGRvd24nKSkubWFwKGVsID0+IGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3Bkb3duLS1hY3RpdmUnKSk7XG4gIH1cbn0pO1xuXG4vLyBvcGVuIGRyb3Bkb3duXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wZG93bicpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSBlLmN1cnJlbnRUYXJnZXQ7XG4gIFxuICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wZG93bicpKS5tYXAoZWwgPT4gZWwgIT09ICR0aGlzICYmIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3Bkb3duLS1hY3RpdmUnKSk7XG4gICR0aGlzLmNsYXNzTGlzdC50b2dnbGUoJ2Ryb3Bkb3duLS1hY3RpdmUnKTtcbn0pKTtcblxuLy8gY2hhbmdlIGRyb3Bkb3duIHZhbHVlXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBpZiAoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXRvZ2dsZScpKSB7XG4gICAgY29uc29sZS5sb2codHJ1ZSlcbiAgICBjb25zdCAkdGhpcyA9IGUudGFyZ2V0O1xuICAgIGNvbnN0IG5ld1ZhbHVlID0gJHRoaXMuaW5uZXJUZXh0O1xuICAgIGNvbnN0ICRjbG9uZUVsZW1lbnQgPSAkdGhpcy5jbG9uZU5vZGUoKTtcbiAgICBjb25zdCAkZHJvcGRvd25WYWx1ZSA9ICR0aGlzLmNsb3Nlc3QoJy5kcm9wZG93bicpLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bl9fdmFsdWUnKTtcbiAgICBcbiAgICAkY2xvbmVFbGVtZW50LmlubmVyVGV4dCA9ICRkcm9wZG93blZhbHVlLmlubmVyVGV4dDtcbiAgICAkZHJvcGRvd25WYWx1ZS5pbm5lclRleHQgPSBuZXdWYWx1ZTtcbiAgICBcbiAgICAkdGhpcy5wYXJlbnROb2RlLnByZXBlbmQoJGNsb25lRWxlbWVudCk7XG4gICAgJHRoaXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCgkdGhpcyk7XG4gIH1cbn0pO1xuICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWJzX19pdGVtJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9IGUuY3VycmVudFRhcmdldDtcbiAgY29uc3QgdGFyZ2V0ID0gJHRoaXMuZGF0YXNldC50YWI7XG5cbiAgJHRoaXMuY2xvc2VzdCgnLnRhYnMnKS5xdWVyeVNlbGVjdG9yKCcudGFic19faXRlbS0tYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgndGFic19faXRlbS0tYWN0aXZlJyk7XG4gICR0aGlzLmNsYXNzTGlzdC5hZGQoJ3RhYnNfX2l0ZW0tLWFjdGl2ZScpO1xuXG4gICR0aGlzLmNsb3Nlc3QoJ1tkYXRhLXRhYnNdJykucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aXZlXScpLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1hY3RpdmUnKTtcbiAgJHRoaXMuY2xvc2VzdCgnW2RhdGEtdGFic10nKS5xdWVyeVNlbGVjdG9yKGBbZGF0YS1jb250ZW50PVwiJHt0YXJnZXR9XCJdYCkuc2V0QXR0cmlidXRlKCdkYXRhLWFjdGl2ZScsIHRydWUpO1xufSkpO1xuXG4gIGNvbnN0ICRjb29raWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvb2tpZXMnKTtcblxuaWYgKCFKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjb29raWVzSXNIaWRkZW4nKSkpIHtcbiAgJGNvb2tpZXMuY2xhc3NMaXN0LmFkZCgnY29va2llcy0tc2hvd24nKTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29va2llc19fYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgJGNvb2tpZXMuY2xhc3NMaXN0LnJlbW92ZSgnY29va2llcy0tc2hvd24nKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRjb29raWVzLnJlbW92ZSgpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Nvb2tpZXNJc0hpZGRlbicsIHRydWUpO1xuICAgIH0sIDUwMClcbiAgfSk7XG59IGVsc2Uge1xuICAkY29va2llcy5yZW1vdmUoKTtcbn1cbiAgbGV0IG9mZnNldCA9IDA7XG5jb25zdCAkYmFubmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYmFubmVyJyk7XG5jb25zdCBoaWRlT3ZlcmZsb3cgPSAoKSA9PiB7XG4gIG9mZnNldCA9IC1wYXJzZUludChkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpblRvcCk7XG4gIGRvY3VtZW50LmJvZHkuc3R5bGUuY3NzVGV4dCA9IGBwb3NpdGlvbjogZml4ZWQ7IG1hcmdpbi10b3A6ICR7LXdpbmRvdy5zY3JvbGxZfXB4YDtcbn07XG5jb25zdCBzaG93T3ZlcmZsb3cgPSBvZmZzZXQgPT4ge1xuICBkb2N1bWVudC5ib2R5LnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246IHN0YXRpYzsgbWFyZ2luLXRvcDogMCc7XG4gIHdpbmRvdy5zY3JvbGxUbygwLCBvZmZzZXQpO1xufTtcbmNvbnN0IGhpZGVIZWFkZXJNZW51ID0gKCkgPT4ge1xuICBzaG93T3ZlcmZsb3coKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1tZW51JykuY2xhc3NMaXN0LnJlbW92ZSgnaGVhZGVyLW1lbnUtLXNob3duJyk7XG59O1xuXG5pZiAoIUpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Jhbm5lcklzSGlkZGVuJykpKSB7XG4gICRiYW5uZXIuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYmFubmVyLWNsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgJGJhbm5lci5jbGFzc0xpc3QuYWRkKCdoZWFkZXJfX2Jhbm5lci0taGlkZScpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGJhbm5lci5yZW1vdmUoKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdiYW5uZXJJc0hpZGRlbicsIHRydWUpO1xuICAgIH0sIDUwMClcbiAgfSk7XG59IGVsc2Uge1xuICAkYmFubmVyLnJlbW92ZSgpO1xufVxuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19idXJnZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgaGlkZU92ZXJmbG93KCk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbWVudScpLmNsYXNzTGlzdC5hZGQoJ2hlYWRlci1tZW51LS1zaG93bicpO1xufSk7XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbWVudV9fYmFja2Ryb3AnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZGVIZWFkZXJNZW51KTtcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbWVudV9fY2xvc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZGVIZWFkZXJNZW51KTtcbiAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaGVyb19fZHJvcGRvd24taXRlbScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSBlLmN1cnJlbnRUYXJnZXQ7XG4gIGNvbnN0IHZhbHVlID0gJHRoaXMuaW5uZXJUZXh0O1xuXG4gICR0aGlzLmNsb3Nlc3QoJy5oZXJvX19pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJy5oZXJvX19pbnB1dC1maWVsZCcpLnZhbHVlID0gdmFsdWU7XG59KSk7XG5cbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhlcm9fX2lucHV0LWZpZWxkJykpLm1hcChlbCA9PiB7XG4gIGNvbnN0ICR0aGlzID0gZWw7XG4gIGNvbnN0IGhhbmRsZUlucHV0ID0gZmlyc3RSZW5kZXIgPT4ge1xuICAgIGNvbnN0ICRkcm9wZG93bkVsZW1lbnQgPSAkdGhpcy5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgY29uc3QgJGRyb3Bkb3duID0gJGRyb3Bkb3duRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZmFrZVNjcm9sbF9fY29udGVudCcpIHx8ICRkcm9wZG93bkVsZW1lbnQ7XG4gICAgY29uc3Qgb3B0aW9ucyA9IEpTT04ucGFyc2UoJHRoaXMuZGF0YXNldC5vcHRpb25zKTtcbiAgICBjb25zdCBsb3dlckNhc2VWYWx1ZSA9ICR0aGlzLnZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgbGV0IG1hdGNoZXNGb3VuZCA9IGZhbHNlO1xuXG4gICAgJGRyb3Bkb3duLmlubmVySFRNTCA9ICcnO1xuICBcbiAgICBvcHRpb25zLm1hcChlbCA9PiB7XG4gICAgICBpZiAoZmlyc3RSZW5kZXIgfHwgZWwudG9Mb3dlckNhc2UoKS5tYXRjaChsb3dlckNhc2VWYWx1ZSkpIHtcbiAgICAgICAgbWF0Y2hlc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgJGRyb3Bkb3duLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYDxhIGNsYXNzPVwiaGVyb19fZHJvcGRvd24taXRlbSBkcm9wZG93bl9fbWVudS1pdGVtXCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiPiR7ZWx9PC9hPmApXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAobWF0Y2hlc0ZvdW5kKSB7XG4gICAgICAkZHJvcGRvd25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2hlcm9fX2Ryb3Bkb3duLS1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJGRyb3Bkb3duRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoZXJvX19kcm9wZG93bi0taGlkZGVuJyk7XG4gICAgfVxuXG4gICAgQXJyYXkuZnJvbSgkZHJvcGRvd24ucXVlcnlTZWxlY3RvckFsbCgnLmhlcm9fX2Ryb3Bkb3duLWl0ZW0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgJHRoaXMudmFsdWUgPSBlbC5pbm5lclRleHQ7XG4gICAgICAkdGhpcy5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnLCBlbC5pbm5lclRleHQpO1xuICAgIH0pKTtcblxuICAgIGlmIChmaXJzdFJlbmRlciAmJiAhJGRyb3Bkb3duRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zha2VTY3JvbGwnKSkge1xuICAgICAgJGRyb3Bkb3duLmZha2VTY3JvbGwoKTtcbiAgICB9XG4gIH07XG5cbiAgJHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiBoYW5kbGVJbnB1dChmYWxzZSkpO1xuICAkdGhpcy5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsICgpID0+IGhhbmRsZUlucHV0KHRydWUpKTtcbiAgJHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcbiAgICBpZiAoJHRoaXMudmFsdWUgPT09ICcnIHx8ICEkdGhpcy5kYXRhc2V0LnZhbHVlKSB7XG4gICAgICAkdGhpcy52YWx1ZSA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAkdGhpcy52YWx1ZSA9ICR0aGlzLmRhdGFzZXQudmFsdWU7XG4gICAgfVxuICB9KTtcbn0pO1xuICBjb25zdCBwb3B1bGFyU2xpZGVyID0gbmV3IFN3aXBlcignLnBvcHVsYXJfX2dyaWQtLW1vYmlsZScsIHtcbiAgbG9vcDogdHJ1ZSxcbiAgbG9vcEFkZGl0aW9uYWxTbGlkZXM6IDMsXG4gIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcbiAgY2VudGVyZWRTbGlkZXM6IHRydWUsXG59KTtcbiAgY29uc3QgcmV2aWV3c1NsaWRlciA9IG5ldyBTd2lwZXIoJy5yZXZpZXdzX19zbGlkZXInLCB7XG4gIGxvb3A6IHRydWUsXG4gIHNwYWNlQmV0d2VlbjogMjAsXG4gIHNsaWRlc1BlclZpZXc6IDMsXG4gIHNsaWRlc1Blckdyb3VwOiAzLFxuICBsb29wQWRkaXRpb25hbFNsaWRlczogMyxcbiAgcGFnaW5hdGlvbjoge1xuICAgIGVsOiAnLnN3aXBlci1wYWdpbmF0aW9uJyxcbiAgICBjbGlja2FibGU6IHRydWVcbiAgfVxufSk7XG5cbmNvbnN0IHJldmlld1NsaWRlck1vYmlsZSA9IG5ldyBTd2lwZXIoJy5yZXZpZXdzX19zbGlkZXItLW1vYmlsZScsIHtcbiAgbG9vcDogdHJ1ZSxcbiAgc3BhY2VCZXR3ZWVuOiAyMCxcbiAgbG9vcEFkZGl0aW9uYWxTbGlkZXM6IDMsXG4gIHBhZ2luYXRpb246IHtcbiAgICBlbDogJy5zd2lwZXItcGFnaW5hdGlvbicsXG4gICAgY2xpY2thYmxlOiB0cnVlXG4gIH1cbn0pO1xuXG59Il19
