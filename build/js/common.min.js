"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,a=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(o=r.next()).done)&&(a.push(o.value),!t||a.length!==t);c=!0);}catch(e){i=!0,n=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw n}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}window.onload=function(){var e={popup:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.onHide,o=t.onShow,n=function(){document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px")},a=function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)};return{isShown:function(){return e.classList.contains("popup--opened")},show:function(){var t=new Promise((function(t){e.style.display="block",t()}));n(),t.then((function(){e.classList.add("popup--opened"),"function"==typeof o&&o()}))},hide:function(){var t=-parseInt(document.body.style.marginTop);e.classList.remove("popup--opened"),setTimeout((function(){e.style.display="none",a(t),"function"==typeof r&&r()}),300)}}},validate:function(e,t){var r=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,o=function(e){e.closest(".input")?e.closest(".input").classList.add("input--error"):e.closest(".textarea")&&e.closest(".textarea").classList.add("textarea--error"),e.focus()};e.querySelector('button[type="submit"]').addEventListener("click",(function(n){n.preventDefault();var a=!0,c=Array.from(e.querySelectorAll("input[required], textarea[required]")),i=e.querySelectorAll(".checkboxselect");c.reverse().map((function(e){switch(e.dataset.passRepeat&&e.value!==e.closest("form").querySelector("input[data-pass]").value&&o(e),e.getAttribute("type")){case"text":case"password":""===e.value&&(o(e),a=!1);break;case"tel":(""===e.value||e.value.includes("_"))&&(o(e),a=!1);break;case"checkbox":e.checked||(e.closest(".checkbox").classList.add("checkbox--error"),a=!1);break;case"email":r.test(e.value)||(o(e),a=!1);break;default:""===e.value&&(o(e),a=!1)}})),i.length&&Array.from(i).map((function(e){var t=!1;Array.from(e.querySelectorAll(".checkbox__input")).map((function(e){e.checked&&(t=!0)})),t||(e.classList.add("checkboxselect--error"),a=!1)})),a&&t()})),Array.from(e.querySelectorAll("input")).concat(Array.from(e.querySelectorAll("textarea"))).map((function(e){return e.addEventListener("input",(function(){e.closest(".input")?e.closest(".input").classList.remove("input--error"):e.closest(".checkbox")?e.closest(".checkbox").classList.remove("checkbox--error"):e.closest(".textarea")&&e.closest(".textarea").classList.remove("textarea--error")}))}))}};document.addEventListener("click",(function(t){var r=t.target;if(r.classList.contains("js-open-popup")){t.preventDefault();var o=r.dataset.popup,n=document.querySelector('.js-popup[data-popup="'.concat(o,'"]'));e.popup(n).show()}})),Array.from(document.querySelectorAll(".js-close-popup")).map((function(t){return t.addEventListener("click",(function(t){if(!t.target.closest(".popup__window")||!t.currentTarget.classList.contains("js-popup")){var r=t.currentTarget.closest(".popup");e.popup(r).hide()}}))})),document.querySelector("form[data-restore-form]")&&e.validate(document.querySelector("form[data-restore-form]"),(function(){})),document.querySelector("form[data-request-auth-form]")&&e.validate(document.querySelector("form[data-request-auth-form]"),(function(){})),document.querySelector("form[data-request-form]")&&e.validate(document.querySelector("form[data-request-form]"),(function(){var t=document.querySelector('.js-popup[data-popup="request"]'),r=document.querySelector('.js-popup[data-popup="request-success"]');e.popup(t,{onHide:function(){Array.from(t.querySelectorAll("input")).map((function(e){return e.value=""})),e.popup(r).show()}}).hide()})),document.querySelector("form[data-request-specific-form]")&&e.validate(document.querySelector("form[data-request-specific-form]"),(function(){var t=document.querySelector('.js-popup[data-popup="request-specific"]'),r=document.querySelector('.js-popup[data-popup="request-success"]');e.popup(t,{onHide:function(){Array.from(t.querySelectorAll("input")).map((function(e){return e.value=""})),e.popup(r).show()}}).hide()}));var t=Array.from(document.querySelectorAll(".dropdown"));document.addEventListener("click",(function(e){var r=e.target;t.map((function(e){e.closest(".dropdown")!==r.closest(".dropdown")&&e.classList.remove("dropdown--active")}))})),t.map((function(e){return e.addEventListener("click",(function(r){e.classList.contains("input__code")&&r.preventDefault(),e.classList.contains("dropdown--active")||(t.map((function(e){return e!=e&&e.classList.remove("dropdown--active")})),e.classList.toggle("dropdown--active"))}))})),document.addEventListener("click",(function(e){var t=e.target.closest(".dropdown__menu-item");if(t&&(document.querySelector(".dropdown--active").classList.remove("dropdown--active"),t.getAttribute("data-toggle"))){var r=e.target,o=r.innerText,n=r.closest(".dropdown__menu").querySelector(".dropdown__menu-item--hidden"),a=r.closest(".dropdown").querySelector(".dropdown__value");n&&n.classList.remove("dropdown__menu-item--hidden"),t.classList.add("dropdown__menu-item--hidden"),a.innerText=o}})),Array.from(document.querySelectorAll(".tabs__item")).map((function(e){return e.addEventListener("click",(function(t){t.preventDefault();var r=e.dataset.tab,o=e.closest("[data-tabs]").querySelector("[data-active]");e.closest(".tabs").querySelector(".tabs__item--active").classList.remove("tabs__item--active"),e.classList.add("tabs__item--active"),o&&(e.closest("[data-tabs]").querySelector("[data-active]").removeAttribute("data-active"),e.closest("[data-tabs]").querySelector('[data-content="'.concat(r,'"]')).setAttribute("data-active",!0))}))}));var r=new Event("changeCountry");Array.from(document.querySelectorAll(".input.dropdown")).concat(Array.from(document.querySelectorAll(".input .dropdown"))).map((function(e){return e.addEventListener("click",(function(){var t=e.querySelector(".dropdown__menu");e.closest(".input").querySelector(".input__dropdown").style.width=e.closest(".input").getBoundingClientRect().width+"px",t.classList.contains("fakeScroll")||t.fakeScroll()}))})),Array.from(document.querySelectorAll(".input__dropdown-item[data-code-loc]")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.codeLoc,r=e.dataset.mask,o=e.closest(".input").querySelector("input");e.closest(".input__code").dataset.codeLoc=t,e.closest(".input__code").dataset.mask=r,o.placeholder=r.replaceAll("9","_"),function(e,t){Inputmask({mask:t}).mask(e)}(o,r)}))})),Array.from(document.querySelectorAll(".input__dropdown-item[data-dropdown]")).map((function(e){return e.addEventListener("click",(function(){var t=e.innerText;e.closest(".input").querySelector("input").value=t,e.closest(".input").classList.remove("input--error"),e.closest(".input").classList.contains("js-auth-country")&&e.closest(".input").dispatchEvent(r)}))})),Array.from(document.querySelectorAll('input[type="tel"]')).map((function(e){Inputmask({mask:e.closest(".input").querySelector(".input__code").dataset.mask}).mask(e)})),Array.from(document.querySelectorAll(".checkboxselect__list")).map((function(e){e.addEventListener("click",(function(t){t.stopPropagation();var r=e.closest(".checkboxselect"),o=!1;r.classList.remove("checkboxselect--error"),Array.from(e.querySelectorAll(".checkbox__input")).map((function(t){var n=r.querySelector(".checkboxselect__input-placeholder");t.checked&&(o=!0),t.addEventListener("click",(function(){var t="";Array.from(e.querySelectorAll("input:checked")).map((function(e){t+=e.closest(".checkboxselect__item").querySelector(".checkbox__text").innerText+", "})),t?(n.innerText=t.substring(0,t.length-2),n.classList.add("checkboxselect__input-placeholder--active")):(n.innerText=n.dataset.placeholder,n.classList.remove("checkboxselect__input-placeholder--active"))}))})),o?r.classList.add("checkboxselect--checked"):r.classList.remove("checkboxselect--checked")})),e.fakeScroll()})),Array.from(document.querySelectorAll(".filters__dropdown-item")).map((function(e){return e.addEventListener("click",(function(e){var t=e.currentTarget,r=t.innerText;t.closest(".filters__input").querySelector(".filters__input-field").value=r}))})),document.querySelectorAll(".filters__input-field").length&&Array.from(document.querySelectorAll(".filters__input-field")).map((function(e){fetch("data/location.json").then((function(e){return e.json()})).then((function(t){var r=e,o=function(e){var o=r.nextElementSibling.querySelector(".filters__dropdown-inner"),n=o.querySelector(".fakeScroll__content")||o,a="location"===r.getAttribute("name"),c=a?t.map((function(e){return e.key})).concat(t.flatMap((function(e){return e.cities}))):JSON.parse(r.dataset.options),i=r.value.toLowerCase(),s=n.closest(".filters__dropdown").querySelector('input[type="checkbox"]'),l=!1;n.innerHTML="",c.map((function(t){if(e||0===t.toLowerCase().indexOf(i)){var r=a?'<a class="filters__dropdown-item dropdown__menu-item'.concat(i&&!e?" filters__dropdown-item--smart":"",'" href="javascript:void(0)"><span>').concat(t.substr(0,i.length),"</span>").concat(t.substr(i.length),"</a>"):'<a class="filters__dropdown-item dropdown__menu-item" href="javascript:void(0)">'.concat(t,"</a>");l=!0,n.insertAdjacentHTML("beforeend",r)}})),l?(o.parentNode.classList.remove("filters__dropdown--hidden"),o.parentNode.classList.remove("filters__dropdown--empty")):s?o.parentNode.classList.add("filters__dropdown--empty"):o.parentNode.classList.add("filters__dropdown--hidden"),Array.from(n.querySelectorAll(".filters__dropdown-item")).map((function(e){return e.addEventListener("click",(function(){r.value=e.innerText,r.setAttribute("data-value",e.innerText),s&&(s.checked=!1,r.removeAttribute("readonly"))}))})),e&&!o.classList.contains("fakeScroll")&&n.fakeScroll()};"cost"!==r.name&&(r.addEventListener("input",(function(){return o(!1)})),r.addEventListener("focus",(function(){return o(!0)})),r.addEventListener("blur",(function(){""!==r.value&&r.dataset.value?r.value=r.dataset.value:r.value=""})))}))})),Array.from(document.querySelectorAll(".filters__cost-range")).map((function(e){var t=+e.dataset.min,r=+e.dataset.max,o=+e.dataset.min,n=+e.dataset.max;noUiSlider.create(e,{start:[o,n],connect:!0,range:{min:t,max:r},step:100}),e.noUiSlider.on("slide",(function(t){var r=parseInt(t[0]),o=parseInt(t[1]);e.closest(".filters__input").querySelector(".filters__input-field").value="".concat(r," ₽ – ").concat(o," ₽"),e.closest(".filters__cost").querySelector('[data-cost="from"]').innerText=r,e.closest(".filters__cost").querySelector('[data-cost="to"]').innerText=o}))})),Array.from(document.querySelectorAll(".filters__dropdown-checkbox")).map((function(e){return e.addEventListener("click",(function(){var t=e.closest(".filters__input").querySelector(".filters__input-field");if(e.querySelector("input").checked){var r=e.querySelector(".checkbox__text").innerText;t.value=r,t.setAttribute("data-value",r),t.setAttribute("readonly","readonly")}else t.value="",t.setAttribute("data-value",""),t.removeAttribute("readonly")}))})),document.addEventListener("click",(function(e){var t=e.target;t.classList.contains("js-tutorcard-more")&&(t.style.display="none",Array.from(t.closest(".tutorcard__subjects").querySelectorAll(".tutorcard__subjects-item--hidden")).map((function(e){e.classList.remove("tutorcard__subjects-item--hidden")})))}));var o=document.querySelector(".banner");JSON.parse(localStorage.getItem("letmetutor:bannerIsHidden"))?o.remove():(o.style.display="flex",document.querySelector(".banner__close").addEventListener("click",(function(){o.classList.add("banner--hide"),setTimeout((function(){o.remove(),localStorage.setItem("letmetutor:bannerIsHidden",!0)}),500)})));var n=document.querySelector(".cookies");JSON.parse(localStorage.getItem("letmetutor:cookiesIsHidden"))?n.remove():(n.classList.add("cookies--shown"),document.querySelector(".cookies__btn").addEventListener("click",(function(){n.classList.remove("cookies--shown"),setTimeout((function(){n.remove(),localStorage.setItem("letmetutor:cookiesIsHidden",!0)}),500)})));var a=function(){!function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)}(),document.querySelector(".header-menu").classList.remove("header-menu--shown")};document.querySelector(".header__burger").addEventListener("click",(function(){-parseInt(document.body.style.marginTop),document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px"),document.querySelector(".header-menu").classList.add("header-menu--shown")})),document.querySelector(".header-menu__backdrop").addEventListener("click",a),document.querySelector(".header-menu__close").addEventListener("click",a),Array.from(document.querySelectorAll(".header__notifications-wrapper")).map((function(e){e.classList.contains("fakeScroll")||e.fakeScroll()}));new Swiper(".popular__grid--mobile",{loop:!0,loopAdditionalSlides:3,spaceBetween:20,slidesPerView:"auto",centeredSlides:!0,breakpoints:{760:{slidesPerView:2,centeredSlides:!1}}}),new Swiper(".reviews__slider",{loop:!0,spaceBetween:20,slidesPerView:3,slidesPerGroup:3,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".reviews__slider--mobile",{loop:!0,spaceBetween:20,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}});document.querySelector("form[data-login-form]")&&e.validate(document.querySelector("form[data-login-form]"),(function(){document.querySelector("form[data-login-form]").submit()})),document.querySelector("form[data-signup-student-form]")&&e.validate(document.querySelector("form[data-signup-student-form]"),(function(){document.querySelector("form[data-signup-student-form]").submit()})),document.querySelector("form[data-signup-tutor-form]")&&e.validate(document.querySelector("form[data-signup-tutor-form]"),(function(){document.querySelector("form[data-signup-tutor-form]").submit()})),document.querySelector("form[data-support-form]")&&e.validate(document.querySelector("form[data-support-form]"),(function(){document.querySelector("form[data-support-form]").submit()})),Array.from(document.querySelectorAll(".js-auth-country")).map((function(e){return e.addEventListener("changeCountry",(function(t){e.closest("form").querySelector(".js-auth-city").dataset.country=t.target.querySelector("input").value}))})),document.querySelectorAll(".js-auth-city input").length&&fetch("data/location.json").then((function(e){return e.json()})).then((function(e){Array.from(document.querySelectorAll(".js-auth-city input")).map((function(t){t.addEventListener("input",(function(t){var r=t.currentTarget,o=r.closest(".input"),n=o.dataset.country;if(n){var a=e.filter((function(e){return e.key===n}))[0].cities,c=r.value.toLowerCase(),i=r.closest(".input").querySelector(".dropdown__menu"),s=i.querySelector(".fakeScroll__content"),l=!1;s&&(s.innerHTML=""),""!==r.value&&(a.map((function(e){0===e.toLowerCase().indexOf(c)&&(l=!0,s.insertAdjacentHTML("beforeend",'<a class="input__dropdown-item dropdown__menu-item'.concat(c?" input__dropdown-item--smart":"",'" href="javascript:void(0)"><span>').concat(e.substr(0,c.length),"</span>").concat(e.substr(c.length),"</a>")))})),l&&Array.from(o.querySelectorAll(".input__dropdown-item")).map((function(e){return e.addEventListener("click",(function(){r.value=e.innerText}))}))),i.classList.contains("fakeScroll")||i.fakeScroll()}})),t.addEventListener("focus",(function(){var e=t.closest(".input").querySelector(".fakeScroll__content");e&&(e.innerHTML="")}))}))})),Array.from(document.querySelectorAll('input[name="rulesAgreement"]')).map((function(e){return e.addEventListener("change",(function(){var t=e.closest("form").querySelector('button[type="submit"]');e.checked?(t.classList.remove("button--disabled"),t.removeAttribute("disabled")):(t.classList.add("button--disabled"),t.setAttribute("disabled","disabled"))}))})),Array.from(document.querySelectorAll(".auth__toggle .tabs__item")).map((function(e){return e.addEventListener("click",(function(){document.querySelector(".auth__type").value=e.dataset.tab-1}))}));var c=document.querySelector(".js-catalog-more");if(c){var i=document.querySelector(".pagination__arrow--prev"),s=document.querySelector(".pagination__arrow--next"),l={current:[1],total:10},u=function(e){Array.from(document.querySelectorAll(".pagination__page--current")).map((function(e){return e.classList.remove("pagination__page--current")})),document.querySelector('.pagination__page[data-page="'.concat(e,'"]')).classList.add("pagination__page--current")},d=function(e){var t=document.querySelector(".pagination__separator"),r=t.previousSibling,o=document.querySelector(".pagination__page");+r.dataset.page===e?e===l.total-2?(o.remove(),t.classList.add("pagination__separator--hidden"),t.insertAdjacentHTML("beforebegin",'<a class="pagination__page" href="javascript:void(0)" data-page="'.concat(e+1,'">').concat(e+1,"</a>"))):e<l.total-2&&(o.remove(),t.insertAdjacentHTML("beforebegin",'<a class="pagination__page" href="javascript:void(0)" data-page="'.concat(e+1,'">').concat(e+1,"</a>")),t.classList.remove("pagination__separator--hidden")):+o.dataset.page===e&&1!==e&&(r.remove(),document.querySelector(".pagination__pages").insertAdjacentHTML("afterbegin",'<a class="pagination__page" href="javascript:void(0)" data-page="'.concat(e-1,'">').concat(e-1,"</a>")),t.classList.remove("pagination__separator--hidden"))},p=function(e){var t=e,r=Array.from(document.querySelectorAll(".filters__input-field")).map((function(e){return e.name}));return new URL(location.href).searchParams.toString().split("&").map((function(e){var o=_slicedToArray(e.split("="),1)[0];r.includes(o)&&(t+="&"+e)})),t+="&limit=".concat(document.querySelector(".js-catalog-limit .dropdown__value").innerText)},m=function(e){var t=e.top,r=e.image,o=e.verified,n=e.name,a=e.country,c=e.subjects,i=e.location,s=e.description,l=e.link,u=e.rating,d=e.reviews,p=e.price;return'\n    <div class="tutorcard'.concat(t?" tutorcard--top":"",'">\n      <div class="tutorcard__image" style="background-image: url(\'img/inhtml/').concat(r,'\')"></div>\n      <div class="tutorcard__info">\n        <div>\n          <p class="tutorcard__name').concat(o?" tutorcard__name--verified":"",'">').concat(n,'</p>\n          <p class="tutorcard__location" data-loc=').concat(a,">").concat(i,'</p>\n          <div class="tutorcard__subjects">\n            ').concat(c.map((function(e){return'\n              <a class="tutorcard__subjects-item'.concat(e.search?" tutorcard__subjects-item--search":"").concat(e.hidden?" tutorcard__subjects-item--hidden":"",'" href="javascript:void(0)">').concat(e.name," <span>(опыт <b>").concat(e.experience,"</b>)</span></a>\n            ")})).join(""),'\n            <a class="tutorcard__subjects-more js-tutorcard-more" href="javascript:void(0)">+2 предмета</a>\n          </div>\n          <p class="tutorcard__desc">').concat(s,'</p>\n        </div><a class="tutorcard__more" href=').concat(l,'>Подробнее</a>\n      </div>\n      <div class="tutorcard__actions">\n        <div class="tutorcard__actions-info">\n          <div class="tutorcard__rating').concat(0===parseInt(d)?" tutorcard__rating--empty":"",'">\n            <p class="tutorcard__rating-rate">').concat(u,'</p>\n            <p class="tutorcard__rating-reviews">(').concat(d,')</p>\n          </div>\n          <div class="tutorcard__cost">\n            <p class="tutorcard__cost-value">').concat(p,' ₽</p>\n            <p class="tutorcard__cost-desc">в час</p>\n          </div>\n        </div>\n        <button class="button js-open-popup').concat(t?" button--primary":" button--secondary",' tutorcard__btn" data-popup="request-auth">Оставить заявку</button>\n      </div>\n    </div>\n  ')};c.addEventListener("click",(function(e){e.preventDefault();var t=l.current[l.current.length-1]+1,r=p("data/catalog.json?page=".concat(t));l.current.push(t),Array.from(document.querySelectorAll(".pagination__page")).map((function(e){l.current.includes(parseInt(e.innerText))&&e.classList.add("pagination__page--current")})),fetch(r).then((function(e){return e.json()})).then((function(e){e.map((function(e){document.querySelector(".catalog__items").insertAdjacentHTML("beforeend",m(e))})),t===l.total&&(c.classList.add("catalog__bottom-btn--hidden"),s.classList.add("pagination__arrow--disabled"))}))})),i.addEventListener("click",(function(e){e.preventDefault();var t=l.current[0]-1,r=p("data/catalog.json?page=".concat(t));l.current=[t],fetch(r).then((function(e){return e.json()})).then((function(e){var r="";e.map((function(e){r+=m(e)})),document.querySelector(".pagination__arrow--next").classList.remove("pagination__arrow--disabled"),u(t),1===t&&i.classList.add("pagination__arrow--disabled"),c.classList.remove("catalog__bottom-btn--hidden"),document.querySelector(".catalog__items").innerHTML=r})),d(t)})),s.addEventListener("click",(function(e){e.preventDefault();var t=l.current[l.current.length-1]+1,r=p("data/catalog.json?page=".concat(t));l.current=[t],fetch(r).then((function(e){return e.json()})).then((function(e){var r="";e.map((function(e){r+=m(e)})),document.querySelector(".pagination__arrow--prev").classList.remove("pagination__arrow--disabled"),u(t),t===l.total&&(c.classList.add("catalog__bottom-btn--hidden"),s.classList.add("pagination__arrow--disabled")),document.querySelector(".catalog__items").innerHTML=r,d(t)}))})),document.addEventListener("click",(function(e){var t=e.target;if(t.classList.contains("pagination__page")){var r=parseInt(t.dataset.page),o=p("data/catalog.json?page=".concat(r));l.current=[r],fetch(o).then((function(e){return e.json()})).then((function(e){var t="";e.map((function(e){t+=m(e)})),u(r),r===l.total?(c.classList.add("catalog__bottom-btn--hidden"),s.classList.add("pagination__arrow--disabled")):1===r?(i.classList.add("pagination__arrow--disabled"),c.classList.remove("catalog__bottom-btn--hidden")):(s.classList.remove("pagination__arrow--disabled"),i.classList.remove("pagination__arrow--disabled"),c.classList.remove("catalog__bottom-btn--hidden")),d(r),document.querySelector(".catalog__items").innerHTML=t}))}}))}Array.from(document.querySelectorAll(".tutor__nav-link")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.target;scrollTo({top:document.querySelector('[data-block="'.concat(t,'"]')).getBoundingClientRect().top+window.pageYOffset-document.querySelector(".header").offsetHeight,behavior:"smooth"})}))})),Array.from(document.querySelectorAll(".profile-head__subjects-item")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.pay;e.closest(".profile-head__subjects").querySelector(".profile-head__subjects-item--highlight").classList.remove("profile-head__subjects-item--highlight"),e.classList.add("profile-head__subjects-item--highlight"),Array.from(document.querySelectorAll(".tutor__cost-value span")).map((function(e){return e.innerText=t}))}))}));var f=document.querySelector(".profile-about__video-cover");f&&f.addEventListener("click",(function(){var e=f.parentNode.querySelector("iframe");f.parentNode.querySelector("iframe").setAttribute("src",e.getAttribute("src")+"?autoplay=1"),f.classList.add("profile-about__video-cover--hidden")}));var _=document.querySelector(".js-reviews-more");if(_){var v={current:1,total:3};_.addEventListener("click",(function(e){e.preventDefault(),++v.current,fetch("data/tutorReviews.json?page=".concat(v.current)).then((function(e){return e.json()})).then((function(e){e.map((function(e){var t,r,o,n,a,c;document.querySelector(".profile-reviews__feedbacks").insertAdjacentHTML("beforeend",(r=(t=e).image,o=t.name,n=t.date,a=t.rating,c=t.feedback,'\n    <div class="profile-reviews__feedback">\n      '.concat(r?'<div class="profile-reviews__feedback-image" style="background-image: url(\'img/inhtml/'.concat(r,"')\"></div>"):'<div class="profile-reviews__feedback-image"></div>','\n      <div class="profile-reviews__feedback-info">\n        <div class="profile-reviews__feedback-head">\n          <p class="profile-reviews__feedback-name">').concat(o,'</p>\n          <p class="profile-reviews__feedback-date">').concat(n,'</p>\n        </div>\n        <div class="profile-reviews__rating-stars">\n          ').concat([1,2,3,4,5].map((function(e){return e<=a?'<div class="profile-reviews__rating-star profile-reviews__rating-star--full"></div>':'<div class="profile-reviews__rating-star"></div>'})).join(""),'\n        </div>\n        <p class="profile-reviews__feedback-text">').concat(c,"</p>\n      </div>\n    </div>\n  "))),v.current===v.total&&_.remove()}))}))}))}if(document.querySelector(".profile-schedule")){var y=document.querySelector(".profile-schedule__timezone-menu");y.classList.contains("fakeScroll")||y.fakeScroll()}var h=function(){var e=document.querySelector(".profile-schedule__unit--current"),t=document.querySelector('.js-popup[data-popup="request-specific"]');e&&setTimeout((function(){var r=e.dataset.date,o=e.querySelector(".profile-schedule__time-value").innerText;document.querySelector(".profile-schedule__pick").classList.add("profile-schedule__pick--active"),document.querySelector(".profile-schedule__pick-date").innerText=r,document.querySelector(".profile-schedule__pick-time").innerText=o,t&&(t.querySelector(".popup__heading-date").innerText=r,t.querySelector(".popup__heading-time").innerText=o,t.querySelector('input[name="time"]').value=o)}),0)},S=document.querySelector(".profile-schedule__controls-button--prev"),b=document.querySelector(".profile-schedule__controls-button--next");S&&S.addEventListener("click",(function(){var e=document.querySelector(".profile-schedule__slide--active"),t=+e.dataset.slide,r=document.querySelector('.profile-schedule__slide[data-slide="'.concat(t-1,'"]'));r&&(e.classList.remove("profile-schedule__slide--active"),r.classList.add("profile-schedule__slide--active"),document.querySelector(".profile-schedule__controls-button--next").classList.remove("profile-schedule__controls-button--disabled"),document.querySelector(".profile-schedule__controls-dates").innerText=r.dataset.dates,r.dataset.first&&S.classList.add("profile-schedule__controls-button--disabled"))})),b&&b.addEventListener("click",(function(){var e=document.querySelector(".profile-schedule__slide--active"),t=+e.dataset.slide,r=document.querySelector('.profile-schedule__slide[data-slide="'.concat(t+1,'"]'));r&&(e.classList.remove("profile-schedule__slide--active"),r.classList.add("profile-schedule__slide--active"),document.querySelector(".profile-schedule__controls-button--prev").classList.remove("profile-schedule__controls-button--disabled"),document.querySelector(".profile-schedule__controls-dates").innerText=r.dataset.dates,r.dataset.last&&b.classList.add("profile-schedule__controls-button--disabled"))})),Array.from(document.querySelectorAll(".profile-schedule__unit")).map((function(e){return e.addEventListener("click",(function(t){if(!t.target.closest(".profile-schedule__time")){var r=document.querySelector(".profile-schedule__unit--current");r&&r.classList.remove("profile-schedule__unit--current"),e.classList.add("profile-schedule__unit--current"),h()}}))})),Array.from(document.querySelectorAll(".profile-schedule__time-menu .dropdown__menu-item")).map((function(e){return e.addEventListener("click",h)}))};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbmxvYWQiLCIkYXBpIiwiJHBvcHVwIiwiX3JlZiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsIm9uSGlkZSIsIm9uU2hvdyIsImhpZGVPdmVyZmxvdyIsImRvY3VtZW50IiwiYm9keSIsInN0eWxlIiwiY3NzVGV4dCIsImNvbmNhdCIsInNjcm9sbFkiLCJzaG93T3ZlcmZsb3ciLCJvZmZzZXQiLCJzY3JvbGxUbyIsImlzU2hvd24iLCJjb250YWlucyIsInNob3ciLCJQcm9taXNlIiwicmVzb2x2ZSIsImNsYXNzTGlzdCIsImFkZCIsImhpZGUiLCJwYXJzZUludCIsIm1hcmdpblRvcCIsImRpc3BsYXkiLCJ0aGVuIiwiZm9ybSIsInJlcXVlc3QiLCJlbWFpbFJlZ2V4cCIsInJlbW92ZSIsInNldFRpbWVvdXQiLCJpbnB1dCIsImNsb3Nlc3QiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIiRmb3JtSW5wdXRzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsInNldEludmFsaWRJbnB1dCIsIm1hcCIsImVsIiwiZGF0YXNldCIsInZhbHVlIiwiZm9jdXMiLCJzZXRJbnZhbGlkQ2hlY2tib3giLCJmb3JtSXNWYWxpZCIsImluY2x1ZGVzIiwiJGNoZWNrYm94U2VsZWN0IiwiY2hlY2tlZCIsImdldEF0dHJpYnV0ZSIsImNoZWNrYm94IiwiJHRoaXMiLCJ0YXJnZXQiLCJwb3B1cCIsImN1cnJlbnRUYXJnZXQiLCJ2YWxpZGF0ZSIsIiRzdWNjZXNzUG9wdXAiLCIkZHJvcGRvd25zIiwidG9nZ2xlIiwiJGRyb3Bkb3duTWVudUl0ZW0iLCJuZXdWYWx1ZSIsImlubmVyVGV4dCIsIiRoaWRkZW5JdGVtIiwiJGRyb3Bkb3duVmFsdWUiLCJ0YWIiLCIkYWN0aXZlVGFiQ29udGVudCIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsImNoYW5nZUNvdW50cnlFdmVudCIsIiRkcm9wZG93biIsIndpZHRoIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibG9jIiwibWFzayIsImNvZGVMb2MiLCIkaW5wdXQiLCJyZXBsYWNlQWxsIiwidXBkYXRlTWFzayIsImRpc3BhdGNoRXZlbnQiLCJJbnB1dG1hc2siLCJsaXN0Iiwic3RvcFByb3BhZ2F0aW9uIiwiJHBsYWNlaG9sZGVyIiwiaXRlbSIsInN1YnN0cmluZyIsInBsYWNlaG9sZGVyIiwiZmV0Y2giLCJyZXMiLCJqc29uIiwiZGF0YSIsImZpcnN0UmVuZGVyIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiJGRyb3Bkb3duRWxlbWVudCIsIm9wdGlvbnMiLCJpbnB1dFNtYXJ0U2VhcmNoIiwia2V5IiwiZmxhdE1hcCIsImNpdGllcyIsIkpTT04iLCJwYXJzZSIsImxvd2VyQ2FzZVZhbHVlIiwidG9Mb3dlckNhc2UiLCJmYWtlU2Nyb2xsIiwibWF0Y2hlc0ZvdW5kIiwiJGVsZW1lbnQiLCJzdWJzdHIiLCJwYXJlbnROb2RlIiwiaGFuZGxlSW5wdXQiLCIkY2hlY2tib3giLCJuYW1lIiwiJHJhbmdlIiwibWluIiwibWF4Iiwic21heCIsIm5vVWlTbGlkZXIiLCJjcmVhdGUiLCJzdGFydCIsInNtaW4iLCJjb25uZWN0Iiwic3RlcCIsInZhbHVlcyIsImNoZWNrYm94VmFsdWUiLCJyYW5nZSIsIiRpbnB1dEZpZWxkIiwiJHRhcmdldCIsIiRiYW5uZXIiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiZ2V0SXRlbSIsIiRjb29raWVzIiwiaGlkZUhlYWRlck1lbnUiLCJTd2lwZXIiLCJsb29wIiwic2xpZGVzUGVyVmlldyIsImNlbnRlcmVkU2xpZGVzIiwiYnJlYWtwb2ludHMiLCJsb29wQWRkaXRpb25hbFNsaWRlcyIsImNsaWNrYWJsZSIsInBhZ2luYXRpb24iLCJyZXZpZXdzU2xpZGVyIiwic3BhY2VCZXR3ZWVuIiwic3VibWl0IiwiY291bnRyeSIsIiRsYWJlbEVsZW1lbnQiLCJmaWx0ZXIiLCIkZHJvcGRvd25Db250ZW50IiwiaW5kZXhPZiIsImlubmVySFRNTCIsIiRzdWJtaXRCdXR0b24iLCIkY2F0YWxvZ01vcmVCdG4iLCIkcHJldkFycm93IiwiY2F0YWxvZ1BhZ2VzIiwiY3VycmVudCIsInRvdGFsIiwic2V0Q3VycmVudFBhZ2UiLCJjdXJyZW50UGFnZSIsInNldEJyZWFrIiwibGF0ZXN0UGFnZSIsInByZXZpb3VzU2libGluZyIsIiRmaXJzdEl0ZW0iLCIkYmVmb3JlU2VwYXJhdG9ySXRlbSIsInBhZ2UiLCIkc2VwYXJhdG9yIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiJG5leHRBcnJvdyIsImZvcm1hdHRlZFVSTCIsImZpbHRlcnNOYW1lcyIsIlVSTCIsImxvY2F0aW9uIiwiaHJlZiIsInNlYXJjaFBhcmFtcyIsInRvU3RyaW5nIiwic3BsaXQiLCJfc2xpY2VkVG9BcnJheSIsImNhdGFsb2dJdGVtRWxlbWVudCIsIl9yZWYyIiwidmVyaWZpZWQiLCJzdWJqZWN0cyIsImRlc2NyaXB0aW9uIiwibGluayIsInJhdGluZyIsInJldmlld3MiLCJwcmljZSIsInRvcCIsImltYWdlIiwic2VhcmNoIiwiaGlkZGVuIiwiZXhwZXJpZW5jZSIsImpvaW4iLCJ1cmwiLCJmb3JtYXRVUkwiLCJwdXNoIiwicXVlcnlVcmwiLCIkZWxlbWVudHMiLCJwYWdlWU9mZnNldCIsIm9mZnNldEhlaWdodCIsImJlaGF2aW9yIiwicGF5bWVudCIsInBheSIsIiRwcm9maWxlVmlkZW9Db3ZlciIsIiR2aWRlbyIsIiRyZXZpZXdzTW9yZUJ0biIsInJldmlld3NQYWdlcyIsInJldmlldyIsIl9yZWYzIiwiZGF0ZSIsImZlZWRiYWNrIiwiJHRpbWV6b25lRHJvcGRvd24iLCJzZXREYXRlVGltZSIsIiRjdXJyZW50VW5pdCIsInRpbWUiLCIkcHJldkJ1dHRvbiIsIiRhY3RpdmVTbGlkZSIsIiRuZXh0QnV0dG9uIiwiY3VycmVudEluZGV4IiwiJHByZXZTbGlkZSIsInNsaWRlIiwiZGF0ZXMiLCJmaXJzdCIs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ZmMsRUFhQXhCLFVBQUFDLElBQUEsbUNBSkkrTCxXQUtKN0ssTUFBTUMsS0FBS2xDLFNBQVNtQyxpQkFBaUIsc0RBQXNERSxLQUFJLFNBQUFDLEdBQUUsT0FBSUEsRUFBR1QsaUJBQWlCLFFBQVNpTCIsImZpbGUiOiJjb21tb24ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2luZG93Lm9ubG9hZCA9ICgpID0+IHtcblxuICAvLyDQntCx0YrQtdC60YIg0LPQu9C+0LHQsNC70YzQvdC+0LPQviBBUElcbmNvbnN0ICRhcGkgPSB7fTtcblxuLy8gQVBJINC00LvRjyDRgNCw0LHQvtGC0Ysg0YEg0L/QvtC/0LDQv9Cw0LzQuFxuJGFwaS5wb3B1cCA9ICgkcG9wdXAsIHsgb25IaWRlLCBvblNob3cgfSA9IHt9KSA9PiB7XG4gIC8vINCe0YLQutC70Y7Rh9Cw0LXRgiDQstC+0LfQvNC+0LbQvdC+0YHRgtGMINGB0LrRgNC+0LvQu9C40YLRjCDRgdGC0YDQsNC90LjRhtGDXG4gIGNvbnN0IGhpZGVPdmVyZmxvdyA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmNzc1RleHQgPSBgcG9zaXRpb246IGZpeGVkOyBtYXJnaW4tdG9wOiAkey13aW5kb3cuc2Nyb2xsWX1weGA7XG4gIH07XG4gIFxuICAvLyDQktC60LvRjtGH0LDQtdGCINCy0L7Qt9C80L7QttC90L7RgdGC0Ywg0YHQutGA0L7Qu9C70LjRgtGMINGB0YLRgNCw0L3QuNGG0YNcbiAgY29uc3Qgc2hvd092ZXJmbG93ID0gb2Zmc2V0ID0+IHtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246IHN0YXRpYzsgbWFyZ2luLXRvcDogMCc7XG4gICAgXG4gICAgd2luZG93LnNjcm9sbFRvKDAsIG9mZnNldCk7XG4gIH07XG4gIFxuICByZXR1cm4ge1xuICAgIC8vINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCIHRydWUsINC10YHQu9C4INC/0L7Qv9Cw0L8g0L/QvtC60LDQt9GL0LLQsNC10YLRgdGPLCDQsiDQuNC90L7QvCDRgdC70YPRh9Cw0LUgZmFsc2VcbiAgICBpc1Nob3duOiAoKSA9PiAkcG9wdXAuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cC0tb3BlbmVkJyksXG4gICAgLy8g0J/QvtC60LDQt9GL0LLQsNC10YIg0L/QvtC/0LDQv1xuICAgIHNob3coKSB7XG4gICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICRwb3B1cC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIGhpZGVPdmVyZmxvdygpO1xuXG4gICAgICBwcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAkcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXAtLW9wZW5lZCcpO1xuICAgICAgICBpZiAodHlwZW9mIG9uU2hvdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG9uU2hvdygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIC8vINCh0LrRgNGL0LLQsNC10YIg0L/QvtC/0LDQv1xuICAgIGhpZGUoKSB7XG4gICAgICBjb25zdCBvZmZzZXQgPSAtcGFyc2VJbnQoZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW5Ub3ApO1xuICBcbiAgICAgICRwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cC0tb3BlbmVkJyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgJHBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHNob3dPdmVyZmxvdyhvZmZzZXQpO1xuICAgICAgICBpZiAodHlwZW9mIG9uSGlkZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG9uSGlkZSgpO1xuICAgICAgICB9XG4gICAgICB9LCAzMDApO1xuICAgIH1cbiAgfTtcbn07XG5cbi8vIEFQSSDQtNC70Y8g0LLQsNC70LjQtNCw0YbQuNC4INGE0L7RgNC8XG4kYXBpLnZhbGlkYXRlID0gKGZvcm0sIHJlcXVlc3QpID0+IHtcbiAgY29uc3QgZW1haWxSZWdleHAgPSAvXigoW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31dKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcbiAgY29uc3Qgc2V0SW52YWxpZElucHV0ID0gaW5wdXQgPT4ge1xuICAgIGlmIChpbnB1dC5jbG9zZXN0KCcuaW5wdXQnKSkge1xuICAgICAgaW5wdXQuY2xvc2VzdCgnLmlucHV0JykuY2xhc3NMaXN0LmFkZCgnaW5wdXQtLWVycm9yJyk7XG4gICAgfSBlbHNlIGlmIChpbnB1dC5jbG9zZXN0KCcudGV4dGFyZWEnKSkge1xuICAgICAgaW5wdXQuY2xvc2VzdCgnLnRleHRhcmVhJykuY2xhc3NMaXN0LmFkZCgndGV4dGFyZWEtLWVycm9yJyk7XG4gICAgfVxuICAgIGlucHV0LmZvY3VzKCk7XG4gIH07XG4gIGNvbnN0IHNldEludmFsaWRDaGVja2JveCA9IGlucHV0ID0+IHtcbiAgICBpbnB1dC5jbG9zZXN0KCcuY2hlY2tib3gnKS5jbGFzc0xpc3QuYWRkKCdjaGVja2JveC0tZXJyb3InKTtcbiAgfTtcblxuICBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBsZXQgZm9ybUlzVmFsaWQgPSB0cnVlO1xuICAgIGNvbnN0ICRmb3JtSW5wdXRzID0gQXJyYXkuZnJvbShmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3JlcXVpcmVkXSwgdGV4dGFyZWFbcmVxdWlyZWRdJykpO1xuICAgIGNvbnN0ICRjaGVja2JveFNlbGVjdCA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmNoZWNrYm94c2VsZWN0Jyk7XG5cbiAgICAkZm9ybUlucHV0cy5yZXZlcnNlKCkubWFwKGVsID0+IHtcbiAgICAgIGlmIChlbC5kYXRhc2V0LnBhc3NSZXBlYXQgJiYgZWwudmFsdWUgIT09IGVsLmNsb3Nlc3QoJ2Zvcm0nKS5xdWVyeVNlbGVjdG9yKCdpbnB1dFtkYXRhLXBhc3NdJykudmFsdWUpIHtcbiAgICAgICAgc2V0SW52YWxpZElucHV0KGVsKTtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoKGVsLmdldEF0dHJpYnV0ZSgndHlwZScpKSB7XG4gICAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICBjYXNlICdwYXNzd29yZCc6XG4gICAgICAgICAgaWYgKGVsLnZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgc2V0SW52YWxpZElucHV0KGVsKTtcbiAgICAgICAgICAgIGZvcm1Jc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0ZWwnOlxuICAgICAgICAgIGlmIChlbC52YWx1ZSA9PT0gJycgfHwgZWwudmFsdWUuaW5jbHVkZXMoJ18nKSkge1xuICAgICAgICAgICAgc2V0SW52YWxpZElucHV0KGVsKTtcbiAgICAgICAgICAgIGZvcm1Jc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICAgICAgaWYgKCFlbC5jaGVja2VkKSB7XG4gICAgICAgICAgICBzZXRJbnZhbGlkQ2hlY2tib3goZWwpO1xuICAgICAgICAgICAgZm9ybUlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2VtYWlsJzpcbiAgICAgICAgICBpZiAoIWVtYWlsUmVnZXhwLnRlc3QoZWwudmFsdWUpKSB7XG4gICAgICAgICAgICBzZXRJbnZhbGlkSW5wdXQoZWwpO1xuICAgICAgICAgICAgZm9ybUlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKGVsLnZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgc2V0SW52YWxpZElucHV0KGVsKTtcbiAgICAgICAgICAgIGZvcm1Jc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICBcbiAgICBpZiAoJGNoZWNrYm94U2VsZWN0Lmxlbmd0aCkge1xuICAgICAgQXJyYXkuZnJvbSgkY2hlY2tib3hTZWxlY3QpLm1hcChlbCA9PiB7XG4gICAgICAgIGxldCBjaGVja2VkID0gZmFsc2U7XG4gIFxuICAgICAgICBBcnJheS5mcm9tKGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGVja2JveF9faW5wdXQnKSkubWFwKGNoZWNrYm94ID0+IHtcbiAgICAgICAgICBpZiAoY2hlY2tib3guY2hlY2tlZCkge1xuICAgICAgICAgICAgY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgXG4gICAgICAgIGlmICghY2hlY2tlZCkge1xuICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94c2VsZWN0LS1lcnJvcicpO1xuICAgICAgICAgIGZvcm1Jc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChmb3JtSXNWYWxpZCkge1xuICAgICAgcmVxdWVzdCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgQXJyYXkuZnJvbShmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykpLmNvbmNhdChBcnJheS5mcm9tKGZvcm0ucXVlcnlTZWxlY3RvckFsbCgndGV4dGFyZWEnKSkpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICBpZiAoZWwuY2xvc2VzdCgnLmlucHV0JykpIHtcbiAgICAgIGVsLmNsb3Nlc3QoJy5pbnB1dCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2lucHV0LS1lcnJvcicpO1xuICAgIH0gZWxzZSBpZiAoZWwuY2xvc2VzdCgnLmNoZWNrYm94JykpIHtcbiAgICAgIGVsLmNsb3Nlc3QoJy5jaGVja2JveCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrYm94LS1lcnJvcicpO1xuICAgIH0gZWxzZSBpZiAoZWwuY2xvc2VzdCgnLnRleHRhcmVhJykpIHtcbiAgICAgIGVsLmNsb3Nlc3QoJy50ZXh0YXJlYScpLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHRhcmVhLS1lcnJvcicpO1xuICAgIH1cbiAgfSkpO1xufTtcblxuICAvLyBoYW5kbGUgb3BlbiBwb3B1cFxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSBlLnRhcmdldDtcblxuICBpZiAoJHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy1vcGVuLXBvcHVwJykpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCB0YXJnZXQgPSAkdGhpcy5kYXRhc2V0LnBvcHVwO1xuICAgIGNvbnN0ICRwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5qcy1wb3B1cFtkYXRhLXBvcHVwPVwiJHt0YXJnZXR9XCJdYCk7XG4gICAgXG4gICAgJGFwaS5wb3B1cCgkcG9wdXApLnNob3coKTtcbiAgfVxufSk7XG5cbi8vIGhhbmRsZSBjbG9zZSBwb3B1cFxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtY2xvc2UtcG9wdXAnKSkubWFwKGVsID0+XG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgaWYoIWUudGFyZ2V0LmNsb3Nlc3QoJy5wb3B1cF9fd2luZG93JykgfHwgIWUuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLXBvcHVwJykpIHtcbiAgICAgIGNvbnN0ICRwb3B1cCA9IGUuY3VycmVudFRhcmdldC5jbG9zZXN0KCcucG9wdXAnKTtcblxuICAgICAgJGFwaS5wb3B1cCgkcG9wdXApLmhpZGUoKTtcbiAgICB9XG4gIH0pXG4pO1xuXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXJlc3RvcmUtZm9ybV0nKSkge1xuICAkYXBpLnZhbGlkYXRlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1yZXN0b3JlLWZvcm1dJyksICgpID0+IHt9KTtcbn1cblxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1yZXF1ZXN0LWF1dGgtZm9ybV0nKSkge1xuICAkYXBpLnZhbGlkYXRlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1yZXF1ZXN0LWF1dGgtZm9ybV0nKSwgKCkgPT4ge30pO1xufVxuXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXJlcXVlc3QtZm9ybV0nKSkge1xuICAkYXBpLnZhbGlkYXRlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1yZXF1ZXN0LWZvcm1dJyksICgpID0+IHtcbiAgICBjb25zdCAkcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cInJlcXVlc3RcIl0nKTtcbiAgICBjb25zdCAkc3VjY2Vzc1BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJyZXF1ZXN0LXN1Y2Nlc3NcIl0nKTtcblxuICAgICRhcGkucG9wdXAoJHBvcHVwLCB7XG4gICAgICBvbkhpZGUoKSB7XG4gICAgICAgIEFycmF5LmZyb20oJHBvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykpLm1hcChlbCA9PiBlbC52YWx1ZSA9ICcnKTtcbiAgICAgICAgJGFwaS5wb3B1cCgkc3VjY2Vzc1BvcHVwKS5zaG93KCk7XG4gICAgICB9XG4gICAgfSkuaGlkZSgpO1xuICB9KTtcbn1cblxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1yZXF1ZXN0LXNwZWNpZmljLWZvcm1dJykpIHtcbiAgJGFwaS52YWxpZGF0ZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtcmVxdWVzdC1zcGVjaWZpYy1mb3JtXScpLCAoKSA9PiB7XG4gICAgY29uc3QgJHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJyZXF1ZXN0LXNwZWNpZmljXCJdJyk7XG4gICAgY29uc3QgJHN1Y2Nlc3NQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwicmVxdWVzdC1zdWNjZXNzXCJdJyk7XG5cbiAgICAkYXBpLnBvcHVwKCRwb3B1cCwge1xuICAgICAgb25IaWRlKCkge1xuICAgICAgICBBcnJheS5mcm9tKCRwb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpKS5tYXAoZWwgPT4gZWwudmFsdWUgPSAnJyk7XG4gICAgICAgICRhcGkucG9wdXAoJHN1Y2Nlc3NQb3B1cCkuc2hvdygpO1xuICAgICAgfVxuICAgIH0pLmhpZGUoKTtcbiAgfSk7XG59XG4gIGNvbnN0ICRkcm9wZG93bnMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wZG93bicpKTtcblxuLy8gY2xvc2UgZHJvcGRvd24gb24gb3V0ZXIgY2xpY2tcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gZS50YXJnZXQ7XG5cbiAgJGRyb3Bkb3ducy5tYXAoZWwgPT4ge1xuICAgIGlmKGVsLmNsb3Nlc3QoJy5kcm9wZG93bicpICE9PSAkdGhpcy5jbG9zZXN0KCcuZHJvcGRvd24nKSkge1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnZHJvcGRvd24tLWFjdGl2ZScpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuLy8gb3BlbiBkcm9wZG93blxuJGRyb3Bkb3ducy5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnaW5wdXRfX2NvZGUnKSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG4gIGlmICghZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdkcm9wZG93bi0tYWN0aXZlJykpIHtcbiAgICAkZHJvcGRvd25zLm1hcChlbCA9PiBlbCAhPT0gZWwgJiYgZWwuY2xhc3NMaXN0LnJlbW92ZSgnZHJvcGRvd24tLWFjdGl2ZScpKTtcbiAgICBlbC5jbGFzc0xpc3QudG9nZ2xlKCdkcm9wZG93bi0tYWN0aXZlJyk7XG4gIH1cbn0pKTtcblxuLy8gY2hhbmdlIGRyb3Bkb3duIHZhbHVlXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkZHJvcGRvd25NZW51SXRlbSA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5kcm9wZG93bl9fbWVudS1pdGVtJyk7XG5cbiAgaWYgKCRkcm9wZG93bk1lbnVJdGVtKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duLS1hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdkcm9wZG93bi0tYWN0aXZlJyk7XG5cbiAgICBpZiAoJGRyb3Bkb3duTWVudUl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLXRvZ2dsZScpKSB7XG4gICAgICBjb25zdCAkdGhpcyA9IGUudGFyZ2V0O1xuICAgICAgY29uc3QgbmV3VmFsdWUgPSAkdGhpcy5pbm5lclRleHQ7XG4gICAgICBjb25zdCAkaGlkZGVuSXRlbSA9ICR0aGlzLmNsb3Nlc3QoJy5kcm9wZG93bl9fbWVudScpLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bl9fbWVudS1pdGVtLS1oaWRkZW4nKTtcbiAgICAgIGNvbnN0ICRkcm9wZG93blZhbHVlID0gJHRoaXMuY2xvc2VzdCgnLmRyb3Bkb3duJykucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duX192YWx1ZScpO1xuXG4gICAgICBpZiAoJGhpZGRlbkl0ZW0pIHtcbiAgICAgICAgJGhpZGRlbkl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnZHJvcGRvd25fX21lbnUtaXRlbS0taGlkZGVuJyk7XG4gICAgICB9XG5cbiAgICAgICRkcm9wZG93bk1lbnVJdGVtLmNsYXNzTGlzdC5hZGQoJ2Ryb3Bkb3duX19tZW51LWl0ZW0tLWhpZGRlbicpOyBcbiAgICAgICRkcm9wZG93blZhbHVlLmlubmVyVGV4dCA9IG5ld1ZhbHVlO1xuICAgIH1cbiAgfVxufSk7XG4gIC8vIGhhbmRsZSB0YWJzIGxvZ2ljXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWJzX19pdGVtJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IHRhcmdldCA9IGVsLmRhdGFzZXQudGFiO1xuICBjb25zdCAkYWN0aXZlVGFiQ29udGVudCA9IGVsLmNsb3Nlc3QoJ1tkYXRhLXRhYnNdJykucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aXZlXScpO1xuXG4gIGVsLmNsb3Nlc3QoJy50YWJzJykucXVlcnlTZWxlY3RvcignLnRhYnNfX2l0ZW0tLWFjdGl2ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ3RhYnNfX2l0ZW0tLWFjdGl2ZScpO1xuICBlbC5jbGFzc0xpc3QuYWRkKCd0YWJzX19pdGVtLS1hY3RpdmUnKTtcblxuICBpZiAoJGFjdGl2ZVRhYkNvbnRlbnQpIHtcbiAgICBlbC5jbG9zZXN0KCdbZGF0YS10YWJzXScpLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZV0nKS5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtYWN0aXZlJyk7XG4gICAgZWwuY2xvc2VzdCgnW2RhdGEtdGFic10nKS5xdWVyeVNlbGVjdG9yKGBbZGF0YS1jb250ZW50PVwiJHt0YXJnZXR9XCJdYCkuc2V0QXR0cmlidXRlKCdkYXRhLWFjdGl2ZScsIHRydWUpO1xuICB9XG59KSk7XG4gIGNvbnN0IGNoYW5nZUNvdW50cnlFdmVudCA9IG5ldyBFdmVudCgnY2hhbmdlQ291bnRyeScpO1xuXG5jb25zdCB1cGRhdGVNYXNrID0gKGlucHV0LCBtYXNrKSA9PiB7XG4gIElucHV0bWFzayh7bWFza30pLm1hc2soaW5wdXQpO1xufTtcblxuLy8gT3BlbiBpbnB1dCBkcm9wZG93blxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW5wdXQuZHJvcGRvd24nKSlcbi5jb25jYXQoQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW5wdXQgLmRyb3Bkb3duJykpKVxuLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgJGRyb3Bkb3duID0gZWwucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duX19tZW51Jyk7XG4gIGVsLmNsb3Nlc3QoJy5pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dF9fZHJvcGRvd24nKS5zdHlsZS53aWR0aCA9IGVsLmNsb3Nlc3QoJy5pbnB1dCcpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgJ3B4JztcblxuICBpZiAoISRkcm9wZG93bi5jbGFzc0xpc3QuY29udGFpbnMoJ2Zha2VTY3JvbGwnKSkge1xuICAgICRkcm9wZG93bi5mYWtlU2Nyb2xsKCk7XG4gIH1cbn0pKTtcblxuLy8gQ2hhbmdlIHBob25lIGNvZGUgb24gaW5wdXQgZHJvcGRvd25cbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmlucHV0X19kcm9wZG93bi1pdGVtW2RhdGEtY29kZS1sb2NdJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgbG9jID0gZWwuZGF0YXNldC5jb2RlTG9jO1xuICBjb25zdCBtYXNrID0gZWwuZGF0YXNldC5tYXNrO1xuICBjb25zdCAkaW5wdXQgPSBlbC5jbG9zZXN0KCcuaW5wdXQnKS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuXG4gIGVsLmNsb3Nlc3QoJy5pbnB1dF9fY29kZScpLmRhdGFzZXQuY29kZUxvYyA9IGxvYztcbiAgZWwuY2xvc2VzdCgnLmlucHV0X19jb2RlJykuZGF0YXNldC5tYXNrID0gbWFzaztcbiAgJGlucHV0LnBsYWNlaG9sZGVyID0gbWFzay5yZXBsYWNlQWxsKCc5JywgJ18nKTtcbiAgdXBkYXRlTWFzaygkaW5wdXQsIG1hc2spO1xufSkpO1xuXG4vLyBDaGFuZ2UgaW5wdXQgZHJvcGRvd24gdmFsdWVcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmlucHV0X19kcm9wZG93bi1pdGVtW2RhdGEtZHJvcGRvd25dJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgdmFsdWUgPSBlbC5pbm5lclRleHQ7XG4gIFxuICBlbC5jbG9zZXN0KCcuaW5wdXQnKS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLnZhbHVlID0gdmFsdWU7XG4gIGVsLmNsb3Nlc3QoJy5pbnB1dCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2lucHV0LS1lcnJvcicpO1xuXG4gIGlmIChlbC5jbG9zZXN0KCcuaW5wdXQnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLWF1dGgtY291bnRyeScpKSB7XG4gICAgZWwuY2xvc2VzdCgnLmlucHV0JykuZGlzcGF0Y2hFdmVudChjaGFuZ2VDb3VudHJ5RXZlbnQpO1xuICB9XG59KSk7XG5cbi8vIE1hc2tpbmcgcGhvbmUgaW5wdXRcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cInRlbFwiXScpKS5tYXAoZWwgPT4ge1xuICBJbnB1dG1hc2soe21hc2s6IGVsLmNsb3Nlc3QoJy5pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dF9fY29kZScpLmRhdGFzZXQubWFza30pLm1hc2soZWwpO1xufSk7XG4gIC8vIGhhbmRsZSBjaGVja2JveHNlbGVjdCBsb2dpY1xuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3hzZWxlY3RfX2xpc3QnKSkubWFwKGxpc3QgPT4ge1xuICBsaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgXG4gICAgY29uc3QgJGNoZWNrYm94U2VsZWN0ID0gbGlzdC5jbG9zZXN0KCcuY2hlY2tib3hzZWxlY3QnKTtcbiAgICBsZXQgY2hlY2tlZCA9IGZhbHNlO1xuXG4gICAgJGNoZWNrYm94U2VsZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrYm94c2VsZWN0LS1lcnJvcicpO1xuXG4gICAgQXJyYXkuZnJvbShsaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGVja2JveF9faW5wdXQnKSkubWFwKGNoZWNrYm94ID0+IHtcbiAgICAgIGNvbnN0ICRwbGFjZWhvbGRlciA9ICRjaGVja2JveFNlbGVjdC5xdWVyeVNlbGVjdG9yKCcuY2hlY2tib3hzZWxlY3RfX2lucHV0LXBsYWNlaG9sZGVyJyk7XG5cbiAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSBjaGVja2VkID0gdHJ1ZTtcblxuICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGxldCB2YWx1ZSA9ICcnO1xuXG4gICAgICAgIEFycmF5LmZyb20obGlzdC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dDpjaGVja2VkJykpLm1hcChpdGVtID0+IHtcbiAgICAgICAgICB2YWx1ZSArPSBpdGVtLmNsb3Nlc3QoJy5jaGVja2JveHNlbGVjdF9faXRlbScpLnF1ZXJ5U2VsZWN0b3IoJy5jaGVja2JveF9fdGV4dCcpLmlubmVyVGV4dCArICcsICc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICRwbGFjZWhvbGRlci5pbm5lclRleHQgPSB2YWx1ZS5zdWJzdHJpbmcoMCwgdmFsdWUubGVuZ3RoIC0gMik7XG4gICAgICAgICAgJHBsYWNlaG9sZGVyLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94c2VsZWN0X19pbnB1dC1wbGFjZWhvbGRlci0tYWN0aXZlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJHBsYWNlaG9sZGVyLmlubmVyVGV4dCA9ICRwbGFjZWhvbGRlci5kYXRhc2V0LnBsYWNlaG9sZGVyO1xuICAgICAgICAgICRwbGFjZWhvbGRlci5jbGFzc0xpc3QucmVtb3ZlKCdjaGVja2JveHNlbGVjdF9faW5wdXQtcGxhY2Vob2xkZXItLWFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgXG4gICAgaWYgKGNoZWNrZWQpIHtcbiAgICAgICRjaGVja2JveFNlbGVjdC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveHNlbGVjdC0tY2hlY2tlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkY2hlY2tib3hTZWxlY3QuY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tib3hzZWxlY3QtLWNoZWNrZWQnKTtcbiAgICB9XG4gIH0pO1xuXG4gIGxpc3QuZmFrZVNjcm9sbCgpO1xufSk7XG4gIC8vIHNldCBmaWx0ZXIgaW5wdXQgdmFsdWVcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlcnNfX2Ryb3Bkb3duLWl0ZW0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gZS5jdXJyZW50VGFyZ2V0O1xuICBjb25zdCB2YWx1ZSA9ICR0aGlzLmlubmVyVGV4dDtcblxuICAkdGhpcy5jbG9zZXN0KCcuZmlsdGVyc19faW5wdXQnKS5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyc19faW5wdXQtZmllbGQnKS52YWx1ZSA9IHZhbHVlO1xufSkpO1xuXG4vLyBmaWx0ZXIgbWFpbiBsb2dpY1xuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19pbnB1dC1maWVsZCcpLmxlbmd0aCkge1xuICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19pbnB1dC1maWVsZCcpKS5tYXAoZWwgPT4ge1xuICAgIGZldGNoKCdkYXRhL2xvY2F0aW9uLmpzb24nKS50aGVuKHJlcyA9PiByZXMuanNvbigpKS50aGVuKGRhdGEgPT4ge1xuICAgICAgY29uc3QgJHRoaXMgPSBlbDtcbiAgICAgIC8vIGhhbmRsZSBmaWx0ZXIgaW5wdXRcbiAgICAgIGNvbnN0IGhhbmRsZUlucHV0ID0gZmlyc3RSZW5kZXIgPT4ge1xuICAgICAgICBjb25zdCAkZHJvcGRvd25FbGVtZW50ID0gJHRoaXMubmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXJzX19kcm9wZG93bi1pbm5lcicpO1xuICAgICAgICBjb25zdCAkZHJvcGRvd24gPSAkZHJvcGRvd25FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYWtlU2Nyb2xsX19jb250ZW50JykgfHwgJGRyb3Bkb3duRWxlbWVudDtcbiAgICAgICAgY29uc3QgaW5wdXRTbWFydFNlYXJjaCA9ICR0aGlzLmdldEF0dHJpYnV0ZSgnbmFtZScpID09PSAnbG9jYXRpb24nO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gaW5wdXRTbWFydFNlYXJjaCA/IGRhdGEubWFwKGVsID0+IGVsLmtleSkuY29uY2F0KGRhdGEuZmxhdE1hcChpdGVtID0+IGl0ZW0uY2l0aWVzKSkgOiBKU09OLnBhcnNlKCR0aGlzLmRhdGFzZXQub3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGxvd2VyQ2FzZVZhbHVlID0gJHRoaXMudmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3QgJGNoZWNrYm94ID0gJGRyb3Bkb3duLmNsb3Nlc3QoJy5maWx0ZXJzX19kcm9wZG93bicpLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpO1xuICAgICAgICBsZXQgbWF0Y2hlc0ZvdW5kID0gZmFsc2U7XG5cbiAgICAgICAgJGRyb3Bkb3duLmlubmVySFRNTCA9ICcnO1xuICAgICAgXG4gICAgICAgIC8vIHJlbmRlciBmaWx0ZXIgZHJvcGRvd24gaXRlbXNcbiAgICAgICAgb3B0aW9ucy5tYXAoZWwgPT4ge1xuICAgICAgICAgIGlmIChmaXJzdFJlbmRlciB8fCBlbC50b0xvd2VyQ2FzZSgpLmluZGV4T2YobG93ZXJDYXNlVmFsdWUpID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCAkZWxlbWVudCA9IGlucHV0U21hcnRTZWFyY2ggP1xuICAgICAgICAgICAgICBgPGEgY2xhc3M9XCJmaWx0ZXJzX19kcm9wZG93bi1pdGVtIGRyb3Bkb3duX19tZW51LWl0ZW0keyhsb3dlckNhc2VWYWx1ZSAmJiAhZmlyc3RSZW5kZXIpID8gJyBmaWx0ZXJzX19kcm9wZG93bi1pdGVtLS1zbWFydCcgOiAnJ31cIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCI+PHNwYW4+JHtlbC5zdWJzdHIoMCwgbG93ZXJDYXNlVmFsdWUubGVuZ3RoKX08L3NwYW4+JHtlbC5zdWJzdHIobG93ZXJDYXNlVmFsdWUubGVuZ3RoKX08L2E+YCA6XG4gICAgICAgICAgICAgIGA8YSBjbGFzcz1cImZpbHRlcnNfX2Ryb3Bkb3duLWl0ZW0gZHJvcGRvd25fX21lbnUtaXRlbVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIj4ke2VsfTwvYT5gO1xuICAgICAgICAgICAgbWF0Y2hlc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICRkcm9wZG93bi5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsICRlbGVtZW50KVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gdG9nZ2xlIGZpbHRlciBkcm9wZG93biB2aXNpYmlsaXR5XG4gICAgICAgIGlmIChtYXRjaGVzRm91bmQpIHtcbiAgICAgICAgICAkZHJvcGRvd25FbGVtZW50LnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnZmlsdGVyc19fZHJvcGRvd24tLWhpZGRlbicpO1xuICAgICAgICAgICRkcm9wZG93bkVsZW1lbnQucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdmaWx0ZXJzX19kcm9wZG93bi0tZW1wdHknKTtcbiAgICAgICAgfSBlbHNlIGlmICghJGNoZWNrYm94KSB7XG4gICAgICAgICAgJGRyb3Bkb3duRWxlbWVudC5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ2ZpbHRlcnNfX2Ryb3Bkb3duLS1oaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkZHJvcGRvd25FbGVtZW50LnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnZmlsdGVyc19fZHJvcGRvd24tLWVtcHR5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBoYW5kbGUgaW5wdXQgdmFsdWVcbiAgICAgICAgQXJyYXkuZnJvbSgkZHJvcGRvd24ucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlcnNfX2Ryb3Bkb3duLWl0ZW0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICR0aGlzLnZhbHVlID0gZWwuaW5uZXJUZXh0O1xuICAgICAgICAgICR0aGlzLnNldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScsIGVsLmlubmVyVGV4dCk7XG5cbiAgICAgICAgICBpZiAoJGNoZWNrYm94KSB7XG4gICAgICAgICAgICAkY2hlY2tib3guY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgJHRoaXMucmVtb3ZlQXR0cmlidXRlKCdyZWFkb25seScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuXG4gICAgICAgIC8vIGZha2VTY3JvbGwgaW5pdFxuICAgICAgICBpZiAoZmlyc3RSZW5kZXIgJiYgISRkcm9wZG93bkVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmYWtlU2Nyb2xsJykpIHtcbiAgICAgICAgICAkZHJvcGRvd24uZmFrZVNjcm9sbCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgLy8gYWRkIGxpc3RlbmVycyBvbiBmaWx0ZXIgaW5wdXRcbiAgICAgIGlmICgkdGhpcy5uYW1lICE9PSAnY29zdCcpIHtcbiAgICAgICAgJHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiBoYW5kbGVJbnB1dChmYWxzZSkpO1xuICAgICAgICAkdGhpcy5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsICgpID0+IGhhbmRsZUlucHV0KHRydWUpKTtcbiAgICAgICAgJHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcbiAgICAgICAgICBpZiAoJHRoaXMudmFsdWUgPT09ICcnIHx8ICEkdGhpcy5kYXRhc2V0LnZhbHVlKSB7XG4gICAgICAgICAgICAkdGhpcy52YWx1ZSA9ICcnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkdGhpcy52YWx1ZSA9ICR0aGlzLmRhdGFzZXQudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cblxuLy8gaGFuZGxlIGZpbHRlciByYW5nZSBzbGlkZXJcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlcnNfX2Nvc3QtcmFuZ2UnKSkubWFwKCRyYW5nZSA9PiB7XG4gIGNvbnN0IG1pbiA9ICskcmFuZ2UuZGF0YXNldC5taW47XG4gIGNvbnN0IG1heCA9ICskcmFuZ2UuZGF0YXNldC5tYXg7XG4gIGNvbnN0IHNtaW4gPSArJHJhbmdlLmRhdGFzZXQubWluO1xuICBjb25zdCBzbWF4ID0gKyRyYW5nZS5kYXRhc2V0Lm1heDtcblxuICBub1VpU2xpZGVyLmNyZWF0ZSgkcmFuZ2UsIHtcbiAgICBzdGFydDogW3NtaW4sIHNtYXhdLFxuICAgIGNvbm5lY3Q6IHRydWUsXG4gICAgcmFuZ2U6IHtcbiAgICAgIG1pbixcbiAgICAgIG1heFxuICAgIH0sXG4gICAgc3RlcDogMTAwXG4gIH0pO1xuXG4gICRyYW5nZS5ub1VpU2xpZGVyLm9uKCdzbGlkZScsIHZhbHVlcyA9PiB7XG4gICAgY29uc3QgbWluID0gcGFyc2VJbnQodmFsdWVzWzBdKTtcbiAgICBjb25zdCBtYXggPSBwYXJzZUludCh2YWx1ZXNbMV0pO1xuXG4gICAgJHJhbmdlLmNsb3Nlc3QoJy5maWx0ZXJzX19pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXJzX19pbnB1dC1maWVsZCcpLnZhbHVlID0gYCR7bWlufSDigr0g4oCTICR7bWF4fSDigr1gO1xuICAgICRyYW5nZS5jbG9zZXN0KCcuZmlsdGVyc19fY29zdCcpLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvc3Q9XCJmcm9tXCJdJykuaW5uZXJUZXh0ID0gbWluO1xuICAgICRyYW5nZS5jbG9zZXN0KCcuZmlsdGVyc19fY29zdCcpLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvc3Q9XCJ0b1wiXScpLmlubmVyVGV4dCA9IG1heDtcbiAgfSk7XG59KTtcblxuXG4vLyBoYW5kbGUgZmlsdGVyIGNoZWNrYm94XG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19kcm9wZG93bi1jaGVja2JveCcpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0ICRpbnB1dEZpZWxkID0gZWwuY2xvc2VzdCgnLmZpbHRlcnNfX2lucHV0JykucXVlcnlTZWxlY3RvcignLmZpbHRlcnNfX2lucHV0LWZpZWxkJyk7XG5cbiAgaWYgKGVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuY2hlY2tlZCkge1xuICAgIGNvbnN0IGNoZWNrYm94VmFsdWUgPSBlbC5xdWVyeVNlbGVjdG9yKCcuY2hlY2tib3hfX3RleHQnKS5pbm5lclRleHQ7XG4gIFxuICAgICRpbnB1dEZpZWxkLnZhbHVlID0gY2hlY2tib3hWYWx1ZTtcbiAgICAkaW5wdXRGaWVsZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnLCBjaGVja2JveFZhbHVlKTtcbiAgICAkaW5wdXRGaWVsZC5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJ3JlYWRvbmx5Jyk7XG4gIH0gZWxzZSB7XG4gICAgJGlucHV0RmllbGQudmFsdWUgPSAnJztcbiAgICAkaW5wdXRGaWVsZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnLCAnJyk7XG4gICAgJGlucHV0RmllbGQucmVtb3ZlQXR0cmlidXRlKCdyZWFkb25seScpO1xuICB9XG59KSk7XG4gIC8vIHNob3cgaGlkZG5lIHN1YmplY3QgaW4gdHV0b3JjYXJkXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGFyZ2V0ID0gZS50YXJnZXQ7XG5cbiAgaWYgKCR0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy10dXRvcmNhcmQtbW9yZScpKSB7XG4gICAgJHRhcmdldC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIFxuICAgIEFycmF5LmZyb20oJHRhcmdldC5jbG9zZXN0KCcudHV0b3JjYXJkX19zdWJqZWN0cycpLnF1ZXJ5U2VsZWN0b3JBbGwoJy50dXRvcmNhcmRfX3N1YmplY3RzLWl0ZW0tLWhpZGRlbicpKS5tYXAoZWwgPT4ge1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgndHV0b3JjYXJkX19zdWJqZWN0cy1pdGVtLS1oaWRkZW4nKTtcbiAgICB9KTtcbiAgfVxufSk7XG4gIFxuICBjb25zdCAkYmFubmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhbm5lcicpO1xuXG4vLyBiYW5uZXIgaGFuZGxpbmdcbmlmICghSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGV0bWV0dXRvcjpiYW5uZXJJc0hpZGRlbicpKSkge1xuICAkYmFubmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYW5uZXJfX2Nsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgJGJhbm5lci5jbGFzc0xpc3QuYWRkKCdiYW5uZXItLWhpZGUnKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRiYW5uZXIucmVtb3ZlKCk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGV0bWV0dXRvcjpiYW5uZXJJc0hpZGRlbicsIHRydWUpO1xuICAgIH0sIDUwMClcbiAgfSk7XG59IGVsc2Uge1xuICAkYmFubmVyLnJlbW92ZSgpO1xufVxuICBjb25zdCAkY29va2llcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb29raWVzJyk7XG5cbi8vIGNvb2tpZXMgaGFuZGxpbmdcbmlmICghSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGV0bWV0dXRvcjpjb29raWVzSXNIaWRkZW4nKSkpIHtcbiAgJGNvb2tpZXMuY2xhc3NMaXN0LmFkZCgnY29va2llcy0tc2hvd24nKTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29va2llc19fYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgJGNvb2tpZXMuY2xhc3NMaXN0LnJlbW92ZSgnY29va2llcy0tc2hvd24nKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRjb29raWVzLnJlbW92ZSgpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xldG1ldHV0b3I6Y29va2llc0lzSGlkZGVuJywgdHJ1ZSk7XG4gICAgfSwgNTAwKVxuICB9KTtcbn0gZWxzZSB7XG4gICRjb29raWVzLnJlbW92ZSgpO1xufVxuICBsZXQgb2Zmc2V0ID0gMDtcbmNvbnN0IGhpZGVPdmVyZmxvdyA9ICgpID0+IHtcbiAgb2Zmc2V0ID0gLXBhcnNlSW50KGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luVG9wKTtcbiAgZG9jdW1lbnQuYm9keS5zdHlsZS5jc3NUZXh0ID0gYHBvc2l0aW9uOiBmaXhlZDsgbWFyZ2luLXRvcDogJHstd2luZG93LnNjcm9sbFl9cHhgO1xufTtcbmNvbnN0IHNob3dPdmVyZmxvdyA9IG9mZnNldCA9PiB7XG4gIGRvY3VtZW50LmJvZHkuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjogc3RhdGljOyBtYXJnaW4tdG9wOiAwJztcbiAgd2luZG93LnNjcm9sbFRvKDAsIG9mZnNldCk7XG59O1xuY29uc3QgaGlkZUhlYWRlck1lbnUgPSAoKSA9PiB7XG4gIHNob3dPdmVyZmxvdygpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW1lbnUnKS5jbGFzc0xpc3QucmVtb3ZlKCdoZWFkZXItbWVudS0tc2hvd24nKTtcbn07XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2J1cmdlcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBoaWRlT3ZlcmZsb3coKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1tZW51JykuY2xhc3NMaXN0LmFkZCgnaGVhZGVyLW1lbnUtLXNob3duJyk7XG59KTtcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1tZW51X19iYWNrZHJvcCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZUhlYWRlck1lbnUpO1xuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1tZW51X19jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZUhlYWRlck1lbnUpO1xuXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oZWFkZXJfX25vdGlmaWNhdGlvbnMtd3JhcHBlcicpKS5tYXAoZWwgPT4ge1xuICBpZiAoIWVsLmNsYXNzTGlzdC5jb250YWlucygnZmFrZVNjcm9sbCcpKSB7XG4gICAgZWwuZmFrZVNjcm9sbCgpO1xuICB9XG59KTtcbiAgY29uc3QgcG9wdWxhclNsaWRlciA9IG5ldyBTd2lwZXIoJy5wb3B1bGFyX19ncmlkLS1tb2JpbGUnLCB7XG4gIGxvb3A6IHRydWUsXG4gIGxvb3BBZGRpdGlvbmFsU2xpZGVzOiAzLFxuICBzcGFjZUJldHdlZW46IDIwLFxuICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gIGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxuICBicmVha3BvaW50czoge1xuICAgIDc2MDoge1xuICAgICAgc2xpZGVzUGVyVmlldzogMixcbiAgICAgIGNlbnRlcmVkU2xpZGVzOiBmYWxzZVxuICAgIH1cbiAgfVxufSk7XG4gIGNvbnN0IHJldmlld3NTbGlkZXIgPSBuZXcgU3dpcGVyKCcucmV2aWV3c19fc2xpZGVyJywge1xuICBsb29wOiB0cnVlLFxuICBzcGFjZUJldHdlZW46IDIwLFxuICBzbGlkZXNQZXJWaWV3OiAzLFxuICBzbGlkZXNQZXJHcm91cDogMyxcbiAgbG9vcEFkZGl0aW9uYWxTbGlkZXM6IDMsXG4gIHBhZ2luYXRpb246IHtcbiAgICBlbDogJy5zd2lwZXItcGFnaW5hdGlvbicsXG4gICAgY2xpY2thYmxlOiB0cnVlXG4gIH1cbn0pO1xuXG5jb25zdCByZXZpZXdTbGlkZXJNb2JpbGUgPSBuZXcgU3dpcGVyKCcucmV2aWV3c19fc2xpZGVyLS1tb2JpbGUnLCB7XG4gIGxvb3A6IHRydWUsXG4gIHNwYWNlQmV0d2VlbjogMjAsXG4gIGxvb3BBZGRpdGlvbmFsU2xpZGVzOiAzLFxuICBwYWdpbmF0aW9uOiB7XG4gICAgZWw6ICcuc3dpcGVyLXBhZ2luYXRpb24nLFxuICAgIGNsaWNrYWJsZTogdHJ1ZVxuICB9XG59KTtcbiAgLy8gYXV0aCBmb3JtIHZhbGlkYXRpb25cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtbG9naW4tZm9ybV0nKSkge1xuICAkYXBpLnZhbGlkYXRlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1sb2dpbi1mb3JtXScpLCAoKSA9PiB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLWxvZ2luLWZvcm1dJykuc3VibWl0KCk7XG4gIH0pO1xufVxuXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXNpZ251cC1zdHVkZW50LWZvcm1dJykpIHtcbiAgJGFwaS52YWxpZGF0ZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtc2lnbnVwLXN0dWRlbnQtZm9ybV0nKSwgKCkgPT4ge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1zaWdudXAtc3R1ZGVudC1mb3JtXScpLnN1Ym1pdCgpO1xuICB9KTtcbn1cblxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1zaWdudXAtdHV0b3ItZm9ybV0nKSkge1xuICAkYXBpLnZhbGlkYXRlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1zaWdudXAtdHV0b3ItZm9ybV0nKSwgKCkgPT4ge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1zaWdudXAtdHV0b3ItZm9ybV0nKS5zdWJtaXQoKTtcbiAgfSk7XG59XG5cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtc3VwcG9ydC1mb3JtXScpKSB7XG4gICRhcGkudmFsaWRhdGUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXN1cHBvcnQtZm9ybV0nKSwgKCkgPT4ge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1zdXBwb3J0LWZvcm1dJykuc3VibWl0KCk7XG4gIH0pO1xufVxuXG4vLyBzZXQgY291bnRyeSB2YWx1ZSB0byBjaXRpZXMgaW5wdXRcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWF1dGgtY291bnRyeScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlQ291bnRyeScsIGUgPT4ge1xuICBlbC5jbG9zZXN0KCdmb3JtJykucXVlcnlTZWxlY3RvcignLmpzLWF1dGgtY2l0eScpLmRhdGFzZXQuY291bnRyeSA9IGUudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykudmFsdWU7XG59KSk7XG5cbi8vIGhhbmRsaW5nIGNpdGllcyBpbnB1dFxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1hdXRoLWNpdHkgaW5wdXQnKS5sZW5ndGgpIHtcbiAgZmV0Y2goJ2RhdGEvbG9jYXRpb24uanNvbicpLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpLnRoZW4oZGF0YSA9PiB7XG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtYXV0aC1jaXR5IGlucHV0JykpLm1hcChlbCA9PiB7XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGUgPT4ge1xuICAgICAgICBjb25zdCAkdGhpcyA9IGUuY3VycmVudFRhcmdldDtcbiAgICAgICAgY29uc3QgJGxhYmVsRWxlbWVudCA9ICR0aGlzLmNsb3Nlc3QoJy5pbnB1dCcpO1xuICAgICAgICBjb25zdCBjb3VudHJ5ID0gJGxhYmVsRWxlbWVudC5kYXRhc2V0LmNvdW50cnk7XG5cbiAgICAgICAgaWYgKGNvdW50cnkpIHtcbiAgICAgICAgICBjb25zdCBjaXRpZXMgPSBkYXRhLmZpbHRlcihlbCA9PiBlbC5rZXkgPT09IGNvdW50cnkpWzBdLmNpdGllcztcbiAgICAgICAgICBjb25zdCBsb3dlckNhc2VWYWx1ZSA9ICR0aGlzLnZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgY29uc3QgJGRyb3Bkb3duRWxlbWVudCA9ICR0aGlzLmNsb3Nlc3QoJy5pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bl9fbWVudScpO1xuICAgICAgICAgIGNvbnN0ICRkcm9wZG93bkNvbnRlbnQgPSAkZHJvcGRvd25FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYWtlU2Nyb2xsX19jb250ZW50Jyk7XG4gICAgICAgICAgbGV0IG1hdGNoZXNGb3VuZCA9IGZhbHNlO1xuXG4gICAgICAgICAgaWYgKCRkcm9wZG93bkNvbnRlbnQpIHtcbiAgICAgICAgICAgICRkcm9wZG93bkNvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCR0aGlzLnZhbHVlICE9PSAnJykge1xuICAgICAgICAgICAgY2l0aWVzLm1hcChlbCA9PiB7XG4gICAgICAgICAgICAgIGlmIChlbC50b0xvd2VyQ2FzZSgpLmluZGV4T2YobG93ZXJDYXNlVmFsdWUpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkZHJvcGRvd25Db250ZW50Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYDxhIGNsYXNzPVwiaW5wdXRfX2Ryb3Bkb3duLWl0ZW0gZHJvcGRvd25fX21lbnUtaXRlbSR7bG93ZXJDYXNlVmFsdWUgPyAnIGlucHV0X19kcm9wZG93bi1pdGVtLS1zbWFydCcgOiAnJ31cIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCI+PHNwYW4+JHtlbC5zdWJzdHIoMCwgbG93ZXJDYXNlVmFsdWUubGVuZ3RoKX08L3NwYW4+JHtlbC5zdWJzdHIobG93ZXJDYXNlVmFsdWUubGVuZ3RoKX08L2E+YClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChtYXRjaGVzRm91bmQpIHtcbiAgICAgICAgICAgICAgQXJyYXkuZnJvbSgkbGFiZWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dF9fZHJvcGRvd24taXRlbScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgJHRoaXMudmFsdWUgPSBlbC5pbm5lclRleHQ7XG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoISRkcm9wZG93bkVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmYWtlU2Nyb2xsJykpIHtcbiAgICAgICAgICAgICRkcm9wZG93bkVsZW1lbnQuZmFrZVNjcm9sbCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xuICAgICAgICBjb25zdCAkZHJvcGRvd25FbGVtZW50ID0gZWwuY2xvc2VzdCgnLmlucHV0JykucXVlcnlTZWxlY3RvcignLmZha2VTY3JvbGxfX2NvbnRlbnQnKTtcblxuICAgICAgICBpZiAoJGRyb3Bkb3duRWxlbWVudCkge1xuICAgICAgICAgICRkcm9wZG93bkVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn1cblxuLy8gaGFuZGxpbmcgcmVxdWlyZWQgYWdyZWVtZW50IGNoZWNrYm94XG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W25hbWU9XCJydWxlc0FncmVlbWVudFwiXScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICBjb25zdCAkc3VibWl0QnV0dG9uID0gZWwuY2xvc2VzdCgnZm9ybScpLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJyk7XG5cbiAgaWYgKGVsLmNoZWNrZWQpIHtcbiAgICAkc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tZGlzYWJsZWQnKTtcbiAgICAkc3VibWl0QnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgfSBlbHNlIHtcbiAgICAkc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbi0tZGlzYWJsZWQnKTtcbiAgICAkc3VibWl0QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgfVxufSkpO1xuXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hdXRoX190b2dnbGUgLnRhYnNfX2l0ZW0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXV0aF9fdHlwZScpLnZhbHVlID0gZWwuZGF0YXNldC50YWIgLSAxO1xufSkpO1xuICBjb25zdCAkY2F0YWxvZ01vcmVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtY2F0YWxvZy1tb3JlJyk7XG5cbmlmICgkY2F0YWxvZ01vcmVCdG4pIHtcbiAgY29uc3QgJHByZXZBcnJvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uX19hcnJvdy0tcHJldicpO1xuICBjb25zdCAkbmV4dEFycm93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2luYXRpb25fX2Fycm93LS1uZXh0Jyk7XG5cbiAgLy8gY2F0YWxvZyBwYWdlcyBzdGF0ZVxuICBjb25zdCBjYXRhbG9nUGFnZXMgPSB7XG4gICAgY3VycmVudDogWzFdLFxuICAgIHRvdGFsOiAxMFxuICB9O1xuXG4gIC8vIHNldCBwYWdpbmF0aW9uIGN1cnJlbnQgcGFnZVxuICBjb25zdCBzZXRDdXJyZW50UGFnZSA9IGN1cnJlbnRQYWdlID0+IHtcbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYWdpbmF0aW9uX19wYWdlLS1jdXJyZW50JykpLm1hcChlbCA9PiBlbC5jbGFzc0xpc3QucmVtb3ZlKCdwYWdpbmF0aW9uX19wYWdlLS1jdXJyZW50JykpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wYWdpbmF0aW9uX19wYWdlW2RhdGEtcGFnZT1cIiR7Y3VycmVudFBhZ2V9XCJdYCkuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fcGFnZS0tY3VycmVudCcpO1xuICB9O1xuXG4gIC8vIHNldCBwYWdpbmF0aW9uIGJyZWFrXG4gIGNvbnN0IHNldEJyZWFrID0gbGF0ZXN0UGFnZSA9PiB7XG4gICAgY29uc3QgJHNlcGFyYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uX19zZXBhcmF0b3InKTtcbiAgICBjb25zdCAkYmVmb3JlU2VwYXJhdG9ySXRlbSA9ICRzZXBhcmF0b3IucHJldmlvdXNTaWJsaW5nO1xuICAgIGNvbnN0ICRmaXJzdEl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnaW5hdGlvbl9fcGFnZScpO1xuXG4gICAgaWYgKCskYmVmb3JlU2VwYXJhdG9ySXRlbS5kYXRhc2V0LnBhZ2UgPT09IGxhdGVzdFBhZ2UpIHtcbiAgICAgIGlmIChsYXRlc3RQYWdlID09PSBjYXRhbG9nUGFnZXMudG90YWwgLSAyKSB7XG4gICAgICAgICRmaXJzdEl0ZW0ucmVtb3ZlKCk7XG4gICAgICAgICRzZXBhcmF0b3IuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fc2VwYXJhdG9yLS1oaWRkZW4nKTtcbiAgICAgICAgJHNlcGFyYXRvci5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWJlZ2luJywgYDxhIGNsYXNzPVwicGFnaW5hdGlvbl9fcGFnZVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiBkYXRhLXBhZ2U9XCIke2xhdGVzdFBhZ2UgKyAxfVwiPiR7bGF0ZXN0UGFnZSArIDF9PC9hPmApO1xuICAgICAgfSBlbHNlIGlmIChsYXRlc3RQYWdlIDwgY2F0YWxvZ1BhZ2VzLnRvdGFsIC0gMikge1xuICAgICAgICAkZmlyc3RJdGVtLnJlbW92ZSgpO1xuICAgICAgICAkc2VwYXJhdG9yLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlYmVnaW4nLCBgPGEgY2xhc3M9XCJwYWdpbmF0aW9uX19wYWdlXCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIGRhdGEtcGFnZT1cIiR7bGF0ZXN0UGFnZSArIDF9XCI+JHtsYXRlc3RQYWdlICsgMX08L2E+YCk7XG4gICAgICAgICRzZXBhcmF0b3IuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fc2VwYXJhdG9yLS1oaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCskZmlyc3RJdGVtLmRhdGFzZXQucGFnZSA9PT0gbGF0ZXN0UGFnZSAmJiBsYXRlc3RQYWdlICE9PSAxKSB7XG4gICAgICAkYmVmb3JlU2VwYXJhdG9ySXRlbS5yZW1vdmUoKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uX19wYWdlcycpLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGA8YSBjbGFzcz1cInBhZ2luYXRpb25fX3BhZ2VcIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgZGF0YS1wYWdlPVwiJHtsYXRlc3RQYWdlIC0gMX1cIj4ke2xhdGVzdFBhZ2UgLSAxfTwvYT5gKTtcbiAgICAgICRzZXBhcmF0b3IuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fc2VwYXJhdG9yLS1oaWRkZW4nKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gZm9ybWluZyBxdWVyeSB1cmwgd2l0aCBmaWx0ZXJzIHZhbHVlcyBmcm9tIHVybCBwYXJhbWVydHJlc1xuICBjb25zdCBmb3JtYXRVUkwgPSB1cmwgPT4ge1xuICAgIGxldCBmb3JtYXR0ZWRVUkwgPSB1cmw7XG4gICAgY29uc3QgZmlsdGVyc05hbWVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsdGVyc19faW5wdXQtZmllbGQnKSkubWFwKGVsID0+IGVsLm5hbWUpO1xuICAgIFxuICAgIG5ldyBVUkwobG9jYXRpb24uaHJlZikuc2VhcmNoUGFyYW1zLnRvU3RyaW5nKCkuc3BsaXQoXCImXCIpLm1hcChlbCA9PiB7XG4gICAgICBjb25zdCBbIGtleSBdID0gZWwuc3BsaXQoJz0nKTtcbiAgICAgIGlmIChmaWx0ZXJzTmFtZXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICBmb3JtYXR0ZWRVUkwgKz0gJyYnICsgZWw7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBmb3JtYXR0ZWRVUkwgKz0gYCZsaW1pdD0ke2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1jYXRhbG9nLWxpbWl0IC5kcm9wZG93bl9fdmFsdWUnKS5pbm5lclRleHR9YDtcblxuICAgIHJldHVybiBmb3JtYXR0ZWRVUkw7XG4gIH07XG5cbiAgLy8gZ2VuZXJhdGUgY2F0YWxvZyBpdGVtIGVsZW1lbnRcbiAgY29uc3QgY2F0YWxvZ0l0ZW1FbGVtZW50ID0gKHsgdG9wLCBpbWFnZSwgdmVyaWZpZWQsIG5hbWUsIGNvdW50cnksIHN1YmplY3RzLCBsb2NhdGlvbiwgZGVzY3JpcHRpb24sIGxpbmssIHJhdGluZywgcmV2aWV3cywgcHJpY2UgfSkgPT4gYFxuICAgIDxkaXYgY2xhc3M9XCJ0dXRvcmNhcmQke3RvcCA/ICcgdHV0b3JjYXJkLS10b3AnIDogJyd9XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkX19pbWFnZVwiIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTogdXJsKCdpbWcvaW5odG1sLyR7aW1hZ2V9JylcIj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ0dXRvcmNhcmRfX2luZm9cIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8cCBjbGFzcz1cInR1dG9yY2FyZF9fbmFtZSR7dmVyaWZpZWQgPyAnIHR1dG9yY2FyZF9fbmFtZS0tdmVyaWZpZWQnIDogJyd9XCI+JHtuYW1lfTwvcD5cbiAgICAgICAgICA8cCBjbGFzcz1cInR1dG9yY2FyZF9fbG9jYXRpb25cIiBkYXRhLWxvYz0ke2NvdW50cnl9PiR7bG9jYXRpb259PC9wPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0dXRvcmNhcmRfX3N1YmplY3RzXCI+XG4gICAgICAgICAgICAke3N1YmplY3RzLm1hcChlbCA9PiBgXG4gICAgICAgICAgICAgIDxhIGNsYXNzPVwidHV0b3JjYXJkX19zdWJqZWN0cy1pdGVtJHtlbC5zZWFyY2ggPyAnIHR1dG9yY2FyZF9fc3ViamVjdHMtaXRlbS0tc2VhcmNoJyA6ICcnfSR7ZWwuaGlkZGVuID8gJyB0dXRvcmNhcmRfX3N1YmplY3RzLWl0ZW0tLWhpZGRlbicgOiAnJ31cIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCI+JHtlbC5uYW1lfSA8c3Bhbj4o0L7Qv9GL0YIgPGI+JHtlbC5leHBlcmllbmNlfTwvYj4pPC9zcGFuPjwvYT5cbiAgICAgICAgICAgIGApLmpvaW4oJycpfVxuICAgICAgICAgICAgPGEgY2xhc3M9XCJ0dXRvcmNhcmRfX3N1YmplY3RzLW1vcmUganMtdHV0b3JjYXJkLW1vcmVcIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCI+KzIg0L/RgNC10LTQvNC10YLQsDwvYT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8cCBjbGFzcz1cInR1dG9yY2FyZF9fZGVzY1wiPiR7ZGVzY3JpcHRpb259PC9wPlxuICAgICAgICA8L2Rpdj48YSBjbGFzcz1cInR1dG9yY2FyZF9fbW9yZVwiIGhyZWY9JHtsaW5rfT7Qn9C+0LTRgNC+0LHQvdC10LU8L2E+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ0dXRvcmNhcmRfX2FjdGlvbnNcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInR1dG9yY2FyZF9fYWN0aW9ucy1pbmZvXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInR1dG9yY2FyZF9fcmF0aW5nJHtwYXJzZUludChyZXZpZXdzKSA9PT0gMCA/ICcgdHV0b3JjYXJkX19yYXRpbmctLWVtcHR5JyA6ICcnfVwiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0dXRvcmNhcmRfX3JhdGluZy1yYXRlXCI+JHtyYXRpbmd9PC9wPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0dXRvcmNhcmRfX3JhdGluZy1yZXZpZXdzXCI+KCR7cmV2aWV3c30pPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0dXRvcmNhcmRfX2Nvc3RcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19jb3N0LXZhbHVlXCI+JHtwcmljZX0g4oK9PC9wPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0dXRvcmNhcmRfX2Nvc3QtZGVzY1wiPtCyINGH0LDRgTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJidXR0b24ganMtb3Blbi1wb3B1cCR7dG9wID8gJyBidXR0b24tLXByaW1hcnknIDogJyBidXR0b24tLXNlY29uZGFyeSd9IHR1dG9yY2FyZF9fYnRuXCIgZGF0YS1wb3B1cD1cInJlcXVlc3QtYXV0aFwiPtCe0YHRgtCw0LLQuNGC0Ywg0LfQsNGP0LLQutGDPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYDtcblxuICAvLyBsb2FkIG1vcmUgY2F0YWxvZyBpdGVtc1xuICAkY2F0YWxvZ01vcmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgbGF0ZXN0UGFnZSA9IGNhdGFsb2dQYWdlcy5jdXJyZW50W2NhdGFsb2dQYWdlcy5jdXJyZW50Lmxlbmd0aCAtIDFdICsgMTtcbiAgICBjb25zdCBxdWVyeVVybCA9IGZvcm1hdFVSTChgZGF0YS9jYXRhbG9nLmpzb24/cGFnZT0ke2xhdGVzdFBhZ2V9YCk7XG5cbiAgICAvLyBzZXQgY3VycmVudCBwYWdlc1xuICAgIGNhdGFsb2dQYWdlcy5jdXJyZW50LnB1c2gobGF0ZXN0UGFnZSk7XG5cbiAgICAvLyBzZXQgY3VycmVudCBwYWdpbnRhaW9uIHBhZ2VzXG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGFnaW5hdGlvbl9fcGFnZScpKS5tYXAoZWwgPT4ge1xuICAgICAgaWYgKGNhdGFsb2dQYWdlcy5jdXJyZW50LmluY2x1ZGVzKHBhcnNlSW50KGVsLmlubmVyVGV4dCkpKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX3BhZ2UtLWN1cnJlbnQnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZldGNoKHF1ZXJ5VXJsKS50aGVuKHJlcyA9PiByZXMuanNvbigpKS50aGVuKGRhdGEgPT4ge1xuICAgICAgZGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nX19pdGVtcycpLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgY2F0YWxvZ0l0ZW1FbGVtZW50KGl0ZW0pKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAobGF0ZXN0UGFnZSA9PT0gY2F0YWxvZ1BhZ2VzLnRvdGFsKSB7XG4gICAgICAgICRjYXRhbG9nTW9yZUJ0bi5jbGFzc0xpc3QuYWRkKCdjYXRhbG9nX19ib3R0b20tYnRuLS1oaWRkZW4nKTtcbiAgICAgICAgJG5leHRBcnJvdy5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gZ28gdG8gcHJldmlvdXMgcGFnZVxuICAkcHJldkFycm93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3QgY3VycmVudFBhZ2UgPSBjYXRhbG9nUGFnZXMuY3VycmVudFswXSAtIDE7XG4gICAgY29uc3QgcXVlcnlVcmwgPSBmb3JtYXRVUkwoYGRhdGEvY2F0YWxvZy5qc29uP3BhZ2U9JHtjdXJyZW50UGFnZX1gKTtcblxuICAgIGNhdGFsb2dQYWdlcy5jdXJyZW50ID0gW2N1cnJlbnRQYWdlXTtcblxuICAgIGZldGNoKHF1ZXJ5VXJsKS50aGVuKHJlcyA9PiByZXMuanNvbigpKS50aGVuKGRhdGEgPT4ge1xuICAgICAgbGV0ICRlbGVtZW50cyA9ICcnO1xuICBcbiAgICAgIGRhdGEubWFwKGl0ZW0gPT4ge1xuICAgICAgICAkZWxlbWVudHMgKz0gY2F0YWxvZ0l0ZW1FbGVtZW50KGl0ZW0pO1xuICAgICAgfSk7XG5cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uX19hcnJvdy0tbmV4dCcpLmNsYXNzTGlzdC5yZW1vdmUoJ3BhZ2luYXRpb25fX2Fycm93LS1kaXNhYmxlZCcpO1xuICAgICAgc2V0Q3VycmVudFBhZ2UoY3VycmVudFBhZ2UpO1xuXG4gICAgICBpZiAoY3VycmVudFBhZ2UgPT09IDEpIHtcbiAgICAgICAgJHByZXZBcnJvdy5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgIH1cblxuICAgICAgJGNhdGFsb2dNb3JlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2NhdGFsb2dfX2JvdHRvbS1idG4tLWhpZGRlbicpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGFsb2dfX2l0ZW1zJykuaW5uZXJIVE1MID0gJGVsZW1lbnRzO1xuICAgIH0pO1xuXG4gICAgc2V0QnJlYWsoY3VycmVudFBhZ2UpO1xuICB9KTtcblxuICAvLyBnbyB0byBuZXh0IHBhZ2VcbiAgJG5leHRBcnJvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gY2F0YWxvZ1BhZ2VzLmN1cnJlbnRbY2F0YWxvZ1BhZ2VzLmN1cnJlbnQubGVuZ3RoIC0gMV0gKyAxO1xuICAgIGNvbnN0IHF1ZXJ5VXJsID0gZm9ybWF0VVJMKGBkYXRhL2NhdGFsb2cuanNvbj9wYWdlPSR7Y3VycmVudFBhZ2V9YCk7XG5cbiAgICBjYXRhbG9nUGFnZXMuY3VycmVudCA9IFtjdXJyZW50UGFnZV07XG5cbiAgICBmZXRjaChxdWVyeVVybCkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihkYXRhID0+IHtcbiAgICAgIGxldCAkZWxlbWVudHMgPSAnJztcbiAgXG4gICAgICBkYXRhLm1hcChpdGVtID0+IHtcbiAgICAgICAgJGVsZW1lbnRzICs9IGNhdGFsb2dJdGVtRWxlbWVudChpdGVtKTtcbiAgICAgIH0pO1xuXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnaW5hdGlvbl9fYXJyb3ctLXByZXYnKS5jbGFzc0xpc3QucmVtb3ZlKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgIHNldEN1cnJlbnRQYWdlKGN1cnJlbnRQYWdlKTtcblxuICAgICAgaWYgKGN1cnJlbnRQYWdlID09PSBjYXRhbG9nUGFnZXMudG90YWwpIHtcbiAgICAgICAgJGNhdGFsb2dNb3JlQnRuLmNsYXNzTGlzdC5hZGQoJ2NhdGFsb2dfX2JvdHRvbS1idG4tLWhpZGRlbicpO1xuICAgICAgICAkbmV4dEFycm93LmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX2Fycm93LS1kaXNhYmxlZCcpO1xuICAgICAgfVxuXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZ19faXRlbXMnKS5pbm5lckhUTUwgPSAkZWxlbWVudHM7XG4gIFxuICAgICAgc2V0QnJlYWsoY3VycmVudFBhZ2UpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBnbyB0byBzcGVjaWZpYyBwYWdlXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSBlLnRhcmdldDtcbiAgXG4gICAgaWYgKCR0aGlzLmNsYXNzTGlzdC5jb250YWlucygncGFnaW5hdGlvbl9fcGFnZScpKSB7XG4gICAgICBjb25zdCBjdXJyZW50UGFnZSA9IHBhcnNlSW50KCR0aGlzLmRhdGFzZXQucGFnZSk7XG4gICAgICBjb25zdCBxdWVyeVVybCA9IGZvcm1hdFVSTChgZGF0YS9jYXRhbG9nLmpzb24/cGFnZT0ke2N1cnJlbnRQYWdlfWApO1xuXG4gICAgICBjYXRhbG9nUGFnZXMuY3VycmVudCA9IFtjdXJyZW50UGFnZV07XG5cbiAgICAgIGZldGNoKHF1ZXJ5VXJsKS50aGVuKHJlcyA9PiByZXMuanNvbigpKS50aGVuKGRhdGEgPT4ge1xuICAgICAgICBsZXQgJGVsZW1lbnRzID0gJyc7XG4gICAgXG4gICAgICAgIGRhdGEubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICRlbGVtZW50cyArPSBjYXRhbG9nSXRlbUVsZW1lbnQoaXRlbSk7XG4gICAgICAgIH0pO1xuICBcbiAgICAgICAgc2V0Q3VycmVudFBhZ2UoY3VycmVudFBhZ2UpO1xuICBcbiAgICAgICAgaWYgKGN1cnJlbnRQYWdlID09PSBjYXRhbG9nUGFnZXMudG90YWwpIHtcbiAgICAgICAgICAkY2F0YWxvZ01vcmVCdG4uY2xhc3NMaXN0LmFkZCgnY2F0YWxvZ19fYm90dG9tLWJ0bi0taGlkZGVuJyk7XG4gICAgICAgICAgJG5leHRBcnJvdy5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50UGFnZSA9PT0gMSkge1xuICAgICAgICAgICRwcmV2QXJyb3cuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICAgICAgJGNhdGFsb2dNb3JlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2NhdGFsb2dfX2JvdHRvbS1idG4tLWhpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRuZXh0QXJyb3cuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICAgICAgJHByZXZBcnJvdy5jbGFzc0xpc3QucmVtb3ZlKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgICAgICAkY2F0YWxvZ01vcmVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnY2F0YWxvZ19fYm90dG9tLWJ0bi0taGlkZGVuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRCcmVhayhjdXJyZW50UGFnZSk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nX19pdGVtcycpLmlubmVySFRNTCA9ICRlbGVtZW50cztcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG4gIC8vIHNjcm9sbCB0byB0dXRvciBzZWN0aW9uXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50dXRvcl9fbmF2LWxpbmsnKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCB0YXJnZXQgPSBlbC5kYXRhc2V0LnRhcmdldDtcblxuICBzY3JvbGxUbyh7XG4gICAgdG9wOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1ibG9jaz1cIiR7dGFyZ2V0fVwiXWApLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCAtIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKS5vZmZzZXRIZWlnaHQsXG4gICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gIH0pO1xufSkpO1xuXG4vLyBzZXQgcGF5bWVudCBwZXIgaG91clxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZmlsZS1oZWFkX19zdWJqZWN0cy1pdGVtJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgcGF5bWVudCA9IGVsLmRhdGFzZXQucGF5O1xuXG4gIGVsLmNsb3Nlc3QoJy5wcm9maWxlLWhlYWRfX3N1YmplY3RzJykucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtaGVhZF9fc3ViamVjdHMtaXRlbS0taGlnaGxpZ2h0JykuY2xhc3NMaXN0LnJlbW92ZSgncHJvZmlsZS1oZWFkX19zdWJqZWN0cy1pdGVtLS1oaWdobGlnaHQnKTtcbiAgZWwuY2xhc3NMaXN0LmFkZCgncHJvZmlsZS1oZWFkX19zdWJqZWN0cy1pdGVtLS1oaWdobGlnaHQnKTtcblxuICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50dXRvcl9fY29zdC12YWx1ZSBzcGFuJykpLm1hcChlbCA9PiBlbC5pbm5lclRleHQgPSBwYXltZW50KTtcbn0pKTtcbiAgY29uc3QgJHByb2ZpbGVWaWRlb0NvdmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtYWJvdXRfX3ZpZGVvLWNvdmVyJyk7XG5cbi8vIHBsYXkgdmlkZSBvbiBhYm91dCBzZWN0aW9uXG5pZiAoJHByb2ZpbGVWaWRlb0NvdmVyKSB7XG4gICRwcm9maWxlVmlkZW9Db3Zlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCAkdmlkZW8gPSAkcHJvZmlsZVZpZGVvQ292ZXIucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdpZnJhbWUnKTtcblxuICAgICRwcm9maWxlVmlkZW9Db3Zlci5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ2lmcmFtZScpLnNldEF0dHJpYnV0ZSgnc3JjJywgJHZpZGVvLmdldEF0dHJpYnV0ZSgnc3JjJykgKyAnP2F1dG9wbGF5PTEnKTtcbiAgICAkcHJvZmlsZVZpZGVvQ292ZXIuY2xhc3NMaXN0LmFkZCgncHJvZmlsZS1hYm91dF9fdmlkZW8tY292ZXItLWhpZGRlbicpO1xuICB9KTtcbn1cbiAgY29uc3QgJHJldmlld3NNb3JlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXJldmlld3MtbW9yZScpO1xuXG5pZiAoJHJldmlld3NNb3JlQnRuKSB7XG4gIC8vIHJldmlld3MgcGFnZXMgc3RhdGVcbiAgY29uc3QgcmV2aWV3c1BhZ2VzID0ge1xuICAgIGN1cnJlbnQ6IDEsXG4gICAgdG90YWw6IDNcbiAgfTtcbiAgLy8gZ2VuZXJhdGUgcmV2aWV3IGVsZW1lbnRcbiAgY29uc3QgcmV2aWV3RWxlbWVudCA9ICh7IGltYWdlLCBuYW1lLCBkYXRlLCByYXRpbmcsIGZlZWRiYWNrIH0pID0+IGBcbiAgICA8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFja1wiPlxuICAgICAgJHtpbWFnZSA/XG4gICAgICAgIGA8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay1pbWFnZVwiIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTogdXJsKCdpbWcvaW5odG1sLyR7aW1hZ2V9JylcIj48L2Rpdj5gIDpcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX2ZlZWRiYWNrLWltYWdlXCI+PC9kaXY+J1xuICAgICAgfVxuICAgICAgPGRpdiBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2staW5mb1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay1oZWFkXCI+XG4gICAgICAgICAgPHAgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX2ZlZWRiYWNrLW5hbWVcIj4ke25hbWV9PC9wPlxuICAgICAgICAgIDxwIGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay1kYXRlXCI+JHtkYXRlfTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX3JhdGluZy1zdGFyc1wiPlxuICAgICAgICAgICR7WzEsIDIsIDMsIDQsIDVdLm1hcChlID0+IGUgPD0gcmF0aW5nID9cbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19yYXRpbmctc3RhciBwcm9maWxlLXJldmlld3NfX3JhdGluZy1zdGFyLS1mdWxsXCI+PC9kaXY+JyA6XG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fcmF0aW5nLXN0YXJcIj48L2Rpdj4nXG4gICAgICAgICAgKS5qb2luKCcnKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxwIGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay10ZXh0XCI+JHtmZWVkYmFja308L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYDtcblxuICAvLyBsb2FkIG1vcmUgcmV2aWV3IG9uIGJ1dHRvbiBjbGlja1xuICAkcmV2aWV3c01vcmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAvLyBpbmNyZW1lbnQgY3VycmVudCBsb2FkZWQgcmV2aWV3cyBwYWdlXG4gICAgKytyZXZpZXdzUGFnZXMuY3VycmVudDtcbiAgICBcbiAgICAvLyBsb2FkIHJldmlldyBvciByZW1vdmVcbiAgICBmZXRjaChgZGF0YS90dXRvclJldmlld3MuanNvbj9wYWdlPSR7cmV2aWV3c1BhZ2VzLmN1cnJlbnR9YCkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihkYXRhID0+IHtcbiAgICAgIGRhdGEubWFwKHJldmlldyA9PiB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXJldmlld3NfX2ZlZWRiYWNrcycpLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgcmV2aWV3RWxlbWVudChyZXZpZXcpKTtcblxuICAgICAgICBpZiAocmV2aWV3c1BhZ2VzLmN1cnJlbnQgPT09IHJldmlld3NQYWdlcy50b3RhbCkge1xuICAgICAgICAgICRyZXZpZXdzTW9yZUJ0bi5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufVxuICAvLyBpbml0IGZha2VTY3JvbGwgb24gdGltZXpvbmUgZHJvcGRvd25cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZScpKSB7XG4gIGNvbnN0ICR0aW1lem9uZURyb3Bkb3duID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX3RpbWV6b25lLW1lbnUnKTtcblxuICBpZiAoISR0aW1lem9uZURyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucygnZmFrZVNjcm9sbCcpKSB7XG4gICAgJHRpbWV6b25lRHJvcGRvd24uZmFrZVNjcm9sbCgpO1xuICB9XG59XG5cbmNvbnN0IHNldERhdGVUaW1lID0gKCkgPT4ge1xuICBjb25zdCAkY3VycmVudFVuaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fdW5pdC0tY3VycmVudCcpO1xuICBjb25zdCAkcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cInJlcXVlc3Qtc3BlY2lmaWNcIl0nKTtcblxuICBpZiAoJGN1cnJlbnRVbml0KSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBkYXRlID0gJGN1cnJlbnRVbml0LmRhdGFzZXQuZGF0ZTtcbiAgICAgIGNvbnN0IHRpbWUgPSAkY3VycmVudFVuaXQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX3RpbWUtdmFsdWUnKS5pbm5lclRleHQ7XG4gIFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX3BpY2snKS5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLXNjaGVkdWxlX19waWNrLS1hY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19waWNrLWRhdGUnKS5pbm5lclRleHQgPSBkYXRlO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX3BpY2stdGltZScpLmlubmVyVGV4dCA9IHRpbWU7XG5cbiAgICAgIGlmICgkcG9wdXApIHtcbiAgICAgICAgJHBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faGVhZGluZy1kYXRlJykuaW5uZXJUZXh0ID0gZGF0ZTtcbiAgICAgICAgJHBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faGVhZGluZy10aW1lJykuaW5uZXJUZXh0ID0gdGltZTtcbiAgICAgICAgJHBvcHVwLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJ0aW1lXCJdJykudmFsdWUgPSB0aW1lO1xuICAgICAgfVxuICAgIH0sIDApO1xuICB9XG59XG5cbi8vIGhhbmRsZSBzY2hlZHVsZSBzbGlkZXJcbmNvbnN0ICRwcmV2QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX2NvbnRyb2xzLWJ1dHRvbi0tcHJldicpO1xuY29uc3QgJG5leHRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1uZXh0Jyk7XG5cbmlmICgkcHJldkJ1dHRvbikge1xuICAkcHJldkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCAkYWN0aXZlU2xpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fc2xpZGUtLWFjdGl2ZScpO1xuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9ICskYWN0aXZlU2xpZGUuZGF0YXNldC5zbGlkZTtcbiAgICBjb25zdCAkcHJldlNsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnByb2ZpbGUtc2NoZWR1bGVfX3NsaWRlW2RhdGEtc2xpZGU9XCIke2N1cnJlbnRJbmRleCAtIDF9XCJdYCk7XG4gIFxuICAgIGlmICgkcHJldlNsaWRlKSB7XG4gICAgICAkYWN0aXZlU2xpZGUuY2xhc3NMaXN0LnJlbW92ZSgncHJvZmlsZS1zY2hlZHVsZV9fc2xpZGUtLWFjdGl2ZScpO1xuICAgICAgJHByZXZTbGlkZS5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLXNjaGVkdWxlX19zbGlkZS0tYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1uZXh0JykuY2xhc3NMaXN0LnJlbW92ZSgncHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1kaXNhYmxlZCcpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX2NvbnRyb2xzLWRhdGVzJykuaW5uZXJUZXh0ID0gJHByZXZTbGlkZS5kYXRhc2V0LmRhdGVzO1xuICBcbiAgICAgIGlmICgkcHJldlNsaWRlLmRhdGFzZXQuZmlyc3QpIHtcbiAgICAgICAgJHByZXZCdXR0b24uY2xhc3NMaXN0LmFkZCgncHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1kaXNhYmxlZCcpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbmlmICgkbmV4dEJ1dHRvbikge1xuICAkbmV4dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCAkYWN0aXZlU2xpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fc2xpZGUtLWFjdGl2ZScpO1xuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9ICskYWN0aXZlU2xpZGUuZGF0YXNldC5zbGlkZTtcbiAgICBjb25zdCAkbmV4dFNsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnByb2ZpbGUtc2NoZWR1bGVfX3NsaWRlW2RhdGEtc2xpZGU9XCIke2N1cnJlbnRJbmRleCArIDF9XCJdYCk7XG4gIFxuICAgIGlmICgkbmV4dFNsaWRlKSB7XG4gICAgICAkYWN0aXZlU2xpZGUuY2xhc3NMaXN0LnJlbW92ZSgncHJvZmlsZS1zY2hlZHVsZV9fc2xpZGUtLWFjdGl2ZScpO1xuICAgICAgJG5leHRTbGlkZS5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLXNjaGVkdWxlX19zbGlkZS0tYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1wcmV2JykuY2xhc3NMaXN0LnJlbW92ZSgncHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1kaXNhYmxlZCcpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX2NvbnRyb2xzLWRhdGVzJykuaW5uZXJUZXh0ID0gJG5leHRTbGlkZS5kYXRhc2V0LmRhdGVzO1xuICBcbiAgICAgIGlmICgkbmV4dFNsaWRlLmRhdGFzZXQubGFzdCkge1xuICAgICAgICAkbmV4dEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLWRpc2FibGVkJyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuLy8gaGFuZGxlIHNlbGVjdCBkYXRldGltZSB1bml0XG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9maWxlLXNjaGVkdWxlX191bml0JykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoJy5wcm9maWxlLXNjaGVkdWxlX190aW1lJykpIHtcbiAgICBjb25zdCAkY3VycmVudFVuaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fdW5pdC0tY3VycmVudCcpO1xuICBcbiAgICBpZiAoJGN1cnJlbnRVbml0KSB7XG4gICAgICAkY3VycmVudFVuaXQuY2xhc3NMaXN0LnJlbW92ZSgncHJvZmlsZS1zY2hlZHVsZV9fdW5pdC0tY3VycmVudCcpO1xuICAgIH1cbiAgXG4gICAgZWwuY2xhc3NMaXN0LmFkZCgncHJvZmlsZS1zY2hlZHVsZV9fdW5pdC0tY3VycmVudCcpO1xuICAgIHNldERhdGVUaW1lKCk7XG4gIH1cbn0pKTtcblxuLy8gZXhlY3V0ZSBzZXQgZGF0ZXRpbWUgb24gdGltZSBjaGFuZ2VcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2ZpbGUtc2NoZWR1bGVfX3RpbWUtbWVudSAuZHJvcGRvd25fX21lbnUtaXRlbScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZXREYXRlVGltZSkpO1xuXG59Il19
