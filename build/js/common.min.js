"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,a=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(o=r.next()).done)&&(a.push(o.value),!t||a.length!==t);c=!0);}catch(e){i=!0,n=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw n}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}window.onload=function(){var e={popup:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.onHide,o=t.onShow,n=function(){document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px")},a=function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)};return{isShown:function(){return e.classList.contains("popup--opened")},show:function(){var t=new Promise((function(t){e.style.display="block",t()}));n(),t.then((function(){e.classList.add("popup--opened"),"function"==typeof o&&o()}))},hide:function(){var t=-parseInt(document.body.style.marginTop);e.classList.remove("popup--opened"),setTimeout((function(){e.style.display="none",a(t),"function"==typeof r&&r()}),300)}}},validate:function(e,t){var r=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,o=function(e){e.closest(".input")?e.closest(".input").classList.add("input--error"):e.closest(".textarea")&&e.closest(".textarea").classList.add("textarea--error"),e.focus()};e.querySelector('button[type="submit"]').addEventListener("click",(function(n){n.preventDefault();var a=!0,c=Array.from(e.querySelectorAll("input[required], textarea[required]")),i=e.querySelectorAll(".checkboxselect");c.reverse().map((function(e){switch(e.dataset.passRepeat&&e.value!==e.closest("form").querySelector("input[data-pass]").value&&o(e),e.getAttribute("type")){case"text":case"password":""===e.value&&(o(e),a=!1);break;case"tel":(""===e.value||e.value.includes("_"))&&(o(e),a=!1);break;case"checkbox":e.checked||(e.closest(".checkbox").classList.add("checkbox--error"),a=!1);break;case"email":r.test(e.value)||(o(e),a=!1);break;default:""===e.value&&(o(e),a=!1)}})),i.length&&Array.from(i).map((function(e){var t=!1;Array.from(e.querySelectorAll(".checkbox__input")).map((function(e){e.checked&&(t=!0)})),t||(e.classList.add("checkboxselect--error"),a=!1)})),a&&(n.currentTarget.classList.add("button--loading"),t())})),Array.from(e.querySelectorAll("input")).concat(Array.from(e.querySelectorAll("textarea"))).map((function(e){return e.addEventListener("input",(function(){e.closest(".input")?e.closest(".input").classList.remove("input--error"):e.closest(".checkbox")?e.closest(".checkbox").classList.remove("checkbox--error"):e.closest(".textarea")&&e.closest(".textarea").classList.remove("textarea--error")}))}))}};document.addEventListener("click",(function(t){var r=t.target;if(r.classList.contains("js-open-popup")){t.preventDefault();var o=r.dataset.popup,n=document.querySelector('.js-popup[data-popup="'.concat(o,'"]'));e.popup(n).show()}})),Array.from(document.querySelectorAll(".js-close-popup")).map((function(t){return t.addEventListener("click",(function(t){if(!t.target.closest(".popup__window")||!t.currentTarget.classList.contains("js-popup")){var r=t.currentTarget.closest(".popup");e.popup(r).hide()}}))})),[{$element:document.querySelector("form[data-restore-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-request-auth-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-offer-form]"),callback:function(t){var r=document.querySelector('.js-popup[data-popup="offer"]'),o=document.querySelector('.js-popup[data-popup="offer-success"]');setTimeout((function(){e.popup(r,{onHide:function(){Array.from(r.querySelectorAll("input")).map((function(e){return e.value=""})),e.popup(o).show(),t.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}},{$element:document.querySelector("form[data-request-form]"),callback:function(t){var r=document.querySelector('.js-popup[data-popup="request"]'),o=document.querySelector('.js-popup[data-popup="request-success"]');setTimeout((function(){e.popup(r,{onHide:function(){Array.from(r.querySelectorAll("input")).map((function(e){return e.value=""})),e.popup(o).show(),t.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}},{$element:document.querySelector("form[data-request-specific-form]"),callback:function(t){var r=document.querySelector('.js-popup[data-popup="request-specific"]'),o=document.querySelector('.js-popup[data-popup="request-success"]');setTimeout((function(){e.popup(r,{onHide:function(){Array.from(r.querySelectorAll("input")).map((function(e){return e.value=""})),e.popup(o).show(),t.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}}].map((function(t){var r=t.$element,o=t.callback;r&&e.validate(r,(function(){return o(r)}))}));var t=Array.from(document.querySelectorAll(".dropdown"));document.addEventListener("click",(function(e){var r=e.target;t.map((function(e){e.closest(".dropdown")!==r.closest(".dropdown")&&e.classList.remove("dropdown--active")}))})),t.map((function(e){return e.addEventListener("click",(function(r){e.classList.contains("input__code")&&r.preventDefault(),e.classList.contains("dropdown--active")||(t.map((function(e){return e!=e&&e.classList.remove("dropdown--active")})),e.classList.toggle("dropdown--active"))}))})),document.addEventListener("click",(function(e){var t=e.target.closest(".dropdown__menu-item");if(t&&(document.querySelector(".dropdown--active").classList.remove("dropdown--active"),t.getAttribute("data-toggle"))){var r=e.target,o=r.innerText,n=r.closest(".dropdown__menu").querySelector(".dropdown__menu-item--hidden"),a=r.closest(".dropdown").querySelector(".dropdown__value");n&&n.classList.remove("dropdown__menu-item--hidden"),t.classList.add("dropdown__menu-item--hidden"),a.innerText=o}})),Array.from(document.querySelectorAll(".tabs__item")).map((function(e){return e.addEventListener("click",(function(t){t.preventDefault();var r=e.dataset.tab,o=e.closest("[data-tabs]").querySelector("[data-active]");e.closest(".tabs").querySelector(".tabs__item--active").classList.remove("tabs__item--active"),e.classList.add("tabs__item--active"),o&&(e.closest("[data-tabs]").querySelector("[data-active]").removeAttribute("data-active"),e.closest("[data-tabs]").querySelector('[data-content="'.concat(r,'"]')).setAttribute("data-active",!0))}))}));var r=new Event("changeCountry");Array.from(document.querySelectorAll(".input.dropdown")).concat(Array.from(document.querySelectorAll(".input .dropdown"))).map((function(e){return e.addEventListener("click",(function(){var t=e.querySelector(".dropdown__menu");e.closest(".input").querySelector(".input__dropdown").style.width=e.closest(".input").getBoundingClientRect().width+"px",t.classList.contains("fakeScroll")||t.fakeScroll()}))})),Array.from(document.querySelectorAll(".input__dropdown-item[data-code-loc]")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.codeLoc,r=e.dataset.mask,o=e.closest(".input").querySelector("input");e.closest(".input__code").dataset.codeLoc=t,e.closest(".input__code").dataset.mask=r,o.placeholder=r.replaceAll("9","_"),function(e,t){Inputmask({mask:t}).mask(e)}(o,r)}))})),Array.from(document.querySelectorAll(".input__dropdown-item[data-dropdown]")).map((function(e){return e.addEventListener("click",(function(){var t=e.innerText;e.closest(".input").querySelector("input").value=t,e.closest(".input").classList.remove("input--error"),e.closest(".input").classList.contains("js-auth-country")&&e.closest(".input").dispatchEvent(r)}))})),Array.from(document.querySelectorAll('input[type="tel"]')).map((function(e){Inputmask({mask:e.closest(".input").querySelector(".input__code").dataset.mask}).mask(e)})),Array.from(document.querySelectorAll(".checkboxselect__list")).map((function(e){e.addEventListener("click",(function(t){t.stopPropagation();var r=e.closest(".checkboxselect"),o=!1;r.classList.remove("checkboxselect--error"),Array.from(e.querySelectorAll(".checkbox__input")).map((function(t){var n=r.querySelector(".checkboxselect__input-placeholder");t.checked&&(o=!0),t.addEventListener("click",(function(){var t="";Array.from(e.querySelectorAll("input:checked")).map((function(e){t+=e.closest(".checkboxselect__item").querySelector(".checkbox__text").innerText+", "})),t?(n.innerText=t.substring(0,t.length-2),n.classList.add("checkboxselect__input-placeholder--active")):(n.innerText=n.dataset.placeholder,n.classList.remove("checkboxselect__input-placeholder--active"))}))})),o?r.classList.add("checkboxselect--checked"):r.classList.remove("checkboxselect--checked")})),e.fakeScroll()})),Array.from(document.querySelectorAll(".filters__dropdown-item")).map((function(e){return e.addEventListener("click",(function(e){var t=e.currentTarget,r=t.innerText;t.closest(".filters__input").querySelector(".filters__input-field").value=r}))})),document.querySelectorAll(".filters__input-field").length&&Array.from(document.querySelectorAll(".filters__input-field")).map((function(e){fetch("data/location.json").then((function(e){return e.json()})).then((function(t){var r=e,o=function(e){var o=r.nextElementSibling.querySelector(".filters__dropdown-inner"),n=o.querySelector(".fakeScroll__content")||o,a="location"===r.getAttribute("name"),c=a?t.map((function(e){return e.key})).concat(t.flatMap((function(e){return e.cities}))):JSON.parse(r.dataset.options),i=r.value.toLowerCase(),s=n.closest(".filters__dropdown").querySelector('input[type="checkbox"]'),l=!1;n.innerHTML="",c.map((function(t){if(e||0===t.toLowerCase().indexOf(i)){var r=a?'<a class="filters__dropdown-item dropdown__menu-item'.concat(i&&!e?" filters__dropdown-item--smart":"",'" href="javascript:void(0)"><span>').concat(t.substr(0,i.length),"</span>").concat(t.substr(i.length),"</a>"):'<a class="filters__dropdown-item dropdown__menu-item" href="javascript:void(0)">'.concat(t,"</a>");l=!0,n.insertAdjacentHTML("beforeend",r)}})),l?(o.parentNode.classList.remove("filters__dropdown--hidden"),o.parentNode.classList.remove("filters__dropdown--empty")):s?o.parentNode.classList.add("filters__dropdown--empty"):o.parentNode.classList.add("filters__dropdown--hidden"),Array.from(n.querySelectorAll(".filters__dropdown-item")).map((function(e){return e.addEventListener("click",(function(){r.value=e.innerText,r.setAttribute("data-value",e.innerText),s&&(s.checked=!1,r.removeAttribute("readonly"))}))})),e&&!o.classList.contains("fakeScroll")&&n.fakeScroll()};"cost"!==r.name&&(r.addEventListener("input",(function(){return o(!1)})),r.addEventListener("focus",(function(){return o(!0)})),r.addEventListener("blur",(function(){""!==r.value&&r.dataset.value?r.value=r.dataset.value:r.value=""})))}))})),Array.from(document.querySelectorAll(".filters__cost-range")).map((function(e){var t=+e.dataset.min,r=+e.dataset.max,o=+e.dataset.min,n=+e.dataset.max;noUiSlider.create(e,{start:[o,n],connect:!0,range:{min:t,max:r},step:100}),e.noUiSlider.on("slide",(function(t){var r=parseInt(t[0]),o=parseInt(t[1]);e.closest(".filters__input").querySelector(".filters__input-field").value="".concat(r," ₽ – ").concat(o," ₽"),e.closest(".filters__cost").querySelector('[data-cost="from"]').innerText=r,e.closest(".filters__cost").querySelector('[data-cost="to"]').innerText=o}))})),Array.from(document.querySelectorAll(".filters__dropdown-checkbox")).map((function(e){return e.addEventListener("click",(function(){var t=e.closest(".filters__input").querySelector(".filters__input-field");if(e.querySelector("input").checked){var r=e.querySelector(".checkbox__text").innerText;t.value=r,t.setAttribute("data-value",r),t.setAttribute("readonly","readonly")}else t.value="",t.setAttribute("data-value",""),t.removeAttribute("readonly")}))})),document.addEventListener("click",(function(e){var t=e.target;t.classList.contains("js-tutorcard-more")&&(t.style.display="none",Array.from(t.closest(".tutorcard__subjects").querySelectorAll(".tutorcard__subjects-item--hidden")).map((function(e){e.classList.remove("tutorcard__subjects-item--hidden")})))})),Array.from(document.querySelectorAll(".accordion__item-title")).map((function(e){return e.addEventListener("click",(function(){var t=e.closest(".accordion").querySelector(".accordion__item--active"),r=e.closest(".accordion__item");r.classList.contains("accordion__item--active")?r.classList.remove("accordion__item--active"):(t&&t.classList.remove("accordion__item--active"),r.classList.add("accordion__item--active"))}))}));var o=document.querySelector(".banner");JSON.parse(localStorage.getItem("letmetutor:bannerIsHidden"))?o.remove():(o.style.display="flex",document.querySelector(".banner__close").addEventListener("click",(function(){o.classList.add("banner--hide"),setTimeout((function(){o.remove(),localStorage.setItem("letmetutor:bannerIsHidden",!0)}),500)})));var n=document.querySelector(".cookies");JSON.parse(localStorage.getItem("letmetutor:cookiesIsHidden"))?n.remove():(n.classList.add("cookies--shown"),document.querySelector(".cookies__btn").addEventListener("click",(function(){n.classList.remove("cookies--shown"),setTimeout((function(){n.remove(),localStorage.setItem("letmetutor:cookiesIsHidden",!0)}),500)})));var a=function(){!function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)}(),document.querySelector(".header-menu").classList.remove("header-menu--shown")};document.querySelector(".header__burger").addEventListener("click",(function(){-parseInt(document.body.style.marginTop),document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px"),document.querySelector(".header-menu").classList.add("header-menu--shown")})),document.querySelector(".header-menu__backdrop").addEventListener("click",a),document.querySelector(".header-menu__close").addEventListener("click",a),Array.from(document.querySelectorAll(".header__notifications-wrapper")).map((function(e){e.classList.contains("fakeScroll")||e.fakeScroll()}));new Swiper(".popular__grid--mobile",{loop:!0,loopAdditionalSlides:3,spaceBetween:20,slidesPerView:"auto",centeredSlides:!0,breakpoints:{760:{slidesPerView:2,centeredSlides:!1}}}),new Swiper(".reviews__slider",{loop:!0,spaceBetween:20,slidesPerView:3,slidesPerGroup:3,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".reviews__slider--mobile",{loop:!0,spaceBetween:20,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}});[{$element:document.querySelector("form[data-login-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-signup-student-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-signup-tutor-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-support-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}}].map((function(t){var r=t.$element,o=t.callback;r&&e.validate(r,(function(){return o(r)}))})),Array.from(document.querySelectorAll(".js-auth-country")).map((function(e){return e.addEventListener("changeCountry",(function(t){e.closest("form").querySelector(".js-auth-city").dataset.country=t.target.querySelector("input").value}))})),document.querySelectorAll(".js-auth-city input").length&&fetch("data/location.json").then((function(e){return e.json()})).then((function(e){Array.from(document.querySelectorAll(".js-auth-city input")).map((function(t){t.addEventListener("input",(function(t){var r=t.currentTarget,o=r.closest(".input"),n=o.dataset.country;if(n){var a=e.filter((function(e){return e.key===n}))[0].cities,c=r.value.toLowerCase(),i=r.closest(".input").querySelector(".dropdown__menu"),s=i.querySelector(".fakeScroll__content"),l=!1;s&&(s.innerHTML=""),""!==r.value&&(a.map((function(e){0===e.toLowerCase().indexOf(c)&&(l=!0,s.insertAdjacentHTML("beforeend",'<a class="input__dropdown-item dropdown__menu-item'.concat(c?" input__dropdown-item--smart":"",'" href="javascript:void(0)"><span>').concat(e.substr(0,c.length),"</span>").concat(e.substr(c.length),"</a>")))})),l&&Array.from(o.querySelectorAll(".input__dropdown-item")).map((function(e){return e.addEventListener("click",(function(){r.value=e.innerText}))}))),i.classList.contains("fakeScroll")||i.fakeScroll()}})),t.addEventListener("focus",(function(){var e=t.closest(".input").querySelector(".fakeScroll__content");e&&(e.innerHTML="")}))}))})),Array.from(document.querySelectorAll('input[name="rulesAgreement"]')).map((function(e){return e.addEventListener("change",(function(){var t=e.closest("form").querySelector('button[type="submit"]');e.checked?(t.classList.remove("button--disabled"),t.removeAttribute("disabled")):(t.classList.add("button--disabled"),t.setAttribute("disabled","disabled"))}))})),Array.from(document.querySelectorAll(".auth__toggle .tabs__item")).map((function(e){return e.addEventListener("click",(function(){document.querySelector(".auth__type").value=e.dataset.tab-1}))}));var c=document.querySelector(".js-catalog-more");if(c){var i=document.querySelector(".pagination__arrow--prev"),s=document.querySelector(".pagination__arrow--next"),l=document.querySelector(".pagination__separator"),u={current:[1],total:parseInt(document.querySelector(".catalog__items").dataset.total)},d=function(e){Array.from(document.querySelectorAll(".pagination__page--current")).map((function(e){return e.classList.remove("pagination__page--current")})),document.querySelector('.pagination__page[data-page="'.concat(e,'"]')).classList.add("pagination__page--current")},p=function(e){var t=l.previousSibling,r=document.querySelector(".pagination__page");if(+t.dataset.page===e)e===u.total-2?(r.remove(),l.classList.add("pagination__separator--hidden"),l.insertAdjacentHTML("beforebegin",'<a class="pagination__page" href="javascript:void(0)" data-page="'.concat(e+1,'">').concat(e+1,"</a>"))):e<u.total-2&&(r.remove(),l.insertAdjacentHTML("beforebegin",'<a class="pagination__page" href="javascript:void(0)" data-page="'.concat(e+1,'">').concat(e+1,"</a>")),l.classList.remove("pagination__separator--hidden"));else if(+r.dataset.page===e&&1!==e)t.remove(),document.querySelector(".pagination__pages").insertAdjacentHTML("afterbegin",'<a class="pagination__page" href="javascript:void(0)" data-page="'.concat(e-1,'">').concat(e-1,"</a>")),l.classList.remove("pagination__separator--hidden");else if(e===u.total&&!l.classList.contains("pagination__separator--")){var o=document.querySelectorAll(".pagination__page");l.classList.add("pagination__separator--hidden"),Array.from(o).reverse().map((function(t,r){t.innerText=e-r,t.dataset.page=e-r}))}},m=function(e){var t=e,r=Array.from(document.querySelectorAll(".filters__input-field")).map((function(e){return e.name}));return new URL(location.href).searchParams.toString().split("&").map((function(e){var o=_slicedToArray(e.split("="),1)[0];r.includes(o)&&(t+="&"+e)})),t+="&limit=".concat(document.querySelector(".js-catalog-limit .dropdown__value").innerText)},f=function(e){var t=e.top,r=e.image,o=e.verified,n=e.name,a=e.country,c=e.subjects,i=e.location,s=e.description,l=e.link,u=e.rating,d=e.reviews,p=e.price;return'\n    <div class="tutorcard'.concat(t?" tutorcard--top":"",'">\n      <div class="tutorcard__image" style="background-image: url(\'img/inhtml/').concat(r,'\')"></div>\n      <div class="tutorcard__info">\n        <div>\n          <p class="tutorcard__name').concat(o?" tutorcard__name--verified":"",'">').concat(n,'</p>\n          <p class="tutorcard__location" data-loc=').concat(a,">").concat(i,'</p>\n          <div class="tutorcard__subjects">\n            ').concat(c.map((function(e){return'\n              <a class="tutorcard__subjects-item'.concat(e.search?" tutorcard__subjects-item--search":"").concat(e.hidden?" tutorcard__subjects-item--hidden":"",'" href="javascript:void(0)">').concat(e.name," <span>(опыт <b>").concat(e.experience,"</b>)</span></a>\n            ")})).join(""),'\n            <a class="tutorcard__subjects-more js-tutorcard-more" href="javascript:void(0)">+2 предмета</a>\n          </div>\n          <p class="tutorcard__desc">').concat(s,'</p>\n        </div><a class="tutorcard__more" href=').concat(l,'>Подробнее</a>\n      </div>\n      <div class="tutorcard__actions">\n        <div class="tutorcard__actions-info">\n          <div class="tutorcard__rating').concat(0===parseInt(d)?" tutorcard__rating--empty":"",'">\n            <p class="tutorcard__rating-rate">').concat(u,'</p>\n            <p class="tutorcard__rating-reviews">(').concat(d,')</p>\n          </div>\n          <div class="tutorcard__cost">\n            <p class="tutorcard__cost-value">').concat(p,' ₽</p>\n            <p class="tutorcard__cost-desc">в час</p>\n          </div>\n        </div>\n        <button class="button js-open-popup').concat(t?" button--primary":" button--secondary",' tutorcard__btn" data-popup="request-auth">Оставить заявку</button>\n      </div>\n    </div>\n  ')};c.addEventListener("click",(function(e){e.preventDefault(),c.classList.add("button--loading");var t=u.current[u.current.length-1]+1,r=m("data/catalog.json?page=".concat(t));u.current.push(t),Array.from(document.querySelectorAll(".pagination__page")).map((function(e){u.current.includes(parseInt(e.innerText))&&e.classList.add("pagination__page--current")})),fetch(r).then((function(e){return e.json()})).then((function(e){e.map((function(e){document.querySelector(".catalog__items").insertAdjacentHTML("beforeend",f(e))})),t===u.total&&(c.classList.add("catalog__bottom-btn--hidden"),s.classList.add("pagination__arrow--disabled")),c.classList.remove("button--loading")}))})),i.addEventListener("click",(function(e){e.preventDefault();var t=u.current[0]-1,r=m("data/catalog.json?page=".concat(t));u.current=[t],fetch(r).then((function(e){return e.json()})).then((function(e){var r="";e.map((function(e){r+=f(e)})),document.querySelector(".pagination__arrow--next").classList.remove("pagination__arrow--disabled"),d(t),1===t&&i.classList.add("pagination__arrow--disabled"),c.classList.remove("catalog__bottom-btn--hidden"),document.querySelector(".catalog__items").innerHTML=r})),l&&p(t)})),s.addEventListener("click",(function(e){e.preventDefault();var t=u.current[u.current.length-1]+1,r=m("data/catalog.json?page=".concat(t));u.current=[t],fetch(r).then((function(e){return e.json()})).then((function(e){var r="";e.map((function(e){r+=f(e)})),document.querySelector(".pagination__arrow--prev").classList.remove("pagination__arrow--disabled"),d(t),t===u.total&&(c.classList.add("catalog__bottom-btn--hidden"),s.classList.add("pagination__arrow--disabled")),document.querySelector(".catalog__items").innerHTML=r,l&&p(t)}))})),document.addEventListener("click",(function(e){var t=e.target;if(t.classList.contains("pagination__page")){var r=parseInt(t.dataset.page),o=m("data/catalog.json?page=".concat(r));u.current=[r],fetch(o).then((function(e){return e.json()})).then((function(e){var t="";e.map((function(e){t+=f(e)})),d(r),r===u.total?(i.classList.remove("pagination__arrow--disabled"),s.classList.add("pagination__arrow--disabled"),c.classList.add("catalog__bottom-btn--hidden")):1===r?(i.classList.add("pagination__arrow--disabled"),s.classList.remove("pagination__arrow--disabled"),c.classList.remove("catalog__bottom-btn--hidden")):(i.classList.remove("pagination__arrow--disabled"),s.classList.remove("pagination__arrow--disabled"),c.classList.remove("catalog__bottom-btn--hidden")),l&&p(r),document.querySelector(".catalog__items").innerHTML=t}))}}))}Array.from(document.querySelectorAll(".tutor__nav-link")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.target;scrollTo({top:document.querySelector('[data-block="'.concat(t,'"]')).getBoundingClientRect().top+window.pageYOffset-document.querySelector(".header").offsetHeight,behavior:"smooth"})}))})),Array.from(document.querySelectorAll(".profile-head__subjects-item")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.pay;e.closest(".profile-head__subjects").querySelector(".profile-head__subjects-item--highlight").classList.remove("profile-head__subjects-item--highlight"),e.classList.add("profile-head__subjects-item--highlight"),Array.from(document.querySelectorAll(".tutor__cost-value span")).map((function(e){return e.innerText=t}))}))}));var _=document.querySelector(".profile-about__video-cover");_&&_.addEventListener("click",(function(){var e=_.parentNode.querySelector("iframe");_.parentNode.querySelector("iframe").setAttribute("src",e.getAttribute("src")+"?autoplay=1"),_.classList.add("profile-about__video-cover--hidden")}));var v=document.querySelector(".js-reviews-more");if(v){var y={current:1,total:3};v.addEventListener("click",(function(e){e.preventDefault();var t=v.dataset.url;++y.current,fetch("".concat(t,"?page=").concat(y.current)).then((function(e){return e.json()})).then((function(e){e.map((function(e){var t,r,o,n,a,c,i;document.querySelector(".profile-reviews__feedbacks").insertAdjacentHTML("beforeend",(r=(t=e).image,o=t.name,n=t.date,a=t.rating,c=t.feedback,i=t.tag,'\n    <div class="profile-reviews__feedback">\n      '.concat(r?'<div class="profile-reviews__feedback-image" style="background-image: url(\'img/inhtml/'.concat(r,"')\"></div>"):'<div class="profile-reviews__feedback-image"></div>','\n      <div class="profile-reviews__feedback-info">\n        <div class="profile-reviews__feedback-head">\n          <div>\n            <p class="profile-reviews__feedback-name">').concat(o,'</p>\n            <p class="profile-reviews__feedback-date">').concat(n,"</p>\n          </div>\n          ").concat(i?'<p class="profile-reviews__feedback-tag">'+i+"</p>":"",'\n        </div>\n        <div class="profile-reviews__rating-stars">\n          ').concat([1,2,3,4,5].map((function(e){return e<=a?'<div class="profile-reviews__rating-star profile-reviews__rating-star--full"></div>':'<div class="profile-reviews__rating-star"></div>'})).join(""),'\n        </div>\n        <p class="profile-reviews__feedback-text">').concat(c,"</p>\n      </div>\n    </div>\n  "))),y.current===y.total&&v.remove()}))}))}))}if(document.querySelector(".profile-schedule")){var b=document.querySelector(".profile-schedule__timezone-menu");b.classList.contains("fakeScroll")||b.fakeScroll()}var h=function(){var e=document.querySelector(".profile-schedule__unit--current"),t=document.querySelector('.js-popup[data-popup="request-specific"]');e&&setTimeout((function(){var r=e.dataset.date,o=e.querySelector(".profile-schedule__time-value").innerText;document.querySelector(".profile-schedule__pick").classList.add("profile-schedule__pick--active"),document.querySelector(".profile-schedule__pick-date").innerText=r,document.querySelector(".profile-schedule__pick-time").innerText=o,t&&(t.querySelector(".popup__heading-date").innerText=r,t.querySelector(".popup__heading-time").innerText=o,t.querySelector('input[name="time"]').value=o)}),0)},g=document.querySelector(".profile-schedule__controls-button--prev"),S=document.querySelector(".profile-schedule__controls-button--next");g&&g.addEventListener("click",(function(){var e=document.querySelector(".profile-schedule__slide--active"),t=+e.dataset.slide,r=document.querySelector('.profile-schedule__slide[data-slide="'.concat(t-1,'"]'));r&&(e.classList.remove("profile-schedule__slide--active"),r.classList.add("profile-schedule__slide--active"),document.querySelector(".profile-schedule__controls-button--next").classList.remove("profile-schedule__controls-button--disabled"),document.querySelector(".profile-schedule__controls-dates").innerText=r.dataset.dates,r.dataset.first&&g.classList.add("profile-schedule__controls-button--disabled"))})),S&&S.addEventListener("click",(function(){var e=document.querySelector(".profile-schedule__slide--active"),t=+e.dataset.slide,r=document.querySelector('.profile-schedule__slide[data-slide="'.concat(t+1,'"]'));r&&(e.classList.remove("profile-schedule__slide--active"),r.classList.add("profile-schedule__slide--active"),document.querySelector(".profile-schedule__controls-button--prev").classList.remove("profile-schedule__controls-button--disabled"),document.querySelector(".profile-schedule__controls-dates").innerText=r.dataset.dates,r.dataset.last&&S.classList.add("profile-schedule__controls-button--disabled"))})),Array.from(document.querySelectorAll(".profile-schedule__unit")).map((function(e){return e.addEventListener("click",(function(t){if(!t.target.closest(".profile-schedule__time")){var r=document.querySelector(".profile-schedule__unit--current");r&&r.classList.remove("profile-schedule__unit--current"),e.classList.add("profile-schedule__unit--current"),h()}}))})),Array.from(document.querySelectorAll(".profile-schedule__time-menu .dropdown__menu-item")).map((function(e){return e.addEventListener("click",h)}))};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbmxvYWQiLCIkYXBpIiwiJHBvcHVwIiwiX3JlZiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsIm9uSGlkZSIsIm9uU2hvdyIsImhpZGVPdmVyZmxvdyIsImRvY3VtZW50IiwiYm9keSIsInN0eWxlIiwiY3NzVGV4dCIsImNvbmNhdCIsInNjcm9sbFkiLCJzaG93T3ZlcmZsb3ciLCJvZmZzZXQiLCJzY3JvbGxUbyIsImlzU2hvd24iLCJjb250YWlucyIsInNob3ciLCJQcm9taXNlIiwicmVzb2x2ZSIsImNsYXNzTGlzdCIsImFkZCIsImhpZGUiLCJwYXJzZUludCIsIm1hcmdpblRvcCIsImRpc3BsYXkiLCJ0aGVuIiwiZm9ybSIsInJlcXVlc3QiLCJlbWFpbFJlZ2V4cCIsInJlbW92ZSIsInNldFRpbWVvdXQiLCJpbnB1dCIsImNsb3Nlc3QiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIiRmb3JtSW5wdXRzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsInNldEludmFsaWRJbnB1dCIsIm1hcCIsImVsIiwiZGF0YXNldCIsInZhbHVlIiwiZm9jdXMiLCJzZXRJbnZhbGlkQ2hlY2tib3giLCJmb3JtSXNWYWxpZCIsImluY2x1ZGVzIiwiJGNoZWNrYm94U2VsZWN0IiwiY2hlY2tlZCIsImdldEF0dHJpYnV0ZSIsImNoZWNrYm94IiwiY3VycmVudFRhcmdldCIsIiR0aGlzIiwidGFyZ2V0IiwicG9wdXAiLCJjYWxsYmFjayIsIiRlbGVtZW50IiwiJHBvcHVwRm9ybXMiLCIkc3VjY2Vzc1BvcHVwIiwidmFsaWRhdGUiLCIkZHJvcGRvd25zIiwidG9nZ2xlIiwiJGRyb3Bkb3duTWVudUl0ZW0iLCIkaGlkZGVuSXRlbSIsIm5ld1ZhbHVlIiwidGFiIiwiJGFjdGl2ZVRhYkNvbnRlbnQiLCIkZHJvcGRvd25WYWx1ZSIsInNldEF0dHJpYnV0ZSIsIiRkcm9wZG93biIsIndpZHRoIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibG9jIiwiY29kZUxvYyIsIm1hc2siLCIkaW5wdXQiLCJ1cGRhdGVNYXNrIiwiSW5wdXRtYXNrIiwicmVwbGFjZUFsbCIsImZha2VTY3JvbGwiLCJjaGFuZ2VDb3VudHJ5RXZlbnQiLCJsaXN0IiwiaW5uZXJUZXh0IiwiaXRlbSIsIiRwbGFjZWhvbGRlciIsInBsYWNlaG9sZGVyIiwiZmV0Y2giLCJyZXMiLCJqc29uIiwiZGF0YSIsIiRkcm9wZG93bkVsZW1lbnQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJvcHRpb25zIiwiaW5wdXRTbWFydFNlYXJjaCIsImtleSIsImZsYXRNYXAiLCJjaXRpZXMiLCJKU09OIiwicGFyc2UiLCJsb3dlckNhc2VWYWx1ZSIsInRvTG93ZXJDYXNlIiwiZmlyc3RSZW5kZXIiLCJpbmRleE9mIiwic3Vic3RyIiwibWF0Y2hlc0ZvdW5kIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiJGNoZWNrYm94IiwiaGFuZGxlSW5wdXQiLCIkcmFuZ2UiLCJtaW4iLCJtYXgiLCJzbWluIiwic21heCIsInN0YXJ0IiwiY29ubmVjdCIsInN0ZXAiLCJ2YWx1ZXMiLCJjaGVja2JveFZhbHVlIiwiJGlucHV0RmllbGQiLCJub1VpU2xpZGVyIiwiJHRhcmdldCIsIiRhY3RpdmVJdGVtIiwicmVtb3ZlQXR0cmlidXRlIiwiJGN1cnJlbnRJdGVtIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIiRiYW5uZXIiLCJzZXRJdGVtIiwiJGNvb2tpZXMiLCJoaWRlSGVhZGVyTWVudSIsIlN3aXBlciIsInNwYWNlQmV0d2VlbiIsInNsaWRlc1BlclZpZXciLCJjZW50ZXJlZFNsaWRlcyIsInNsaWRlc1Blckdyb3VwIiwicGFnaW5hdGlvbiIsImNsaWNrYWJsZSIsInBvcHVsYXJTbGlkZXIiLCJicmVha3BvaW50cyIsImxvb3BBZGRpdGlvbmFsU2xpZGVzIiwic3VibWl0IiwicmV2aWV3U2xpZGVyTW9iaWxlIiwibG9vcCIsIiRhdXRoRm9ybXMiLCIkbGFiZWxFbGVtZW50IiwiY291bnRyeSIsImZpbHRlciIsIiRkcm9wZG93bkNvbnRlbnQiLCJpbm5lckhUTUwiLCIkc3VibWl0QnV0dG9uIiwiJGNhdGFsb2dNb3JlQnRuIiwiJHByZXZBcnJvdyIsIiRuZXh0QXJyb3ciLCIkc2VwYXJhdG9yIiwiY2F0YWxvZ1BhZ2VzIiwidG90YWwiLCJjdXJyZW50UGFnZSIsInNldEJyZWFrIiwibGF0ZXN0UGFnZSIsIiRiZWZvcmVTZXBhcmF0b3JJdGVtIiwicHJldmlvdXNTaWJsaW5nIiwicGFnZSIsIiRmaXJzdEl0ZW0iLCJjdXJyZW50Iiwic2V0Q3VycmVudFBhZ2UiLCIkcGFnaW5hdGlvblBhZ2VzIiwicmV2ZXJzZSIsImkiLCJmb3JtYXRVUkwiLCJ1cmwiLCJmb3JtYXR0ZWRVUkwiLCJmaWx0ZXJzTmFtZXMiLCJuYW1lIiwidG9TdHJpbmciLCJzcGxpdCIsInRvcCIsImltYWdlIiwidmVyaWZpZWQiLCJzdWJqZWN0cyIsImxvY2F0aW9uIiwiZGVzY3JpcHRpb24iLCJsaW5rIiwicmF0aW5nIiwicmV2aWV3cyIsInByaWNlIiwic2VhcmNoIiwiaGlkZGVuIiwiZXhwZXJpZW5jZSIsInB1c2giLCJxdWVyeVVybCIsImNhdGFsb2dJdGVtRWxlbWVudCIsIiRlbGVtZW50cyIsInBhZ2VZT2Zmc2V0Iiwib2Zmc2V0SGVpZ2h0IiwicGF5bWVudCIsIiRwcm9maWxlVmlkZW9Db3ZlciIsInBhcmVudE5vZGUiLCIkdmlkZW8iLCIkcmV2aWV3c01vcmVCdG4iLCJyZXZpZXdzUGFnZXMiLCJyZXZpZXciLCJfcmVmMyIsImRhdGUiLCJmZWVkYmFjayIsInRhZyIsInJldmlld0VsZW1lbnQiLCJqb2luIiwiJHRpbWV6b25lRHJvcGRvd24iLCIkY3VycmVudFVuaXQiLCJ0aW1lIiwiJG5leHRCdXR0b24iLCIkcHJldkJ1dHRvbiIsIiRwcmV2U2xpZGUiLCJmaXJzdCIsImN1cnJlbnRJbmRleCIsIiRhY3RpdmVTbGlkZSIsInNs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QSxPQUFpQixtQ0FOckhTLEVBQUd4QixVQUFVQyxJQUFJLG1DQUNqQjJNLFdBS0p6TCxNQUFNQyxLQUFLbEMsU0FBU21DLGlCQUFpQixzREFBc0RFLEtBQUksU0FBQUMsR0FBRSxPQUFJQSxFQUFHVCxpQkFBaUIsUUFBUzZMIiwiZmlsZSI6ImNvbW1vbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cub25sb2FkID0gKCkgPT4ge1xuXG4gIC8vINCe0LHRitC10LrRgiDQs9C70L7QsdCw0LvRjNC90L7Qs9C+IEFQSVxuY29uc3QgJGFwaSA9IHt9O1xuXG4vLyBBUEkg0LTQu9GPINGA0LDQsdC+0YLRiyDRgSDQv9C+0L/QsNC/0LDQvNC4XG4kYXBpLnBvcHVwID0gKCRwb3B1cCwgeyBvbkhpZGUsIG9uU2hvdyB9ID0ge30pID0+IHtcbiAgLy8g0J7RgtC60LvRjtGH0LDQtdGCINCy0L7Qt9C80L7QttC90L7RgdGC0Ywg0YHQutGA0L7Qu9C70LjRgtGMINGB0YLRgNCw0L3QuNGG0YNcbiAgY29uc3QgaGlkZU92ZXJmbG93ID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3NzVGV4dCA9IGBwb3NpdGlvbjogZml4ZWQ7IG1hcmdpbi10b3A6ICR7LXdpbmRvdy5zY3JvbGxZfXB4YDtcbiAgfTtcbiAgXG4gIC8vINCS0LrQu9GO0YfQsNC10YIg0LLQvtC30LzQvtC20L3QvtGB0YLRjCDRgdC60YDQvtC70LvQuNGC0Ywg0YHRgtGA0LDQvdC40YbRg1xuICBjb25zdCBzaG93T3ZlcmZsb3cgPSBvZmZzZXQgPT4ge1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjogc3RhdGljOyBtYXJnaW4tdG9wOiAwJztcbiAgICBcbiAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgb2Zmc2V0KTtcbiAgfTtcbiAgXG4gIHJldHVybiB7XG4gICAgLy8g0JLQvtC30LLRgNCw0YnQsNC10YIgdHJ1ZSwg0LXRgdC70Lgg0L/QvtC/0LDQvyDQv9C+0LrQsNC30YvQstCw0LXRgtGB0Y8sINCyINC40L3QvtC8INGB0LvRg9GH0LDQtSBmYWxzZVxuICAgIGlzU2hvd246ICgpID0+ICRwb3B1cC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwLS1vcGVuZWQnKSxcbiAgICAvLyDQn9C+0LrQsNC30YvQstCw0LXRgiDQv9C+0L/QsNC/XG4gICAgc2hvdygpIHtcbiAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgJHBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9KTtcblxuICAgICAgaGlkZU92ZXJmbG93KCk7XG5cbiAgICAgIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICRwb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cC0tb3BlbmVkJyk7XG4gICAgICAgIGlmICh0eXBlb2Ygb25TaG93ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgb25TaG93KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgLy8g0KHQutGA0YvQstCw0LXRgiDQv9C+0L/QsNC/XG4gICAgaGlkZSgpIHtcbiAgICAgIGNvbnN0IG9mZnNldCA9IC1wYXJzZUludChkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpblRvcCk7XG4gIFxuICAgICAgJHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwLS1vcGVuZWQnKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAkcG9wdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgc2hvd092ZXJmbG93KG9mZnNldCk7XG4gICAgICAgIGlmICh0eXBlb2Ygb25IaWRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgb25IaWRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDMwMCk7XG4gICAgfVxuICB9O1xufTtcblxuLy8gQVBJINC00LvRjyDQstCw0LvQuNC00LDRhtC40Lgg0YTQvtGA0LxcbiRhcGkudmFsaWRhdGUgPSAoZm9ybSwgcmVxdWVzdCkgPT4ge1xuICBjb25zdCBlbWFpbFJlZ2V4cCA9IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuICBjb25zdCBzZXRJbnZhbGlkSW5wdXQgPSBpbnB1dCA9PiB7XG4gICAgaWYgKGlucHV0LmNsb3Nlc3QoJy5pbnB1dCcpKSB7XG4gICAgICBpbnB1dC5jbG9zZXN0KCcuaW5wdXQnKS5jbGFzc0xpc3QuYWRkKCdpbnB1dC0tZXJyb3InKTtcbiAgICB9IGVsc2UgaWYgKGlucHV0LmNsb3Nlc3QoJy50ZXh0YXJlYScpKSB7XG4gICAgICBpbnB1dC5jbG9zZXN0KCcudGV4dGFyZWEnKS5jbGFzc0xpc3QuYWRkKCd0ZXh0YXJlYS0tZXJyb3InKTtcbiAgICB9XG4gICAgaW5wdXQuZm9jdXMoKTtcbiAgfTtcbiAgY29uc3Qgc2V0SW52YWxpZENoZWNrYm94ID0gaW5wdXQgPT4ge1xuICAgIGlucHV0LmNsb3Nlc3QoJy5jaGVja2JveCcpLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94LS1lcnJvcicpO1xuICB9O1xuXG4gIGZvcm0ucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGxldCBmb3JtSXNWYWxpZCA9IHRydWU7XG4gICAgY29uc3QgJGZvcm1JbnB1dHMgPSBBcnJheS5mcm9tKGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbcmVxdWlyZWRdLCB0ZXh0YXJlYVtyZXF1aXJlZF0nKSk7XG4gICAgY29uc3QgJGNoZWNrYm94U2VsZWN0ID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3hzZWxlY3QnKTtcblxuICAgICRmb3JtSW5wdXRzLnJldmVyc2UoKS5tYXAoZWwgPT4ge1xuICAgICAgaWYgKGVsLmRhdGFzZXQucGFzc1JlcGVhdCAmJiBlbC52YWx1ZSAhPT0gZWwuY2xvc2VzdCgnZm9ybScpLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFzc10nKS52YWx1ZSkge1xuICAgICAgICBzZXRJbnZhbGlkSW5wdXQoZWwpO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2goZWwuZ2V0QXR0cmlidXRlKCd0eXBlJykpIHtcbiAgICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgIGNhc2UgJ3Bhc3N3b3JkJzpcbiAgICAgICAgICBpZiAoZWwudmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICBzZXRJbnZhbGlkSW5wdXQoZWwpO1xuICAgICAgICAgICAgZm9ybUlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RlbCc6XG4gICAgICAgICAgaWYgKGVsLnZhbHVlID09PSAnJyB8fCBlbC52YWx1ZS5pbmNsdWRlcygnXycpKSB7XG4gICAgICAgICAgICBzZXRJbnZhbGlkSW5wdXQoZWwpO1xuICAgICAgICAgICAgZm9ybUlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICBpZiAoIWVsLmNoZWNrZWQpIHtcbiAgICAgICAgICAgIHNldEludmFsaWRDaGVja2JveChlbCk7XG4gICAgICAgICAgICBmb3JtSXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZW1haWwnOlxuICAgICAgICAgIGlmICghZW1haWxSZWdleHAudGVzdChlbC52YWx1ZSkpIHtcbiAgICAgICAgICAgIHNldEludmFsaWRJbnB1dChlbCk7XG4gICAgICAgICAgICBmb3JtSXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoZWwudmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICBzZXRJbnZhbGlkSW5wdXQoZWwpO1xuICAgICAgICAgICAgZm9ybUlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIFxuICAgIGlmICgkY2hlY2tib3hTZWxlY3QubGVuZ3RoKSB7XG4gICAgICBBcnJheS5mcm9tKCRjaGVja2JveFNlbGVjdCkubWFwKGVsID0+IHtcbiAgICAgICAgbGV0IGNoZWNrZWQgPSBmYWxzZTtcbiAgXG4gICAgICAgIEFycmF5LmZyb20oZWwucXVlcnlTZWxlY3RvckFsbCgnLmNoZWNrYm94X19pbnB1dCcpKS5tYXAoY2hlY2tib3ggPT4ge1xuICAgICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7XG4gICAgICAgICAgICBjaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICBcbiAgICAgICAgaWYgKCFjaGVja2VkKSB7XG4gICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3hzZWxlY3QtLWVycm9yJyk7XG4gICAgICAgICAgZm9ybUlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGZvcm1Jc1ZhbGlkKSB7XG4gICAgICBlLmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmFkZCgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICByZXF1ZXN0KCk7XG4gICAgfVxuICB9KTtcblxuICBBcnJheS5mcm9tKGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKSkuY29uY2F0KEFycmF5LmZyb20oZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCd0ZXh0YXJlYScpKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIGlmIChlbC5jbG9zZXN0KCcuaW5wdXQnKSkge1xuICAgICAgZWwuY2xvc2VzdCgnLmlucHV0JykuY2xhc3NMaXN0LnJlbW92ZSgnaW5wdXQtLWVycm9yJyk7XG4gICAgfSBlbHNlIGlmIChlbC5jbG9zZXN0KCcuY2hlY2tib3gnKSkge1xuICAgICAgZWwuY2xvc2VzdCgnLmNoZWNrYm94JykuY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tib3gtLWVycm9yJyk7XG4gICAgfSBlbHNlIGlmIChlbC5jbG9zZXN0KCcudGV4dGFyZWEnKSkge1xuICAgICAgZWwuY2xvc2VzdCgnLnRleHRhcmVhJykuY2xhc3NMaXN0LnJlbW92ZSgndGV4dGFyZWEtLWVycm9yJyk7XG4gICAgfVxuICB9KSk7XG59O1xuXG4gIC8vIGhhbmRsZSBvcGVuIHBvcHVwXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9IGUudGFyZ2V0O1xuXG4gIGlmICgkdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLW9wZW4tcG9wdXAnKSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IHRhcmdldCA9ICR0aGlzLmRhdGFzZXQucG9wdXA7XG4gICAgY29uc3QgJHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCIke3RhcmdldH1cIl1gKTtcbiAgICBcbiAgICAkYXBpLnBvcHVwKCRwb3B1cCkuc2hvdygpO1xuICB9XG59KTtcblxuLy8gaGFuZGxlIGNsb3NlIHBvcHVwXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1jbG9zZS1wb3B1cCcpKS5tYXAoZWwgPT5cbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBpZighZS50YXJnZXQuY2xvc2VzdCgnLnBvcHVwX193aW5kb3cnKSB8fCAhZS5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnanMtcG9wdXAnKSkge1xuICAgICAgY29uc3QgJHBvcHVwID0gZS5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5wb3B1cCcpO1xuXG4gICAgICAkYXBpLnBvcHVwKCRwb3B1cCkuaGlkZSgpO1xuICAgIH1cbiAgfSlcbik7XG5cbi8vIGFsbCBwb3B1cCBmb3Jtc1xuY29uc3QgJHBvcHVwRm9ybXMgPSBbe1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXJlc3RvcmUtZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAkZWxlbWVudC5zdWJtaXQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1yZXF1ZXN0LWF1dGgtZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAkZWxlbWVudC5zdWJtaXQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1vZmZlci1mb3JtXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIGNvbnN0ICRwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwib2ZmZXJcIl0nKTtcbiAgICBjb25zdCAkc3VjY2Vzc1BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJvZmZlci1zdWNjZXNzXCJdJyk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRhcGkucG9wdXAoJHBvcHVwLCB7XG4gICAgICAgIG9uSGlkZSgpIHtcbiAgICAgICAgICBBcnJheS5mcm9tKCRwb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpKS5tYXAoZWwgPT4gZWwudmFsdWUgPSAnJyk7XG4gICAgICAgICAgJGFwaS5wb3B1cCgkc3VjY2Vzc1BvcHVwKS5zaG93KCk7XG4gICAgICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICAgfVxuICAgICAgfSkuaGlkZSgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXJlcXVlc3QtZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBjb25zdCAkcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cInJlcXVlc3RcIl0nKTtcbiAgICBjb25zdCAkc3VjY2Vzc1BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJyZXF1ZXN0LXN1Y2Nlc3NcIl0nKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGFwaS5wb3B1cCgkcG9wdXAsIHtcbiAgICAgICAgb25IaWRlKCkge1xuICAgICAgICAgIEFycmF5LmZyb20oJHBvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykpLm1hcChlbCA9PiBlbC52YWx1ZSA9ICcnKTtcbiAgICAgICAgICAkYXBpLnBvcHVwKCRzdWNjZXNzUG9wdXApLnNob3coKTtcbiAgICAgICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgICB9XG4gICAgICB9KS5oaWRlKCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtcmVxdWVzdC1zcGVjaWZpYy1mb3JtXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIGNvbnN0ICRwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwicmVxdWVzdC1zcGVjaWZpY1wiXScpO1xuICAgIGNvbnN0ICRzdWNjZXNzUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cInJlcXVlc3Qtc3VjY2Vzc1wiXScpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkYXBpLnBvcHVwKCRwb3B1cCwge1xuICAgICAgICBvbkhpZGUoKSB7XG4gICAgICAgICAgQXJyYXkuZnJvbSgkcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKSkubWFwKGVsID0+IGVsLnZhbHVlID0gJycpO1xuICAgICAgICAgICRhcGkucG9wdXAoJHN1Y2Nlc3NQb3B1cCkuc2hvdygpO1xuICAgICAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAgIH1cbiAgICAgIH0pLmhpZGUoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufV07XG5cbi8vIGFwcGx5IHZhbGlkYXRpb24gb24gcG9wdXBzIGZvcm1zXG4kcG9wdXBGb3Jtcy5tYXAoZm9ybSA9PiB7XG4gIGNvbnN0IHsgJGVsZW1lbnQsIGNhbGxiYWNrIH0gPSBmb3JtO1xuXG4gIGlmICgkZWxlbWVudCkge1xuICAgICRhcGkudmFsaWRhdGUoJGVsZW1lbnQsICgpID0+IGNhbGxiYWNrKCRlbGVtZW50KSk7XG4gIH1cbn0pO1xuICBjb25zdCAkZHJvcGRvd25zID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcGRvd24nKSk7XG5cbi8vIGNsb3NlIGRyb3Bkb3duIG9uIG91dGVyIGNsaWNrXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9IGUudGFyZ2V0O1xuXG4gICRkcm9wZG93bnMubWFwKGVsID0+IHtcbiAgICBpZihlbC5jbG9zZXN0KCcuZHJvcGRvd24nKSAhPT0gJHRoaXMuY2xvc2VzdCgnLmRyb3Bkb3duJykpIHtcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3Bkb3duLS1hY3RpdmUnKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbi8vIG9wZW4gZHJvcGRvd25cbiRkcm9wZG93bnMubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2lucHV0X19jb2RlJykpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuICBpZiAoIWVsLmNsYXNzTGlzdC5jb250YWlucygnZHJvcGRvd24tLWFjdGl2ZScpKSB7XG4gICAgJGRyb3Bkb3ducy5tYXAoZWwgPT4gZWwgIT09IGVsICYmIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3Bkb3duLS1hY3RpdmUnKSk7XG4gICAgZWwuY2xhc3NMaXN0LnRvZ2dsZSgnZHJvcGRvd24tLWFjdGl2ZScpO1xuICB9XG59KSk7XG5cbi8vIGNoYW5nZSBkcm9wZG93biB2YWx1ZVxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJGRyb3Bkb3duTWVudUl0ZW0gPSBlLnRhcmdldC5jbG9zZXN0KCcuZHJvcGRvd25fX21lbnUtaXRlbScpO1xuXG4gIGlmICgkZHJvcGRvd25NZW51SXRlbSkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bi0tYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnZHJvcGRvd24tLWFjdGl2ZScpO1xuXG4gICAgaWYgKCRkcm9wZG93bk1lbnVJdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS10b2dnbGUnKSkge1xuICAgICAgY29uc3QgJHRoaXMgPSBlLnRhcmdldDtcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0gJHRoaXMuaW5uZXJUZXh0O1xuICAgICAgY29uc3QgJGhpZGRlbkl0ZW0gPSAkdGhpcy5jbG9zZXN0KCcuZHJvcGRvd25fX21lbnUnKS5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd25fX21lbnUtaXRlbS0taGlkZGVuJyk7XG4gICAgICBjb25zdCAkZHJvcGRvd25WYWx1ZSA9ICR0aGlzLmNsb3Nlc3QoJy5kcm9wZG93bicpLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bl9fdmFsdWUnKTtcblxuICAgICAgaWYgKCRoaWRkZW5JdGVtKSB7XG4gICAgICAgICRoaWRkZW5JdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3Bkb3duX19tZW51LWl0ZW0tLWhpZGRlbicpO1xuICAgICAgfVxuXG4gICAgICAkZHJvcGRvd25NZW51SXRlbS5jbGFzc0xpc3QuYWRkKCdkcm9wZG93bl9fbWVudS1pdGVtLS1oaWRkZW4nKTsgXG4gICAgICAkZHJvcGRvd25WYWx1ZS5pbm5lclRleHQgPSBuZXdWYWx1ZTtcbiAgICB9XG4gIH1cbn0pO1xuICAvLyBoYW5kbGUgdGFicyBsb2dpY1xuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFic19faXRlbScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCB0YXJnZXQgPSBlbC5kYXRhc2V0LnRhYjtcbiAgY29uc3QgJGFjdGl2ZVRhYkNvbnRlbnQgPSBlbC5jbG9zZXN0KCdbZGF0YS10YWJzXScpLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZV0nKTtcblxuICBlbC5jbG9zZXN0KCcudGFicycpLnF1ZXJ5U2VsZWN0b3IoJy50YWJzX19pdGVtLS1hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCd0YWJzX19pdGVtLS1hY3RpdmUnKTtcbiAgZWwuY2xhc3NMaXN0LmFkZCgndGFic19faXRlbS0tYWN0aXZlJyk7XG5cbiAgaWYgKCRhY3RpdmVUYWJDb250ZW50KSB7XG4gICAgZWwuY2xvc2VzdCgnW2RhdGEtdGFic10nKS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmVdJykucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWFjdGl2ZScpO1xuICAgIGVsLmNsb3Nlc3QoJ1tkYXRhLXRhYnNdJykucXVlcnlTZWxlY3RvcihgW2RhdGEtY29udGVudD1cIiR7dGFyZ2V0fVwiXWApLnNldEF0dHJpYnV0ZSgnZGF0YS1hY3RpdmUnLCB0cnVlKTtcbiAgfVxufSkpO1xuICBjb25zdCBjaGFuZ2VDb3VudHJ5RXZlbnQgPSBuZXcgRXZlbnQoJ2NoYW5nZUNvdW50cnknKTtcblxuY29uc3QgdXBkYXRlTWFzayA9IChpbnB1dCwgbWFzaykgPT4ge1xuICBJbnB1dG1hc2soe21hc2t9KS5tYXNrKGlucHV0KTtcbn07XG5cbi8vIE9wZW4gaW5wdXQgZHJvcGRvd25cbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmlucHV0LmRyb3Bkb3duJykpXG4uY29uY2F0KEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmlucHV0IC5kcm9wZG93bicpKSlcbi5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0ICRkcm9wZG93biA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bl9fbWVudScpO1xuICBlbC5jbG9zZXN0KCcuaW5wdXQnKS5xdWVyeVNlbGVjdG9yKCcuaW5wdXRfX2Ryb3Bkb3duJykuc3R5bGUud2lkdGggPSBlbC5jbG9zZXN0KCcuaW5wdXQnKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCArICdweCc7XG5cbiAgaWYgKCEkZHJvcGRvd24uY2xhc3NMaXN0LmNvbnRhaW5zKCdmYWtlU2Nyb2xsJykpIHtcbiAgICAkZHJvcGRvd24uZmFrZVNjcm9sbCgpO1xuICB9XG59KSk7XG5cbi8vIENoYW5nZSBwaG9uZSBjb2RlIG9uIGlucHV0IGRyb3Bkb3duXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dF9fZHJvcGRvd24taXRlbVtkYXRhLWNvZGUtbG9jXScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IGxvYyA9IGVsLmRhdGFzZXQuY29kZUxvYztcbiAgY29uc3QgbWFzayA9IGVsLmRhdGFzZXQubWFzaztcbiAgY29uc3QgJGlucHV0ID0gZWwuY2xvc2VzdCgnLmlucHV0JykucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcblxuICBlbC5jbG9zZXN0KCcuaW5wdXRfX2NvZGUnKS5kYXRhc2V0LmNvZGVMb2MgPSBsb2M7XG4gIGVsLmNsb3Nlc3QoJy5pbnB1dF9fY29kZScpLmRhdGFzZXQubWFzayA9IG1hc2s7XG4gICRpbnB1dC5wbGFjZWhvbGRlciA9IG1hc2sucmVwbGFjZUFsbCgnOScsICdfJyk7XG4gIHVwZGF0ZU1hc2soJGlucHV0LCBtYXNrKTtcbn0pKTtcblxuLy8gQ2hhbmdlIGlucHV0IGRyb3Bkb3duIHZhbHVlXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dF9fZHJvcGRvd24taXRlbVtkYXRhLWRyb3Bkb3duXScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IHZhbHVlID0gZWwuaW5uZXJUZXh0O1xuICBcbiAgZWwuY2xvc2VzdCgnLmlucHV0JykucXVlcnlTZWxlY3RvcignaW5wdXQnKS52YWx1ZSA9IHZhbHVlO1xuICBlbC5jbG9zZXN0KCcuaW5wdXQnKS5jbGFzc0xpc3QucmVtb3ZlKCdpbnB1dC0tZXJyb3InKTtcblxuICBpZiAoZWwuY2xvc2VzdCgnLmlucHV0JykuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy1hdXRoLWNvdW50cnknKSkge1xuICAgIGVsLmNsb3Nlc3QoJy5pbnB1dCcpLmRpc3BhdGNoRXZlbnQoY2hhbmdlQ291bnRyeUV2ZW50KTtcbiAgfVxufSkpO1xuXG4vLyBNYXNraW5nIHBob25lIGlucHV0XG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJ0ZWxcIl0nKSkubWFwKGVsID0+IHtcbiAgSW5wdXRtYXNrKHttYXNrOiBlbC5jbG9zZXN0KCcuaW5wdXQnKS5xdWVyeVNlbGVjdG9yKCcuaW5wdXRfX2NvZGUnKS5kYXRhc2V0Lm1hc2t9KS5tYXNrKGVsKTtcbn0pO1xuICAvLyBoYW5kbGUgY2hlY2tib3hzZWxlY3QgbG9naWNcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoZWNrYm94c2VsZWN0X19saXN0JykpLm1hcChsaXN0ID0+IHtcbiAgbGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIFxuICAgIGNvbnN0ICRjaGVja2JveFNlbGVjdCA9IGxpc3QuY2xvc2VzdCgnLmNoZWNrYm94c2VsZWN0Jyk7XG4gICAgbGV0IGNoZWNrZWQgPSBmYWxzZTtcblxuICAgICRjaGVja2JveFNlbGVjdC5jbGFzc0xpc3QucmVtb3ZlKCdjaGVja2JveHNlbGVjdC0tZXJyb3InKTtcblxuICAgIEFycmF5LmZyb20obGlzdC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3hfX2lucHV0JykpLm1hcChjaGVja2JveCA9PiB7XG4gICAgICBjb25zdCAkcGxhY2Vob2xkZXIgPSAkY2hlY2tib3hTZWxlY3QucXVlcnlTZWxlY3RvcignLmNoZWNrYm94c2VsZWN0X19pbnB1dC1wbGFjZWhvbGRlcicpO1xuXG4gICAgICBpZiAoY2hlY2tib3guY2hlY2tlZCkgY2hlY2tlZCA9IHRydWU7XG5cbiAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBsZXQgdmFsdWUgPSAnJztcblxuICAgICAgICBBcnJheS5mcm9tKGxpc3QucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQ6Y2hlY2tlZCcpKS5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgdmFsdWUgKz0gaXRlbS5jbG9zZXN0KCcuY2hlY2tib3hzZWxlY3RfX2l0ZW0nKS5xdWVyeVNlbGVjdG9yKCcuY2hlY2tib3hfX3RleHQnKS5pbm5lclRleHQgKyAnLCAnO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAkcGxhY2Vob2xkZXIuaW5uZXJUZXh0ID0gdmFsdWUuc3Vic3RyaW5nKDAsIHZhbHVlLmxlbmd0aCAtIDIpO1xuICAgICAgICAgICRwbGFjZWhvbGRlci5jbGFzc0xpc3QuYWRkKCdjaGVja2JveHNlbGVjdF9faW5wdXQtcGxhY2Vob2xkZXItLWFjdGl2ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRwbGFjZWhvbGRlci5pbm5lclRleHQgPSAkcGxhY2Vob2xkZXIuZGF0YXNldC5wbGFjZWhvbGRlcjtcbiAgICAgICAgICAkcGxhY2Vob2xkZXIuY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tib3hzZWxlY3RfX2lucHV0LXBsYWNlaG9sZGVyLS1hY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIFxuICAgIGlmIChjaGVja2VkKSB7XG4gICAgICAkY2hlY2tib3hTZWxlY3QuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3hzZWxlY3QtLWNoZWNrZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJGNoZWNrYm94U2VsZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrYm94c2VsZWN0LS1jaGVja2VkJyk7XG4gICAgfVxuICB9KTtcblxuICBsaXN0LmZha2VTY3JvbGwoKTtcbn0pO1xuICAvLyBzZXQgZmlsdGVyIGlucHV0IHZhbHVlXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19kcm9wZG93bi1pdGVtJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9IGUuY3VycmVudFRhcmdldDtcbiAgY29uc3QgdmFsdWUgPSAkdGhpcy5pbm5lclRleHQ7XG5cbiAgJHRoaXMuY2xvc2VzdCgnLmZpbHRlcnNfX2lucHV0JykucXVlcnlTZWxlY3RvcignLmZpbHRlcnNfX2lucHV0LWZpZWxkJykudmFsdWUgPSB2YWx1ZTtcbn0pKTtcblxuLy8gZmlsdGVyIG1haW4gbG9naWNcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsdGVyc19faW5wdXQtZmllbGQnKS5sZW5ndGgpIHtcbiAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsdGVyc19faW5wdXQtZmllbGQnKSkubWFwKGVsID0+IHtcbiAgICBmZXRjaCgnZGF0YS9sb2NhdGlvbi5qc29uJykudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihkYXRhID0+IHtcbiAgICAgIGNvbnN0ICR0aGlzID0gZWw7XG4gICAgICAvLyBoYW5kbGUgZmlsdGVyIGlucHV0XG4gICAgICBjb25zdCBoYW5kbGVJbnB1dCA9IGZpcnN0UmVuZGVyID0+IHtcbiAgICAgICAgY29uc3QgJGRyb3Bkb3duRWxlbWVudCA9ICR0aGlzLm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyc19fZHJvcGRvd24taW5uZXInKTtcbiAgICAgICAgY29uc3QgJGRyb3Bkb3duID0gJGRyb3Bkb3duRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZmFrZVNjcm9sbF9fY29udGVudCcpIHx8ICRkcm9wZG93bkVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGlucHV0U21hcnRTZWFyY2ggPSAkdGhpcy5nZXRBdHRyaWJ1dGUoJ25hbWUnKSA9PT0gJ2xvY2F0aW9uJztcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGlucHV0U21hcnRTZWFyY2ggPyBkYXRhLm1hcChlbCA9PiBlbC5rZXkpLmNvbmNhdChkYXRhLmZsYXRNYXAoaXRlbSA9PiBpdGVtLmNpdGllcykpIDogSlNPTi5wYXJzZSgkdGhpcy5kYXRhc2V0Lm9wdGlvbnMpO1xuICAgICAgICBjb25zdCBsb3dlckNhc2VWYWx1ZSA9ICR0aGlzLnZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0ICRjaGVja2JveCA9ICRkcm9wZG93bi5jbG9zZXN0KCcuZmlsdGVyc19fZHJvcGRvd24nKS5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcbiAgICAgICAgbGV0IG1hdGNoZXNGb3VuZCA9IGZhbHNlO1xuXG4gICAgICAgICRkcm9wZG93bi5pbm5lckhUTUwgPSAnJztcbiAgICAgIFxuICAgICAgICAvLyByZW5kZXIgZmlsdGVyIGRyb3Bkb3duIGl0ZW1zXG4gICAgICAgIG9wdGlvbnMubWFwKGVsID0+IHtcbiAgICAgICAgICBpZiAoZmlyc3RSZW5kZXIgfHwgZWwudG9Mb3dlckNhc2UoKS5pbmRleE9mKGxvd2VyQ2FzZVZhbHVlKSA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgJGVsZW1lbnQgPSBpbnB1dFNtYXJ0U2VhcmNoID9cbiAgICAgICAgICAgICAgYDxhIGNsYXNzPVwiZmlsdGVyc19fZHJvcGRvd24taXRlbSBkcm9wZG93bl9fbWVudS1pdGVtJHsobG93ZXJDYXNlVmFsdWUgJiYgIWZpcnN0UmVuZGVyKSA/ICcgZmlsdGVyc19fZHJvcGRvd24taXRlbS0tc21hcnQnIDogJyd9XCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiPjxzcGFuPiR7ZWwuc3Vic3RyKDAsIGxvd2VyQ2FzZVZhbHVlLmxlbmd0aCl9PC9zcGFuPiR7ZWwuc3Vic3RyKGxvd2VyQ2FzZVZhbHVlLmxlbmd0aCl9PC9hPmAgOlxuICAgICAgICAgICAgICBgPGEgY2xhc3M9XCJmaWx0ZXJzX19kcm9wZG93bi1pdGVtIGRyb3Bkb3duX19tZW51LWl0ZW1cIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCI+JHtlbH08L2E+YDtcbiAgICAgICAgICAgIG1hdGNoZXNGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAkZHJvcGRvd24uaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCAkZWxlbWVudClcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHRvZ2dsZSBmaWx0ZXIgZHJvcGRvd24gdmlzaWJpbGl0eVxuICAgICAgICBpZiAobWF0Y2hlc0ZvdW5kKSB7XG4gICAgICAgICAgJGRyb3Bkb3duRWxlbWVudC5wYXJlbnROb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpbHRlcnNfX2Ryb3Bkb3duLS1oaWRkZW4nKTtcbiAgICAgICAgICAkZHJvcGRvd25FbGVtZW50LnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnZmlsdGVyc19fZHJvcGRvd24tLWVtcHR5Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAoISRjaGVja2JveCkge1xuICAgICAgICAgICRkcm9wZG93bkVsZW1lbnQucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdmaWx0ZXJzX19kcm9wZG93bi0taGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGRyb3Bkb3duRWxlbWVudC5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ2ZpbHRlcnNfX2Ryb3Bkb3duLS1lbXB0eScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaGFuZGxlIGlucHV0IHZhbHVlXG4gICAgICAgIEFycmF5LmZyb20oJGRyb3Bkb3duLnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19kcm9wZG93bi1pdGVtJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAkdGhpcy52YWx1ZSA9IGVsLmlubmVyVGV4dDtcbiAgICAgICAgICAkdGhpcy5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnLCBlbC5pbm5lclRleHQpO1xuXG4gICAgICAgICAgaWYgKCRjaGVja2JveCkge1xuICAgICAgICAgICAgJGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICR0aGlzLnJlbW92ZUF0dHJpYnV0ZSgncmVhZG9ubHknKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcblxuICAgICAgICAvLyBmYWtlU2Nyb2xsIGluaXRcbiAgICAgICAgaWYgKGZpcnN0UmVuZGVyICYmICEkZHJvcGRvd25FbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZmFrZVNjcm9sbCcpKSB7XG4gICAgICAgICAgJGRyb3Bkb3duLmZha2VTY3JvbGwoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIC8vIGFkZCBsaXN0ZW5lcnMgb24gZmlsdGVyIGlucHV0XG4gICAgICBpZiAoJHRoaXMubmFtZSAhPT0gJ2Nvc3QnKSB7XG4gICAgICAgICR0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4gaGFuZGxlSW5wdXQoZmFsc2UpKTtcbiAgICAgICAgJHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiBoYW5kbGVJbnB1dCh0cnVlKSk7XG4gICAgICAgICR0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKCR0aGlzLnZhbHVlID09PSAnJyB8fCAhJHRoaXMuZGF0YXNldC52YWx1ZSkge1xuICAgICAgICAgICAgJHRoaXMudmFsdWUgPSAnJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHRoaXMudmFsdWUgPSAkdGhpcy5kYXRhc2V0LnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG5cbi8vIGhhbmRsZSBmaWx0ZXIgcmFuZ2Ugc2xpZGVyXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19jb3N0LXJhbmdlJykpLm1hcCgkcmFuZ2UgPT4ge1xuICBjb25zdCBtaW4gPSArJHJhbmdlLmRhdGFzZXQubWluO1xuICBjb25zdCBtYXggPSArJHJhbmdlLmRhdGFzZXQubWF4O1xuICBjb25zdCBzbWluID0gKyRyYW5nZS5kYXRhc2V0Lm1pbjtcbiAgY29uc3Qgc21heCA9ICskcmFuZ2UuZGF0YXNldC5tYXg7XG5cbiAgbm9VaVNsaWRlci5jcmVhdGUoJHJhbmdlLCB7XG4gICAgc3RhcnQ6IFtzbWluLCBzbWF4XSxcbiAgICBjb25uZWN0OiB0cnVlLFxuICAgIHJhbmdlOiB7XG4gICAgICBtaW4sXG4gICAgICBtYXhcbiAgICB9LFxuICAgIHN0ZXA6IDEwMFxuICB9KTtcblxuICAkcmFuZ2Uubm9VaVNsaWRlci5vbignc2xpZGUnLCB2YWx1ZXMgPT4ge1xuICAgIGNvbnN0IG1pbiA9IHBhcnNlSW50KHZhbHVlc1swXSk7XG4gICAgY29uc3QgbWF4ID0gcGFyc2VJbnQodmFsdWVzWzFdKTtcblxuICAgICRyYW5nZS5jbG9zZXN0KCcuZmlsdGVyc19faW5wdXQnKS5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyc19faW5wdXQtZmllbGQnKS52YWx1ZSA9IGAke21pbn0g4oK9IOKAkyAke21heH0g4oK9YDtcbiAgICAkcmFuZ2UuY2xvc2VzdCgnLmZpbHRlcnNfX2Nvc3QnKS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb3N0PVwiZnJvbVwiXScpLmlubmVyVGV4dCA9IG1pbjtcbiAgICAkcmFuZ2UuY2xvc2VzdCgnLmZpbHRlcnNfX2Nvc3QnKS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb3N0PVwidG9cIl0nKS5pbm5lclRleHQgPSBtYXg7XG4gIH0pO1xufSk7XG5cblxuLy8gaGFuZGxlIGZpbHRlciBjaGVja2JveFxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsdGVyc19fZHJvcGRvd24tY2hlY2tib3gnKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCAkaW5wdXRGaWVsZCA9IGVsLmNsb3Nlc3QoJy5maWx0ZXJzX19pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXJzX19pbnB1dC1maWVsZCcpO1xuXG4gIGlmIChlbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmNoZWNrZWQpIHtcbiAgICBjb25zdCBjaGVja2JveFZhbHVlID0gZWwucXVlcnlTZWxlY3RvcignLmNoZWNrYm94X190ZXh0JykuaW5uZXJUZXh0O1xuICBcbiAgICAkaW5wdXRGaWVsZC52YWx1ZSA9IGNoZWNrYm94VmFsdWU7XG4gICAgJGlucHV0RmllbGQuc2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJywgY2hlY2tib3hWYWx1ZSk7XG4gICAgJGlucHV0RmllbGQuc2V0QXR0cmlidXRlKCdyZWFkb25seScsICdyZWFkb25seScpO1xuICB9IGVsc2Uge1xuICAgICRpbnB1dEZpZWxkLnZhbHVlID0gJyc7XG4gICAgJGlucHV0RmllbGQuc2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJywgJycpO1xuICAgICRpbnB1dEZpZWxkLnJlbW92ZUF0dHJpYnV0ZSgncmVhZG9ubHknKTtcbiAgfVxufSkpO1xuICAvLyBzaG93IGhpZGRuZSBzdWJqZWN0IGluIHR1dG9yY2FyZFxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRhcmdldCA9IGUudGFyZ2V0O1xuXG4gIGlmICgkdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnanMtdHV0b3JjYXJkLW1vcmUnKSkge1xuICAgICR0YXJnZXQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBcbiAgICBBcnJheS5mcm9tKCR0YXJnZXQuY2xvc2VzdCgnLnR1dG9yY2FyZF9fc3ViamVjdHMnKS5xdWVyeVNlbGVjdG9yQWxsKCcudHV0b3JjYXJkX19zdWJqZWN0cy1pdGVtLS1oaWRkZW4nKSkubWFwKGVsID0+IHtcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3R1dG9yY2FyZF9fc3ViamVjdHMtaXRlbS0taGlkZGVuJyk7XG4gICAgfSk7XG4gIH1cbn0pO1xuICAvLyBhY2NvcmRpb24gbG9naWNcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjY29yZGlvbl9faXRlbS10aXRsZScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0ICRhY3RpdmVJdGVtID0gZWwuY2xvc2VzdCgnLmFjY29yZGlvbicpLnF1ZXJ5U2VsZWN0b3IoJy5hY2NvcmRpb25fX2l0ZW0tLWFjdGl2ZScpO1xuICBjb25zdCAkY3VycmVudEl0ZW0gPSBlbC5jbG9zZXN0KCcuYWNjb3JkaW9uX19pdGVtJyk7XG5cbiAgaWYgKCRjdXJyZW50SXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY29yZGlvbl9faXRlbS0tYWN0aXZlJykpIHtcbiAgICAkY3VycmVudEl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWNjb3JkaW9uX19pdGVtLS1hY3RpdmUnKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoJGFjdGl2ZUl0ZW0pIHtcbiAgICAgICRhY3RpdmVJdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjY29yZGlvbl9faXRlbS0tYWN0aXZlJyk7XG4gICAgfVxuICBcbiAgICAkY3VycmVudEl0ZW0uY2xhc3NMaXN0LmFkZCgnYWNjb3JkaW9uX19pdGVtLS1hY3RpdmUnKTtcbiAgfVxufSkpO1xuICBcbiAgY29uc3QgJGJhbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYW5uZXInKTtcblxuLy8gYmFubmVyIGhhbmRsaW5nXG5pZiAoIUpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xldG1ldHV0b3I6YmFubmVySXNIaWRkZW4nKSkpIHtcbiAgJGJhbm5lci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFubmVyX19jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICRiYW5uZXIuY2xhc3NMaXN0LmFkZCgnYmFubmVyLS1oaWRlJyk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkYmFubmVyLnJlbW92ZSgpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xldG1ldHV0b3I6YmFubmVySXNIaWRkZW4nLCB0cnVlKTtcbiAgICB9LCA1MDApXG4gIH0pO1xufSBlbHNlIHtcbiAgJGJhbm5lci5yZW1vdmUoKTtcbn1cbiAgY29uc3QgJGNvb2tpZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29va2llcycpO1xuXG4vLyBjb29raWVzIGhhbmRsaW5nXG5pZiAoIUpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xldG1ldHV0b3I6Y29va2llc0lzSGlkZGVuJykpKSB7XG4gICRjb29raWVzLmNsYXNzTGlzdC5hZGQoJ2Nvb2tpZXMtLXNob3duJyk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvb2tpZXNfX2J0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICRjb29raWVzLmNsYXNzTGlzdC5yZW1vdmUoJ2Nvb2tpZXMtLXNob3duJyk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkY29va2llcy5yZW1vdmUoKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsZXRtZXR1dG9yOmNvb2tpZXNJc0hpZGRlbicsIHRydWUpO1xuICAgIH0sIDUwMClcbiAgfSk7XG59IGVsc2Uge1xuICAkY29va2llcy5yZW1vdmUoKTtcbn1cbiAgbGV0IG9mZnNldCA9IDA7XG5jb25zdCBoaWRlT3ZlcmZsb3cgPSAoKSA9PiB7XG4gIG9mZnNldCA9IC1wYXJzZUludChkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpblRvcCk7XG4gIGRvY3VtZW50LmJvZHkuc3R5bGUuY3NzVGV4dCA9IGBwb3NpdGlvbjogZml4ZWQ7IG1hcmdpbi10b3A6ICR7LXdpbmRvdy5zY3JvbGxZfXB4YDtcbn07XG5jb25zdCBzaG93T3ZlcmZsb3cgPSBvZmZzZXQgPT4ge1xuICBkb2N1bWVudC5ib2R5LnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246IHN0YXRpYzsgbWFyZ2luLXRvcDogMCc7XG4gIHdpbmRvdy5zY3JvbGxUbygwLCBvZmZzZXQpO1xufTtcbmNvbnN0IGhpZGVIZWFkZXJNZW51ID0gKCkgPT4ge1xuICBzaG93T3ZlcmZsb3coKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1tZW51JykuY2xhc3NMaXN0LnJlbW92ZSgnaGVhZGVyLW1lbnUtLXNob3duJyk7XG59O1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19idXJnZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgaGlkZU92ZXJmbG93KCk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbWVudScpLmNsYXNzTGlzdC5hZGQoJ2hlYWRlci1tZW51LS1zaG93bicpO1xufSk7XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbWVudV9fYmFja2Ryb3AnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZGVIZWFkZXJNZW51KTtcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbWVudV9fY2xvc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZGVIZWFkZXJNZW51KTtcblxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaGVhZGVyX19ub3RpZmljYXRpb25zLXdyYXBwZXInKSkubWFwKGVsID0+IHtcbiAgaWYgKCFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zha2VTY3JvbGwnKSkge1xuICAgIGVsLmZha2VTY3JvbGwoKTtcbiAgfVxufSk7XG4gIGNvbnN0IHBvcHVsYXJTbGlkZXIgPSBuZXcgU3dpcGVyKCcucG9wdWxhcl9fZ3JpZC0tbW9iaWxlJywge1xuICBsb29wOiB0cnVlLFxuICBsb29wQWRkaXRpb25hbFNsaWRlczogMyxcbiAgc3BhY2VCZXR3ZWVuOiAyMCxcbiAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuICBjZW50ZXJlZFNsaWRlczogdHJ1ZSxcbiAgYnJlYWtwb2ludHM6IHtcbiAgICA3NjA6IHtcbiAgICAgIHNsaWRlc1BlclZpZXc6IDIsXG4gICAgICBjZW50ZXJlZFNsaWRlczogZmFsc2VcbiAgICB9XG4gIH1cbn0pO1xuICBjb25zdCByZXZpZXdzU2xpZGVyID0gbmV3IFN3aXBlcignLnJldmlld3NfX3NsaWRlcicsIHtcbiAgbG9vcDogdHJ1ZSxcbiAgc3BhY2VCZXR3ZWVuOiAyMCxcbiAgc2xpZGVzUGVyVmlldzogMyxcbiAgc2xpZGVzUGVyR3JvdXA6IDMsXG4gIGxvb3BBZGRpdGlvbmFsU2xpZGVzOiAzLFxuICBwYWdpbmF0aW9uOiB7XG4gICAgZWw6ICcuc3dpcGVyLXBhZ2luYXRpb24nLFxuICAgIGNsaWNrYWJsZTogdHJ1ZVxuICB9XG59KTtcblxuY29uc3QgcmV2aWV3U2xpZGVyTW9iaWxlID0gbmV3IFN3aXBlcignLnJldmlld3NfX3NsaWRlci0tbW9iaWxlJywge1xuICBsb29wOiB0cnVlLFxuICBzcGFjZUJldHdlZW46IDIwLFxuICBsb29wQWRkaXRpb25hbFNsaWRlczogMyxcbiAgcGFnaW5hdGlvbjoge1xuICAgIGVsOiAnLnN3aXBlci1wYWdpbmF0aW9uJyxcbiAgICBjbGlja2FibGU6IHRydWVcbiAgfVxufSk7XG4gIC8vIGFsbCBhdXRoIGZvcm1zXG5jb25zdCAkYXV0aEZvcm1zID0gW3tcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1sb2dpbi1mb3JtXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICRlbGVtZW50LnN1Ym1pdCgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXNpZ251cC1zdHVkZW50LWZvcm1dJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgJGVsZW1lbnQuc3VibWl0KCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtc2lnbnVwLXR1dG9yLWZvcm1dJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgJGVsZW1lbnQuc3VibWl0KCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtc3VwcG9ydC1mb3JtXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICRlbGVtZW50LnN1Ym1pdCgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59XTtcblxuLy8gYXBwbHkgdmFsaWRhdGlvbiBvbiBhdXRoIGZvcm1zXG4kYXV0aEZvcm1zLm1hcChmb3JtID0+IHtcbiAgY29uc3QgeyAkZWxlbWVudCwgY2FsbGJhY2sgfSA9IGZvcm07XG5cbiAgaWYgKCRlbGVtZW50KSB7XG4gICAgJGFwaS52YWxpZGF0ZSgkZWxlbWVudCwgKCkgPT4gY2FsbGJhY2soJGVsZW1lbnQpKTtcbiAgfVxufSk7XG5cbi8vIHNldCBjb3VudHJ5IHZhbHVlIHRvIGNpdGllcyBpbnB1dFxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtYXV0aC1jb3VudHJ5JykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2VDb3VudHJ5JywgZSA9PiB7XG4gIGVsLmNsb3Nlc3QoJ2Zvcm0nKS5xdWVyeVNlbGVjdG9yKCcuanMtYXV0aC1jaXR5JykuZGF0YXNldC5jb3VudHJ5ID0gZS50YXJnZXQucXVlcnlTZWxlY3RvcignaW5wdXQnKS52YWx1ZTtcbn0pKTtcblxuLy8gaGFuZGxpbmcgY2l0aWVzIGlucHV0XG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWF1dGgtY2l0eSBpbnB1dCcpLmxlbmd0aCkge1xuICBmZXRjaCgnZGF0YS9sb2NhdGlvbi5qc29uJykudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihkYXRhID0+IHtcbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1hdXRoLWNpdHkgaW5wdXQnKSkubWFwKGVsID0+IHtcbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZSA9PiB7XG4gICAgICAgIGNvbnN0ICR0aGlzID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgICAgICBjb25zdCAkbGFiZWxFbGVtZW50ID0gJHRoaXMuY2xvc2VzdCgnLmlucHV0Jyk7XG4gICAgICAgIGNvbnN0IGNvdW50cnkgPSAkbGFiZWxFbGVtZW50LmRhdGFzZXQuY291bnRyeTtcblxuICAgICAgICBpZiAoY291bnRyeSkge1xuICAgICAgICAgIGNvbnN0IGNpdGllcyA9IGRhdGEuZmlsdGVyKGVsID0+IGVsLmtleSA9PT0gY291bnRyeSlbMF0uY2l0aWVzO1xuICAgICAgICAgIGNvbnN0IGxvd2VyQ2FzZVZhbHVlID0gJHRoaXMudmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICBjb25zdCAkZHJvcGRvd25FbGVtZW50ID0gJHRoaXMuY2xvc2VzdCgnLmlucHV0JykucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duX19tZW51Jyk7XG4gICAgICAgICAgY29uc3QgJGRyb3Bkb3duQ29udGVudCA9ICRkcm9wZG93bkVsZW1lbnQucXVlcnlTZWxlY3RvcignLmZha2VTY3JvbGxfX2NvbnRlbnQnKTtcbiAgICAgICAgICBsZXQgbWF0Y2hlc0ZvdW5kID0gZmFsc2U7XG5cbiAgICAgICAgICBpZiAoJGRyb3Bkb3duQ29udGVudCkge1xuICAgICAgICAgICAgJGRyb3Bkb3duQ29udGVudC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoJHRoaXMudmFsdWUgIT09ICcnKSB7XG4gICAgICAgICAgICBjaXRpZXMubWFwKGVsID0+IHtcbiAgICAgICAgICAgICAgaWYgKGVsLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihsb3dlckNhc2VWYWx1ZSkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICRkcm9wZG93bkNvbnRlbnQuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBgPGEgY2xhc3M9XCJpbnB1dF9fZHJvcGRvd24taXRlbSBkcm9wZG93bl9fbWVudS1pdGVtJHtsb3dlckNhc2VWYWx1ZSA/ICcgaW5wdXRfX2Ryb3Bkb3duLWl0ZW0tLXNtYXJ0JyA6ICcnfVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIj48c3Bhbj4ke2VsLnN1YnN0cigwLCBsb3dlckNhc2VWYWx1ZS5sZW5ndGgpfTwvc3Bhbj4ke2VsLnN1YnN0cihsb3dlckNhc2VWYWx1ZS5sZW5ndGgpfTwvYT5gKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKG1hdGNoZXNGb3VuZCkge1xuICAgICAgICAgICAgICBBcnJheS5mcm9tKCRsYWJlbEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmlucHV0X19kcm9wZG93bi1pdGVtJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICAkdGhpcy52YWx1ZSA9IGVsLmlubmVyVGV4dDtcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghJGRyb3Bkb3duRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zha2VTY3JvbGwnKSkge1xuICAgICAgICAgICAgJGRyb3Bkb3duRWxlbWVudC5mYWtlU2Nyb2xsKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0ICRkcm9wZG93bkVsZW1lbnQgPSBlbC5jbG9zZXN0KCcuaW5wdXQnKS5xdWVyeVNlbGVjdG9yKCcuZmFrZVNjcm9sbF9fY29udGVudCcpO1xuXG4gICAgICAgIGlmICgkZHJvcGRvd25FbGVtZW50KSB7XG4gICAgICAgICAgJGRyb3Bkb3duRWxlbWVudC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vLyBoYW5kbGluZyByZXF1aXJlZCBhZ3JlZW1lbnQgY2hlY2tib3hcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT1cInJ1bGVzQWdyZWVtZW50XCJdJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gIGNvbnN0ICRzdWJtaXRCdXR0b24gPSBlbC5jbG9zZXN0KCdmb3JtJykucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKTtcblxuICBpZiAoZWwuY2hlY2tlZCkge1xuICAgICRzdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1kaXNhYmxlZCcpO1xuICAgICRzdWJtaXRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICB9IGVsc2Uge1xuICAgICRzdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCgnYnV0dG9uLS1kaXNhYmxlZCcpO1xuICAgICRzdWJtaXRCdXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICB9XG59KSk7XG5cbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmF1dGhfX3RvZ2dsZSAudGFic19faXRlbScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hdXRoX190eXBlJykudmFsdWUgPSBlbC5kYXRhc2V0LnRhYiAtIDE7XG59KSk7XG4gIGNvbnN0ICRjYXRhbG9nTW9yZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1jYXRhbG9nLW1vcmUnKTtcblxuaWYgKCRjYXRhbG9nTW9yZUJ0bikge1xuICBjb25zdCAkcHJldkFycm93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2luYXRpb25fX2Fycm93LS1wcmV2Jyk7XG4gIGNvbnN0ICRuZXh0QXJyb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnaW5hdGlvbl9fYXJyb3ctLW5leHQnKTtcbiAgY29uc3QgJHNlcGFyYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uX19zZXBhcmF0b3InKTtcblxuICAvLyBjYXRhbG9nIHBhZ2VzIHN0YXRlXG4gIGNvbnN0IGNhdGFsb2dQYWdlcyA9IHtcbiAgICBjdXJyZW50OiBbMV0sXG4gICAgdG90YWw6IHBhcnNlSW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nX19pdGVtcycpLmRhdGFzZXQudG90YWwpXG4gIH07XG5cbiAgLy8gc2V0IHBhZ2luYXRpb24gY3VycmVudCBwYWdlXG4gIGNvbnN0IHNldEN1cnJlbnRQYWdlID0gY3VycmVudFBhZ2UgPT4ge1xuICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBhZ2luYXRpb25fX3BhZ2UtLWN1cnJlbnQnKSkubWFwKGVsID0+IGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BhZ2luYXRpb25fX3BhZ2UtLWN1cnJlbnQnKSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnBhZ2luYXRpb25fX3BhZ2VbZGF0YS1wYWdlPVwiJHtjdXJyZW50UGFnZX1cIl1gKS5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19wYWdlLS1jdXJyZW50Jyk7XG4gIH07XG5cbiAgLy8gc2V0IHBhZ2luYXRpb24gYnJlYWtcbiAgY29uc3Qgc2V0QnJlYWsgPSBsYXRlc3RQYWdlID0+IHtcbiAgICBjb25zdCAkYmVmb3JlU2VwYXJhdG9ySXRlbSA9ICRzZXBhcmF0b3IucHJldmlvdXNTaWJsaW5nO1xuICAgIGNvbnN0ICRmaXJzdEl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnaW5hdGlvbl9fcGFnZScpO1xuXG4gICAgaWYgKCskYmVmb3JlU2VwYXJhdG9ySXRlbS5kYXRhc2V0LnBhZ2UgPT09IGxhdGVzdFBhZ2UpIHtcbiAgICAgIGlmIChsYXRlc3RQYWdlID09PSBjYXRhbG9nUGFnZXMudG90YWwgLSAyKSB7XG4gICAgICAgICRmaXJzdEl0ZW0ucmVtb3ZlKCk7XG4gICAgICAgICRzZXBhcmF0b3IuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fc2VwYXJhdG9yLS1oaWRkZW4nKTtcbiAgICAgICAgJHNlcGFyYXRvci5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWJlZ2luJywgYDxhIGNsYXNzPVwicGFnaW5hdGlvbl9fcGFnZVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiBkYXRhLXBhZ2U9XCIke2xhdGVzdFBhZ2UgKyAxfVwiPiR7bGF0ZXN0UGFnZSArIDF9PC9hPmApO1xuICAgICAgfSBlbHNlIGlmIChsYXRlc3RQYWdlIDwgY2F0YWxvZ1BhZ2VzLnRvdGFsIC0gMikge1xuICAgICAgICAkZmlyc3RJdGVtLnJlbW92ZSgpO1xuICAgICAgICAkc2VwYXJhdG9yLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlYmVnaW4nLCBgPGEgY2xhc3M9XCJwYWdpbmF0aW9uX19wYWdlXCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIGRhdGEtcGFnZT1cIiR7bGF0ZXN0UGFnZSArIDF9XCI+JHtsYXRlc3RQYWdlICsgMX08L2E+YCk7XG4gICAgICAgICRzZXBhcmF0b3IuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fc2VwYXJhdG9yLS1oaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCskZmlyc3RJdGVtLmRhdGFzZXQucGFnZSA9PT0gbGF0ZXN0UGFnZSAmJiBsYXRlc3RQYWdlICE9PSAxKSB7XG4gICAgICAkYmVmb3JlU2VwYXJhdG9ySXRlbS5yZW1vdmUoKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uX19wYWdlcycpLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGA8YSBjbGFzcz1cInBhZ2luYXRpb25fX3BhZ2VcIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgZGF0YS1wYWdlPVwiJHtsYXRlc3RQYWdlIC0gMX1cIj4ke2xhdGVzdFBhZ2UgLSAxfTwvYT5gKTtcbiAgICAgICRzZXBhcmF0b3IuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fc2VwYXJhdG9yLS1oaWRkZW4nKTtcbiAgICB9IGVsc2UgaWYgKGxhdGVzdFBhZ2UgPT09IGNhdGFsb2dQYWdlcy50b3RhbCAmJiAhJHNlcGFyYXRvci5jbGFzc0xpc3QuY29udGFpbnMoJ3BhZ2luYXRpb25fX3NlcGFyYXRvci0tJykpIHtcbiAgICAgIGNvbnN0ICRwYWdpbmF0aW9uUGFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGFnaW5hdGlvbl9fcGFnZScpO1xuXG4gICAgICAkc2VwYXJhdG9yLmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX3NlcGFyYXRvci0taGlkZGVuJyk7XG4gICAgICBBcnJheS5mcm9tKCRwYWdpbmF0aW9uUGFnZXMpLnJldmVyc2UoKS5tYXAoKGVsLCBpKSA9PiB7XG4gICAgICAgIGVsLmlubmVyVGV4dCA9IGxhdGVzdFBhZ2UgLSBpO1xuICAgICAgICBlbC5kYXRhc2V0LnBhZ2UgPSBsYXRlc3RQYWdlIC0gaTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvLyBmb3JtaW5nIHF1ZXJ5IHVybCB3aXRoIGZpbHRlcnMgdmFsdWVzIGZyb20gdXJsIHBhcmFtZXJ0cmVzXG4gIGNvbnN0IGZvcm1hdFVSTCA9IHVybCA9PiB7XG4gICAgbGV0IGZvcm1hdHRlZFVSTCA9IHVybDtcbiAgICBjb25zdCBmaWx0ZXJzTmFtZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19pbnB1dC1maWVsZCcpKS5tYXAoZWwgPT4gZWwubmFtZSk7XG4gICAgXG4gICAgbmV3IFVSTChsb2NhdGlvbi5ocmVmKS5zZWFyY2hQYXJhbXMudG9TdHJpbmcoKS5zcGxpdChcIiZcIikubWFwKGVsID0+IHtcbiAgICAgIGNvbnN0IFsga2V5IF0gPSBlbC5zcGxpdCgnPScpO1xuICAgICAgaWYgKGZpbHRlcnNOYW1lcy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgIGZvcm1hdHRlZFVSTCArPSAnJicgKyBlbDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZvcm1hdHRlZFVSTCArPSBgJmxpbWl0PSR7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLWNhdGFsb2ctbGltaXQgLmRyb3Bkb3duX192YWx1ZScpLmlubmVyVGV4dH1gO1xuXG4gICAgcmV0dXJuIGZvcm1hdHRlZFVSTDtcbiAgfTtcblxuICAvLyBnZW5lcmF0ZSBjYXRhbG9nIGl0ZW0gZWxlbWVudFxuICBjb25zdCBjYXRhbG9nSXRlbUVsZW1lbnQgPSAoeyB0b3AsIGltYWdlLCB2ZXJpZmllZCwgbmFtZSwgY291bnRyeSwgc3ViamVjdHMsIGxvY2F0aW9uLCBkZXNjcmlwdGlvbiwgbGluaywgcmF0aW5nLCByZXZpZXdzLCBwcmljZSB9KSA9PiBgXG4gICAgPGRpdiBjbGFzcz1cInR1dG9yY2FyZCR7dG9wID8gJyB0dXRvcmNhcmQtLXRvcCcgOiAnJ31cIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ0dXRvcmNhcmRfX2ltYWdlXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2ltZy9pbmh0bWwvJHtpbWFnZX0nKVwiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInR1dG9yY2FyZF9faW5mb1wiPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19uYW1lJHt2ZXJpZmllZCA/ICcgdHV0b3JjYXJkX19uYW1lLS12ZXJpZmllZCcgOiAnJ31cIj4ke25hbWV9PC9wPlxuICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19sb2NhdGlvblwiIGRhdGEtbG9jPSR7Y291bnRyeX0+JHtsb2NhdGlvbn08L3A+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInR1dG9yY2FyZF9fc3ViamVjdHNcIj5cbiAgICAgICAgICAgICR7c3ViamVjdHMubWFwKGVsID0+IGBcbiAgICAgICAgICAgICAgPGEgY2xhc3M9XCJ0dXRvcmNhcmRfX3N1YmplY3RzLWl0ZW0ke2VsLnNlYXJjaCA/ICcgdHV0b3JjYXJkX19zdWJqZWN0cy1pdGVtLS1zZWFyY2gnIDogJyd9JHtlbC5oaWRkZW4gPyAnIHR1dG9yY2FyZF9fc3ViamVjdHMtaXRlbS0taGlkZGVuJyA6ICcnfVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIj4ke2VsLm5hbWV9IDxzcGFuPijQvtC/0YvRgiA8Yj4ke2VsLmV4cGVyaWVuY2V9PC9iPik8L3NwYW4+PC9hPlxuICAgICAgICAgICAgYCkuam9pbignJyl9XG4gICAgICAgICAgICA8YSBjbGFzcz1cInR1dG9yY2FyZF9fc3ViamVjdHMtbW9yZSBqcy10dXRvcmNhcmQtbW9yZVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIj4rMiDQv9GA0LXQtNC80LXRgtCwPC9hPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19kZXNjXCI+JHtkZXNjcmlwdGlvbn08L3A+XG4gICAgICAgIDwvZGl2PjxhIGNsYXNzPVwidHV0b3JjYXJkX19tb3JlXCIgaHJlZj0ke2xpbmt9PtCf0L7QtNGA0L7QsdC90LXQtTwvYT5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInR1dG9yY2FyZF9fYWN0aW9uc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkX19hY3Rpb25zLWluZm9cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkX19yYXRpbmcke3BhcnNlSW50KHJldmlld3MpID09PSAwID8gJyB0dXRvcmNhcmRfX3JhdGluZy0tZW1wdHknIDogJyd9XCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInR1dG9yY2FyZF9fcmF0aW5nLXJhdGVcIj4ke3JhdGluZ308L3A+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInR1dG9yY2FyZF9fcmF0aW5nLXJldmlld3NcIj4oJHtyZXZpZXdzfSk8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInR1dG9yY2FyZF9fY29zdFwiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0dXRvcmNhcmRfX2Nvc3QtdmFsdWVcIj4ke3ByaWNlfSDigr08L3A+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInR1dG9yY2FyZF9fY29zdC1kZXNjXCI+0LIg0YfQsNGBPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ1dHRvbiBqcy1vcGVuLXBvcHVwJHt0b3AgPyAnIGJ1dHRvbi0tcHJpbWFyeScgOiAnIGJ1dHRvbi0tc2Vjb25kYXJ5J30gdHV0b3JjYXJkX19idG5cIiBkYXRhLXBvcHVwPVwicmVxdWVzdC1hdXRoXCI+0J7RgdGC0LDQstC40YLRjCDQt9Cw0Y/QstC60YM8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICBgO1xuXG4gIC8vIGxvYWQgbW9yZSBjYXRhbG9nIGl0ZW1zXG4gICRjYXRhbG9nTW9yZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICRjYXRhbG9nTW9yZUJ0bi5jbGFzc0xpc3QuYWRkKCdidXR0b24tLWxvYWRpbmcnKTtcblxuICAgIGNvbnN0IGxhdGVzdFBhZ2UgPSBjYXRhbG9nUGFnZXMuY3VycmVudFtjYXRhbG9nUGFnZXMuY3VycmVudC5sZW5ndGggLSAxXSArIDE7XG4gICAgY29uc3QgcXVlcnlVcmwgPSBmb3JtYXRVUkwoYGRhdGEvY2F0YWxvZy5qc29uP3BhZ2U9JHtsYXRlc3RQYWdlfWApO1xuXG4gICAgLy8gc2V0IGN1cnJlbnQgcGFnZXNcbiAgICBjYXRhbG9nUGFnZXMuY3VycmVudC5wdXNoKGxhdGVzdFBhZ2UpO1xuXG4gICAgLy8gc2V0IGN1cnJlbnQgcGFnaW50YWlvbiBwYWdlc1xuICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBhZ2luYXRpb25fX3BhZ2UnKSkubWFwKGVsID0+IHtcbiAgICAgIGlmIChjYXRhbG9nUGFnZXMuY3VycmVudC5pbmNsdWRlcyhwYXJzZUludChlbC5pbm5lclRleHQpKSkge1xuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19wYWdlLS1jdXJyZW50Jyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBmZXRjaChxdWVyeVVybCkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihkYXRhID0+IHtcbiAgICAgIGRhdGEubWFwKGl0ZW0gPT4ge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZ19faXRlbXMnKS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGNhdGFsb2dJdGVtRWxlbWVudChpdGVtKSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGxhdGVzdFBhZ2UgPT09IGNhdGFsb2dQYWdlcy50b3RhbCkge1xuICAgICAgICAkY2F0YWxvZ01vcmVCdG4uY2xhc3NMaXN0LmFkZCgnY2F0YWxvZ19fYm90dG9tLWJ0bi0taGlkZGVuJyk7XG4gICAgICAgICRuZXh0QXJyb3cuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICB9XG5cbiAgICAgICRjYXRhbG9nTW9yZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gZ28gdG8gcHJldmlvdXMgcGFnZVxuICAkcHJldkFycm93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3QgY3VycmVudFBhZ2UgPSBjYXRhbG9nUGFnZXMuY3VycmVudFswXSAtIDE7XG4gICAgY29uc3QgcXVlcnlVcmwgPSBmb3JtYXRVUkwoYGRhdGEvY2F0YWxvZy5qc29uP3BhZ2U9JHtjdXJyZW50UGFnZX1gKTtcblxuICAgIGNhdGFsb2dQYWdlcy5jdXJyZW50ID0gW2N1cnJlbnRQYWdlXTtcblxuICAgIGZldGNoKHF1ZXJ5VXJsKS50aGVuKHJlcyA9PiByZXMuanNvbigpKS50aGVuKGRhdGEgPT4ge1xuICAgICAgbGV0ICRlbGVtZW50cyA9ICcnO1xuICBcbiAgICAgIGRhdGEubWFwKGl0ZW0gPT4ge1xuICAgICAgICAkZWxlbWVudHMgKz0gY2F0YWxvZ0l0ZW1FbGVtZW50KGl0ZW0pO1xuICAgICAgfSk7XG5cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uX19hcnJvdy0tbmV4dCcpLmNsYXNzTGlzdC5yZW1vdmUoJ3BhZ2luYXRpb25fX2Fycm93LS1kaXNhYmxlZCcpO1xuICAgICAgc2V0Q3VycmVudFBhZ2UoY3VycmVudFBhZ2UpO1xuXG4gICAgICBpZiAoY3VycmVudFBhZ2UgPT09IDEpIHtcbiAgICAgICAgJHByZXZBcnJvdy5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgIH1cblxuICAgICAgJGNhdGFsb2dNb3JlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2NhdGFsb2dfX2JvdHRvbS1idG4tLWhpZGRlbicpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGFsb2dfX2l0ZW1zJykuaW5uZXJIVE1MID0gJGVsZW1lbnRzO1xuICAgIH0pO1xuXG4gICAgaWYgKCRzZXBhcmF0b3IpIHtcbiAgICAgIHNldEJyZWFrKGN1cnJlbnRQYWdlKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGdvIHRvIG5leHQgcGFnZVxuICAkbmV4dEFycm93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3QgY3VycmVudFBhZ2UgPSBjYXRhbG9nUGFnZXMuY3VycmVudFtjYXRhbG9nUGFnZXMuY3VycmVudC5sZW5ndGggLSAxXSArIDE7XG4gICAgY29uc3QgcXVlcnlVcmwgPSBmb3JtYXRVUkwoYGRhdGEvY2F0YWxvZy5qc29uP3BhZ2U9JHtjdXJyZW50UGFnZX1gKTtcblxuICAgIGNhdGFsb2dQYWdlcy5jdXJyZW50ID0gW2N1cnJlbnRQYWdlXTtcblxuICAgIGZldGNoKHF1ZXJ5VXJsKS50aGVuKHJlcyA9PiByZXMuanNvbigpKS50aGVuKGRhdGEgPT4ge1xuICAgICAgbGV0ICRlbGVtZW50cyA9ICcnO1xuICBcbiAgICAgIGRhdGEubWFwKGl0ZW0gPT4ge1xuICAgICAgICAkZWxlbWVudHMgKz0gY2F0YWxvZ0l0ZW1FbGVtZW50KGl0ZW0pO1xuICAgICAgfSk7XG5cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uX19hcnJvdy0tcHJldicpLmNsYXNzTGlzdC5yZW1vdmUoJ3BhZ2luYXRpb25fX2Fycm93LS1kaXNhYmxlZCcpO1xuICAgICAgc2V0Q3VycmVudFBhZ2UoY3VycmVudFBhZ2UpO1xuXG4gICAgICBpZiAoY3VycmVudFBhZ2UgPT09IGNhdGFsb2dQYWdlcy50b3RhbCkge1xuICAgICAgICAkY2F0YWxvZ01vcmVCdG4uY2xhc3NMaXN0LmFkZCgnY2F0YWxvZ19fYm90dG9tLWJ0bi0taGlkZGVuJyk7XG4gICAgICAgICRuZXh0QXJyb3cuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICB9XG5cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nX19pdGVtcycpLmlubmVySFRNTCA9ICRlbGVtZW50cztcbiAgXG4gICAgICBpZiAoJHNlcGFyYXRvcikge1xuICAgICAgICBzZXRCcmVhayhjdXJyZW50UGFnZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIGdvIHRvIHNwZWNpZmljIHBhZ2VcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBjb25zdCAkdGhpcyA9IGUudGFyZ2V0O1xuXG4gICAgaWYgKCR0aGlzLmNsYXNzTGlzdC5jb250YWlucygncGFnaW5hdGlvbl9fcGFnZScpKSB7XG4gICAgICBjb25zdCBjdXJyZW50UGFnZSA9IHBhcnNlSW50KCR0aGlzLmRhdGFzZXQucGFnZSk7XG4gICAgICBjb25zdCBxdWVyeVVybCA9IGZvcm1hdFVSTChgZGF0YS9jYXRhbG9nLmpzb24/cGFnZT0ke2N1cnJlbnRQYWdlfWApO1xuXG4gICAgICBjYXRhbG9nUGFnZXMuY3VycmVudCA9IFtjdXJyZW50UGFnZV07XG5cbiAgICAgIGZldGNoKHF1ZXJ5VXJsKS50aGVuKHJlcyA9PiByZXMuanNvbigpKS50aGVuKGRhdGEgPT4ge1xuICAgICAgICBsZXQgJGVsZW1lbnRzID0gJyc7XG4gICAgXG4gICAgICAgIGRhdGEubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICRlbGVtZW50cyArPSBjYXRhbG9nSXRlbUVsZW1lbnQoaXRlbSk7XG4gICAgICAgIH0pO1xuICBcbiAgICAgICAgc2V0Q3VycmVudFBhZ2UoY3VycmVudFBhZ2UpO1xuICBcbiAgICAgICAgaWYgKGN1cnJlbnRQYWdlID09PSBjYXRhbG9nUGFnZXMudG90YWwpIHtcbiAgICAgICAgICAkcHJldkFycm93LmNsYXNzTGlzdC5yZW1vdmUoJ3BhZ2luYXRpb25fX2Fycm93LS1kaXNhYmxlZCcpO1xuICAgICAgICAgICRuZXh0QXJyb3cuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICAgICAgJGNhdGFsb2dNb3JlQnRuLmNsYXNzTGlzdC5hZGQoJ2NhdGFsb2dfX2JvdHRvbS1idG4tLWhpZGRlbicpO1xuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRQYWdlID09PSAxKSB7XG4gICAgICAgICAgJHByZXZBcnJvdy5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgICAgICAkbmV4dEFycm93LmNsYXNzTGlzdC5yZW1vdmUoJ3BhZ2luYXRpb25fX2Fycm93LS1kaXNhYmxlZCcpO1xuICAgICAgICAgICRjYXRhbG9nTW9yZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdjYXRhbG9nX19ib3R0b20tYnRuLS1oaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkcHJldkFycm93LmNsYXNzTGlzdC5yZW1vdmUoJ3BhZ2luYXRpb25fX2Fycm93LS1kaXNhYmxlZCcpO1xuICAgICAgICAgICRuZXh0QXJyb3cuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICAgICAgJGNhdGFsb2dNb3JlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2NhdGFsb2dfX2JvdHRvbS1idG4tLWhpZGRlbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCRzZXBhcmF0b3IpIHtcbiAgICAgICAgICBzZXRCcmVhayhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cblxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZ19faXRlbXMnKS5pbm5lckhUTUwgPSAkZWxlbWVudHM7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuICAvLyBzY3JvbGwgdG8gdHV0b3Igc2VjdGlvblxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudHV0b3JfX25hdi1saW5rJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgdGFyZ2V0ID0gZWwuZGF0YXNldC50YXJnZXQ7XG5cbiAgc2Nyb2xsVG8oe1xuICAgIHRvcDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtYmxvY2s9XCIke3RhcmdldH1cIl1gKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQgLSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyJykub2Zmc2V0SGVpZ2h0LFxuICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICB9KTtcbn0pKTtcblxuLy8gc2V0IHBheW1lbnQgcGVyIGhvdXJcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2ZpbGUtaGVhZF9fc3ViamVjdHMtaXRlbScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IHBheW1lbnQgPSBlbC5kYXRhc2V0LnBheTtcblxuICBlbC5jbG9zZXN0KCcucHJvZmlsZS1oZWFkX19zdWJqZWN0cycpLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLWhlYWRfX3N1YmplY3RzLWl0ZW0tLWhpZ2hsaWdodCcpLmNsYXNzTGlzdC5yZW1vdmUoJ3Byb2ZpbGUtaGVhZF9fc3ViamVjdHMtaXRlbS0taGlnaGxpZ2h0Jyk7XG4gIGVsLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtaGVhZF9fc3ViamVjdHMtaXRlbS0taGlnaGxpZ2h0Jyk7XG5cbiAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudHV0b3JfX2Nvc3QtdmFsdWUgc3BhbicpKS5tYXAoZWwgPT4gZWwuaW5uZXJUZXh0ID0gcGF5bWVudCk7XG59KSk7XG4gIGNvbnN0ICRwcm9maWxlVmlkZW9Db3ZlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLWFib3V0X192aWRlby1jb3ZlcicpO1xuXG4vLyBwbGF5IHZpZGUgb24gYWJvdXQgc2VjdGlvblxuaWYgKCRwcm9maWxlVmlkZW9Db3Zlcikge1xuICAkcHJvZmlsZVZpZGVvQ292ZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY29uc3QgJHZpZGVvID0gJHByb2ZpbGVWaWRlb0NvdmVyLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignaWZyYW1lJyk7XG5cbiAgICAkcHJvZmlsZVZpZGVvQ292ZXIucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdpZnJhbWUnKS5zZXRBdHRyaWJ1dGUoJ3NyYycsICR2aWRlby5nZXRBdHRyaWJ1dGUoJ3NyYycpICsgJz9hdXRvcGxheT0xJyk7XG4gICAgJHByb2ZpbGVWaWRlb0NvdmVyLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtYWJvdXRfX3ZpZGVvLWNvdmVyLS1oaWRkZW4nKTtcbiAgfSk7XG59XG4gIGNvbnN0ICRyZXZpZXdzTW9yZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1yZXZpZXdzLW1vcmUnKTtcblxuaWYgKCRyZXZpZXdzTW9yZUJ0bikge1xuICAvLyByZXZpZXdzIHBhZ2VzIHN0YXRlXG4gIGNvbnN0IHJldmlld3NQYWdlcyA9IHtcbiAgICBjdXJyZW50OiAxLFxuICAgIHRvdGFsOiAzXG4gIH07XG4gIC8vIGdlbmVyYXRlIHJldmlldyBlbGVtZW50XG4gIGNvbnN0IHJldmlld0VsZW1lbnQgPSAoeyBpbWFnZSwgbmFtZSwgZGF0ZSwgcmF0aW5nLCBmZWVkYmFjaywgdGFnIH0pID0+IGBcbiAgICA8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFja1wiPlxuICAgICAgJHtpbWFnZSA/XG4gICAgICAgIGA8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay1pbWFnZVwiIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTogdXJsKCdpbWcvaW5odG1sLyR7aW1hZ2V9JylcIj48L2Rpdj5gIDpcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX2ZlZWRiYWNrLWltYWdlXCI+PC9kaXY+J1xuICAgICAgfVxuICAgICAgPGRpdiBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2staW5mb1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay1oZWFkXCI+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay1uYW1lXCI+JHtuYW1lfTwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay1kYXRlXCI+JHtkYXRlfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAke3RhZyA/ICc8cCBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2stdGFnXCI+JyArIHRhZyArICc8L3A+JyA6ICcnfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fcmF0aW5nLXN0YXJzXCI+XG4gICAgICAgICAgJHtbMSwgMiwgMywgNCwgNV0ubWFwKGUgPT4gZSA8PSByYXRpbmcgP1xuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX3JhdGluZy1zdGFyIHByb2ZpbGUtcmV2aWV3c19fcmF0aW5nLXN0YXItLWZ1bGxcIj48L2Rpdj4nIDpcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19yYXRpbmctc3RhclwiPjwvZGl2PidcbiAgICAgICAgICApLmpvaW4oJycpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHAgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX2ZlZWRiYWNrLXRleHRcIj4ke2ZlZWRiYWNrfTwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICBgO1xuXG4gIC8vIGxvYWQgbW9yZSByZXZpZXcgb24gYnV0dG9uIGNsaWNrXG4gICRyZXZpZXdzTW9yZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB1cmwgPSAkcmV2aWV3c01vcmVCdG4uZGF0YXNldC51cmw7XG5cbiAgICAvLyBpbmNyZW1lbnQgY3VycmVudCBsb2FkZWQgcmV2aWV3cyBwYWdlXG4gICAgKytyZXZpZXdzUGFnZXMuY3VycmVudDtcbiAgICBcbiAgICAvLyBsb2FkIHJldmlld3NcbiAgICBmZXRjaChgJHt1cmx9P3BhZ2U9JHtyZXZpZXdzUGFnZXMuY3VycmVudH1gKS50aGVuKHJlcyA9PiByZXMuanNvbigpKS50aGVuKGRhdGEgPT4ge1xuICAgICAgZGF0YS5tYXAocmV2aWV3ID0+IHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2tzJykuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCByZXZpZXdFbGVtZW50KHJldmlldykpO1xuXG4gICAgICAgIGlmIChyZXZpZXdzUGFnZXMuY3VycmVudCA9PT0gcmV2aWV3c1BhZ2VzLnRvdGFsKSB7XG4gICAgICAgICAgJHJldmlld3NNb3JlQnRuLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59XG4gIC8vIGluaXQgZmFrZVNjcm9sbCBvbiB0aW1lem9uZSBkcm9wZG93blxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlJykpIHtcbiAgY29uc3QgJHRpbWV6b25lRHJvcGRvd24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fdGltZXpvbmUtbWVudScpO1xuXG4gIGlmICghJHRpbWV6b25lRHJvcGRvd24uY2xhc3NMaXN0LmNvbnRhaW5zKCdmYWtlU2Nyb2xsJykpIHtcbiAgICAkdGltZXpvbmVEcm9wZG93bi5mYWtlU2Nyb2xsKCk7XG4gIH1cbn1cblxuY29uc3Qgc2V0RGF0ZVRpbWUgPSAoKSA9PiB7XG4gIGNvbnN0ICRjdXJyZW50VW5pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX191bml0LS1jdXJyZW50Jyk7XG4gIGNvbnN0ICRwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwicmVxdWVzdC1zcGVjaWZpY1wiXScpO1xuXG4gIGlmICgkY3VycmVudFVuaXQpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IGRhdGUgPSAkY3VycmVudFVuaXQuZGF0YXNldC5kYXRlO1xuICAgICAgY29uc3QgdGltZSA9ICRjdXJyZW50VW5pdC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fdGltZS12YWx1ZScpLmlubmVyVGV4dDtcbiAgXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fcGljaycpLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtc2NoZWR1bGVfX3BpY2stLWFjdGl2ZScpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX3BpY2stZGF0ZScpLmlubmVyVGV4dCA9IGRhdGU7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fcGljay10aW1lJykuaW5uZXJUZXh0ID0gdGltZTtcblxuICAgICAgaWYgKCRwb3B1cCkge1xuICAgICAgICAkcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19oZWFkaW5nLWRhdGUnKS5pbm5lclRleHQgPSBkYXRlO1xuICAgICAgICAkcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19oZWFkaW5nLXRpbWUnKS5pbm5lclRleHQgPSB0aW1lO1xuICAgICAgICAkcG9wdXAucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cInRpbWVcIl0nKS52YWx1ZSA9IHRpbWU7XG4gICAgICB9XG4gICAgfSwgMCk7XG4gIH1cbn1cblxuLy8gaGFuZGxlIHNjaGVkdWxlIHNsaWRlclxuY29uc3QgJHByZXZCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1wcmV2Jyk7XG5jb25zdCAkbmV4dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLW5leHQnKTtcblxuaWYgKCRwcmV2QnV0dG9uKSB7XG4gICRwcmV2QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0ICRhY3RpdmVTbGlkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19zbGlkZS0tYWN0aXZlJyk7XG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gKyRhY3RpdmVTbGlkZS5kYXRhc2V0LnNsaWRlO1xuICAgIGNvbnN0ICRwcmV2U2xpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucHJvZmlsZS1zY2hlZHVsZV9fc2xpZGVbZGF0YS1zbGlkZT1cIiR7Y3VycmVudEluZGV4IC0gMX1cIl1gKTtcbiAgXG4gICAgaWYgKCRwcmV2U2xpZGUpIHtcbiAgICAgICRhY3RpdmVTbGlkZS5jbGFzc0xpc3QucmVtb3ZlKCdwcm9maWxlLXNjaGVkdWxlX19zbGlkZS0tYWN0aXZlJyk7XG4gICAgICAkcHJldlNsaWRlLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtc2NoZWR1bGVfX3NsaWRlLS1hY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLW5leHQnKS5jbGFzc0xpc3QucmVtb3ZlKCdwcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLWRpc2FibGVkJyk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtZGF0ZXMnKS5pbm5lclRleHQgPSAkcHJldlNsaWRlLmRhdGFzZXQuZGF0ZXM7XG4gIFxuICAgICAgaWYgKCRwcmV2U2xpZGUuZGF0YXNldC5maXJzdCkge1xuICAgICAgICAkcHJldkJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLWRpc2FibGVkJyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuaWYgKCRuZXh0QnV0dG9uKSB7XG4gICRuZXh0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0ICRhY3RpdmVTbGlkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19zbGlkZS0tYWN0aXZlJyk7XG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gKyRhY3RpdmVTbGlkZS5kYXRhc2V0LnNsaWRlO1xuICAgIGNvbnN0ICRuZXh0U2xpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucHJvZmlsZS1zY2hlZHVsZV9fc2xpZGVbZGF0YS1zbGlkZT1cIiR7Y3VycmVudEluZGV4ICsgMX1cIl1gKTtcbiAgXG4gICAgaWYgKCRuZXh0U2xpZGUpIHtcbiAgICAgICRhY3RpdmVTbGlkZS5jbGFzc0xpc3QucmVtb3ZlKCdwcm9maWxlLXNjaGVkdWxlX19zbGlkZS0tYWN0aXZlJyk7XG4gICAgICAkbmV4dFNsaWRlLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtc2NoZWR1bGVfX3NsaWRlLS1hY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLXByZXYnKS5jbGFzc0xpc3QucmVtb3ZlKCdwcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLWRpc2FibGVkJyk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtZGF0ZXMnKS5pbm5lclRleHQgPSAkbmV4dFNsaWRlLmRhdGFzZXQuZGF0ZXM7XG4gIFxuICAgICAgaWYgKCRuZXh0U2xpZGUuZGF0YXNldC5sYXN0KSB7XG4gICAgICAgICRuZXh0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtc2NoZWR1bGVfX2NvbnRyb2xzLWJ1dHRvbi0tZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG4vLyBoYW5kbGUgc2VsZWN0IGRhdGV0aW1lIHVuaXRcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2ZpbGUtc2NoZWR1bGVfX3VuaXQnKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGlmICghZS50YXJnZXQuY2xvc2VzdCgnLnByb2ZpbGUtc2NoZWR1bGVfX3RpbWUnKSkge1xuICAgIGNvbnN0ICRjdXJyZW50VW5pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX191bml0LS1jdXJyZW50Jyk7XG4gIFxuICAgIGlmICgkY3VycmVudFVuaXQpIHtcbiAgICAgICRjdXJyZW50VW5pdC5jbGFzc0xpc3QucmVtb3ZlKCdwcm9maWxlLXNjaGVkdWxlX191bml0LS1jdXJyZW50Jyk7XG4gICAgfVxuICBcbiAgICBlbC5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLXNjaGVkdWxlX191bml0LS1jdXJyZW50Jyk7XG4gICAgc2V0RGF0ZVRpbWUoKTtcbiAgfVxufSkpO1xuXG4vLyBleGVjdXRlIHNldCBkYXRldGltZSBvbiB0aW1lIGNoYW5nZVxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZmlsZS1zY2hlZHVsZV9fdGltZS1tZW51IC5kcm9wZG93bl9fbWVudS1pdGVtJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNldERhdGVUaW1lKSk7XG5cbn0iXX0=
