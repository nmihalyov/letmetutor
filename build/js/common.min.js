"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,a=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(o=r.next()).done)&&(a.push(o.value),!t||a.length!==t);c=!0);}catch(e){i=!0,n=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw n}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}window.onload=function(){var e={popup:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.onHide,o=t.onShow,n=function(){document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px")},a=function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)};return{isShown:function(){return e.classList.contains("popup--opened")},show:function(){var t=new Promise((function(t){e.style.display="block",t()}));n(),t.then((function(){e.classList.add("popup--opened"),"function"==typeof o&&o()}))},hide:function(){var t=-parseInt(document.body.style.marginTop);e.classList.remove("popup--opened"),setTimeout((function(){e.style.display="none",a(t),"function"==typeof r&&r()}),300)}}},validate:function(e,t){var r=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,o=function(e){e.closest(".input")?e.closest(".input").classList.add("input--error"):e.closest(".textarea")&&e.closest(".textarea").classList.add("textarea--error"),e.focus()};e.querySelector('button[type="submit"]').addEventListener("click",(function(n){n.preventDefault();var a=!0,c=Array.from(e.querySelectorAll("input[required], textarea[required]")),i=e.querySelectorAll(".checkboxselect");c.reverse().map((function(e){switch(e.dataset.passRepeat&&e.value!==e.closest("form").querySelector("input[data-pass]").value&&o(e),e.getAttribute("type")){case"text":case"password":""===e.value&&(o(e),a=!1);break;case"tel":(""===e.value||e.value.includes("_"))&&(o(e),a=!1);break;case"checkbox":e.checked||(e.closest(".checkbox").classList.add("checkbox--error"),a=!1);break;case"email":r.test(e.value)||(o(e),a=!1);break;default:""===e.value&&(o(e),a=!1)}})),i.length&&Array.from(i).map((function(e){var t=!1;Array.from(e.querySelectorAll(".checkbox__input")).map((function(e){e.checked&&(t=!0)})),t||(e.classList.add("checkboxselect--error"),a=!1)})),a&&(n.currentTarget.classList.add("button--loading"),t())})),Array.from(e.querySelectorAll("input")).concat(Array.from(e.querySelectorAll("textarea"))).map((function(e){return e.addEventListener("input",(function(){e.closest(".input")?e.closest(".input").classList.remove("input--error"):e.closest(".checkbox")?e.closest(".checkbox").classList.remove("checkbox--error"):e.closest(".textarea")&&e.closest(".textarea").classList.remove("textarea--error")}))}))}};document.addEventListener("click",(function(t){var r=t.target;if(r.classList.contains("js-open-popup")){t.preventDefault();var o=r.dataset.popup,n=document.querySelector('.js-popup[data-popup="'.concat(o,'"]'));e.popup(n).show()}})),Array.from(document.querySelectorAll(".js-close-popup")).map((function(t){return t.addEventListener("click",(function(t){if(!t.target.closest(".popup__window")||!t.currentTarget.classList.contains("js-popup")){var r=t.currentTarget.closest(".popup");e.popup(r).hide()}}))})),[{$element:document.querySelector("form[data-restore-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-request-auth-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-offer-form]"),callback:function(t){var r=document.querySelector('.js-popup[data-popup="offer"]'),o=document.querySelector('.js-popup[data-popup="offer-success"]');setTimeout((function(){e.popup(r,{onHide:function(){Array.from(r.querySelectorAll("input")).map((function(e){return e.value=""})),e.popup(o).show(),t.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}},{$element:document.querySelector("form[data-request-form]"),callback:function(t){var r=document.querySelector('.js-popup[data-popup="request"]'),o=document.querySelector('.js-popup[data-popup="request-success"]');setTimeout((function(){e.popup(r,{onHide:function(){Array.from(r.querySelectorAll("input")).map((function(e){return e.value=""})),e.popup(o).show(),t.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}},{$element:document.querySelector("form[data-request-specific-form]"),callback:function(t){var r=document.querySelector('.js-popup[data-popup="request-specific"]'),o=document.querySelector('.js-popup[data-popup="request-success"]');setTimeout((function(){e.popup(r,{onHide:function(){Array.from(r.querySelectorAll("input")).map((function(e){return e.value=""})),e.popup(o).show(),t.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}}].map((function(t){var r=t.$element,o=t.callback;r&&e.validate(r,(function(){return o(r)}))}));var t=Array.from(document.querySelectorAll(".dropdown"));document.addEventListener("click",(function(e){var r=e.target;t.map((function(e){e.closest(".dropdown")!==r.closest(".dropdown")&&e.classList.remove("dropdown--active")}))})),t.map((function(e){return e.addEventListener("click",(function(r){e.classList.contains("input__code")&&r.preventDefault(),e.classList.contains("dropdown--active")||(t.map((function(e){return e!=e&&e.classList.remove("dropdown--active")})),e.classList.toggle("dropdown--active"))}))})),document.addEventListener("click",(function(e){var t=e.target.closest(".dropdown__menu-item");if(t&&(document.querySelector(".dropdown--active").classList.remove("dropdown--active"),t.getAttribute("data-toggle"))){var r=e.target,o=r.innerText,n=r.closest(".dropdown__menu").querySelector(".dropdown__menu-item--hidden"),a=r.closest(".dropdown").querySelector(".dropdown__value");n&&n.classList.remove("dropdown__menu-item--hidden"),t.classList.add("dropdown__menu-item--hidden"),a.innerText=o}})),Array.from(document.querySelectorAll(".tabs__item")).map((function(e){return e.addEventListener("click",(function(t){t.preventDefault();var r=e.dataset.tab,o=e.closest("[data-tabs]").querySelector("[data-active]");e.closest(".tabs").querySelector(".tabs__item--active").classList.remove("tabs__item--active"),e.classList.add("tabs__item--active"),o&&(e.closest("[data-tabs]").querySelector("[data-active]").removeAttribute("data-active"),e.closest("[data-tabs]").querySelector('[data-content="'.concat(r,'"]')).setAttribute("data-active",!0))}))}));var r=new Event("changeCountry");Array.from(document.querySelectorAll(".input.dropdown")).concat(Array.from(document.querySelectorAll(".input .dropdown"))).map((function(e){return e.addEventListener("click",(function(){var t=e.querySelector(".dropdown__menu");e.closest(".input").querySelector(".input__dropdown").style.width=e.closest(".input").getBoundingClientRect().width+"px",t.classList.contains("fakeScroll")||t.fakeScroll()}))})),Array.from(document.querySelectorAll(".input__dropdown-item[data-code-loc]")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.codeLoc,r=e.dataset.mask,o=e.closest(".input").querySelector("input");e.closest(".input__code").dataset.codeLoc=t,e.closest(".input__code").dataset.mask=r,o.placeholder=r.replaceAll("9","_"),function(e,t){Inputmask({mask:t}).mask(e)}(o,r)}))})),Array.from(document.querySelectorAll(".input__dropdown-item[data-dropdown]")).map((function(e){return e.addEventListener("click",(function(){var t=e.innerText;e.closest(".input").querySelector("input").value=t,e.closest(".input").classList.remove("input--error"),e.closest(".input").classList.contains("js-auth-country")&&e.closest(".input").dispatchEvent(r)}))})),Array.from(document.querySelectorAll('input[type="tel"]')).map((function(e){Inputmask({mask:e.closest(".input").querySelector(".input__code").dataset.mask}).mask(e)})),Array.from(document.querySelectorAll(".checkboxselect__list")).map((function(e){e.addEventListener("click",(function(t){t.stopPropagation();var r=e.closest(".checkboxselect"),o=!1;r.classList.remove("checkboxselect--error"),Array.from(e.querySelectorAll(".checkbox__input")).map((function(t){var n=r.querySelector(".checkboxselect__input-placeholder");t.checked&&(o=!0),t.addEventListener("click",(function(){var t="";Array.from(e.querySelectorAll("input:checked")).map((function(e){t+=e.closest(".checkboxselect__item").querySelector(".checkbox__text").innerText+", "})),t?(n.innerText=t.substring(0,t.length-2),n.classList.add("checkboxselect__input-placeholder--active")):(n.innerText=n.dataset.placeholder,n.classList.remove("checkboxselect__input-placeholder--active"))}))})),o?r.classList.add("checkboxselect--checked"):r.classList.remove("checkboxselect--checked")})),e.fakeScroll()})),Array.from(document.querySelectorAll(".filters__dropdown-item")).map((function(e){return e.addEventListener("click",(function(e){var t=e.currentTarget,r=t.innerText;t.closest(".filters__input").querySelector(".filters__input-field").value=r}))})),document.querySelectorAll(".filters__input-field").length&&Array.from(document.querySelectorAll(".filters__input-field")).map((function(e){fetch("data/location.json").then((function(e){return e.json()})).then((function(t){var r=e,o=function(e){var o=r.nextElementSibling.querySelector(".filters__dropdown-inner"),n=o.querySelector(".fakeScroll__content")||o,a="location"===r.getAttribute("name"),c=a?t.map((function(e){return e.key})).concat(t.flatMap((function(e){return e.cities}))):JSON.parse(r.dataset.options),i=r.value.toLowerCase(),s=n.closest(".filters__dropdown").querySelector('input[type="checkbox"]'),l=!1;n.innerHTML="",c.map((function(t){if(e||0===t.toLowerCase().indexOf(i)){var r=a?'<a class="filters__dropdown-item dropdown__menu-item'.concat(i&&!e?" filters__dropdown-item--smart":"",'" href="javascript:void(0)"><span>').concat(t.substr(0,i.length),"</span>").concat(t.substr(i.length),"</a>"):'<a class="filters__dropdown-item dropdown__menu-item" href="javascript:void(0)">'.concat(t,"</a>");l=!0,n.insertAdjacentHTML("beforeend",r)}})),l?(o.parentNode.classList.remove("filters__dropdown--hidden"),o.parentNode.classList.remove("filters__dropdown--empty")):s?o.parentNode.classList.add("filters__dropdown--empty"):o.parentNode.classList.add("filters__dropdown--hidden"),Array.from(n.querySelectorAll(".filters__dropdown-item")).map((function(e){return e.addEventListener("click",(function(){r.value=e.innerText,r.setAttribute("data-value",e.innerText),s&&(s.checked=!1,r.removeAttribute("readonly"))}))})),e&&!o.classList.contains("fakeScroll")&&n.fakeScroll()};"cost"!==r.name&&(r.addEventListener("input",(function(){return o(!1)})),r.addEventListener("focus",(function(){return o(!0)})),r.addEventListener("blur",(function(){""!==r.value&&r.dataset.value?r.value=r.dataset.value:r.value=""})))}))})),Array.from(document.querySelectorAll(".filters__cost-range")).map((function(e){var t=+e.dataset.min,r=+e.dataset.max,o=+e.dataset.min,n=+e.dataset.max;noUiSlider.create(e,{start:[o,n],connect:!0,range:{min:t,max:r},step:100}),e.noUiSlider.on("slide",(function(t){var r=parseInt(t[0]),o=parseInt(t[1]);e.closest(".filters__input").querySelector(".filters__input-field").value="".concat(r," ₽ – ").concat(o," ₽"),e.closest(".filters__cost").querySelector('[data-cost="from"]').innerText=r,e.closest(".filters__cost").querySelector('[data-cost="to"]').innerText=o}))})),Array.from(document.querySelectorAll(".filters__dropdown-checkbox")).map((function(e){return e.addEventListener("click",(function(){var t=e.closest(".filters__input").querySelector(".filters__input-field");if(e.querySelector("input").checked){var r=e.querySelector(".checkbox__text").innerText;t.value=r,t.setAttribute("data-value",r),t.setAttribute("readonly","readonly")}else t.value="",t.setAttribute("data-value",""),t.removeAttribute("readonly")}))})),document.addEventListener("click",(function(e){var t=e.target;t.classList.contains("js-tutorcard-more")&&(t.style.display="none",Array.from(t.closest(".tutorcard__subjects").querySelectorAll(".tutorcard__subjects-item--hidden")).map((function(e){e.classList.remove("tutorcard__subjects-item--hidden")})))})),Array.from(document.querySelectorAll(".accordion__item-title")).map((function(e){return e.addEventListener("click",(function(){var t=e.closest(".accordion").querySelector(".accordion__item--active"),r=e.closest(".accordion__item");r.classList.contains("accordion__item--active")?r.classList.remove("accordion__item--active"):(t&&t.classList.remove("accordion__item--active"),r.classList.add("accordion__item--active"))}))}));var o=document.querySelector(".banner");JSON.parse(localStorage.getItem("letmetutor:bannerIsHidden"))?o.remove():(o.style.display="flex",document.querySelector(".banner__close").addEventListener("click",(function(){o.classList.add("banner--hide"),setTimeout((function(){o.remove(),localStorage.setItem("letmetutor:bannerIsHidden",!0)}),500)})));var n=document.querySelector(".cookies");JSON.parse(localStorage.getItem("letmetutor:cookiesIsHidden"))?n.remove():(n.classList.add("cookies--shown"),document.querySelector(".cookies__btn").addEventListener("click",(function(){n.classList.remove("cookies--shown"),setTimeout((function(){n.remove(),localStorage.setItem("letmetutor:cookiesIsHidden",!0)}),500)})));var a=function(){!function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)}(),document.querySelector(".header-menu").classList.remove("header-menu--shown")};document.querySelector(".header__burger").addEventListener("click",(function(){-parseInt(document.body.style.marginTop),document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px"),document.querySelector(".header-menu").classList.add("header-menu--shown")})),document.querySelector(".header-menu__backdrop").addEventListener("click",a),document.querySelector(".header-menu__close").addEventListener("click",a),Array.from(document.querySelectorAll(".header__notifications-wrapper")).map((function(e){e.classList.contains("fakeScroll")||e.fakeScroll()}));new Swiper(".popular__grid--mobile",{loop:!0,loopAdditionalSlides:3,spaceBetween:20,slidesPerView:"auto",centeredSlides:!0,breakpoints:{760:{slidesPerView:2,centeredSlides:!1}}}),new Swiper(".reviews__slider",{loop:!0,spaceBetween:20,slidesPerView:3,slidesPerGroup:3,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".reviews__slider--mobile",{loop:!0,spaceBetween:20,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}});[{$element:document.querySelector("form[data-login-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-signup-student-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-signup-tutor-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-support-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}}].map((function(t){var r=t.$element,o=t.callback;r&&e.validate(r,(function(){return o(r)}))})),Array.from(document.querySelectorAll(".js-auth-country")).map((function(e){return e.addEventListener("changeCountry",(function(t){e.closest("form").querySelector(".js-auth-city").dataset.country=t.target.querySelector("input").value}))})),document.querySelectorAll(".js-auth-city input").length&&fetch("data/location.json").then((function(e){return e.json()})).then((function(e){Array.from(document.querySelectorAll(".js-auth-city input")).map((function(t){t.addEventListener("input",(function(t){var r=t.currentTarget,o=r.closest(".input"),n=o.dataset.country;if(n){var a=e.filter((function(e){return e.key===n}))[0].cities,c=r.value.toLowerCase(),i=r.closest(".input").querySelector(".dropdown__menu"),s=i.querySelector(".fakeScroll__content"),l=!1;s&&(s.innerHTML=""),""!==r.value&&(a.map((function(e){0===e.toLowerCase().indexOf(c)&&(l=!0,s.insertAdjacentHTML("beforeend",'<a class="input__dropdown-item dropdown__menu-item'.concat(c?" input__dropdown-item--smart":"",'" href="javascript:void(0)"><span>').concat(e.substr(0,c.length),"</span>").concat(e.substr(c.length),"</a>")))})),l&&Array.from(o.querySelectorAll(".input__dropdown-item")).map((function(e){return e.addEventListener("click",(function(){r.value=e.innerText}))}))),i.classList.contains("fakeScroll")||i.fakeScroll()}})),t.addEventListener("focus",(function(){var e=t.closest(".input").querySelector(".fakeScroll__content");e&&(e.innerHTML="")}))}))})),Array.from(document.querySelectorAll('input[name="rulesAgreement"]')).map((function(e){return e.addEventListener("change",(function(){var t=e.closest("form").querySelector('button[type="submit"]');e.checked?(t.classList.remove("button--disabled"),t.removeAttribute("disabled")):(t.classList.add("button--disabled"),t.setAttribute("disabled","disabled"))}))})),Array.from(document.querySelectorAll(".auth__toggle .tabs__item")).map((function(e){return e.addEventListener("click",(function(){document.querySelector(".auth__type").value=e.dataset.tab-1}))}));var c=document.querySelector(".js-catalog-more");if(c){var i=document.querySelector(".pagination__arrow--prev"),s=document.querySelector(".pagination__arrow--next"),l=document.querySelector(".pagination__separator"),u={current:[1],total:parseInt(document.querySelector(".catalog__items").dataset.total)},d=function(e){Array.from(document.querySelectorAll(".pagination__page--current")).map((function(e){return e.classList.remove("pagination__page--current")})),document.querySelector('.pagination__page[data-page="'.concat(e,'"]')).classList.add("pagination__page--current")},p=function(e){var t=l.previousSibling,r=document.querySelector(".pagination__page");if(+t.dataset.page===e)e===u.total-2?(r.remove(),l.classList.add("pagination__separator--hidden"),l.insertAdjacentHTML("beforebegin",'<a class="pagination__page" href="javascript:void(0)" data-page="'.concat(e+1,'">').concat(e+1,"</a>"))):e<u.total-2&&(r.remove(),l.insertAdjacentHTML("beforebegin",'<a class="pagination__page" href="javascript:void(0)" data-page="'.concat(e+1,'">').concat(e+1,"</a>")),l.classList.remove("pagination__separator--hidden"));else if(+r.dataset.page===e&&1!==e)t.remove(),document.querySelector(".pagination__pages").insertAdjacentHTML("afterbegin",'<a class="pagination__page" href="javascript:void(0)" data-page="'.concat(e-1,'">').concat(e-1,"</a>")),l.classList.remove("pagination__separator--hidden");else if(e===u.total&&!l.classList.contains("pagination__separator--")){var o=document.querySelectorAll(".pagination__page");l.classList.add("pagination__separator--hidden"),Array.from(o).reverse().map((function(t,r){t.innerText=e-r,t.dataset.page=e-r}))}},m=function(e){var t=e,r=Array.from(document.querySelectorAll(".filters__input-field")).map((function(e){return e.name}));return new URL(location.href).searchParams.toString().split("&").map((function(e){var o=_slicedToArray(e.split("="),1)[0];r.includes(o)&&(t+="&"+e)})),t+="&limit=".concat(document.querySelector(".js-catalog-limit .dropdown__value").innerText)},f=function(e){var t=e.top,r=e.image,o=e.verified,n=e.name,a=e.country,c=e.subjects,i=e.location,s=e.description,l=e.link,u=e.rating,d=e.reviews,p=e.price;return'\n    <div class="tutorcard'.concat(t?" tutorcard--top":"",'">\n      <div class="tutorcard__image" style="background-image: url(\'img/inhtml/').concat(r,'\')"></div>\n      <div class="tutorcard__info">\n        <div>\n          <p class="tutorcard__name').concat(o?" tutorcard__name--verified":"",'">').concat(n,'</p>\n          <p class="tutorcard__location" data-loc=').concat(a,">").concat(i,'</p>\n          <div class="tutorcard__subjects">\n            ').concat(c.map((function(e){return'\n              <a class="tutorcard__subjects-item'.concat(e.search?" tutorcard__subjects-item--search":"").concat(e.hidden?" tutorcard__subjects-item--hidden":"",'" href="javascript:void(0)">').concat(e.name," <span>(опыт <b>").concat(e.experience,"</b>)</span></a>\n            ")})).join(""),'\n            <a class="tutorcard__subjects-more js-tutorcard-more" href="javascript:void(0)">+2 предмета</a>\n          </div>\n          <p class="tutorcard__desc">').concat(s,'</p>\n        </div><a class="tutorcard__more" href=').concat(l,'>Подробнее</a>\n      </div>\n      <div class="tutorcard__actions">\n        <div class="tutorcard__actions-info">\n          <div class="tutorcard__rating').concat(0===parseInt(d)?" tutorcard__rating--empty":"",'">\n            <p class="tutorcard__rating-rate">').concat(u,'</p>\n            <p class="tutorcard__rating-reviews">(').concat(d,')</p>\n          </div>\n          <div class="tutorcard__cost">\n            <p class="tutorcard__cost-value">').concat(p,' ₽</p>\n            <p class="tutorcard__cost-desc">в час</p>\n          </div>\n        </div>\n        <button class="button js-open-popup').concat(t?" button--primary":" button--secondary",' tutorcard__btn" data-popup="request-auth">Оставить заявку</button>\n      </div>\n    </div>\n  ')};c.addEventListener("click",(function(e){e.preventDefault(),c.classList.add("button--loading");var t=u.current[u.current.length-1]+1,r=m("data/catalog.json?page=".concat(t));u.current.push(t),Array.from(document.querySelectorAll(".pagination__page")).map((function(e){u.current.includes(parseInt(e.innerText))&&e.classList.add("pagination__page--current")})),fetch(r).then((function(e){return e.json()})).then((function(e){e.map((function(e){document.querySelector(".catalog__items").insertAdjacentHTML("beforeend",f(e))})),t===u.total&&(c.classList.add("catalog__bottom-btn--hidden"),s.classList.add("pagination__arrow--disabled")),c.classList.remove("button--loading")}))})),i.addEventListener("click",(function(e){e.preventDefault();var t=u.current[0]-1,r=m("data/catalog.json?page=".concat(t));u.current=[t],fetch(r).then((function(e){return e.json()})).then((function(e){var r="";e.map((function(e){r+=f(e)})),document.querySelector(".pagination__arrow--next").classList.remove("pagination__arrow--disabled"),d(t),1===t&&i.classList.add("pagination__arrow--disabled"),c.classList.remove("catalog__bottom-btn--hidden"),document.querySelector(".catalog__items").innerHTML=r})),l&&p(t)})),s.addEventListener("click",(function(e){e.preventDefault();var t=u.current[u.current.length-1]+1,r=m("data/catalog.json?page=".concat(t));u.current=[t],fetch(r).then((function(e){return e.json()})).then((function(e){var r="";e.map((function(e){r+=f(e)})),document.querySelector(".pagination__arrow--prev").classList.remove("pagination__arrow--disabled"),d(t),t===u.total&&(c.classList.add("catalog__bottom-btn--hidden"),s.classList.add("pagination__arrow--disabled")),document.querySelector(".catalog__items").innerHTML=r,l&&p(t)}))})),document.addEventListener("click",(function(e){var t=e.target;if(t.classList.contains("pagination__page")){var r=parseInt(t.dataset.page),o=m("data/catalog.json?page=".concat(r));u.current=[r],fetch(o).then((function(e){return e.json()})).then((function(e){var t="";e.map((function(e){t+=f(e)})),d(r),r===u.total?(i.classList.remove("pagination__arrow--disabled"),s.classList.add("pagination__arrow--disabled"),c.classList.add("catalog__bottom-btn--hidden")):1===r?(i.classList.add("pagination__arrow--disabled"),s.classList.remove("pagination__arrow--disabled"),c.classList.remove("catalog__bottom-btn--hidden")):(i.classList.remove("pagination__arrow--disabled"),s.classList.remove("pagination__arrow--disabled"),c.classList.remove("catalog__bottom-btn--hidden")),l&&p(r),document.querySelector(".catalog__items").innerHTML=t}))}}))}Array.from(document.querySelectorAll(".tutor__nav-link")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.target;scrollTo({top:document.querySelector('[data-block="'.concat(t,'"]')).getBoundingClientRect().top+window.pageYOffset-document.querySelector(".header").offsetHeight,behavior:"smooth"})}))})),Array.from(document.querySelectorAll(".profile-head__subjects-item")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.pay;e.closest(".profile-head__subjects").querySelector(".profile-head__subjects-item--highlight").classList.remove("profile-head__subjects-item--highlight"),e.classList.add("profile-head__subjects-item--highlight"),Array.from(document.querySelectorAll(".js-profile-cost")).map((function(e){return e.innerText=t}))}))}));var _=document.querySelector(".profile-about__video-cover");_&&_.addEventListener("click",(function(){var e=_.parentNode.querySelector("iframe");_.parentNode.querySelector("iframe").setAttribute("src",e.getAttribute("src")+"?autoplay=1"),_.classList.add("profile-about__video-cover--hidden")}));var v=document.querySelector(".js-reviews-more");if(v){var y={current:1,total:3};v.addEventListener("click",(function(e){e.preventDefault();var t=v.dataset.url;++y.current,fetch("".concat(t,"?page=").concat(y.current)).then((function(e){return e.json()})).then((function(e){e.map((function(e){var t,r,o,n,a,c,i;document.querySelector(".profile-reviews__feedbacks").insertAdjacentHTML("beforeend",(r=(t=e).image,o=t.name,n=t.date,a=t.rating,c=t.feedback,i=t.tag,'\n    <div class="profile-reviews__feedback">\n      '.concat(r?'<div class="profile-reviews__feedback-image" style="background-image: url(\'img/inhtml/'.concat(r,"')\"></div>"):'<div class="profile-reviews__feedback-image"></div>','\n      <div class="profile-reviews__feedback-info">\n        <div class="profile-reviews__feedback-head">\n          <div>\n            <p class="profile-reviews__feedback-name">').concat(o,'</p>\n            <p class="profile-reviews__feedback-date">').concat(n,"</p>\n          </div>\n          ").concat(i?'<p class="profile-reviews__feedback-tag">'+i+"</p>":"",'\n        </div>\n        <div class="profile-reviews__rating-stars">\n          ').concat([1,2,3,4,5].map((function(e){return e<=a?'<div class="profile-reviews__rating-star profile-reviews__rating-star--full"></div>':'<div class="profile-reviews__rating-star"></div>'})).join(""),'\n        </div>\n        <p class="profile-reviews__feedback-text">').concat(c,"</p>\n      </div>\n    </div>\n  "))),y.current===y.total&&v.remove()}))}))}))}if(document.querySelector(".profile-schedule")){var b=document.querySelector(".profile-schedule__timezone-menu");b.classList.contains("fakeScroll")||b.fakeScroll()}var h=function(){var e=document.querySelector(".profile-schedule__unit--current"),t=document.querySelector('.js-popup[data-popup="request-specific"]');e&&setTimeout((function(){var r=e.dataset.date,o=e.querySelector(".profile-schedule__time-value").innerText;document.querySelector(".profile-schedule__pick").classList.add("profile-schedule__pick--active"),document.querySelector(".profile-schedule__pick-date").innerText=r,document.querySelector(".profile-schedule__pick-time").innerText=o,t&&(t.querySelector(".popup__heading-date").innerText=r,t.querySelector(".popup__heading-time").innerText=o,t.querySelector('input[name="time"]').value=o)}),0)},g=document.querySelector(".profile-schedule__controls-button--prev"),S=document.querySelector(".profile-schedule__controls-button--next");g&&g.addEventListener("click",(function(){var e=document.querySelector(".profile-schedule__slide--active"),t=+e.dataset.slide,r=document.querySelector('.profile-schedule__slide[data-slide="'.concat(t-1,'"]'));r&&(e.classList.remove("profile-schedule__slide--active"),r.classList.add("profile-schedule__slide--active"),document.querySelector(".profile-schedule__controls-button--next").classList.remove("profile-schedule__controls-button--disabled"),document.querySelector(".profile-schedule__controls-dates").innerText=r.dataset.dates,r.dataset.first&&g.classList.add("profile-schedule__controls-button--disabled"))})),S&&S.addEventListener("click",(function(){var e=document.querySelector(".profile-schedule__slide--active"),t=+e.dataset.slide,r=document.querySelector('.profile-schedule__slide[data-slide="'.concat(t+1,'"]'));r&&(e.classList.remove("profile-schedule__slide--active"),r.classList.add("profile-schedule__slide--active"),document.querySelector(".profile-schedule__controls-button--prev").classList.remove("profile-schedule__controls-button--disabled"),document.querySelector(".profile-schedule__controls-dates").innerText=r.dataset.dates,r.dataset.last&&S.classList.add("profile-schedule__controls-button--disabled"))})),Array.from(document.querySelectorAll(".profile-schedule__unit")).map((function(e){return e.addEventListener("click",(function(t){if(!t.target.closest(".profile-schedule__time")){var r=document.querySelector(".profile-schedule__unit--current");r&&r.classList.remove("profile-schedule__unit--current"),e.classList.add("profile-schedule__unit--current"),h()}}))})),Array.from(document.querySelectorAll(".profile-schedule__time-menu .dropdown__menu-item")).map((function(e){return e.addEventListener("click",h)}))};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbmxvYWQiLCIkYXBpIiwiJHBvcHVwIiwiX3JlZiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsIm9uSGlkZSIsIm9uU2hvdyIsImhpZGVPdmVyZmxvdyIsImRvY3VtZW50IiwiYm9keSIsInN0eWxlIiwiY3NzVGV4dCIsImNvbmNhdCIsInNjcm9sbFkiLCJzaG93T3ZlcmZsb3ciLCJvZmZzZXQiLCJzY3JvbGxUbyIsImlzU2hvd24iLCJjb250YWlucyIsInNob3ciLCJQcm9taXNlIiwicmVzb2x2ZSIsImNsYXNzTGlzdCIsImFkZCIsImhpZGUiLCJwYXJzZUludCIsIm1hcmdpblRvcCIsImRpc3BsYXkiLCJ0aGVuIiwiZm9ybSIsInJlcXVlc3QiLCJlbWFpbFJlZ2V4cCIsInJlbW92ZSIsInNldFRpbWVvdXQiLCJpbnB1dCIsImNsb3Nlc3QiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIiRmb3JtSW5wdXRzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsInNldEludmFsaWRJbnB1dCIsIm1hcCIsImVsIiwiZGF0YXNldCIsInZhbHVlIiwiZm9jdXMiLCJzZXRJbnZhbGlkQ2hlY2tib3giLCJmb3JtSXNWYWxpZCIsImluY2x1ZGVzIiwiJGNoZWNrYm94U2VsZWN0IiwiY2hlY2tlZCIsImdldEF0dHJpYnV0ZSIsImNoZWNrYm94IiwiY3VycmVudFRhcmdldCIsIiR0aGlzIiwidGFyZ2V0IiwicG9wdXAiLCJjYWxsYmFjayIsIiRlbGVtZW50IiwiJHBvcHVwRm9ybXMiLCIkc3VjY2Vzc1BvcHVwIiwidmFsaWRhdGUiLCIkZHJvcGRvd25zIiwidG9nZ2xlIiwiJGRyb3Bkb3duTWVudUl0ZW0iLCIkaGlkZGVuSXRlbSIsIm5ld1ZhbHVlIiwidGFiIiwiJGFjdGl2ZVRhYkNvbnRlbnQiLCIkZHJvcGRvd25WYWx1ZSIsInNldEF0dHJpYnV0ZSIsIiRkcm9wZG93biIsIndpZHRoIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibG9jIiwiY29kZUxvYyIsIm1hc2siLCIkaW5wdXQiLCJ1cGRhdGVNYXNrIiwiSW5wdXRtYXNrIiwicmVwbGFjZUFsbCIsImZha2VTY3JvbGwiLCJjaGFuZ2VDb3VudHJ5RXZlbnQiLCJsaXN0IiwiaW5uZXJUZXh0IiwiaXRlbSIsIiRwbGFjZWhvbGRlciIsInBsYWNlaG9sZGVyIiwiZmV0Y2giLCJyZXMiLCJqc29uIiwiZGF0YSIsIiRkcm9wZG93bkVsZW1lbnQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJvcHRpb25zIiwiaW5wdXRTbWFydFNlYXJjaCIsImtleSIsImZsYXRNYXAiLCJjaXRpZXMiLCJKU09OIiwicGFyc2UiLCJsb3dlckNhc2VWYWx1ZSIsInRvTG93ZXJDYXNlIiwiZmlyc3RSZW5kZXIiLCJpbmRleE9mIiwic3Vic3RyIiwibWF0Y2hlc0ZvdW5kIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiJGNoZWNrYm94IiwiaGFuZGxlSW5wdXQiLCIkcmFuZ2UiLCJtaW4iLCJtYXgiLCJzbWluIiwic21heCIsInN0YXJ0IiwiY29ubmVjdCIsInN0ZXAiLCJ2YWx1ZXMiLCJjaGVja2JveFZhbHVlIiwiJGlucHV0RmllbGQiLCJub1VpU2xpZGVyIiwiJHRhcmdldCIsIiRhY3RpdmVJdGVtIiwicmVtb3ZlQXR0cmlidXRlIiwiJGN1cnJlbnRJdGVtIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIiRiYW5uZXIiLCJzZXRJdGVtIiwiJGNvb2tpZXMiLCJoaWRlSGVhZGVyTWVudSIsIlN3aXBlciIsInNwYWNlQmV0d2VlbiIsInNsaWRlc1BlclZpZXciLCJjZW50ZXJlZFNsaWRlcyIsInNsaWRlc1Blckdyb3VwIiwicGFnaW5hdGlvbiIsImNsaWNrYWJsZSIsInBvcHVsYXJTbGlkZXIiLCJicmVha3BvaW50cyIsImxvb3BBZGRpdGlvbmFsU2xpZGVzIiwic3VibWl0IiwicmV2aWV3U2xpZGVyTW9iaWxlIiwibG9vcCIsIiRhdXRoRm9ybXMiLCIkbGFiZWxFbGVtZW50IiwiY291bnRyeSIsImZpbHRlciIsIiRkcm9wZG93bkNvbnRlbnQiLCJpbm5lckhUTUwiLCIkc3VibWl0QnV0dG9uIiwiJGNhdGFsb2dNb3JlQnRuIiwiJHByZXZBcnJvdyIsIiRuZXh0QXJyb3ciLCIkc2VwYXJhdG9yIiwiY2F0YWxvZ1BhZ2VzIiwidG90YWwiLCJjdXJyZW50UGFnZSIsInNldEJyZWFrIiwibGF0ZXN0UGFnZSIsIiRiZWZvcmVTZXBhcmF0b3JJdGVtIiwicHJldmlvdXNTaWJsaW5nIiwicGFnZSIsIiRmaXJzdEl0ZW0iLCJjdXJyZW50Iiwic2V0Q3VycmVudFBhZ2UiLCIkcGFnaW5hdGlvblBhZ2VzIiwicmV2ZXJzZSIsImkiLCJmb3JtYXRVUkwiLCJ1cmwiLCJmb3JtYXR0ZWRVUkwiLCJmaWx0ZXJzTmFtZXMiLCJuYW1lIiwidG9TdHJpbmciLCJzcGxpdCIsInRvcCIsImltYWdlIiwidmVyaWZpZWQiLCJzdWJqZWN0cyIsImxvY2F0aW9uIiwiZGVzY3JpcHRpb24iLCJsaW5rIiwicmF0aW5nIiwicmV2aWV3cyIsInByaWNlIiwic2VhcmNoIiwiaGlkZGVuIiwiZXhwZXJpZW5jZSIsInB1c2giLCJxdWVyeVVybCIsImNhdGFsb2dJdGVtRWxlbWVudCIsIiRlbGVtZW50cyIsInBhZ2VZT2Zmc2V0Iiwib2Zmc2V0SGVpZ2h0IiwicGF5bWVudCIsInBheSIsIiRwcm9maWxlVmlkZW9Db3ZlciIsIiR2aWRlbyIsInBhcmVudE5vZGUiLCIkcmV2aWV3c01vcmVCdG4iLCJyZXZpZXdzUGFnZXMiLCJyZXZpZXciLCJfcmVmMyIsImRhdGUiLCJmZWVkYmFjayIsInRhZyIsImpvaW4iLCIkdGltZXpvbmVEcm9wZG93biIsIiRjdXJyZW50VW5pdCIsInRpbWUiLCIkcHJldkJ1dHRvbiIsIiRuZXh0QnV0dG9uIiwiJGFjdGl2ZVNsaWRlIiwiJHByZXZTbGlkZSIsImZpcnN0Iiwic2xpZGUiLCJjdXJyZW50SW5kZXgiLCJkYXRlcyIsImxhc3QiLCIkbmV4dFNsaWRlIiwic2V0RGF0ZVRpbWUiXSwibWFwcGluZ3MiOiIwcUNBQUFBLE9BQU9DLE9BQVMsV0FHaEIsSUFBTUMsRUFBTyxDQUdiQSxNQUFhLFNBQUNDLEdBQW9DLElBQUFDLEVBQUFDLFVBQUFDLE9BQUEsUUFBQUMsSUFBQUYsVUFBQSxHQUFBQSxVQUFBLEdBQVAsR0FBbkJHLEVBQTBCSixFQUExQkksT0FBUUMsRUFBa0JMLEVBQWxCSyxPQUV4QkMsRUFBZSxXQUNuQkMsU0FBU0MsS0FBS0MsTUFBTUMsUUFBcEIsZ0NBQUFDLFFBQStEZixPQUFPZ0IsUUFBdEUsT0FJSUMsRUFBZSxTQUFBQyxHQWJ2QmxCLFNBQUFZLEtBQWdCQyxNQUFBQyxRQUFNLGtDQUd0QmQsT0FBVW1CLFNBRVYsRUFBQUQsSUFDa0QsTUFBQSxDQUFBRSxRQUFsQlgsV0FBQUEsT0FBa0JOLEVBQWxCTSxVQUFrQlksU0FBQSxrQkFDaERDLEtBRGdELFdBRWhELElBQU1aLEVBQVksSUFBR2EsU0FBZmIsU0FBQUEsR0FDSkMsRUFBU0MsTUFBS0MsUUFBTUMsUUFHdEJVLE9BQ0FkLElBR0VWLEVBQU9tQixNQUFBQSxXQUhUaEIsRUFBQXNCLFVBQUFDLElBQUEsaUJBb0I0QixtQkFBWGpCLEdBZGpCQSxRQUdFa0IsS0FoQjhDLFdBaUI5Q0wsSUFKS0osR0FBQVUsU0FJRWpCLFNBQUFDLEtBQUFDLE1BQUFnQixXQUVIMUIsRUFBQUEsVUFBYTJCLE9BQWIsaUJBQ0FOLFlBQU8sV0FDUnJCLEVBSERVLE1BQUFpQixRQUFBLE9BS0FwQixFQUFZUSxHQUVDLG1CQUFMYSxHQUNONUIsTUFDQSxRQU1Kd0IsU0FwQkssU0FBQUssRUFBQUMsR0FxQkgsSUFBQUMsRUFBZ0JOLHlKQUVoQnpCLEVBQWlCZ0MsU0FBQUEsR0FDakJDLEVBQUFBLFFBQVcsVUFDVGpDLEVBQUFBLFFBQU9VLFVBQVBZLFVBQUFDLElBQUEsZ0JBQ0FULEVBQUFBLFFBQVksY0FnQmRvQixFQUFNQyxRQUFRLGFBQWFiLFVBQVVDLElBQUksbUJBZHJDbEIsRUFBQUEsU0FzQlJ3QixFQUFLTyxjQUFjLHlCQUF5QkMsaUJBQWlCLFNBQVMsU0FBQUMsR0FDcEVBLEVBQUVDLGlCQWRKLElBQU1SLEdBQWMsRUFpQlpTLEVBQWNDLE1BQU1DLEtBQUtiLEVBQUtjLGlCQUFpQix3Q0FoQmpEQyxFQUFrQmYsRUFBQWMsaUJBQUEsbUJBRXBCVCxFQUFNQyxVQUFRVSxLQUFkLFNBQUFDLEdBSUZaLE9BTEFZLEVBRU9DLFFBQUliLFlBQWNZLEVBQUFFLFFBQWNGLEVBQUFYLFFBQUEsUUFBQUMsY0FBQSxvQkFBQVksT0FDckNkLEVBQWNZLEdBRVZHLEVBQUFBLGFBQU4sU0FORixJQUFBLE9BMEJNLElBQUssV0FsQmEsS0FBbEJDLEVBQUFBLFFBQ0VmLEVBQVFXLEdBRGhCSyxHQUFBLEdBSUtmLE1BQ0RHLElBQUFBLE9BRWdCLEtBQWRZLEVBQUFBLE9BQUpMLEVBQUFFLE1BQUFJLFNBQUEsUUFDTVosRUFBY0MsR0FDZFksR0FBZSxHQUduQixNQUNFVCxJQUFBQSxXQUNERSxFQUFBUSxVQWtCd0JSLEVBL0MxQlgsUUFBQSxhQUFBYixVQUFBQyxJQUFBLG1CQStCQzRCLEdBQVVJLEdBRVIsTUFDRSxJQUFBLFFBQ0VYLEVBQUFBLEtBQWVFLEVBQWZFLFNBQ0FHLEVBQWNMLEdBQ2ZLLEdBQUEsR0FDRCxNQW1CRixRQWxCQSxLQUFBTCxFQUFLRSxRQUNISixFQUFJRSxHQUNGRixHQUFBQSxPQXdCSlMsRUFBZ0JsRCxRQXBCaEJzQyxNQUFBQyxLQUFLVyxHQUFMUixLQUFBLFNBQUFDLEdBQ0UsSUFBQVEsR0FBUUEsRUFFTkgsTUFBQUEsS0FBQUEsRUFBQUEsaUJBQUEscUJBQUFOLEtBQUEsU0FBQVcsR0FDREEsRUFBQUYsVUFzQkNBLEdBQVUsTUFuQlpBLElBQ0VWLEVBQUFBLFVBQUFBLElBQUFBLHlCQUNBTyxHQUFBQSxNQUdKQSxJQUNFYixFQUFBbUIsY0FBT1QsVUFBUHpCLElBQXFCLG1CQUNuQnFCLFFBNUJOSCxNQUFBQyxLQUFBYixFQUFBYyxpQkFBQSxVQUFBL0IsT0FBQTZCLE1BQUFDLEtBQUFiLEVBQUFjLGlCQUFBLGNBQUFFLEtBQUEsU0FBQUMsR0FBQSxPQUFBQSxFQUFBVCxpQkFBQSxTQUFBLFdBTEZTLEVBQUFYLFFBQUEsVUFnRUVXLEVBQUdYLFFBQVEsVUFBVWIsVUFBVVUsT0FBTyxnQkF6QnBDcUIsRUFBQUEsUUFBZ0JsRCxhQUNsQnNDLEVBQUFBLFFBQU1DLGFBQUtXLFVBQXFCckIsT0FBQSxtQkFDMUJzQixFQUFBQSxRQUFVLGNBRWRiLEVBQUFBLFFBQU1DLGFBQVFDLFVBQUhYLE9BQW9CLDJCQU0vQnhCLFNBQUE2QixpQkFBYyxTQUFBLFNBQUFDLEdBQ1pRLElBQUFBLEVBQUd4QixFQUFBQSxPQUVKLEdBQUFvQyxFQUFBcEMsVUFBQUosU0FBQSxpQkFBQSxDQUNGb0IsRUFBQUMsaUJBMkJILElBQU1vQixFQUFTRCxFQUFNWCxRQUFRYSxNQXhCekJULEVBQUFBLFNBQWFmLGNBQWJlLHlCQUFBQSxPQUFhUSxFQUFiUixPQUVGckIsRUFBQUEsTUFBTzlCLEdBQUFtQixXQUtUc0IsTUFBQUMsS0FBQWxDLFNBQU8yQixpQkFBbUIsb0JBQUFVLEtBQUEsU0FBQUMsR0FBQSxPQUN4QkEsRUFBQUEsaUJBQVcsU0FBVXhCLFNBQUFBLEdBQ3RCLElBQUFnQixFQUZEcUIsT0FFT3hCLFFBQU9BLG9CQUFzQkcsRUFBQW1CLGNBQUFuQyxVQUFBSixTQUFBLFlBQUEsQ0FDbEM0QixJQUFFOUMsRUFBU3NDLEVBQUFtQixjQUFhbkMsUUFBVVUsVUFFbENjLEVBQUFBLE1BQUdYLEdBQVFYLGNBK0JHLENBQUMsQ0F6QnJCaEIsU0FBUzZCLFNBQUFBLGNBQVQsMkJBQ0V3QixTQUFNSCxTQUFBQSxHQTJCSnpCLFlBQVcsV0F6QmI2QixFQUFVeEMsY0FBVUoseUJBQTJCSSxVQUFBVSxPQUFBLG1CQUM3Q00sRUFBRUMsV0FFRixPQUlELENBQ0Z1QixTQUVEdEQsU0FBQTRCLGNBQUEsZ0NBdUJFeUIsU0FBVSxTQUFBQyxHQXRCWnJCLFlBQVdqQyxXQUFvRHNELEVBQzFEekIsY0FBQUEseUJBQStCZixVQUFBVSxPQUFBLG1CQUNoQzhCLEVBQU1ILFdBQ0osT0FJSCxDQVA0REcsU0FVL0R0RCxTQUFBNEIsY0FBQSx5QkFxQkV5QixTQUFVLFNBQUFDLEdBcEJaLElBQU1DLEVBQVd2RCxTQUFJNEIsY0FBQSxpQ0FDbkIwQixFQUFtQjFCLFNBQUFBLGNBQWMseUNBRS9CSCxZQUFBQSxXQUNFNkIsRUFBQUEsTUFBUzFCLEVBQUFBLENBQ1QwQixPQURTMUIsV0FFUkssTUFISEMsS0FBQTFDLEVBQUEyQyxpQkFBQSxVQUFBRSxLQUFBLFNBQUFDLEdBQUEsT0FBQUEsRUFBQUUsTUFBQSxNQUlEakQsRUFBQTZELE1BQUFJLEdBQUE3QyxPQUVIMkMsRUFBQTFCLGNBQUEseUJBQUFkLFVBQUFVLE9BQUEsc0JBRUU2QixTQUNFNUIsT0FHQyxDQUNGNkIsU0FBQXRELFNBQUE0QixjQUFBLDJCQVBIeUIsU0FTQSxTQUFBQyxHQUNFQSxJQUFBQSxFQUFVdEQsU0FBUzRCLGNBQWMsbUNBQ2pDeUIsRUFBVXJELFNBQUFzRCxjQUFZLDJDQUVwQjdCLFlBQU0rQixXQUVOL0IsRUFBQUEsTUFBV2pDLEVBQUEsQ0FDVEQsT0FEUyxXQUVQTSxNQURpQnFDLEtBQUExQyxFQUFBMkMsaUJBQ1IsVUFBQUUsS0FBQSxTQUFBQyxHQUFBLE9BQUFBLEVBQUFFLE1BQUEsTUFDUFAsRUFBQUEsTUFBTUMsR0FBWUMsT0FBaUNtQixFQUFBMUIsY0FBZSx5QkFBZmQsVUFBQVUsT0FBQSxzQkFDbkRqQyxTQUNBK0QsT0FHTCxDQUNGQSxTQUFBdEQsU0FBQTRCLGNBQUEsb0NBZkh5QixTQWlCQSxTQUFBQyxHQUNFQSxJQUFBQSxFQUFVdEQsU0FBUzRCLGNBQWMsNENBQ2pDeUIsRUFBVXJELFNBQUFzRCxjQUFZLDJDQUVwQjdCLFlBQU0rQixXQUVOL0IsRUFBQUEsTUFBV2pDLEVBQUEsQ0FDVEQsT0FEUyxXQUVQTSxNQURpQnFDLEtBQUExQyxFQUFBMkMsaUJBQ1IsVUFBQUUsS0FBQSxTQUFBQyxHQUFBLE9BQUFBLEVBQUFFLE1BQUEsTUFDUFAsRUFBQUEsTUFBTUMsR0FBWUMsT0FBaUNtQixFQUFBMUIsY0FBZSx5QkFBZmQsVUFBQVUsT0FBQSxzQkFDbkRqQyxTQUNBK0QsUUFNVmpCLEtBQUEsU0FBQWhCLEdBQ0VpQyxJQUFBQSxFQUFtQjFCLEVBQW5CMEIsU0FBVXRELEVBQVM0QixFQUFUNUIsU0FFUnNELEdBQ0EvRCxFQUFBa0UsU0FBTUQsR0FBZ0J4RCxXQUFBQSxPQUFRcUQsRUFBQ3pCLFNBSTNCL0IsSUFBQUEsRUFEaUJvQyxNQUFBQyxLQUFBbEMsU0FDUm1DLGlCQUFBLGNBQzRDbkMsU0FBQTZCLGlCQUFuRCxTQUFBLFNBQUFDLEdBQ0F2QyxJQUFBQSxFQUFJdUMsRUFBQ3NCLE9BRU5NLEVBQUFyQixLQUFBLFNBQUFDLEdBTGdCQSxFQUFuQlgsUUFBQSxlQUFBdUIsRUFBQXZCLFFBQUEsY0FPRFcsRUFBRXhCLFVBUkhVLE9BQUEsMEJBY0ZrQyxFQUFrQkwsS0FBQUEsU0FBQUEsR0FBbEIsT0FBK0JoQyxFQUFiZ0MsaUJBQWxCLFNBQUEsU0FBQXZCLEdBcUJJUSxFQUFHeEIsVUFBVUosU0FBUyxnQkFuQjFCb0IsRUFBQUMsaUJBQ0VPLEVBQUF4QixVQUFBSixTQUFBLHNCQUNEZ0QsRUFBQXJCLEtBQUEsU0FBQUMsR0FBQSxPQUFBQSxHQUFBQSxHQUFBQSxFQUFBeEIsVUFBQVUsT0FBQSx1QkFMSGMsRUFBQXhCLFVBQUE2QyxPQUFBLDJCQWFFRCxTQUFBQSxpQkFBZSxTQUFNLFNBQUE1QixHQUNuQixJQUFBOEIsRUFBYzlCLEVBQUFxQixPQUFYeEIsUUFBa0NBLHdCQUVwQyxHQUFBaUMsSUFDRjVELFNBSkQ0QixjQUFBLHFCQUFBZCxVQUFBVSxPQUFBLG9CQTBCTW9DLEVBQWtCYixhQUFhLGdCQUFnQixDQWxCdkRXLElBQVVSLEVBQUtwQixFQUFBcUIsT0FBTWIsRUFBR1QsRUFBQUEsVUFDaEJnQyxFQUFXbkQsRUFBU2lCLFFBQUEsbUJBQWdCQyxjQUFBLGdDQUN0Q0csRUFBRm1CLEVBQUF2QixRQUFBLGFBQUFDLGNBQUEsb0JBc0JNaUMsR0FuQlJBLEVBQVEvQyxVQUFVSixPQUFTLCtCQUNSa0QsRUFBakI5QyxVQUFBQyxJQUFBLCtCQUNBdUIsRUFBYXFCLFVBQU9HLE1BS3hCOUQsTUFBQUEsS0FBUzZCLFNBQUFBLGlCQUEwQixnQkFBS1EsS0FBQSxTQUFBQyxHQUFBLE9BQUFBLEVBQUFULGlCQUFBLFNBQUEsU0FBQUMsR0FDdENBLEVBQUFDLGlCQXVCQSxJQUFNb0IsRUFBU2IsRUFBR0MsUUFBUXdCLElBckJ0QkgsRUFBbUJ0QixFQUFBWCxRQUFBLGVBQUFDLGNBQUEsaUJBd0J2QlUsRUFBR1gsUUFBUSxTQUFTQyxjQUFjLHVCQUF1QmQsVUFBVVUsT0FBTyxzQkFyQnhFYyxFQUFBeEIsVUFBSThDLElBQUFBLHNCQUVGSSxJQUNBMUIsRUFBQVgsUUFBTWtDLGVBQWNYLGNBQWMsaUJBQW1CdEIsZ0JBQWMsZUFDbkVVLEVBQUFYLFFBQU1zQyxlQUFpQmYsY0FBdkIsa0JBQUE5QyxPQUFrRHdCLEVBQWxELE9BQWdFc0MsYUFBQSxlQUFoRSxVQUdFTCxJQUFBQSxFQUFZL0MsSUFBVVUsTUFBTyxpQkFPcENTLE1BQ0NDLEtBQUFsQyxTQUFBbUMsaUJBQUEsb0JBc0JEL0IsT0FBTzZCLE1BQU1DLEtBQUtsQyxTQUFTbUMsaUJBQWlCLHNCQXJCN0NGLEtBQUFBLFNBQUFBLEdBQUssT0FBQ0MsRUFBS2xDLGlCQUFTbUMsU0FBaUIsV0FBc0IsSUFBQWdDLEVBQU90QyxFQUFBQSxjQUFpQixtQkFDakZDLEVBQUFBLFFBQUVDLFVBQUZILGNBQUEsb0JBQUExQixNQUFBa0UsTUFBQTlCLEVBQUFYLFFBQUEsVUFBQTBDLHdCQUFBRCxNQUFBLEtBRUFELEVBQU1ILFVBQWlCdEQsU0FBTWlCLGVBRTdCVyxFQUFHWCxtQkFLRFcsTUFBQUEsS0FBR1gsU0FBUVEsaUJBQWVQLHlDQUFnQ3VCLEtBQTFELFNBQUFiLEdBQUEsT0FBQUEsRUFBc0U0QixpQkFBYSxTQUFuRixXQUNELElBQUFJLEVBQUFoQyxFQUFBQyxRQUFBZ0MsUUFYd0RDLEVBQUFsQyxFQUFBQyxRQUFBaUMsS0FBM0RDLEVBQUFuQyxFQUFBWCxRQUFBLFVBQUFDLGNBQUEsU0FxQ0VVLEVBQUdYLFFBQVEsZ0JBQWdCWSxRQUFRZ0MsUUFBVUQsRUF0Qi9DaEMsRUFBQVgsUUFBTStDLGdCQUFBQSxRQUFBQSxLQUFhRixFQUNqQkcsRUFBQUEsWUFBVUgsRUFBQUksV0FBQSxJQUFBLEtBRE8sU0FBQ2xELEVBQU84QyxHQXJCckJaLFVBQUFBLENBQUFBLEtBQUFBLElBQUFBLEtBQWlCbEMsR0FzQlY4QyxDQUFBQSxFQUFBQSxTQTRCYnZDLE1BQU1DLEtBQUtsQyxTQUFTbUMsaUJBQWlCLHlDQUF5Q0UsS0FBSSxTQUFBQyxHQUFFLE9BQUlBLEVBQUdULGlCQUFpQixTQUFTLFdBeEJySEksSUFBTUMsRUFBS2xDLEVBQUFBLFVBR1RzQyxFQUFBWCxRQUFNd0MsVUFBWTdCLGNBQUdWLFNBQWNZLE1BQUFBLEVBQ25DRixFQUFBQSxRQUFHWCxVQUFRYixVQUFVYyxPQUFyQixnQkFFQVUsRUFBQVgsUUFBS3dDLFVBQVVyRCxVQUFVSixTQUFTLG9CQUNoQ3lELEVBQUFBLFFBQUFBLFVBQVVVLGNBQVZDLFNBS0o3QyxNQUFBQSxLQUFNQyxTQUFLbEMsaUJBQVNtQyxzQkFBaUJFLEtBQUEsU0FBQUMsR0FBK0NxQyxVQUFJckMsQ0FBRWtDLEtBQUMzQyxFQUFBQSxRQUFILFVBQTZCRCxjQUFNLGdCQUFBVyxRQUFBaUMsT0FBQUEsS0FBQWxDLE1BR3pITCxNQUFBQyxLQUFNdUMsU0FBU25DLGlCQUFXLDBCQUExQkQsS0FBQSxTQUFBMEMsR0FFQXpDLEVBQUFBLGlCQUFXLFNBQWdCQyxTQUFBQSxHQUMzQkQsRUFBQUEsa0JBRUFvQyxJQUFBQSxFQUFtQkYsRUFBbkI3QyxRQUFBLG1CQVJrRm1CLEdBQUEsRUFtQ2hGRCxFQUFnQi9CLFVBQVVVLE9BQU8seUJBdkIrQ1MsTUFBQUMsS0FBT0wsRUFBQUEsaUJBQWlCLHFCQUFlUSxLQUFBLFNBQUFXLEdBQ3pILElBQU1SLEVBQVd3QyxFQUFqQnBELGNBQUEsc0NBR0dELEVBQVFtQixVQUFVaEMsR0FBVVUsR0FFL0J3QixFQUFPckIsaUJBQWtCYixTQUFVSixXQUNqQzRCLElBQUdYLEVBQVEsR0FQcUVNLE1BQUFDLEtBQUE2QyxFQUFBNUMsaUJBQUEsa0JBQUFFLEtBQUEsU0FBQTRDLEdBV3BGekMsR0FBQXlDLEVBQUF0RCxRQUFBLHlCQUFBQyxjQUFBLG1CQUFBb0QsVUFBQSxRQUVFTCxHQUFlTyxFQUFhRixVQUFVcEQsRUFBQUEsVUFBYyxFQUFBWSxFQUFBN0MsT0FBZ0I0QyxHQUFlaUMsRUFBbkYxRCxVQUFBQyxJQUFBLCtDQTRCUW1FLEVBQWFGLFVBQVlFLEVBQWEzQyxRQUFRNEMsWUF6QmxEakQsRUFBY0MsVUFBQUEsT0FBaUIsb0RBT2pDVSxFQUVBWixFQUFnQkUsVUFBQUEsSUFBQUEsMkJBR2RVLEVBQWFDLFVBQVNBLE9BQU8sOEJBTXpCTixFQUFBQSxnQkFHRlAsTUFBQUMsS0FBQWxDLFNBQUFtQyxpQkFBVyw0QkFBQUUsS0FBQSxTQUFBQyxHQUFBLE9BQUFBLEVBQUFULGlCQUFBLFNBQUEsU0FBQUMsR0FDVG9ELElBQUFBLEVBQUFBLEVBQUFBLGNBQ0FBLEVBQUFBLEVBQUFBLFVBRUFBLEVBQUFBLFFBQUFBLG1CQUFBdEQsY0FBcUMseUJBQXJDWSxNQUFBQSxRQUlMeEMsU0FwQkRtQyxpQkFBQSx5QkFBQXhDLFFBeUNGc0MsTUFBTUMsS0FBS2xDLFNBQVNtQyxpQkFBaUIsMEJBQTBCRSxLQUFJLFNBQUFDLEdBbkJqRThDLE1BQUl0QyxzQkFBUzFCLE1BQUEsU0FBQWlFLEdBQUEsT0FBQUEsRUFBQUMsVUFBQWxFLE1BQUEsU0FBQW1FLEdBQ1gxQyxJQUFBQSxFQUFBQSxFQUVBQSxFQUFnQi9CLFNBQUFBLEdBQ2pCLElBQUEwRSxFQUFBdEMsRUFBQXVDLG1CQUFBN0QsY0FBQSw0QkFsQ0h1QyxFQUFBcUIsRUFBQTVELGNBQUEseUJBQUE0RCxFQXFDS1gsRUFBTCxhQUFBM0IsRUFBQUgsYUFBQSxRQUVBMkMsRUFBQUMsRUFBQUosRUFBQWxELEtBQUEsU0FBQUMsR0FBQSxPQUFBQSxFQUFBc0QsT0FBQXhGLE9BQUFtRixFQUFBTSxTQUFBLFNBQUFaLEdBQUEsT0FBQUEsRUFBQWEsV0FBQUMsS0FBQUMsTUFBQTlDLEVBQUFYLFFBQUFtRCxTQW1CWU8sRUFBaUIvQyxFQUFNVixNQUFNMEQsY0FsQmhDbEcsRUFBU21DLEVBQUFBLFFBQWlCLHNCQUFyQ1AsY0FBcUUsMEJBQU1VLEdBQUdULEVBRTVFc0MsRUFBY2pCLFVBQU04QixHQUt0QlUsRUFBQXJELEtBQUEsU0FBQUMsR0FtQlUsR0FBSTZELEdBQTRELElBQTdDN0QsRUFBRzRELGNBQWNFLFFBQVFILEdBQXVCLENBbEJ6RWpHLElBQVNtQyxFQUFBQSxFQUFpQix1REFBQS9CLE9BQzVCNkYsSUFBeUVFLEVBQUEsaUNBQUEsR0FEN0Msc0NBQUEvRixPQUM2Q2tDLEVBQUErRCxPQUFBLEVBQUFKLEVBQUF0RyxRQUQ3QyxXQUFBUyxPQUM2Q2tDLEVBQUErRCxPQUFBSixFQUFBdEcsUUFEN0MsUUFBQSxtRkFBQVMsT0FFVWtDLEVBRlYsUUFFVWdFLEdBQUEsRUFBZ0JsRixFQUFLbUYsbUJBQVEsWUFBQWpELE9BSzdEZ0QsR0FDQWQsRUFBTUcsV0FBd0I3RSxVQUFDaUMsT0FBYSw2QkFDNUN5QyxFQUFnQkcsV0FBQUEsVUFBd0J0RCxPQUFJLDZCQUFNQyxFQUFnQ2tELEVBQStCdEMsV0FBTVgsVUFBakJ4QixJQUF0Ryw0QkFBOEN5RSxFQUF3QkssV0FBUS9FLFVBQUlDLElBQUEsNkJBS2xGb0QsTUFBQUEsS0FBU0EsRUFBVGhDLGlCQUVBLDRCQUFBRSxLQUFBLFNBQUFDLEdBQUEsT0FBQUEsRUFBQVQsaUJBQUEsU0FBQSxXQXVCRXFCLEVBQU1WLE1BQVFGLEVBQUcwQyxVQXRCbkJVLEVBQUFBLGFBQVksYUFBTXBELEVBQUEwQyxXQUVkd0IsSUFHQUYsRUFBQUEsU0FBZSxFQUNmbkMsRUFBQUEsZ0JBQVVvQyxtQkFNWmYsSUFBZ0JBLEVBQVkxRSxVQUFVVSxTQUFPLGVBQzdDZ0UsRUFBQUEsY0FJQUEsU0FBQUEsRUFBQUEsT0FDRHRDLEVBRURyQixpQkFBQSxTQUFBLFdBQUEsT0FBQTRFLEdBQUEsTUFtQkF2RCxFQUFNckIsaUJBQWlCLFNBQVMsV0FBQSxPQUFNNEUsR0FBWSxNQUNsRHZELEVBQU1yQixpQkFBaUIsUUFBUSxXQW5CWCxLQUFwQkksRUFBQU8sT0FBcUJMLEVBQUFBLFFBQWlCSyxNQUVwQ1UsRUFBQUEsTUFBTWdCLEVBQU4zQixRQUFtQkMsTUFGbURVLEVBQUFWLE1BQU9YLGFBWTdFc0MsTUFBQUEsS0FBQUEsU0FBQUEsaUJBQUEseUJBQUE5QixLQUFBLFNBQUFxRSxHQUNELElBQUFDLEdBQUFELEVBQUFuRSxRQUFBb0UsSUFDRkMsR0FDREYsRUFBQW5FLFFBQUFxRSxJQXFCRUMsR0FBUUgsRUFBT25FLFFBQVFvRSxJQUN2QkcsR0FBUUosRUFBT25FLFFBQVFxRSxJQXBCdkIxRCxXQUFBQSxPQUFNckIsRUFBQUEsQ0FBMEJrRixNQUFBLENBQUFGLEVBQUFDLEdBQUFFLFNBQWhDLEVBQ0E5RCxNQUFBQSxDQUFnQ3lELElBQUFBLEVBQUFDLElBQUFBLEdBRTlCSyxLQUFBLE1BR0UvRCxFQUFBQSxXQUFNVixHQUFBQSxTQUFRVSxTQUFBQSxHQUNmLElBQUF5RCxFQUFBMUYsU0FBQWlHLEVBQUEsSUFDRk4sRUFORDNGLFNBQUFpRyxFQUFBLElBUUhSLEVBL0REL0UsUUFBQSxtQkFBQUMsY0FBQSx5QkFBQVksTUErREMsR0FBQXBDLE9BL0REdUcsRUErREMsU0FBQXZHLE9BL0REd0csRUErREMsTUFDRkYsRUFqRUQvRSxRQUFBLGtCQUFBQyxjQUFBLHNCQUFBb0QsVUFBQTJCLEVBcUVGRCxFQUFBL0UsUUFBQSxrQkFBQUMsY0FBQSxvQkFBQW9ELFVBQUE0QixRQUlFM0UsTUFBQUMsS0FBTTJFLFNBQVFILGlCQUFkLGdDQUFBckUsS0FBQSxTQUFBQyxHQUFBLE9BQUFBLEVBQUFULGlCQUFBLFNBQUEsV0FDQSxJQUFNaUYsRUFBY3hFLEVBQUNDLFFBQVFxRSxtQkFBN0JoRixjQUFBLHlCQUdFbUYsR0FBQUEsRUFBQUEsY0FBY0QsU0FEVWhFLFFBQUEsQ0FFeEJrRSxJQUFBQSxFQUZ3QjFFLEVBQUFWLGNBQUEsbUJBQUFvRCxVQUl0QjJCLEVBREtuRSxNQUFBMkUsRUFFTFAsRUFBQUEsYUFBQUEsYUFBQUEsR0FGS1EsRUFIaUJsRCxhQUFBLFdBQUEsaUJBQUFrRCxFQUExQjVFLE1BQUEsR0FVQWtFLEVBQU9XLGFBQWMsYUFBUyxJQUM1QkQsRUFBWW5HLGdCQUFnQixrQkFLNUJ5RixTQUFBQSxpQkFBZSxTQUFBLFNBQUE1RSxHQUNoQixJQVBEd0YsRUFBQXhGLEVBQUFxQixPQStCSW1FLEVBQVF4RyxVQUFVSixTQUFTLHVCQW5CakN1QixFQUFBL0IsTUFBV0YsUUFBU21DLE9BQ2xCRixNQUFNbUYsS0FBQUEsRUFBV3pGLFFBQU1BLHdCQUEyQkMsaUJBQWMsc0NBQWhFUyxLQUFBLFNBQUFDLEdBc0JJQSxFQUFHeEIsVUFBVVUsT0FBTywyQ0FmdEI0RixNQUFBQSxLQUFBQSxTQUFZbEQsaUJBQWEsMkJBQXpCN0IsS0FBQSxTQUFBQyxHQUFBLE9BQUFBLEVBQUFULGlCQUFBLFNBQUEsV0FDRCxJQU5EMEYsRUFNT2pGLEVBQUFYLFFBQUEsY0FBQUMsY0FBQSw0QkFDTHdGLEVBQVk1RSxFQUFaYixRQUFBLG9CQUVBeUYsRUFBV3RHLFVBQUMwRyxTQUFnQiwyQkFDN0JDLEVBQUEzRyxVQUFBVSxPQUFBLDRCQUVEK0YsR0FxQklBLEVBQVl6RyxVQUFVVSxPQUFPLDJCQUcvQmlHLEVBQWEzRyxVQUFVQyxJQUFJLGtDQWhCekJ1QixJQUFBQSxFQUFHeEIsU0FBSGMsY0FBb0IsV0FwaEJKbUUsS0F3aEJwQkMsTUFBQTBCLGFBQUFDLFFBQUEsOEJBUUVDLEVBQUFwRyxVQVlGb0csRUFBUTFILE1BQU1pQixRQUFVLE9BbkIxQmMsU0FBTUMsY0FBY0Msa0JBQWlCTixpQkFBQSxTQUFyQyxXQUFzRStGLEVBQUl0RixVQUFHVCxJQUFBQSxnQkFDM0VKLFlBQU04RixXQUNOSyxFQUFNSCxTQXNCRkMsYUFBYUcsUUFBUSw2QkFBNkIsS0FwQnRELFNBS0csSUFBQUMsRUFBQTlILFNBQUE0QixjQUFBLFlBR0ZtRSxLQUFBQyxNQUFBMEIsYUFBQUMsUUFBQSwrQkFZR0QsRUFBQUEsVUFYTEksRUFicUVoSCxVQUFBQyxJQUFBLGtCQWVwRWYsU0FBTTRILGNBQW1CaEcsaUJBQWNDLGlCQUV6QyxTQUFBLFdBb0JJaUcsRUFBU2hILFVBQVVVLE9BQU8sa0JBbkI5QkMsWUFBVXVFLFdBQ1I0QixFQUFRMUgsU0FDUkYsYUFBUzRCLFFBQWMsOEJBQWtCQyxLQUN2QytGLFNBS0QsSUFVRDVILEVBQVM0QixZQU5RNUIsU0FBQUEsR0FzQmpCQSxTQUFTQyxLQUFLQyxNQUFNQyxRQUFVLGtDQW5CaENkLE9BQUswRyxTQUFXMkIsRUFBQUEsR0FJWkksR0FDQXJHLFNBQUFBLGNBQVcsZ0JBQU1YLFVBQUFVLE9BQUEsdUJBR2hCeEIsU0FBRTRCLGNBSEgsbUJBQUFDLGlCQUFBLFNBQUEsWUFWTUwsU0FBUnhCLFNBQUFDLEtBQUFDLE1BQUFnQixXQUNEbEIsU0FBQUMsS0FBQUMsTUFBQUMsUUFBQSxnQ0FBQUMsUUFBQWYsT0FBQWdCLFFBQUEsTUFjQUwsU0FBTTRCLGNBQUEsZ0JBQUFkLFVBQUFDLElBQUEseUJBc0JQZixTQUFTNEIsY0FBYywwQkFBMEJDLGlCQUFpQixRQUFTa0csR0FuQnpFL0gsU0FBSU8sY0FBSix1QkFBQXNCLGlCQUFBLFFBQUFrRyxHQUNGOUYsTUFBTWxDLEtBQUFBLFNBQVlvQyxpQkFBWnBDLG1DQUFxQnNDLEtBQUEsU0FBQUMsR0FDekIvQixFQUFNTyxVQUFJRyxTQUFTakIsZUFDbkJBLEVBQUFBLGdCQUVtQixJQUFBZ0ksT0FBZjFILHlCQUF5QixDQUM3Qk4sTUFBQUEsRUFDQVgscUJBQW1Ca0IsRUFDcEIwSCxhQUhELEdBMEJFQyxjQUFlLE9BdEJqQkMsZ0JBQU1KLEVBQ0p6SCxZQUFBQSxDQUNBTixJQUFBQSxDQUZGa0ksY0FBQSxFQTJCTUMsZ0JBQWdCLE1BdEJ0QixJQUFBSCxPQUFBLG1CQUFBLENBS0FoSSxNQUFBQSxFQUNBQSxhQUFTNEIsR0FFVEssY0FBV2pDLEVBQ1RvSSxlQUFRdEgsRUFDTndCLHFCQUFBLEVBQ0QrRixXQUFBLENBSEgvRixHQUFBLHFCQUtFZ0csV0FBTUMsS0FBcUQsSUFBQVAsT0FBQSwyQkFBQSxDQUszREcsTUFBQUEsRUFDQUssYUFBVyxHQUNUQyxxQkFBSyxFQUNIUCxXQUFBQSxDQUNBQyxHQUFBQSxxQkFGR0csV0FBQSxLQU04QyxDQUFBLENBRXJETCxTQUFBQSxTQUZxRHJHLGNBQUEseUJBR3JEc0csU0FBQUEsU0FBQUEsR0FDQUUsWUFBQUEsV0FDQUssRUFBQUEsY0FMcUQseUJBQUEzSCxVQUFBVSxPQUFBLG1CQU1yRDZHLEVBQVVLLFdBQ1JwRyxPQVBtRCxDQVl2RGdCLFNBQU1xRixTQUFBQSxjQUF5Qlgsa0NBQzdCWSxTQUFNLFNBQUF0RixHQUNOMkUsWUFBQUEsV0FDQVEsRUFBQUEsY0FIZ0UseUJBQUEzSCxVQUFBVSxPQUFBLG1CQUloRTZHLEVBQVVLLFdBQ1JwRyxPQUw4RCxDQTZCaEVnQixTQUFVdEQsU0FBUzRCLGNBQWMsZ0NBbkJuQ3lCLFNBQU13RixTQUFBQSxHQUNKdkYsWUFBVXRELFdBQ1ZxRCxFQUFVekIsY0FBQSx5QkFBWWQsVUFBQVUsT0FBQSxtQkFDcEJDLEVBQUFBLFdBQ0U2QixPQUdILENBUGlCQSxTQVNwQnRELFNBQUE0QixjQUFBLDJCQUNFMEIsU0FBUSxTQUFBQSxHQUNSRCxZQUFVLFdBQ1I1QixFQUFBQSxjQUFpQix5QkFBQVgsVUFBQVUsT0FBQSxtQkFDZjhCLEVBQUFBLFdBQ0FBLFFBTUpELEtBQVUsU0FBQWhDLEdBQ1JJLElBQUFBLEVBQWlCSixFQUFqQkksU0FBVzRCLEVBQU1oQyxFQUFOZ0MsU0FFVEMsR0FDRC9ELEVBQUVrRSxTQUhISCxHQUFBLFdBQUEsT0FBQUQsRUFBQUMsU0FTQTdCLE1BQUFBLEtBQUFBLFNBQVdVLGlCQUFNLHFCQUFBRSxLQUFBLFNBQUFDLEdBQUEsT0FBQUEsRUFBQVQsaUJBQUEsaUJBQUEsU0FBQUMsR0FDZndCLEVBQUFBLFFBQUFBLFFBQVMxQixjQUFjLGlCQUFBVyxRQUF5QnpCLFFBQVVVLEVBQTFEMkIsT0FBaUV2QixjQUFqRSxTQUFBWSxZQS9CTnhDLFNBcUNBbUMsaUJBQUEsdUJBQUF4QyxRQWdCRXlGLE1BQU0sc0JBQXNCaEUsTUFBSyxTQUFBaUUsR0FBRyxPQUFJQSxFQUFJQyxVQUFRbEUsTUFBSyxTQUFBbUUsR0FmM0RzRCxNQUFBQSxLQUFXeEcsU0FBSUYsaUJBQVEsd0JBQUFFLEtBQUEsU0FBQUMsR0FDckJBLEVBQVFnQixpQkFBQUEsU0FBUixTQUFBeEIsR0FBa0J1QixJQUFBQSxFQUFhaEMsRUFBYmdDLGNBa0JOeUYsRUFBZ0I1RixFQUFNdkIsUUFBUSxVQWhCdEMyQixFQUFVd0YsRUFBQXZHLFFBQUF3RyxRQUNZLEdBQUFBLEVBQU0xRixDQUE5QixJQUFBeUMsRUFBQVAsRUFBQXlELFFBQUEsU0FBQTFHLEdBQUEsT0FBQUEsRUFBQXNELE1BQUFtRCxLQUFBLEdBQUFqRCxPQUNERyxFQUFBL0MsRUFBQVYsTUFBQTBELGNBR0hWLEVBQUF0QyxFQUFBdkIsUUFBQSxVQUFBQyxjQUFBLG1CQWtCZ0JxSCxFQUFtQnpELEVBQWlCNUQsY0FBYyx3QkFqQnZENUIsR0FBU21DLEVBQ2ZSLElBRDJEc0gsRUFBQUMsVUFBQSxJQUtuRC9HLEtBQURlLEVBQUNmLFFBQ0wyRCxFQUFBekQsS0FBQSxTQUFBQyxHQUE4QixJQUFRZ0QsRUFBSlksY0FBSkUsUUFBQUgsS0FBcUJLLEdBQVEsRUFDL0QyQyxFQUFvQjlHLG1CQUFpQixZQUFyQyxxREFBQS9CLE9BQXVFNkYsRUFBQSwrQkFBQSxHQUF2RSxzQ0FBQTdGLE9BQXVFa0MsRUFBQStELE9BQUEsRUFBQUosRUFBQXRHLFFBQXZFLFdBQUFTLE9BQXVFa0MsRUFBQStELE9BQUFKLEVBQUF0RyxRQUF2RSxhQUlVb0osR0FzQkE5RyxNQUFNQyxLQUFLNEcsRUFBYzNHLGlCQUFpQiwwQkFBMEJFLEtBQUksU0FBQUMsR0FBRSxPQUFJQSxFQUFHVCxpQkFBaUIsU0FBUyxXQXBCN0drSCxFQUFKdkcsTUFBYUYsRUFBQTBDLGlCQUdYUSxFQUFzQjFFLFVBQVNhLFNBQVEsZUFDdkM2RCxFQUFNeUQsaUJBS0wzRyxFQUFBVCxpQkFBQSxTQUFBLFdBd0JILElBQU0yRCxFQUFtQmxELEVBQUdYLFFBQVEsVUFBVUMsY0FBYyx3QkFyQnhEa0UsSUFDRU4sRUFBT1UsVUFBY0UsYUFPcURuRSxNQUFBQyxLQUFBbEMsU0FBQW1DLGlCQUFPTixpQ0FBZ0NRLEtBQUEsU0FBQUMsR0FBQSxPQUFBQSxFQUFBVCxpQkFBQSxVQUFBLFdBQy9HcUIsSUFBQUEsRUFBQUEsRUFBTVYsUUFBUUYsUUFBRzBDLGNBQWpCLHlCQUR3RTFDLEVBQUFRLFNBRzNFcUcsRUFBQXJJLFVBQUFVLE9BQUEsb0JBQ0YySCxFQUFBM0IsZ0JBQUEsY0FFRDJCLEVBQUszRCxVQUFBQSxJQUFBQSxvQkFDSEEsRUFBQUEsYUFBaUJYLFdBQWpCLG1CQUtOdkMsTUFBQUEsS0FBR1QsU0FBQUEsaUJBQTBCLDhCQUFNUSxLQUFBLFNBQUFDLEdBQUEsT0FBQUEsRUFBQVQsaUJBQUEsU0FBQSxXQUNqQzdCLFNBQUE0QixjQUFNNEQsZUFBc0I3RCxNQUFRVyxFQUFBQyxRQUFVWCxJQUFBQSxRQUU5QyxJQUFBd0gsRUFBSTVELFNBQWtCNUQsY0FBQSxvQkFFckIsR0FBQXdILEVBQUEsQ0FDRixJQUFBQyxFQU5EckosU0FBQTRCLGNBQUEsNEJBdENGMEgsRUFBQXRKLFNBQUE0QixjQUFBLDRCQURGMkgsRUFBQXZKLFNBQUE0QixjQUFBLDBCQTBFTTRILEVBQWUsQ0F2QnZCdkgsUUFBV2pDLENBQUFBLEdBQWlFeUosTUFBSW5ILFNBQUdULFNBQUFBLGNBQTJCLG1CQUFNVSxRQUFBa0gsUUFJaEhOLEVBQWNySSxTQUFBQSxHQUNkcUksTUFBQUEsS0FBQUEsU0FBYzNCLGlCQUFnQiwrQkFBOUJuRixLQUFBLFNBQUFDLEdBQUEsT0FBQUEsRUFBQXhCLFVBQUFVLE9BQUEsZ0NBQ0R4QixTQUFNNEIsY0FBTixnQ0FBQXhCLE9BQU1zSixFQUFOLE9BQU01SSxVQUFBQyxJQUFBLDhCQU5tRTRJLEVBQUEsU0FBQUMsR0FBNUUsSUFBQUMsRUFBQU4sRUFBQU8sZ0JBWU01SCxFQUFjQyxTQUFBQSxjQUFpQixxQkFDbkNuQyxJQUFBQSxFQUF1QnVDLFFBQUF3SCxPQUFldkgsRUFEaUNvSCxJQUFBSixFQUFBQyxNQUFBLEdBQXpFTyxFQUFBeEksU0FHUTRILEVBQUFBLFVBQWtCcEosSUFBUzRCLGlDQTRCM0IySCxFQUFXaEQsbUJBQW1CLGNBQTlCLG9FQUFBbkcsT0FBaUh3SixFQUFhLEVBQTlILE1BQUF4SixPQUFvSXdKLEVBQWEsRUFBakosVUExQkpSLEVBQWlCSSxFQUFBQyxNQUFBLElBQ2JKLEVBQVU3SCxTQUNWOEgsRUFBVS9DLG1CQUFZM0UsY0FBdEIwSCxvRUFBQUEsT0FBTk0sRUFBQSxFQUFNTixNQUFBQSxPQUFOTSxFQUFBLEVBQU1OLFNBQ0FDLEVBQVV6SSxVQUFXVSxPQUFDSSx1Q0FHdEI0SCxJQUFBQSxFQUFlakgsUUFBQXdILE9BQUFILEdBQUEsSUFBQUEsRUFDbkJLLEVBRG1CekksU0FFbkJpSSxTQUFPeEksY0FBU2pCLHNCQUF1QnVHLG1CQUFtQmhFLGFBQTFEa0gsb0VBQUFBLE9BQWVHLEVBQUEsRUFBZkgsTUFBQUEsT0FBZUcsRUFBQSxFQUFmSCxTQVJpQkYsRUFXbkJ6SSxVQUFBVSxPQUFBLHNDQXlCUyxHQUFJb0ksSUFBZUosRUFBYUMsUUFBVUYsRUFBV3pJLFVBQVVKLFNBQVMsMkJBQTRCLENBeEI3RyxJQUFNd0osRUFBaUJsSyxTQUFqQmtLLGlCQUFpQlIscUJBQ3FESCxFQUFNekksVUFBRkMsSUFBYVMsaUNBQWpCUyxNQUExRUMsS0FBQWlJLEdBQUFDLFVBQUEvSCxLQUFBLFNBQUFDLEVBQUErSCxHQUNBckssRUFBQUEsVUFBUzRCLEVBQVR5SSxFQUdGL0gsRUFBQUMsUUFBQXdILEtBQUFILEVBQUFTLE9BK0JNQyxFQUFZLFNBQUFDLEdBMUJoQixJQUFBQyxFQUFLWCxFQUNIWSxFQUFjeEksTUFBS3VILEtBQUFBLFNBQUFySCxpQkFBd0IsMEJBQUFFLEtBQUEsU0FBQUMsR0FBQSxPQUFBQSxFQUFBb0ksUUFXM0MxSyxPQVRFdUosSUFBQUEsSUFBQUEsU0FBV3pJLE1BQUFBLGFBQWM2SixXQUFBQyxNQUFBLEtBQUF2SSxLQUF6QixTQUFBQyxHQUNBaUgsSUFBQUEsRUFBQUEsZUFBV2hELEVBQUFBLE1BQUFBLEtBQVhnRCxHQUFBQSxHQUhGa0IsRUFJV2IsU0FBYUosS0FDdEJRLEdBQVd4SSxJQUFYYyxNQUlIa0ksR0FBTSxVQUFBcEssT0FBZ0JtQyxTQUFRd0gsY0FBU0gsc0NBQWdDNUUsWUFPdEV1RSxFQUFxQnhJLFNBQUFBLEdBQUFBLElBQXJCOEosRUFBcUI5SixFQUFyQjhKLElBQXlCQyxFQUFKL0osRUFBSStKLE1BQUFDLEVBQUpoSyxFQUFJZ0ssU0FBQUwsRUFBSjNKLEVBQUkySixLQUFBM0IsRUFBSmhJLEVBQUlnSSxRQUF6QmlDLEVBQXFCakssRUFBckJpSyxTQUFBQyxFQUFxQmxLLEVBQXJCa0ssU0FBQUMsRUFBcUJuSyxFQUFyQm1LLFlBQUFDLEVBQXFCcEssRUFBckJvSyxLQUFBQyxFQUFxQnJLLEVBQXJCcUssT0FBQUMsRUFBcUJ0SyxFQUFyQnNLLFFBQUFDLEVBQXFCdkssRUFBckJ1SyxNQUFxQnZLLE1BQUFBLDhCQUFBQSxPQUNWb0osRUFBQUEsa0JBQWdDLEdBRHRCcEosc0ZBQUFBLE9BRW5CK0osRUFGbUIvSix3R0FBQUEsT0FLdEJnSyxFQUFBLDZCQUFBLEdBTHNCaEssTUFBQUEsT0FLdEIySixFQUxzQjNKLDREQUFBQSxPQVF6QmdJLEVBUnlCaEksS0FBQUEsT0FRekJrSyxFQVJ5QmxLLG1FQUFBQSxPQWtDYmlLLEVBQVMzSSxLQUFJLFNBQUFDLEdBQUUsTUFBQSxxREFBQWxDLE9BekJGa0MsRUFBQWlKLE9BQUEsb0NBQUEsSUF5QkVuTCxPQXpCRmtDLEVBQUFrSixPQUFBLG9DQUFBLEdBeUJFLGdDQUFBcEwsT0F6QkZrQyxFQUFBb0ksS0F5QkUsb0JBQUF0SyxPQXpCRmtDLEVBQUFtSixXQXlCRSxxQ0F4QnJCakIsS0FBQUEsSUFWbUJ6SiwwS0FBQUEsT0FXdkJtSyxFQVh1Qm5LLHdEQUFBQSxPQWFhNEosRUFiYjVKLGdLQUFBQSxPQTRDb0MsSUFBdEJFLFNBQVNvSyxHQUFpQiw0QkFBOEIsR0E1Q3RFdEssc0RBQUFBLE9BZVdxSyxFQWZYckssNERBQUFBLE9BZ0JuQnNLLEVBaEJtQnRLLG1IQUFBQSxPQW9CV3VLLEVBcEJYdkssZ0pBQUFBLE9BcURrQjhKLEVBQU0sbUJBQXFCLHFCQXJEN0M5SixzR0EwQkVxSSxFQUFBdkgsaUJBQUEsU0FBQSxTQUFBQyxHQUFBQSxFQUFBQyxpQkFBQXFILEVBQTREOEIsVUFBQUEsSUFBQUEsbUJBQTVELElBQStFRSxFQUEvRTVCLEVBQUFTLFFBQUFULEVBQUFTLFFBQUF0SyxPQUFBLEdBQUEsRUFBdUYwTCxFQUF2RmYsRUFBdUZlLDBCQUFBQSxPQUF2RnpCLElBUUFKLEVBQUFTLFFBQUF5QixLQUFBOUIsR0FxQ3pCM0gsTUFBTUMsS0FBS2xDLFNBQVNtQyxpQkFBaUIsc0JBQXNCRSxLQUFJLFNBQUFDLEdBQ3pEa0gsRUFBYVMsUUFBUXJILFNBQVMzQixTQUFTcUIsRUFBRzBDLGFBYmxEb0UsRUFBQUEsVUFBZ0J2SCxJQUFBQSxnQ0FNZHVELE1BQU11RyxHQUFRdkssTUFBR2tKLFNBQUFBLEdBQUFBLE9BQVNqRixFQUFBQyxVQUFBbEUsTUFBQSxTQUFBbUUsR0FheEJBLEVBQUtsRCxLQUFJLFNBQUE0QyxHQVZYdUUsU0FBQUEsY0FBQSxtQkFFQWpELG1CQUFBLFlBQUFxRixFQUFBM0csT0FFRTJFLElBQWlCSyxFQUFRckgsUUFDdkJOLEVBQWF2QixVQUFJQSxJQUFBLCtCQUNsQnVJLEVBQUF4SSxVQUFBQyxJQUFBLGdDQUdxQnFJLEVBQVE5RCxVQUFSOUQsT0FBQSx5QkFlMUI2SCxFQUFXeEgsaUJBQWlCLFNBQVMsU0FBQUMsR0FWakNBLEVBQUFDLGlCQUVFdUgsSUFBQUEsRUFBV3hJLEVBQWNtSixRQUFBLEdBQUEsRUFDMUIwQixFQUFBckIsRUFBQSwwQkFBQWxLLE9BQUFzSixJQUVETixFQUFBQSxRQUFnQnRJLENBQUFBLEdBRW5Cc0UsTUFFRHVHLEdBQUF2SyxNQUFBLFNBQUFpRSxHQUFBLE9BQUFBLEVBQUFDLFVBQUFsRSxNQUFBLFNBQUFtRSxHQVVJLElBQUlzRyxFQUFZLEdBUmxCL0osRUFBRUMsS0FBQUEsU0FBQUEsR0FFRjhKLEdBQWlCRCxFQUFnQjNCLE1BS2pDN0UsU0FBTXVHLGNBQWUsNEJBQUc3SyxVQUFBVSxPQUFBLCtCQUFBMEksRUFBUTVFLEdBQzlCLElBQUFvRSxHQUVBbkUsRUFBU3pFLFVBQUFtRSxJQUFRLCtCQUlqQmpGLEVBQVM0QixVQUFjSixPQUFBLCtCQUN2QjBJLFNBQUFBLGNBQWVSLG1CQUFmUixVQUFBMkMsS0FHRXhDLEdBQ0RNLEVBQUFELE1BWUxKLEVBQVd6SCxpQkFBaUIsU0FBUyxTQUFBQyxHQU5uQ0EsRUFBQUMsaUJBRUMsSUFBQTJILEVBQUFGLEVBQUFTLFFBQUFULEVBQUFTLFFBQUF0SyxPQUFBLEdBQUEsRUFHSGdNLEVBQUFyQixFQUFBLDBCQUFBbEssT0FBQXNKLElBQ0FKLEVBQVd6SCxRQUFBQSxDQUFBQSxHQUdUdUQsTUFBTXNFLEdBQUFBLE1BQWNGLFNBQUFBLEdBQUFBLE9BQUFBLEVBQVlsRSxVQUFabEUsTUFBcUJvSSxTQUFBQSxHQUN6QyxJQUFNbUMsRUFBV3JCLEdBSWpCbEYsRUFBSy9DLEtBQUNzSixTQUFBQSxHQUFrQkUsR0FBUXZHLEVBQVJMLE1BR3RCTSxTQUFLbEQsY0FBSTRDLDRCQUFRbkUsVUFBQVUsT0FBQSwrQkFDZnFLLEVBQVNuQyxHQUdYMUosSUFBUzRCLEVBQWM2SCxRQUN2QlMsRUFBZVIsVUFBRDNJLElBQWQsK0JBSUV1SSxFQUFXeEksVUFBVUMsSUFBSSxnQ0FBekJ1SSxTQUFBQSxjQUFXeEksbUJBQWNvSSxVQUFBMkMsRUFLdkJ0QyxHQUZKdkosRUFBUzRCLFNBTVo1QixTQUVENkIsaUJBQUEsU0FBQSxTQUFBQyxHQUVFLElBQU1vQixFQUFRcEIsRUFBRXFCLE9BQWhCLEdBQUFELEVBQU1BLFVBQVVDLFNBQWhCLG9CQUFBLENBR0UsSUFBTXVHLEVBQWN6SSxTQUFTaUMsRUFBTVgsUUFBUXdILE1BRHpDN0csRUFBTXBDLEVBQVVKLDBCQUFBQSxPQUE4QmdKLElBRWhERixFQUFNbUMsUUFBV3JCLENBQUFBLEdBSWpCbEYsTUFBQUEsR0FBS2hFLE1BQVdBLFNBQUFBLEdBQUssT0FBQWlFLEVBQUFDLFVBQUdsRSxNQUFBLFNBQUFtRSxHQUFBLElBQUFzRyxFQUFRdkcsR0FDOUJDLEVBQUFsRCxLQUFJd0osU0FBQUEsR0FFSnRHLEdBQVNxRyxFQUFRM0csTUFJakJpRixFQUFBQSxHQUVBUixJQUFlRixFQUFLQSxPQUNsQkgsRUFBQUEsVUFBV3ZJLE9BQVVVLCtCQUNyQjhILEVBQUFBLFVBQVd4SSxJQUFVQywrQkFDckJxSSxFQUFBQSxVQUFnQnRJLElBQVVDLGdDQUNOLElBQWYySSxHQUNMTCxFQUFBQSxVQUFXdkksSUFBVUMsK0JBQ3JCdUksRUFBQUEsVUFBV3hJLE9BQVVVLCtCQUNyQjRILEVBQUFBLFVBQWdCdEksT0FBVVUsaUNBRTFCNkgsRUFBQUEsVUFBV3ZJLE9BQVVVLCtCQUNyQjhILEVBQUFBLFVBQVd4SSxPQUFVVSwrQkFDckI0SCxFQUFBQSxVQUFnQnRJLE9BQVVVLGdDQUc1QitILEdBQ0VJLEVBQUFBLEdBR0YzSixTQUFBQSxjQUFTNEIsbUJBQVRzSCxVQUFBMkMsU0FNUjVKLE1BQU1DLEtBQUtsQyxTQUFTbUMsaUJBQWlCLHFCQUFxQkUsS0FBSSxTQUFBQyxHQUFFLE9BQUlBLEVBQUdULGlCQUFpQixTQUFTLFdBQWpHSSxJQUFNQyxFQUFLbEMsRUFBQUEsUUFBU21DLE9BQ2xCM0IsU0FBTTJDLENBRU4zQyxJQUFBQSxTQUFTb0IsY0FBVHBCLGdCQUFBQSxPQUFTMkMsRUFBVDNDLE9BQVM2RCx3QkFBQXdHLElBQUF4TCxPQUFBeU0sWUFBQTlMLFNBQUE0QixjQUFBLFdBQUFtSyxhQUNQbEIsU0FBSzdLLGlCQUp1RGlDLE1BUTlEQyxLQUFBbEMsU0FBQW1DLGlCQUFBLGlDQUFBRSxLQUFBLFNBQUFDLEdBQUEsT0FBQUEsRUFBQVQsaUJBQUEsU0FBQSxXQUVBLElBQU1tSyxFQUFVMUosRUFBR0MsUUFBUTBKLElBRCtDM0osRUFBQVgsUUFBTSwyQkFBMkJDLGNBQU0sMkNBQUFkLFVBQUFVLE9BQUEsMENBQ2pIYyxFQUFBeEIsVUFBTWtMLElBQU8sMENBR2IxSixNQUFFSixLQUFDcEIsU0FBSHFCLGlCQUFpQixxQkFBQUUsS0FBakIsU0FBQUMsR0FBQSxPQUFBQSxFQUFBMEMsVUFBQWdILFdBRWdFLElBQUFFLEVBQUlsTSxTQUFKNEIsY0FBQSwrQkFObEVzSyxHQVFFQSxFQUFNQSxpQkFBOEJ0SyxTQUFBQSxXQUtsQyxJQUFNdUssRUFBU0QsRUFBbUJFLFdBQVd4SyxjQUFjLFVBRDdEc0ssRUFBbUJySyxXQUFBQSxjQUFuQixVQUE2Q3FDLGFBQU0sTUFBQWlJLEVBQUFwSixhQUFBLE9BQUEsZUFDakRtSixFQUFlQSxVQUFBQSxJQUFrQix5Q0FJbEMsSUFMREcsRUFBQXJNLFNBQUE0QixjQUFBLG9CQVNGLEdBQUl5SyxFQUFpQixDQUVuQixJQUFNQyxFQUFlLENBRnZCckMsUUFBSW9DLEVBQ0Y1QyxNQUFBLEdBMENNekosRUFBUTZCLGlCQUFlLFNBQUEsU0FBQUMsR0FUM0JBLEVBQUVDLGlCQVdFLElBQUF3SSxFQUFJK0IsRUFBYXJDLFFBQVlxQyxNQUc5QkEsRUFORHJDLFFBVUo3RSxNQUFBLEdBQUFoRixPQUFBbUssRUFBQSxVQUFBbkssT0FBQWtNLEVBQUFyQyxVQUFBN0ksTUFBQSxTQUFBaUUsR0FBQSxPQUFBQSxFQUFBQyxVQUFBbEUsTUFBQSxTQUFBbUUsR0FWSUEsRUFBS2xELEtBQUksU0FBQWtLLEdBdENKLElBQUFDLEVBQUExQixFQUFBSixFQUFBK0IsRUFBQXJCLEVBQUFzQixFQUFBQyxFQXVDSDNNLFNBQVM0QixjQUFjLCtCQUErQjJFLG1CQUFtQixhQXZDdEV1RSxHQUFBMEIsRUF1Q2lHRCxHQXZDakd6QixNQUFBSixFQUFBOEIsRUFBQTlCLEtBQUErQixFQUFBRCxFQUFBQyxLQUFBckIsRUFBQW9CLEVBQUFwQixPQUFBc0IsRUFBQUYsRUFBQUUsU0FBQUMsRUFBQUgsRUFBQUcsSUFBQSx3REFBQXZNLE9BS0gwSyxFQUFLLDBGQUFBMUssT0FGVzBLLEVBRVgsZUFGVyxzREFIYix1TEFBQTFLLE9BR2FzSyxFQUhiLGdFQUFBdEssT0FHYXFNLEVBSGIsc0NBQUFyTSxPQXFCQ3dNLEVBbEJZLDRDQUFBRCxFQUFBLE9BQUEsR0FIYixxRkFBQXZNLE9Ba0JDLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFHaUMsS0FBSSxTQUFBUCxHQUFDLE9BQUlBLEdBQUtzSixFQVd4Q2lCLHNGQUNJdEssc0RBQ0l3SSxLQUFNOEIsSUEvQkwsd0VBQUFqTSxPQW9DUHNNLEVBcENPLHdDQWtESEcsRUFBaUI1QyxVQUFZckksRUFBVDZILE9BUmxCNEMsRUFBZ0I3SyxrQkFnQnhCLEdBQUF4QixTQUFNOE0sY0FBZTlNLHFCQUF1QixDQUM1QyxJQUFNUixFQUFrQm9DLFNBQUFBLGNBQWMsb0NBRXRDaUwsRUFBa0IvTCxVQUFBSixTQUFBLGVBQ2hCZSxFQUFXb0QsYUFLVDdFLElBQUFBLEVBQVM0QixXQUNUNUIsSUFBQUEsRUFBUzRCLFNBQWNBLGNBQUEsb0NBVHJCcEMsRUFBU1EsU0FBUzRCLGNBQWMsNENBWWhDcEMsR0FDQUEsWUFBQUEsV0FDQUEsSUFBQUEsRUFBT29DLEVBQWNXLFFBQUFrSyxLQUN0Qk0sRUFBQUQsRUFBQWxMLGNBQUEsaUNBQUFvRCxVQUVKaEYsU0FBQTRCLGNBQUEsMkJBQUFkLFVBQUFDLElBQUEsa0NBR0hmLFNBQUE0QixjQUFBLGdDQUFBb0QsVUFBQXlILEVBWE16TSxTQUFTNEIsY0FBYyxnQ0FBZ0NvRCxVQUFZK0gsRUFZbkVDLElBQ0FDLEVBQUFBLGNBQXVCckwsd0JBQWNvRCxVQUFBeUgsRUFUbkNqTixFQUFPb0MsY0FBYyx3QkFBd0JvRCxVQUFZK0gsRUFXN0RDLEVBQUFBLGNBQWEsc0JBQUF4SyxNQUFBdUssS0FFYixJQUtFRyxFQUFZbE4sU0FBQ2MsY0FBaUIsNENBQzlCcU0sRUFBV3JNLFNBQVVDLGNBQUksNENBRXpCZixHQVRKZ04sRUFBWW5MLGlCQUFpQixTQUFTLFdBV2xDLElBQUFxTCxFQUFlM0ssU0FBUTZLLGNBQU8sb0NBQzVCSixHQUFZbE0sRUFBY3lCLFFBQUE4SyxNQUMzQkYsRUFBQW5OLFNBQUE0QixjQUFBLHdDQUFBeEIsT0FBQWtOLEVBQUEsRUFBQSxPQWJMSCxJQWdCREQsRUFBQXBNLFVBQUFVLE9BQUEsbUNBVEsyTCxFQUFXck0sVUFBVUMsSUFBSSxtQ0FXM0JrTSxTQUFBQSxjQUFhLDRDQUFBbk0sVUFBQVUsT0FBQSwrQ0FDZnlMLFNBQVdyTCxjQUFDQyxxQ0FBZ0NtRCxVQUFBbUksRUFBQTVLLFFBQUFnTCxNQUVwQ0QsRUFBQUEsUUFBZ0JKLE9BQ3RCRixFQUFnQmxNLFVBQUdkLElBQVM0QixtREFNMUI1QixHQVRKaU4sRUFBWXBMLGlCQUFpQixTQUFTLFdBV2xDLElBQUFxTCxFQUFlM0ssU0FBUWlMLGNBQU0sb0NBQzNCUCxHQUFZbk0sRUFBY3lCLFFBQUE4SyxNQUMzQkksRUFBQXpOLFNBQUE0QixjQUFBLHdDQUFBeEIsT0FBQWtOLEVBQUEsRUFBQSxPQWJMRyxJQWtCRlAsRUFBQXBNLFVBQUFVLE9BQUEsbUNBWE1pTSxFQUFXM00sVUFBVUMsSUFBSSxtQ0FDekJmLFNBQVM0QixjQUFjLDRDQUE0Q2QsVUFBVVUsT0FBTywrQ0FXMUZTLFNBQVdqQyxjQUFTbUMscUNBQXBCNkMsVUFBcUV5SSxFQUFFbEwsUUFBQWdMLE1BQ2pFRSxFQUFVOUwsUUFBUTZMLE1BQ3BCUCxFQUFNSCxVQUFlOU0sSUFBQUEsbURBT3JCME4sTUFBQUEsS0FBQUEsU0FBV3ZMLGlCQUFBLDRCQUFBRSxLQUFBLFNBQUFDLEdBQUEsT0FBQUEsRUFBQVQsaUJBQUEsU0FBQSxTQUFBQyxHQUNaLElBQUFBLEVBQUFxQixPQUFBeEIsUUFBQSwyQkFBQSxDQUNGLElBWHNFbUwsRUFBQTlNLFNBQUE0QixjQUFBLG9DQUkvRGtMLEdBVVI3SyxFQUFXakMsVUFBU21DLE9BQUFBLG1DQXJwQ3BCRyxFQUFBeEIsVUFBQUMsSUFBQSxtQ0FncENJMk0sV0FLSnpMLE1BQU1DLEtBQUtsQyxTQUFTbUMsaUJBQWlCLHNEQUFzREUsS0FBSSxTQUFBQyxHQUFFLE9BQUlBLEVBQUdULGlCQUFpQixRQUFTNkwiLCJmaWxlIjoiY29tbW9uLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG5cbiAgLy8g0J7QsdGK0LXQutGCINCz0LvQvtCx0LDQu9GM0L3QvtCz0L4gQVBJXG5jb25zdCAkYXBpID0ge307XG5cbi8vIEFQSSDQtNC70Y8g0YDQsNCx0L7RgtGLINGBINC/0L7Qv9Cw0L/QsNC80LhcbiRhcGkucG9wdXAgPSAoJHBvcHVwLCB7IG9uSGlkZSwgb25TaG93IH0gPSB7fSkgPT4ge1xuICAvLyDQntGC0LrQu9GO0YfQsNC10YIg0LLQvtC30LzQvtC20L3QvtGB0YLRjCDRgdC60YDQvtC70LvQuNGC0Ywg0YHRgtGA0LDQvdC40YbRg1xuICBjb25zdCBoaWRlT3ZlcmZsb3cgPSAoKSA9PiB7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jc3NUZXh0ID0gYHBvc2l0aW9uOiBmaXhlZDsgbWFyZ2luLXRvcDogJHstd2luZG93LnNjcm9sbFl9cHhgO1xuICB9O1xuICBcbiAgLy8g0JLQutC70Y7Rh9Cw0LXRgiDQstC+0LfQvNC+0LbQvdC+0YHRgtGMINGB0LrRgNC+0LvQu9C40YLRjCDRgdGC0YDQsNC90LjRhtGDXG4gIGNvbnN0IHNob3dPdmVyZmxvdyA9IG9mZnNldCA9PiB7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOiBzdGF0aWM7IG1hcmdpbi10b3A6IDAnO1xuICAgIFxuICAgIHdpbmRvdy5zY3JvbGxUbygwLCBvZmZzZXQpO1xuICB9O1xuICBcbiAgcmV0dXJuIHtcbiAgICAvLyDQktC+0LfQstGA0LDRidCw0LXRgiB0cnVlLCDQtdGB0LvQuCDQv9C+0L/QsNC/INC/0L7QutCw0LfRi9Cy0LDQtdGC0YHRjywg0LIg0LjQvdC+0Lwg0YHQu9GD0YfQsNC1IGZhbHNlXG4gICAgaXNTaG93bjogKCkgPT4gJHBvcHVwLmNsYXNzTGlzdC5jb250YWlucygncG9wdXAtLW9wZW5lZCcpLFxuICAgIC8vINCf0L7QutCw0LfRi9Cy0LDQtdGCINC/0L7Qv9Cw0L9cbiAgICBzaG93KCkge1xuICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAkcG9wdXAuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0pO1xuXG4gICAgICBoaWRlT3ZlcmZsb3coKTtcblxuICAgICAgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgJHBvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwLS1vcGVuZWQnKTtcbiAgICAgICAgaWYgKHR5cGVvZiBvblNob3cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBvblNob3coKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICAvLyDQodC60YDRi9Cy0LDQtdGCINC/0L7Qv9Cw0L9cbiAgICBoaWRlKCkge1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gLXBhcnNlSW50KGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luVG9wKTtcbiAgXG4gICAgICAkcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXAtLW9wZW5lZCcpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICRwb3B1cC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBzaG93T3ZlcmZsb3cob2Zmc2V0KTtcbiAgICAgICAgaWYgKHR5cGVvZiBvbkhpZGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBvbkhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgfSwgMzAwKTtcbiAgICB9XG4gIH07XG59O1xuXG4vLyBBUEkg0LTQu9GPINCy0LDQu9C40LTQsNGG0LjQuCDRhNC+0YDQvFxuJGFwaS52YWxpZGF0ZSA9IChmb3JtLCByZXF1ZXN0KSA9PiB7XG4gIGNvbnN0IGVtYWlsUmVnZXhwID0gL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XG4gIGNvbnN0IHNldEludmFsaWRJbnB1dCA9IGlucHV0ID0+IHtcbiAgICBpZiAoaW5wdXQuY2xvc2VzdCgnLmlucHV0JykpIHtcbiAgICAgIGlucHV0LmNsb3Nlc3QoJy5pbnB1dCcpLmNsYXNzTGlzdC5hZGQoJ2lucHV0LS1lcnJvcicpO1xuICAgIH0gZWxzZSBpZiAoaW5wdXQuY2xvc2VzdCgnLnRleHRhcmVhJykpIHtcbiAgICAgIGlucHV0LmNsb3Nlc3QoJy50ZXh0YXJlYScpLmNsYXNzTGlzdC5hZGQoJ3RleHRhcmVhLS1lcnJvcicpO1xuICAgIH1cbiAgICBpbnB1dC5mb2N1cygpO1xuICB9O1xuICBjb25zdCBzZXRJbnZhbGlkQ2hlY2tib3ggPSBpbnB1dCA9PiB7XG4gICAgaW5wdXQuY2xvc2VzdCgnLmNoZWNrYm94JykuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gtLWVycm9yJyk7XG4gIH07XG5cbiAgZm9ybS5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgbGV0IGZvcm1Jc1ZhbGlkID0gdHJ1ZTtcbiAgICBjb25zdCAkZm9ybUlucHV0cyA9IEFycmF5LmZyb20oZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtyZXF1aXJlZF0sIHRleHRhcmVhW3JlcXVpcmVkXScpKTtcbiAgICBjb25zdCAkY2hlY2tib3hTZWxlY3QgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGVja2JveHNlbGVjdCcpO1xuXG4gICAgJGZvcm1JbnB1dHMucmV2ZXJzZSgpLm1hcChlbCA9PiB7XG4gICAgICBpZiAoZWwuZGF0YXNldC5wYXNzUmVwZWF0ICYmIGVsLnZhbHVlICE9PSBlbC5jbG9zZXN0KCdmb3JtJykucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1wYXNzXScpLnZhbHVlKSB7XG4gICAgICAgIHNldEludmFsaWRJbnB1dChlbCk7XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaChlbC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSkge1xuICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgY2FzZSAncGFzc3dvcmQnOlxuICAgICAgICAgIGlmIChlbC52YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICAgIHNldEludmFsaWRJbnB1dChlbCk7XG4gICAgICAgICAgICBmb3JtSXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGVsJzpcbiAgICAgICAgICBpZiAoZWwudmFsdWUgPT09ICcnIHx8IGVsLnZhbHVlLmluY2x1ZGVzKCdfJykpIHtcbiAgICAgICAgICAgIHNldEludmFsaWRJbnB1dChlbCk7XG4gICAgICAgICAgICBmb3JtSXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICAgIGlmICghZWwuY2hlY2tlZCkge1xuICAgICAgICAgICAgc2V0SW52YWxpZENoZWNrYm94KGVsKTtcbiAgICAgICAgICAgIGZvcm1Jc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdlbWFpbCc6XG4gICAgICAgICAgaWYgKCFlbWFpbFJlZ2V4cC50ZXN0KGVsLnZhbHVlKSkge1xuICAgICAgICAgICAgc2V0SW52YWxpZElucHV0KGVsKTtcbiAgICAgICAgICAgIGZvcm1Jc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChlbC52YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICAgIHNldEludmFsaWRJbnB1dChlbCk7XG4gICAgICAgICAgICBmb3JtSXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgXG4gICAgaWYgKCRjaGVja2JveFNlbGVjdC5sZW5ndGgpIHtcbiAgICAgIEFycmF5LmZyb20oJGNoZWNrYm94U2VsZWN0KS5tYXAoZWwgPT4ge1xuICAgICAgICBsZXQgY2hlY2tlZCA9IGZhbHNlO1xuICBcbiAgICAgICAgQXJyYXkuZnJvbShlbC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3hfX2lucHV0JykpLm1hcChjaGVja2JveCA9PiB7XG4gICAgICAgICAgaWYgKGNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICAgICAgICAgIGNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gIFxuICAgICAgICBpZiAoIWNoZWNrZWQpIHtcbiAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveHNlbGVjdC0tZXJyb3InKTtcbiAgICAgICAgICBmb3JtSXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZm9ybUlzVmFsaWQpIHtcbiAgICAgIGUuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuYWRkKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgIHJlcXVlc3QoKTtcbiAgICB9XG4gIH0pO1xuXG4gIEFycmF5LmZyb20oZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpKS5jb25jYXQoQXJyYXkuZnJvbShmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RleHRhcmVhJykpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgaWYgKGVsLmNsb3Nlc3QoJy5pbnB1dCcpKSB7XG4gICAgICBlbC5jbG9zZXN0KCcuaW5wdXQnKS5jbGFzc0xpc3QucmVtb3ZlKCdpbnB1dC0tZXJyb3InKTtcbiAgICB9IGVsc2UgaWYgKGVsLmNsb3Nlc3QoJy5jaGVja2JveCcpKSB7XG4gICAgICBlbC5jbG9zZXN0KCcuY2hlY2tib3gnKS5jbGFzc0xpc3QucmVtb3ZlKCdjaGVja2JveC0tZXJyb3InKTtcbiAgICB9IGVsc2UgaWYgKGVsLmNsb3Nlc3QoJy50ZXh0YXJlYScpKSB7XG4gICAgICBlbC5jbG9zZXN0KCcudGV4dGFyZWEnKS5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0YXJlYS0tZXJyb3InKTtcbiAgICB9XG4gIH0pKTtcbn07XG5cbiAgLy8gaGFuZGxlIG9wZW4gcG9wdXBcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gZS50YXJnZXQ7XG5cbiAgaWYgKCR0aGlzLmNsYXNzTGlzdC5jb250YWlucygnanMtb3Blbi1wb3B1cCcpKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3QgdGFyZ2V0ID0gJHRoaXMuZGF0YXNldC5wb3B1cDtcbiAgICBjb25zdCAkcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanMtcG9wdXBbZGF0YS1wb3B1cD1cIiR7dGFyZ2V0fVwiXWApO1xuICAgIFxuICAgICRhcGkucG9wdXAoJHBvcHVwKS5zaG93KCk7XG4gIH1cbn0pO1xuXG4vLyBoYW5kbGUgY2xvc2UgcG9wdXBcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWNsb3NlLXBvcHVwJykpLm1hcChlbCA9PlxuICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGlmKCFlLnRhcmdldC5jbG9zZXN0KCcucG9wdXBfX3dpbmRvdycpIHx8ICFlLmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy1wb3B1cCcpKSB7XG4gICAgICBjb25zdCAkcG9wdXAgPSBlLmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLnBvcHVwJyk7XG5cbiAgICAgICRhcGkucG9wdXAoJHBvcHVwKS5oaWRlKCk7XG4gICAgfVxuICB9KVxuKTtcblxuLy8gYWxsIHBvcHVwIGZvcm1zXG5jb25zdCAkcG9wdXBGb3JtcyA9IFt7XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtcmVzdG9yZS1mb3JtXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICRlbGVtZW50LnN1Ym1pdCgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXJlcXVlc3QtYXV0aC1mb3JtXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICRlbGVtZW50LnN1Ym1pdCgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLW9mZmVyLWZvcm1dJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgY29uc3QgJHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJvZmZlclwiXScpO1xuICAgIGNvbnN0ICRzdWNjZXNzUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cIm9mZmVyLXN1Y2Nlc3NcIl0nKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGFwaS5wb3B1cCgkcG9wdXAsIHtcbiAgICAgICAgb25IaWRlKCkge1xuICAgICAgICAgIEFycmF5LmZyb20oJHBvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykpLm1hcChlbCA9PiBlbC52YWx1ZSA9ICcnKTtcbiAgICAgICAgICAkYXBpLnBvcHVwKCRzdWNjZXNzUG9wdXApLnNob3coKTtcbiAgICAgICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgICB9XG4gICAgICB9KS5oaWRlKCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtcmVxdWVzdC1mb3JtXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIGNvbnN0ICRwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwicmVxdWVzdFwiXScpO1xuICAgIGNvbnN0ICRzdWNjZXNzUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cInJlcXVlc3Qtc3VjY2Vzc1wiXScpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkYXBpLnBvcHVwKCRwb3B1cCwge1xuICAgICAgICBvbkhpZGUoKSB7XG4gICAgICAgICAgQXJyYXkuZnJvbSgkcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKSkubWFwKGVsID0+IGVsLnZhbHVlID0gJycpO1xuICAgICAgICAgICRhcGkucG9wdXAoJHN1Y2Nlc3NQb3B1cCkuc2hvdygpO1xuICAgICAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAgIH1cbiAgICAgIH0pLmhpZGUoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1yZXF1ZXN0LXNwZWNpZmljLWZvcm1dJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgY29uc3QgJHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJyZXF1ZXN0LXNwZWNpZmljXCJdJyk7XG4gICAgY29uc3QgJHN1Y2Nlc3NQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwicmVxdWVzdC1zdWNjZXNzXCJdJyk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRhcGkucG9wdXAoJHBvcHVwLCB7XG4gICAgICAgIG9uSGlkZSgpIHtcbiAgICAgICAgICBBcnJheS5mcm9tKCRwb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpKS5tYXAoZWwgPT4gZWwudmFsdWUgPSAnJyk7XG4gICAgICAgICAgJGFwaS5wb3B1cCgkc3VjY2Vzc1BvcHVwKS5zaG93KCk7XG4gICAgICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICAgfVxuICAgICAgfSkuaGlkZSgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59XTtcblxuLy8gYXBwbHkgdmFsaWRhdGlvbiBvbiBwb3B1cHMgZm9ybXNcbiRwb3B1cEZvcm1zLm1hcChmb3JtID0+IHtcbiAgY29uc3QgeyAkZWxlbWVudCwgY2FsbGJhY2sgfSA9IGZvcm07XG5cbiAgaWYgKCRlbGVtZW50KSB7XG4gICAgJGFwaS52YWxpZGF0ZSgkZWxlbWVudCwgKCkgPT4gY2FsbGJhY2soJGVsZW1lbnQpKTtcbiAgfVxufSk7XG4gIGNvbnN0ICRkcm9wZG93bnMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wZG93bicpKTtcblxuLy8gY2xvc2UgZHJvcGRvd24gb24gb3V0ZXIgY2xpY2tcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gZS50YXJnZXQ7XG5cbiAgJGRyb3Bkb3ducy5tYXAoZWwgPT4ge1xuICAgIGlmKGVsLmNsb3Nlc3QoJy5kcm9wZG93bicpICE9PSAkdGhpcy5jbG9zZXN0KCcuZHJvcGRvd24nKSkge1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnZHJvcGRvd24tLWFjdGl2ZScpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuLy8gb3BlbiBkcm9wZG93blxuJGRyb3Bkb3ducy5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnaW5wdXRfX2NvZGUnKSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG4gIGlmICghZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdkcm9wZG93bi0tYWN0aXZlJykpIHtcbiAgICAkZHJvcGRvd25zLm1hcChlbCA9PiBlbCAhPT0gZWwgJiYgZWwuY2xhc3NMaXN0LnJlbW92ZSgnZHJvcGRvd24tLWFjdGl2ZScpKTtcbiAgICBlbC5jbGFzc0xpc3QudG9nZ2xlKCdkcm9wZG93bi0tYWN0aXZlJyk7XG4gIH1cbn0pKTtcblxuLy8gY2hhbmdlIGRyb3Bkb3duIHZhbHVlXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkZHJvcGRvd25NZW51SXRlbSA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5kcm9wZG93bl9fbWVudS1pdGVtJyk7XG5cbiAgaWYgKCRkcm9wZG93bk1lbnVJdGVtKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duLS1hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdkcm9wZG93bi0tYWN0aXZlJyk7XG5cbiAgICBpZiAoJGRyb3Bkb3duTWVudUl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLXRvZ2dsZScpKSB7XG4gICAgICBjb25zdCAkdGhpcyA9IGUudGFyZ2V0O1xuICAgICAgY29uc3QgbmV3VmFsdWUgPSAkdGhpcy5pbm5lclRleHQ7XG4gICAgICBjb25zdCAkaGlkZGVuSXRlbSA9ICR0aGlzLmNsb3Nlc3QoJy5kcm9wZG93bl9fbWVudScpLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bl9fbWVudS1pdGVtLS1oaWRkZW4nKTtcbiAgICAgIGNvbnN0ICRkcm9wZG93blZhbHVlID0gJHRoaXMuY2xvc2VzdCgnLmRyb3Bkb3duJykucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duX192YWx1ZScpO1xuXG4gICAgICBpZiAoJGhpZGRlbkl0ZW0pIHtcbiAgICAgICAgJGhpZGRlbkl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnZHJvcGRvd25fX21lbnUtaXRlbS0taGlkZGVuJyk7XG4gICAgICB9XG5cbiAgICAgICRkcm9wZG93bk1lbnVJdGVtLmNsYXNzTGlzdC5hZGQoJ2Ryb3Bkb3duX19tZW51LWl0ZW0tLWhpZGRlbicpOyBcbiAgICAgICRkcm9wZG93blZhbHVlLmlubmVyVGV4dCA9IG5ld1ZhbHVlO1xuICAgIH1cbiAgfVxufSk7XG4gIC8vIGhhbmRsZSB0YWJzIGxvZ2ljXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWJzX19pdGVtJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IHRhcmdldCA9IGVsLmRhdGFzZXQudGFiO1xuICBjb25zdCAkYWN0aXZlVGFiQ29udGVudCA9IGVsLmNsb3Nlc3QoJ1tkYXRhLXRhYnNdJykucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aXZlXScpO1xuXG4gIGVsLmNsb3Nlc3QoJy50YWJzJykucXVlcnlTZWxlY3RvcignLnRhYnNfX2l0ZW0tLWFjdGl2ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ3RhYnNfX2l0ZW0tLWFjdGl2ZScpO1xuICBlbC5jbGFzc0xpc3QuYWRkKCd0YWJzX19pdGVtLS1hY3RpdmUnKTtcblxuICBpZiAoJGFjdGl2ZVRhYkNvbnRlbnQpIHtcbiAgICBlbC5jbG9zZXN0KCdbZGF0YS10YWJzXScpLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZV0nKS5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtYWN0aXZlJyk7XG4gICAgZWwuY2xvc2VzdCgnW2RhdGEtdGFic10nKS5xdWVyeVNlbGVjdG9yKGBbZGF0YS1jb250ZW50PVwiJHt0YXJnZXR9XCJdYCkuc2V0QXR0cmlidXRlKCdkYXRhLWFjdGl2ZScsIHRydWUpO1xuICB9XG59KSk7XG4gIGNvbnN0IGNoYW5nZUNvdW50cnlFdmVudCA9IG5ldyBFdmVudCgnY2hhbmdlQ291bnRyeScpO1xuXG5jb25zdCB1cGRhdGVNYXNrID0gKGlucHV0LCBtYXNrKSA9PiB7XG4gIElucHV0bWFzayh7bWFza30pLm1hc2soaW5wdXQpO1xufTtcblxuLy8gT3BlbiBpbnB1dCBkcm9wZG93blxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW5wdXQuZHJvcGRvd24nKSlcbi5jb25jYXQoQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW5wdXQgLmRyb3Bkb3duJykpKVxuLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgJGRyb3Bkb3duID0gZWwucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duX19tZW51Jyk7XG4gIGVsLmNsb3Nlc3QoJy5pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dF9fZHJvcGRvd24nKS5zdHlsZS53aWR0aCA9IGVsLmNsb3Nlc3QoJy5pbnB1dCcpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgJ3B4JztcblxuICBpZiAoISRkcm9wZG93bi5jbGFzc0xpc3QuY29udGFpbnMoJ2Zha2VTY3JvbGwnKSkge1xuICAgICRkcm9wZG93bi5mYWtlU2Nyb2xsKCk7XG4gIH1cbn0pKTtcblxuLy8gQ2hhbmdlIHBob25lIGNvZGUgb24gaW5wdXQgZHJvcGRvd25cbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmlucHV0X19kcm9wZG93bi1pdGVtW2RhdGEtY29kZS1sb2NdJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgbG9jID0gZWwuZGF0YXNldC5jb2RlTG9jO1xuICBjb25zdCBtYXNrID0gZWwuZGF0YXNldC5tYXNrO1xuICBjb25zdCAkaW5wdXQgPSBlbC5jbG9zZXN0KCcuaW5wdXQnKS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuXG4gIGVsLmNsb3Nlc3QoJy5pbnB1dF9fY29kZScpLmRhdGFzZXQuY29kZUxvYyA9IGxvYztcbiAgZWwuY2xvc2VzdCgnLmlucHV0X19jb2RlJykuZGF0YXNldC5tYXNrID0gbWFzaztcbiAgJGlucHV0LnBsYWNlaG9sZGVyID0gbWFzay5yZXBsYWNlQWxsKCc5JywgJ18nKTtcbiAgdXBkYXRlTWFzaygkaW5wdXQsIG1hc2spO1xufSkpO1xuXG4vLyBDaGFuZ2UgaW5wdXQgZHJvcGRvd24gdmFsdWVcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmlucHV0X19kcm9wZG93bi1pdGVtW2RhdGEtZHJvcGRvd25dJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgdmFsdWUgPSBlbC5pbm5lclRleHQ7XG4gIFxuICBlbC5jbG9zZXN0KCcuaW5wdXQnKS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLnZhbHVlID0gdmFsdWU7XG4gIGVsLmNsb3Nlc3QoJy5pbnB1dCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2lucHV0LS1lcnJvcicpO1xuXG4gIGlmIChlbC5jbG9zZXN0KCcuaW5wdXQnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLWF1dGgtY291bnRyeScpKSB7XG4gICAgZWwuY2xvc2VzdCgnLmlucHV0JykuZGlzcGF0Y2hFdmVudChjaGFuZ2VDb3VudHJ5RXZlbnQpO1xuICB9XG59KSk7XG5cbi8vIE1hc2tpbmcgcGhvbmUgaW5wdXRcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cInRlbFwiXScpKS5tYXAoZWwgPT4ge1xuICBJbnB1dG1hc2soe21hc2s6IGVsLmNsb3Nlc3QoJy5pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dF9fY29kZScpLmRhdGFzZXQubWFza30pLm1hc2soZWwpO1xufSk7XG4gIC8vIGhhbmRsZSBjaGVja2JveHNlbGVjdCBsb2dpY1xuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3hzZWxlY3RfX2xpc3QnKSkubWFwKGxpc3QgPT4ge1xuICBsaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgXG4gICAgY29uc3QgJGNoZWNrYm94U2VsZWN0ID0gbGlzdC5jbG9zZXN0KCcuY2hlY2tib3hzZWxlY3QnKTtcbiAgICBsZXQgY2hlY2tlZCA9IGZhbHNlO1xuXG4gICAgJGNoZWNrYm94U2VsZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrYm94c2VsZWN0LS1lcnJvcicpO1xuXG4gICAgQXJyYXkuZnJvbShsaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGVja2JveF9faW5wdXQnKSkubWFwKGNoZWNrYm94ID0+IHtcbiAgICAgIGNvbnN0ICRwbGFjZWhvbGRlciA9ICRjaGVja2JveFNlbGVjdC5xdWVyeVNlbGVjdG9yKCcuY2hlY2tib3hzZWxlY3RfX2lucHV0LXBsYWNlaG9sZGVyJyk7XG5cbiAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSBjaGVja2VkID0gdHJ1ZTtcblxuICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGxldCB2YWx1ZSA9ICcnO1xuXG4gICAgICAgIEFycmF5LmZyb20obGlzdC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dDpjaGVja2VkJykpLm1hcChpdGVtID0+IHtcbiAgICAgICAgICB2YWx1ZSArPSBpdGVtLmNsb3Nlc3QoJy5jaGVja2JveHNlbGVjdF9faXRlbScpLnF1ZXJ5U2VsZWN0b3IoJy5jaGVja2JveF9fdGV4dCcpLmlubmVyVGV4dCArICcsICc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICRwbGFjZWhvbGRlci5pbm5lclRleHQgPSB2YWx1ZS5zdWJzdHJpbmcoMCwgdmFsdWUubGVuZ3RoIC0gMik7XG4gICAgICAgICAgJHBsYWNlaG9sZGVyLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94c2VsZWN0X19pbnB1dC1wbGFjZWhvbGRlci0tYWN0aXZlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJHBsYWNlaG9sZGVyLmlubmVyVGV4dCA9ICRwbGFjZWhvbGRlci5kYXRhc2V0LnBsYWNlaG9sZGVyO1xuICAgICAgICAgICRwbGFjZWhvbGRlci5jbGFzc0xpc3QucmVtb3ZlKCdjaGVja2JveHNlbGVjdF9faW5wdXQtcGxhY2Vob2xkZXItLWFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgXG4gICAgaWYgKGNoZWNrZWQpIHtcbiAgICAgICRjaGVja2JveFNlbGVjdC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveHNlbGVjdC0tY2hlY2tlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkY2hlY2tib3hTZWxlY3QuY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tib3hzZWxlY3QtLWNoZWNrZWQnKTtcbiAgICB9XG4gIH0pO1xuXG4gIGxpc3QuZmFrZVNjcm9sbCgpO1xufSk7XG4gIC8vIHNldCBmaWx0ZXIgaW5wdXQgdmFsdWVcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlcnNfX2Ryb3Bkb3duLWl0ZW0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gZS5jdXJyZW50VGFyZ2V0O1xuICBjb25zdCB2YWx1ZSA9ICR0aGlzLmlubmVyVGV4dDtcblxuICAkdGhpcy5jbG9zZXN0KCcuZmlsdGVyc19faW5wdXQnKS5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyc19faW5wdXQtZmllbGQnKS52YWx1ZSA9IHZhbHVlO1xufSkpO1xuXG4vLyBmaWx0ZXIgbWFpbiBsb2dpY1xuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19pbnB1dC1maWVsZCcpLmxlbmd0aCkge1xuICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19pbnB1dC1maWVsZCcpKS5tYXAoZWwgPT4ge1xuICAgIGZldGNoKCdkYXRhL2xvY2F0aW9uLmpzb24nKS50aGVuKHJlcyA9PiByZXMuanNvbigpKS50aGVuKGRhdGEgPT4ge1xuICAgICAgY29uc3QgJHRoaXMgPSBlbDtcbiAgICAgIC8vIGhhbmRsZSBmaWx0ZXIgaW5wdXRcbiAgICAgIGNvbnN0IGhhbmRsZUlucHV0ID0gZmlyc3RSZW5kZXIgPT4ge1xuICAgICAgICBjb25zdCAkZHJvcGRvd25FbGVtZW50ID0gJHRoaXMubmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXJzX19kcm9wZG93bi1pbm5lcicpO1xuICAgICAgICBjb25zdCAkZHJvcGRvd24gPSAkZHJvcGRvd25FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYWtlU2Nyb2xsX19jb250ZW50JykgfHwgJGRyb3Bkb3duRWxlbWVudDtcbiAgICAgICAgY29uc3QgaW5wdXRTbWFydFNlYXJjaCA9ICR0aGlzLmdldEF0dHJpYnV0ZSgnbmFtZScpID09PSAnbG9jYXRpb24nO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gaW5wdXRTbWFydFNlYXJjaCA/IGRhdGEubWFwKGVsID0+IGVsLmtleSkuY29uY2F0KGRhdGEuZmxhdE1hcChpdGVtID0+IGl0ZW0uY2l0aWVzKSkgOiBKU09OLnBhcnNlKCR0aGlzLmRhdGFzZXQub3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGxvd2VyQ2FzZVZhbHVlID0gJHRoaXMudmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3QgJGNoZWNrYm94ID0gJGRyb3Bkb3duLmNsb3Nlc3QoJy5maWx0ZXJzX19kcm9wZG93bicpLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpO1xuICAgICAgICBsZXQgbWF0Y2hlc0ZvdW5kID0gZmFsc2U7XG5cbiAgICAgICAgJGRyb3Bkb3duLmlubmVySFRNTCA9ICcnO1xuICAgICAgXG4gICAgICAgIC8vIHJlbmRlciBmaWx0ZXIgZHJvcGRvd24gaXRlbXNcbiAgICAgICAgb3B0aW9ucy5tYXAoZWwgPT4ge1xuICAgICAgICAgIGlmIChmaXJzdFJlbmRlciB8fCBlbC50b0xvd2VyQ2FzZSgpLmluZGV4T2YobG93ZXJDYXNlVmFsdWUpID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCAkZWxlbWVudCA9IGlucHV0U21hcnRTZWFyY2ggP1xuICAgICAgICAgICAgICBgPGEgY2xhc3M9XCJmaWx0ZXJzX19kcm9wZG93bi1pdGVtIGRyb3Bkb3duX19tZW51LWl0ZW0keyhsb3dlckNhc2VWYWx1ZSAmJiAhZmlyc3RSZW5kZXIpID8gJyBmaWx0ZXJzX19kcm9wZG93bi1pdGVtLS1zbWFydCcgOiAnJ31cIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCI+PHNwYW4+JHtlbC5zdWJzdHIoMCwgbG93ZXJDYXNlVmFsdWUubGVuZ3RoKX08L3NwYW4+JHtlbC5zdWJzdHIobG93ZXJDYXNlVmFsdWUubGVuZ3RoKX08L2E+YCA6XG4gICAgICAgICAgICAgIGA8YSBjbGFzcz1cImZpbHRlcnNfX2Ryb3Bkb3duLWl0ZW0gZHJvcGRvd25fX21lbnUtaXRlbVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIj4ke2VsfTwvYT5gO1xuICAgICAgICAgICAgbWF0Y2hlc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICRkcm9wZG93bi5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsICRlbGVtZW50KVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gdG9nZ2xlIGZpbHRlciBkcm9wZG93biB2aXNpYmlsaXR5XG4gICAgICAgIGlmIChtYXRjaGVzRm91bmQpIHtcbiAgICAgICAgICAkZHJvcGRvd25FbGVtZW50LnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnZmlsdGVyc19fZHJvcGRvd24tLWhpZGRlbicpO1xuICAgICAgICAgICRkcm9wZG93bkVsZW1lbnQucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdmaWx0ZXJzX19kcm9wZG93bi0tZW1wdHknKTtcbiAgICAgICAgfSBlbHNlIGlmICghJGNoZWNrYm94KSB7XG4gICAgICAgICAgJGRyb3Bkb3duRWxlbWVudC5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ2ZpbHRlcnNfX2Ryb3Bkb3duLS1oaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkZHJvcGRvd25FbGVtZW50LnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnZmlsdGVyc19fZHJvcGRvd24tLWVtcHR5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBoYW5kbGUgaW5wdXQgdmFsdWVcbiAgICAgICAgQXJyYXkuZnJvbSgkZHJvcGRvd24ucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlcnNfX2Ryb3Bkb3duLWl0ZW0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICR0aGlzLnZhbHVlID0gZWwuaW5uZXJUZXh0O1xuICAgICAgICAgICR0aGlzLnNldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScsIGVsLmlubmVyVGV4dCk7XG5cbiAgICAgICAgICBpZiAoJGNoZWNrYm94KSB7XG4gICAgICAgICAgICAkY2hlY2tib3guY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgJHRoaXMucmVtb3ZlQXR0cmlidXRlKCdyZWFkb25seScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuXG4gICAgICAgIC8vIGZha2VTY3JvbGwgaW5pdFxuICAgICAgICBpZiAoZmlyc3RSZW5kZXIgJiYgISRkcm9wZG93bkVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmYWtlU2Nyb2xsJykpIHtcbiAgICAgICAgICAkZHJvcGRvd24uZmFrZVNjcm9sbCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgLy8gYWRkIGxpc3RlbmVycyBvbiBmaWx0ZXIgaW5wdXRcbiAgICAgIGlmICgkdGhpcy5uYW1lICE9PSAnY29zdCcpIHtcbiAgICAgICAgJHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiBoYW5kbGVJbnB1dChmYWxzZSkpO1xuICAgICAgICAkdGhpcy5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsICgpID0+IGhhbmRsZUlucHV0KHRydWUpKTtcbiAgICAgICAgJHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcbiAgICAgICAgICBpZiAoJHRoaXMudmFsdWUgPT09ICcnIHx8ICEkdGhpcy5kYXRhc2V0LnZhbHVlKSB7XG4gICAgICAgICAgICAkdGhpcy52YWx1ZSA9ICcnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkdGhpcy52YWx1ZSA9ICR0aGlzLmRhdGFzZXQudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cblxuLy8gaGFuZGxlIGZpbHRlciByYW5nZSBzbGlkZXJcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlcnNfX2Nvc3QtcmFuZ2UnKSkubWFwKCRyYW5nZSA9PiB7XG4gIGNvbnN0IG1pbiA9ICskcmFuZ2UuZGF0YXNldC5taW47XG4gIGNvbnN0IG1heCA9ICskcmFuZ2UuZGF0YXNldC5tYXg7XG4gIGNvbnN0IHNtaW4gPSArJHJhbmdlLmRhdGFzZXQubWluO1xuICBjb25zdCBzbWF4ID0gKyRyYW5nZS5kYXRhc2V0Lm1heDtcblxuICBub1VpU2xpZGVyLmNyZWF0ZSgkcmFuZ2UsIHtcbiAgICBzdGFydDogW3NtaW4sIHNtYXhdLFxuICAgIGNvbm5lY3Q6IHRydWUsXG4gICAgcmFuZ2U6IHtcbiAgICAgIG1pbixcbiAgICAgIG1heFxuICAgIH0sXG4gICAgc3RlcDogMTAwXG4gIH0pO1xuXG4gICRyYW5nZS5ub1VpU2xpZGVyLm9uKCdzbGlkZScsIHZhbHVlcyA9PiB7XG4gICAgY29uc3QgbWluID0gcGFyc2VJbnQodmFsdWVzWzBdKTtcbiAgICBjb25zdCBtYXggPSBwYXJzZUludCh2YWx1ZXNbMV0pO1xuXG4gICAgJHJhbmdlLmNsb3Nlc3QoJy5maWx0ZXJzX19pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXJzX19pbnB1dC1maWVsZCcpLnZhbHVlID0gYCR7bWlufSDigr0g4oCTICR7bWF4fSDigr1gO1xuICAgICRyYW5nZS5jbG9zZXN0KCcuZmlsdGVyc19fY29zdCcpLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvc3Q9XCJmcm9tXCJdJykuaW5uZXJUZXh0ID0gbWluO1xuICAgICRyYW5nZS5jbG9zZXN0KCcuZmlsdGVyc19fY29zdCcpLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvc3Q9XCJ0b1wiXScpLmlubmVyVGV4dCA9IG1heDtcbiAgfSk7XG59KTtcblxuXG4vLyBoYW5kbGUgZmlsdGVyIGNoZWNrYm94XG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19kcm9wZG93bi1jaGVja2JveCcpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0ICRpbnB1dEZpZWxkID0gZWwuY2xvc2VzdCgnLmZpbHRlcnNfX2lucHV0JykucXVlcnlTZWxlY3RvcignLmZpbHRlcnNfX2lucHV0LWZpZWxkJyk7XG5cbiAgaWYgKGVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuY2hlY2tlZCkge1xuICAgIGNvbnN0IGNoZWNrYm94VmFsdWUgPSBlbC5xdWVyeVNlbGVjdG9yKCcuY2hlY2tib3hfX3RleHQnKS5pbm5lclRleHQ7XG4gIFxuICAgICRpbnB1dEZpZWxkLnZhbHVlID0gY2hlY2tib3hWYWx1ZTtcbiAgICAkaW5wdXRGaWVsZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnLCBjaGVja2JveFZhbHVlKTtcbiAgICAkaW5wdXRGaWVsZC5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJ3JlYWRvbmx5Jyk7XG4gIH0gZWxzZSB7XG4gICAgJGlucHV0RmllbGQudmFsdWUgPSAnJztcbiAgICAkaW5wdXRGaWVsZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnLCAnJyk7XG4gICAgJGlucHV0RmllbGQucmVtb3ZlQXR0cmlidXRlKCdyZWFkb25seScpO1xuICB9XG59KSk7XG4gIC8vIHNob3cgaGlkZG5lIHN1YmplY3QgaW4gdHV0b3JjYXJkXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGFyZ2V0ID0gZS50YXJnZXQ7XG5cbiAgaWYgKCR0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy10dXRvcmNhcmQtbW9yZScpKSB7XG4gICAgJHRhcmdldC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIFxuICAgIEFycmF5LmZyb20oJHRhcmdldC5jbG9zZXN0KCcudHV0b3JjYXJkX19zdWJqZWN0cycpLnF1ZXJ5U2VsZWN0b3JBbGwoJy50dXRvcmNhcmRfX3N1YmplY3RzLWl0ZW0tLWhpZGRlbicpKS5tYXAoZWwgPT4ge1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgndHV0b3JjYXJkX19zdWJqZWN0cy1pdGVtLS1oaWRkZW4nKTtcbiAgICB9KTtcbiAgfVxufSk7XG4gIC8vIGFjY29yZGlvbiBsb2dpY1xuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjb3JkaW9uX19pdGVtLXRpdGxlJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgJGFjdGl2ZUl0ZW0gPSBlbC5jbG9zZXN0KCcuYWNjb3JkaW9uJykucXVlcnlTZWxlY3RvcignLmFjY29yZGlvbl9faXRlbS0tYWN0aXZlJyk7XG4gIGNvbnN0ICRjdXJyZW50SXRlbSA9IGVsLmNsb3Nlc3QoJy5hY2NvcmRpb25fX2l0ZW0nKTtcblxuICBpZiAoJGN1cnJlbnRJdGVtLmNsYXNzTGlzdC5jb250YWlucygnYWNjb3JkaW9uX19pdGVtLS1hY3RpdmUnKSkge1xuICAgICRjdXJyZW50SXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY2NvcmRpb25fX2l0ZW0tLWFjdGl2ZScpO1xuICB9IGVsc2Uge1xuICAgIGlmICgkYWN0aXZlSXRlbSkge1xuICAgICAgJGFjdGl2ZUl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWNjb3JkaW9uX19pdGVtLS1hY3RpdmUnKTtcbiAgICB9XG4gIFxuICAgICRjdXJyZW50SXRlbS5jbGFzc0xpc3QuYWRkKCdhY2NvcmRpb25fX2l0ZW0tLWFjdGl2ZScpO1xuICB9XG59KSk7XG4gIFxuICBjb25zdCAkYmFubmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhbm5lcicpO1xuXG4vLyBiYW5uZXIgaGFuZGxpbmdcbmlmICghSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGV0bWV0dXRvcjpiYW5uZXJJc0hpZGRlbicpKSkge1xuICAkYmFubmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYW5uZXJfX2Nsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgJGJhbm5lci5jbGFzc0xpc3QuYWRkKCdiYW5uZXItLWhpZGUnKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRiYW5uZXIucmVtb3ZlKCk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGV0bWV0dXRvcjpiYW5uZXJJc0hpZGRlbicsIHRydWUpO1xuICAgIH0sIDUwMClcbiAgfSk7XG59IGVsc2Uge1xuICAkYmFubmVyLnJlbW92ZSgpO1xufVxuICBjb25zdCAkY29va2llcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb29raWVzJyk7XG5cbi8vIGNvb2tpZXMgaGFuZGxpbmdcbmlmICghSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGV0bWV0dXRvcjpjb29raWVzSXNIaWRkZW4nKSkpIHtcbiAgJGNvb2tpZXMuY2xhc3NMaXN0LmFkZCgnY29va2llcy0tc2hvd24nKTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29va2llc19fYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgJGNvb2tpZXMuY2xhc3NMaXN0LnJlbW92ZSgnY29va2llcy0tc2hvd24nKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRjb29raWVzLnJlbW92ZSgpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xldG1ldHV0b3I6Y29va2llc0lzSGlkZGVuJywgdHJ1ZSk7XG4gICAgfSwgNTAwKVxuICB9KTtcbn0gZWxzZSB7XG4gICRjb29raWVzLnJlbW92ZSgpO1xufVxuICBsZXQgb2Zmc2V0ID0gMDtcbmNvbnN0IGhpZGVPdmVyZmxvdyA9ICgpID0+IHtcbiAgb2Zmc2V0ID0gLXBhcnNlSW50KGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luVG9wKTtcbiAgZG9jdW1lbnQuYm9keS5zdHlsZS5jc3NUZXh0ID0gYHBvc2l0aW9uOiBmaXhlZDsgbWFyZ2luLXRvcDogJHstd2luZG93LnNjcm9sbFl9cHhgO1xufTtcbmNvbnN0IHNob3dPdmVyZmxvdyA9IG9mZnNldCA9PiB7XG4gIGRvY3VtZW50LmJvZHkuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjogc3RhdGljOyBtYXJnaW4tdG9wOiAwJztcbiAgd2luZG93LnNjcm9sbFRvKDAsIG9mZnNldCk7XG59O1xuY29uc3QgaGlkZUhlYWRlck1lbnUgPSAoKSA9PiB7XG4gIHNob3dPdmVyZmxvdygpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW1lbnUnKS5jbGFzc0xpc3QucmVtb3ZlKCdoZWFkZXItbWVudS0tc2hvd24nKTtcbn07XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2J1cmdlcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBoaWRlT3ZlcmZsb3coKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1tZW51JykuY2xhc3NMaXN0LmFkZCgnaGVhZGVyLW1lbnUtLXNob3duJyk7XG59KTtcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1tZW51X19iYWNrZHJvcCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZUhlYWRlck1lbnUpO1xuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1tZW51X19jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZUhlYWRlck1lbnUpO1xuXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oZWFkZXJfX25vdGlmaWNhdGlvbnMtd3JhcHBlcicpKS5tYXAoZWwgPT4ge1xuICBpZiAoIWVsLmNsYXNzTGlzdC5jb250YWlucygnZmFrZVNjcm9sbCcpKSB7XG4gICAgZWwuZmFrZVNjcm9sbCgpO1xuICB9XG59KTtcbiAgY29uc3QgcG9wdWxhclNsaWRlciA9IG5ldyBTd2lwZXIoJy5wb3B1bGFyX19ncmlkLS1tb2JpbGUnLCB7XG4gIGxvb3A6IHRydWUsXG4gIGxvb3BBZGRpdGlvbmFsU2xpZGVzOiAzLFxuICBzcGFjZUJldHdlZW46IDIwLFxuICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gIGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxuICBicmVha3BvaW50czoge1xuICAgIDc2MDoge1xuICAgICAgc2xpZGVzUGVyVmlldzogMixcbiAgICAgIGNlbnRlcmVkU2xpZGVzOiBmYWxzZVxuICAgIH1cbiAgfVxufSk7XG4gIGNvbnN0IHJldmlld3NTbGlkZXIgPSBuZXcgU3dpcGVyKCcucmV2aWV3c19fc2xpZGVyJywge1xuICBsb29wOiB0cnVlLFxuICBzcGFjZUJldHdlZW46IDIwLFxuICBzbGlkZXNQZXJWaWV3OiAzLFxuICBzbGlkZXNQZXJHcm91cDogMyxcbiAgbG9vcEFkZGl0aW9uYWxTbGlkZXM6IDMsXG4gIHBhZ2luYXRpb246IHtcbiAgICBlbDogJy5zd2lwZXItcGFnaW5hdGlvbicsXG4gICAgY2xpY2thYmxlOiB0cnVlXG4gIH1cbn0pO1xuXG5jb25zdCByZXZpZXdTbGlkZXJNb2JpbGUgPSBuZXcgU3dpcGVyKCcucmV2aWV3c19fc2xpZGVyLS1tb2JpbGUnLCB7XG4gIGxvb3A6IHRydWUsXG4gIHNwYWNlQmV0d2VlbjogMjAsXG4gIGxvb3BBZGRpdGlvbmFsU2xpZGVzOiAzLFxuICBwYWdpbmF0aW9uOiB7XG4gICAgZWw6ICcuc3dpcGVyLXBhZ2luYXRpb24nLFxuICAgIGNsaWNrYWJsZTogdHJ1ZVxuICB9XG59KTtcbiAgLy8gYWxsIGF1dGggZm9ybXNcbmNvbnN0ICRhdXRoRm9ybXMgPSBbe1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLWxvZ2luLWZvcm1dJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgJGVsZW1lbnQuc3VibWl0KCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtc2lnbnVwLXN0dWRlbnQtZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAkZWxlbWVudC5zdWJtaXQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1zaWdudXAtdHV0b3ItZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAkZWxlbWVudC5zdWJtaXQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1zdXBwb3J0LWZvcm1dJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgJGVsZW1lbnQuc3VibWl0KCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn1dO1xuXG4vLyBhcHBseSB2YWxpZGF0aW9uIG9uIGF1dGggZm9ybXNcbiRhdXRoRm9ybXMubWFwKGZvcm0gPT4ge1xuICBjb25zdCB7ICRlbGVtZW50LCBjYWxsYmFjayB9ID0gZm9ybTtcblxuICBpZiAoJGVsZW1lbnQpIHtcbiAgICAkYXBpLnZhbGlkYXRlKCRlbGVtZW50LCAoKSA9PiBjYWxsYmFjaygkZWxlbWVudCkpO1xuICB9XG59KTtcblxuLy8gc2V0IGNvdW50cnkgdmFsdWUgdG8gY2l0aWVzIGlucHV0XG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1hdXRoLWNvdW50cnknKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZUNvdW50cnknLCBlID0+IHtcbiAgZWwuY2xvc2VzdCgnZm9ybScpLnF1ZXJ5U2VsZWN0b3IoJy5qcy1hdXRoLWNpdHknKS5kYXRhc2V0LmNvdW50cnkgPSBlLnRhcmdldC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLnZhbHVlO1xufSkpO1xuXG4vLyBoYW5kbGluZyBjaXRpZXMgaW5wdXRcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtYXV0aC1jaXR5IGlucHV0JykubGVuZ3RoKSB7XG4gIGZldGNoKCdkYXRhL2xvY2F0aW9uLmpzb24nKS50aGVuKHJlcyA9PiByZXMuanNvbigpKS50aGVuKGRhdGEgPT4ge1xuICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWF1dGgtY2l0eSBpbnB1dCcpKS5tYXAoZWwgPT4ge1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBlID0+IHtcbiAgICAgICAgY29uc3QgJHRoaXMgPSBlLmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgIGNvbnN0ICRsYWJlbEVsZW1lbnQgPSAkdGhpcy5jbG9zZXN0KCcuaW5wdXQnKTtcbiAgICAgICAgY29uc3QgY291bnRyeSA9ICRsYWJlbEVsZW1lbnQuZGF0YXNldC5jb3VudHJ5O1xuXG4gICAgICAgIGlmIChjb3VudHJ5KSB7XG4gICAgICAgICAgY29uc3QgY2l0aWVzID0gZGF0YS5maWx0ZXIoZWwgPT4gZWwua2V5ID09PSBjb3VudHJ5KVswXS5jaXRpZXM7XG4gICAgICAgICAgY29uc3QgbG93ZXJDYXNlVmFsdWUgPSAkdGhpcy52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIGNvbnN0ICRkcm9wZG93bkVsZW1lbnQgPSAkdGhpcy5jbG9zZXN0KCcuaW5wdXQnKS5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd25fX21lbnUnKTtcbiAgICAgICAgICBjb25zdCAkZHJvcGRvd25Db250ZW50ID0gJGRyb3Bkb3duRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZmFrZVNjcm9sbF9fY29udGVudCcpO1xuICAgICAgICAgIGxldCBtYXRjaGVzRm91bmQgPSBmYWxzZTtcblxuICAgICAgICAgIGlmICgkZHJvcGRvd25Db250ZW50KSB7XG4gICAgICAgICAgICAkZHJvcGRvd25Db250ZW50LmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICgkdGhpcy52YWx1ZSAhPT0gJycpIHtcbiAgICAgICAgICAgIGNpdGllcy5tYXAoZWwgPT4ge1xuICAgICAgICAgICAgICBpZiAoZWwudG9Mb3dlckNhc2UoKS5pbmRleE9mKGxvd2VyQ2FzZVZhbHVlKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIG1hdGNoZXNGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgJGRyb3Bkb3duQ29udGVudC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8YSBjbGFzcz1cImlucHV0X19kcm9wZG93bi1pdGVtIGRyb3Bkb3duX19tZW51LWl0ZW0ke2xvd2VyQ2FzZVZhbHVlID8gJyBpbnB1dF9fZHJvcGRvd24taXRlbS0tc21hcnQnIDogJyd9XCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiPjxzcGFuPiR7ZWwuc3Vic3RyKDAsIGxvd2VyQ2FzZVZhbHVlLmxlbmd0aCl9PC9zcGFuPiR7ZWwuc3Vic3RyKGxvd2VyQ2FzZVZhbHVlLmxlbmd0aCl9PC9hPmApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAobWF0Y2hlc0ZvdW5kKSB7XG4gICAgICAgICAgICAgIEFycmF5LmZyb20oJGxhYmVsRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW5wdXRfX2Ryb3Bkb3duLWl0ZW0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICR0aGlzLnZhbHVlID0gZWwuaW5uZXJUZXh0O1xuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCEkZHJvcGRvd25FbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZmFrZVNjcm9sbCcpKSB7XG4gICAgICAgICAgICAkZHJvcGRvd25FbGVtZW50LmZha2VTY3JvbGwoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsICgpID0+IHtcbiAgICAgICAgY29uc3QgJGRyb3Bkb3duRWxlbWVudCA9IGVsLmNsb3Nlc3QoJy5pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJy5mYWtlU2Nyb2xsX19jb250ZW50Jyk7XG5cbiAgICAgICAgaWYgKCRkcm9wZG93bkVsZW1lbnQpIHtcbiAgICAgICAgICAkZHJvcGRvd25FbGVtZW50LmlubmVySFRNTCA9ICcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbi8vIGhhbmRsaW5nIHJlcXVpcmVkIGFncmVlbWVudCBjaGVja2JveFxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtuYW1lPVwicnVsZXNBZ3JlZW1lbnRcIl0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgY29uc3QgJHN1Ym1pdEJ1dHRvbiA9IGVsLmNsb3Nlc3QoJ2Zvcm0nKS5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpO1xuXG4gIGlmIChlbC5jaGVja2VkKSB7XG4gICAgJHN1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWRpc2FibGVkJyk7XG4gICAgJHN1Ym1pdEJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gIH0gZWxzZSB7XG4gICAgJHN1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidXR0b24tLWRpc2FibGVkJyk7XG4gICAgJHN1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gIH1cbn0pKTtcblxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYXV0aF9fdG9nZ2xlIC50YWJzX19pdGVtJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmF1dGhfX3R5cGUnKS52YWx1ZSA9IGVsLmRhdGFzZXQudGFiIC0gMTtcbn0pKTtcbiAgY29uc3QgJGNhdGFsb2dNb3JlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLWNhdGFsb2ctbW9yZScpO1xuXG5pZiAoJGNhdGFsb2dNb3JlQnRuKSB7XG4gIGNvbnN0ICRwcmV2QXJyb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnaW5hdGlvbl9fYXJyb3ctLXByZXYnKTtcbiAgY29uc3QgJG5leHRBcnJvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uX19hcnJvdy0tbmV4dCcpO1xuICBjb25zdCAkc2VwYXJhdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2luYXRpb25fX3NlcGFyYXRvcicpO1xuXG4gIC8vIGNhdGFsb2cgcGFnZXMgc3RhdGVcbiAgY29uc3QgY2F0YWxvZ1BhZ2VzID0ge1xuICAgIGN1cnJlbnQ6IFsxXSxcbiAgICB0b3RhbDogcGFyc2VJbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGFsb2dfX2l0ZW1zJykuZGF0YXNldC50b3RhbClcbiAgfTtcblxuICAvLyBzZXQgcGFnaW5hdGlvbiBjdXJyZW50IHBhZ2VcbiAgY29uc3Qgc2V0Q3VycmVudFBhZ2UgPSBjdXJyZW50UGFnZSA9PiB7XG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGFnaW5hdGlvbl9fcGFnZS0tY3VycmVudCcpKS5tYXAoZWwgPT4gZWwuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fcGFnZS0tY3VycmVudCcpKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucGFnaW5hdGlvbl9fcGFnZVtkYXRhLXBhZ2U9XCIke2N1cnJlbnRQYWdlfVwiXWApLmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX3BhZ2UtLWN1cnJlbnQnKTtcbiAgfTtcblxuICAvLyBzZXQgcGFnaW5hdGlvbiBicmVha1xuICBjb25zdCBzZXRCcmVhayA9IGxhdGVzdFBhZ2UgPT4ge1xuICAgIGNvbnN0ICRiZWZvcmVTZXBhcmF0b3JJdGVtID0gJHNlcGFyYXRvci5wcmV2aW91c1NpYmxpbmc7XG4gICAgY29uc3QgJGZpcnN0SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uX19wYWdlJyk7XG5cbiAgICBpZiAoKyRiZWZvcmVTZXBhcmF0b3JJdGVtLmRhdGFzZXQucGFnZSA9PT0gbGF0ZXN0UGFnZSkge1xuICAgICAgaWYgKGxhdGVzdFBhZ2UgPT09IGNhdGFsb2dQYWdlcy50b3RhbCAtIDIpIHtcbiAgICAgICAgJGZpcnN0SXRlbS5yZW1vdmUoKTtcbiAgICAgICAgJHNlcGFyYXRvci5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19zZXBhcmF0b3ItLWhpZGRlbicpO1xuICAgICAgICAkc2VwYXJhdG9yLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlYmVnaW4nLCBgPGEgY2xhc3M9XCJwYWdpbmF0aW9uX19wYWdlXCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIGRhdGEtcGFnZT1cIiR7bGF0ZXN0UGFnZSArIDF9XCI+JHtsYXRlc3RQYWdlICsgMX08L2E+YCk7XG4gICAgICB9IGVsc2UgaWYgKGxhdGVzdFBhZ2UgPCBjYXRhbG9nUGFnZXMudG90YWwgLSAyKSB7XG4gICAgICAgICRmaXJzdEl0ZW0ucmVtb3ZlKCk7XG4gICAgICAgICRzZXBhcmF0b3IuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmViZWdpbicsIGA8YSBjbGFzcz1cInBhZ2luYXRpb25fX3BhZ2VcIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgZGF0YS1wYWdlPVwiJHtsYXRlc3RQYWdlICsgMX1cIj4ke2xhdGVzdFBhZ2UgKyAxfTwvYT5gKTtcbiAgICAgICAgJHNlcGFyYXRvci5jbGFzc0xpc3QucmVtb3ZlKCdwYWdpbmF0aW9uX19zZXBhcmF0b3ItLWhpZGRlbicpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoKyRmaXJzdEl0ZW0uZGF0YXNldC5wYWdlID09PSBsYXRlc3RQYWdlICYmIGxhdGVzdFBhZ2UgIT09IDEpIHtcbiAgICAgICRiZWZvcmVTZXBhcmF0b3JJdGVtLnJlbW92ZSgpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2luYXRpb25fX3BhZ2VzJykuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJywgYDxhIGNsYXNzPVwicGFnaW5hdGlvbl9fcGFnZVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiBkYXRhLXBhZ2U9XCIke2xhdGVzdFBhZ2UgLSAxfVwiPiR7bGF0ZXN0UGFnZSAtIDF9PC9hPmApO1xuICAgICAgJHNlcGFyYXRvci5jbGFzc0xpc3QucmVtb3ZlKCdwYWdpbmF0aW9uX19zZXBhcmF0b3ItLWhpZGRlbicpO1xuICAgIH0gZWxzZSBpZiAobGF0ZXN0UGFnZSA9PT0gY2F0YWxvZ1BhZ2VzLnRvdGFsICYmICEkc2VwYXJhdG9yLmNsYXNzTGlzdC5jb250YWlucygncGFnaW5hdGlvbl9fc2VwYXJhdG9yLS0nKSkge1xuICAgICAgY29uc3QgJHBhZ2luYXRpb25QYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYWdpbmF0aW9uX19wYWdlJyk7XG5cbiAgICAgICRzZXBhcmF0b3IuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fc2VwYXJhdG9yLS1oaWRkZW4nKTtcbiAgICAgIEFycmF5LmZyb20oJHBhZ2luYXRpb25QYWdlcykucmV2ZXJzZSgpLm1hcCgoZWwsIGkpID0+IHtcbiAgICAgICAgZWwuaW5uZXJUZXh0ID0gbGF0ZXN0UGFnZSAtIGk7XG4gICAgICAgIGVsLmRhdGFzZXQucGFnZSA9IGxhdGVzdFBhZ2UgLSBpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIGZvcm1pbmcgcXVlcnkgdXJsIHdpdGggZmlsdGVycyB2YWx1ZXMgZnJvbSB1cmwgcGFyYW1lcnRyZXNcbiAgY29uc3QgZm9ybWF0VVJMID0gdXJsID0+IHtcbiAgICBsZXQgZm9ybWF0dGVkVVJMID0gdXJsO1xuICAgIGNvbnN0IGZpbHRlcnNOYW1lcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlcnNfX2lucHV0LWZpZWxkJykpLm1hcChlbCA9PiBlbC5uYW1lKTtcbiAgICBcbiAgICBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpLnNlYXJjaFBhcmFtcy50b1N0cmluZygpLnNwbGl0KFwiJlwiKS5tYXAoZWwgPT4ge1xuICAgICAgY29uc3QgWyBrZXkgXSA9IGVsLnNwbGl0KCc9Jyk7XG4gICAgICBpZiAoZmlsdGVyc05hbWVzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgZm9ybWF0dGVkVVJMICs9ICcmJyArIGVsO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZm9ybWF0dGVkVVJMICs9IGAmbGltaXQ9JHtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtY2F0YWxvZy1saW1pdCAuZHJvcGRvd25fX3ZhbHVlJykuaW5uZXJUZXh0fWA7XG5cbiAgICByZXR1cm4gZm9ybWF0dGVkVVJMO1xuICB9O1xuXG4gIC8vIGdlbmVyYXRlIGNhdGFsb2cgaXRlbSBlbGVtZW50XG4gIGNvbnN0IGNhdGFsb2dJdGVtRWxlbWVudCA9ICh7IHRvcCwgaW1hZ2UsIHZlcmlmaWVkLCBuYW1lLCBjb3VudHJ5LCBzdWJqZWN0cywgbG9jYXRpb24sIGRlc2NyaXB0aW9uLCBsaW5rLCByYXRpbmcsIHJldmlld3MsIHByaWNlIH0pID0+IGBcbiAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkJHt0b3AgPyAnIHR1dG9yY2FyZC0tdG9wJyA6ICcnfVwiPlxuICAgICAgPGRpdiBjbGFzcz1cInR1dG9yY2FyZF9faW1hZ2VcIiBzdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6IHVybCgnaW1nL2luaHRtbC8ke2ltYWdlfScpXCI+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkX19pbmZvXCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0dXRvcmNhcmRfX25hbWUke3ZlcmlmaWVkID8gJyB0dXRvcmNhcmRfX25hbWUtLXZlcmlmaWVkJyA6ICcnfVwiPiR7bmFtZX08L3A+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0dXRvcmNhcmRfX2xvY2F0aW9uXCIgZGF0YS1sb2M9JHtjb3VudHJ5fT4ke2xvY2F0aW9ufTwvcD5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkX19zdWJqZWN0c1wiPlxuICAgICAgICAgICAgJHtzdWJqZWN0cy5tYXAoZWwgPT4gYFxuICAgICAgICAgICAgICA8YSBjbGFzcz1cInR1dG9yY2FyZF9fc3ViamVjdHMtaXRlbSR7ZWwuc2VhcmNoID8gJyB0dXRvcmNhcmRfX3N1YmplY3RzLWl0ZW0tLXNlYXJjaCcgOiAnJ30ke2VsLmhpZGRlbiA/ICcgdHV0b3JjYXJkX19zdWJqZWN0cy1pdGVtLS1oaWRkZW4nIDogJyd9XCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiPiR7ZWwubmFtZX0gPHNwYW4+KNC+0L/Ri9GCIDxiPiR7ZWwuZXhwZXJpZW5jZX08L2I+KTwvc3Bhbj48L2E+XG4gICAgICAgICAgICBgKS5qb2luKCcnKX1cbiAgICAgICAgICAgIDxhIGNsYXNzPVwidHV0b3JjYXJkX19zdWJqZWN0cy1tb3JlIGpzLXR1dG9yY2FyZC1tb3JlXCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiPisyINC/0YDQtdC00LzQtdGC0LA8L2E+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0dXRvcmNhcmRfX2Rlc2NcIj4ke2Rlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgPC9kaXY+PGEgY2xhc3M9XCJ0dXRvcmNhcmRfX21vcmVcIiBocmVmPSR7bGlua30+0J/QvtC00YDQvtCx0L3QtdC1PC9hPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkX19hY3Rpb25zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0dXRvcmNhcmRfX2FjdGlvbnMtaW5mb1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0dXRvcmNhcmRfX3JhdGluZyR7cGFyc2VJbnQocmV2aWV3cykgPT09IDAgPyAnIHR1dG9yY2FyZF9fcmF0aW5nLS1lbXB0eScgOiAnJ31cIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19yYXRpbmctcmF0ZVwiPiR7cmF0aW5nfTwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19yYXRpbmctcmV2aWV3c1wiPigke3Jldmlld3N9KTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkX19jb3N0XCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInR1dG9yY2FyZF9fY29zdC12YWx1ZVwiPiR7cHJpY2V9IOKCvTwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19jb3N0LWRlc2NcIj7QsiDRh9Cw0YE8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGpzLW9wZW4tcG9wdXAke3RvcCA/ICcgYnV0dG9uLS1wcmltYXJ5JyA6ICcgYnV0dG9uLS1zZWNvbmRhcnknfSB0dXRvcmNhcmRfX2J0blwiIGRhdGEtcG9wdXA9XCJyZXF1ZXN0LWF1dGhcIj7QntGB0YLQsNCy0LjRgtGMINC30LDRj9Cy0LrRgzwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIGA7XG5cbiAgLy8gbG9hZCBtb3JlIGNhdGFsb2cgaXRlbXNcbiAgJGNhdGFsb2dNb3JlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgJGNhdGFsb2dNb3JlQnRuLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbi0tbG9hZGluZycpO1xuXG4gICAgY29uc3QgbGF0ZXN0UGFnZSA9IGNhdGFsb2dQYWdlcy5jdXJyZW50W2NhdGFsb2dQYWdlcy5jdXJyZW50Lmxlbmd0aCAtIDFdICsgMTtcbiAgICBjb25zdCBxdWVyeVVybCA9IGZvcm1hdFVSTChgZGF0YS9jYXRhbG9nLmpzb24/cGFnZT0ke2xhdGVzdFBhZ2V9YCk7XG5cbiAgICAvLyBzZXQgY3VycmVudCBwYWdlc1xuICAgIGNhdGFsb2dQYWdlcy5jdXJyZW50LnB1c2gobGF0ZXN0UGFnZSk7XG5cbiAgICAvLyBzZXQgY3VycmVudCBwYWdpbnRhaW9uIHBhZ2VzXG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGFnaW5hdGlvbl9fcGFnZScpKS5tYXAoZWwgPT4ge1xuICAgICAgaWYgKGNhdGFsb2dQYWdlcy5jdXJyZW50LmluY2x1ZGVzKHBhcnNlSW50KGVsLmlubmVyVGV4dCkpKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX3BhZ2UtLWN1cnJlbnQnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZldGNoKHF1ZXJ5VXJsKS50aGVuKHJlcyA9PiByZXMuanNvbigpKS50aGVuKGRhdGEgPT4ge1xuICAgICAgZGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nX19pdGVtcycpLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgY2F0YWxvZ0l0ZW1FbGVtZW50KGl0ZW0pKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAobGF0ZXN0UGFnZSA9PT0gY2F0YWxvZ1BhZ2VzLnRvdGFsKSB7XG4gICAgICAgICRjYXRhbG9nTW9yZUJ0bi5jbGFzc0xpc3QuYWRkKCdjYXRhbG9nX19ib3R0b20tYnRuLS1oaWRkZW4nKTtcbiAgICAgICAgJG5leHRBcnJvdy5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgIH1cblxuICAgICAgJGNhdGFsb2dNb3JlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBnbyB0byBwcmV2aW91cyBwYWdlXG4gICRwcmV2QXJyb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBjdXJyZW50UGFnZSA9IGNhdGFsb2dQYWdlcy5jdXJyZW50WzBdIC0gMTtcbiAgICBjb25zdCBxdWVyeVVybCA9IGZvcm1hdFVSTChgZGF0YS9jYXRhbG9nLmpzb24/cGFnZT0ke2N1cnJlbnRQYWdlfWApO1xuXG4gICAgY2F0YWxvZ1BhZ2VzLmN1cnJlbnQgPSBbY3VycmVudFBhZ2VdO1xuXG4gICAgZmV0Y2gocXVlcnlVcmwpLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpLnRoZW4oZGF0YSA9PiB7XG4gICAgICBsZXQgJGVsZW1lbnRzID0gJyc7XG4gIFxuICAgICAgZGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgICAgICRlbGVtZW50cyArPSBjYXRhbG9nSXRlbUVsZW1lbnQoaXRlbSk7XG4gICAgICB9KTtcblxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2luYXRpb25fX2Fycm93LS1uZXh0JykuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICBzZXRDdXJyZW50UGFnZShjdXJyZW50UGFnZSk7XG5cbiAgICAgIGlmIChjdXJyZW50UGFnZSA9PT0gMSkge1xuICAgICAgICAkcHJldkFycm93LmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX2Fycm93LS1kaXNhYmxlZCcpO1xuICAgICAgfVxuXG4gICAgICAkY2F0YWxvZ01vcmVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnY2F0YWxvZ19fYm90dG9tLWJ0bi0taGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZ19faXRlbXMnKS5pbm5lckhUTUwgPSAkZWxlbWVudHM7XG4gICAgfSk7XG5cbiAgICBpZiAoJHNlcGFyYXRvcikge1xuICAgICAgc2V0QnJlYWsoY3VycmVudFBhZ2UpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gZ28gdG8gbmV4dCBwYWdlXG4gICRuZXh0QXJyb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBjdXJyZW50UGFnZSA9IGNhdGFsb2dQYWdlcy5jdXJyZW50W2NhdGFsb2dQYWdlcy5jdXJyZW50Lmxlbmd0aCAtIDFdICsgMTtcbiAgICBjb25zdCBxdWVyeVVybCA9IGZvcm1hdFVSTChgZGF0YS9jYXRhbG9nLmpzb24/cGFnZT0ke2N1cnJlbnRQYWdlfWApO1xuXG4gICAgY2F0YWxvZ1BhZ2VzLmN1cnJlbnQgPSBbY3VycmVudFBhZ2VdO1xuXG4gICAgZmV0Y2gocXVlcnlVcmwpLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpLnRoZW4oZGF0YSA9PiB7XG4gICAgICBsZXQgJGVsZW1lbnRzID0gJyc7XG4gIFxuICAgICAgZGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgICAgICRlbGVtZW50cyArPSBjYXRhbG9nSXRlbUVsZW1lbnQoaXRlbSk7XG4gICAgICB9KTtcblxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2luYXRpb25fX2Fycm93LS1wcmV2JykuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICBzZXRDdXJyZW50UGFnZShjdXJyZW50UGFnZSk7XG5cbiAgICAgIGlmIChjdXJyZW50UGFnZSA9PT0gY2F0YWxvZ1BhZ2VzLnRvdGFsKSB7XG4gICAgICAgICRjYXRhbG9nTW9yZUJ0bi5jbGFzc0xpc3QuYWRkKCdjYXRhbG9nX19ib3R0b20tYnRuLS1oaWRkZW4nKTtcbiAgICAgICAgJG5leHRBcnJvdy5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgIH1cblxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGFsb2dfX2l0ZW1zJykuaW5uZXJIVE1MID0gJGVsZW1lbnRzO1xuICBcbiAgICAgIGlmICgkc2VwYXJhdG9yKSB7XG4gICAgICAgIHNldEJyZWFrKGN1cnJlbnRQYWdlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gZ28gdG8gc3BlY2lmaWMgcGFnZVxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGNvbnN0ICR0aGlzID0gZS50YXJnZXQ7XG5cbiAgICBpZiAoJHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdwYWdpbmF0aW9uX19wYWdlJykpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gcGFyc2VJbnQoJHRoaXMuZGF0YXNldC5wYWdlKTtcbiAgICAgIGNvbnN0IHF1ZXJ5VXJsID0gZm9ybWF0VVJMKGBkYXRhL2NhdGFsb2cuanNvbj9wYWdlPSR7Y3VycmVudFBhZ2V9YCk7XG5cbiAgICAgIGNhdGFsb2dQYWdlcy5jdXJyZW50ID0gW2N1cnJlbnRQYWdlXTtcblxuICAgICAgZmV0Y2gocXVlcnlVcmwpLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIGxldCAkZWxlbWVudHMgPSAnJztcbiAgICBcbiAgICAgICAgZGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgJGVsZW1lbnRzICs9IGNhdGFsb2dJdGVtRWxlbWVudChpdGVtKTtcbiAgICAgICAgfSk7XG4gIFxuICAgICAgICBzZXRDdXJyZW50UGFnZShjdXJyZW50UGFnZSk7XG4gIFxuICAgICAgICBpZiAoY3VycmVudFBhZ2UgPT09IGNhdGFsb2dQYWdlcy50b3RhbCkge1xuICAgICAgICAgICRwcmV2QXJyb3cuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICAgICAgJG5leHRBcnJvdy5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgICAgICAkY2F0YWxvZ01vcmVCdG4uY2xhc3NMaXN0LmFkZCgnY2F0YWxvZ19fYm90dG9tLWJ0bi0taGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFBhZ2UgPT09IDEpIHtcbiAgICAgICAgICAkcHJldkFycm93LmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX2Fycm93LS1kaXNhYmxlZCcpO1xuICAgICAgICAgICRuZXh0QXJyb3cuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICAgICAgJGNhdGFsb2dNb3JlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2NhdGFsb2dfX2JvdHRvbS1idG4tLWhpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRwcmV2QXJyb3cuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICAgICAgJG5leHRBcnJvdy5jbGFzc0xpc3QucmVtb3ZlKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgICAgICAkY2F0YWxvZ01vcmVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnY2F0YWxvZ19fYm90dG9tLWJ0bi0taGlkZGVuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJHNlcGFyYXRvcikge1xuICAgICAgICAgIHNldEJyZWFrKGN1cnJlbnRQYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nX19pdGVtcycpLmlubmVySFRNTCA9ICRlbGVtZW50cztcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG4gIC8vIHNjcm9sbCB0byB0dXRvciBzZWN0aW9uXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50dXRvcl9fbmF2LWxpbmsnKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCB0YXJnZXQgPSBlbC5kYXRhc2V0LnRhcmdldDtcblxuICBzY3JvbGxUbyh7XG4gICAgdG9wOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1ibG9jaz1cIiR7dGFyZ2V0fVwiXWApLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCAtIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKS5vZmZzZXRIZWlnaHQsXG4gICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gIH0pO1xufSkpO1xuICAvLyBzZXQgcGF5bWVudCBwZXIgaG91clxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZmlsZS1oZWFkX19zdWJqZWN0cy1pdGVtJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgcGF5bWVudCA9IGVsLmRhdGFzZXQucGF5O1xuXG4gIGVsLmNsb3Nlc3QoJy5wcm9maWxlLWhlYWRfX3N1YmplY3RzJykucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtaGVhZF9fc3ViamVjdHMtaXRlbS0taGlnaGxpZ2h0JykuY2xhc3NMaXN0LnJlbW92ZSgncHJvZmlsZS1oZWFkX19zdWJqZWN0cy1pdGVtLS1oaWdobGlnaHQnKTtcbiAgZWwuY2xhc3NMaXN0LmFkZCgncHJvZmlsZS1oZWFkX19zdWJqZWN0cy1pdGVtLS1oaWdobGlnaHQnKTtcblxuICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1wcm9maWxlLWNvc3QnKSkubWFwKGVsID0+IGVsLmlubmVyVGV4dCA9IHBheW1lbnQpO1xufSkpO1xuICBjb25zdCAkcHJvZmlsZVZpZGVvQ292ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1hYm91dF9fdmlkZW8tY292ZXInKTtcblxuLy8gcGxheSB2aWRlIG9uIGFib3V0IHNlY3Rpb25cbmlmICgkcHJvZmlsZVZpZGVvQ292ZXIpIHtcbiAgJHByb2ZpbGVWaWRlb0NvdmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0ICR2aWRlbyA9ICRwcm9maWxlVmlkZW9Db3Zlci5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ2lmcmFtZScpO1xuXG4gICAgJHByb2ZpbGVWaWRlb0NvdmVyLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignaWZyYW1lJykuc2V0QXR0cmlidXRlKCdzcmMnLCAkdmlkZW8uZ2V0QXR0cmlidXRlKCdzcmMnKSArICc/YXV0b3BsYXk9MScpO1xuICAgICRwcm9maWxlVmlkZW9Db3Zlci5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLWFib3V0X192aWRlby1jb3Zlci0taGlkZGVuJyk7XG4gIH0pO1xufVxuICBjb25zdCAkcmV2aWV3c01vcmVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcmV2aWV3cy1tb3JlJyk7XG5cbmlmICgkcmV2aWV3c01vcmVCdG4pIHtcbiAgLy8gcmV2aWV3cyBwYWdlcyBzdGF0ZVxuICBjb25zdCByZXZpZXdzUGFnZXMgPSB7XG4gICAgY3VycmVudDogMSxcbiAgICB0b3RhbDogM1xuICB9O1xuICAvLyBnZW5lcmF0ZSByZXZpZXcgZWxlbWVudFxuICBjb25zdCByZXZpZXdFbGVtZW50ID0gKHsgaW1hZ2UsIG5hbWUsIGRhdGUsIHJhdGluZywgZmVlZGJhY2ssIHRhZyB9KSA9PiBgXG4gICAgPGRpdiBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2tcIj5cbiAgICAgICR7aW1hZ2UgP1xuICAgICAgICBgPGRpdiBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2staW1hZ2VcIiBzdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6IHVybCgnaW1nL2luaHRtbC8ke2ltYWdlfScpXCI+PC9kaXY+YCA6XG4gICAgICAgICc8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay1pbWFnZVwiPjwvZGl2PidcbiAgICAgIH1cbiAgICAgIDxkaXYgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX2ZlZWRiYWNrLWluZm9cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2staGVhZFwiPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2stbmFtZVwiPiR7bmFtZX08L3A+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2stZGF0ZVwiPiR7ZGF0ZX08L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgJHt0YWcgPyAnPHAgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX2ZlZWRiYWNrLXRhZ1wiPicgKyB0YWcgKyAnPC9wPicgOiAnJ31cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX3JhdGluZy1zdGFyc1wiPlxuICAgICAgICAgICR7WzEsIDIsIDMsIDQsIDVdLm1hcChlID0+IGUgPD0gcmF0aW5nID9cbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19yYXRpbmctc3RhciBwcm9maWxlLXJldmlld3NfX3JhdGluZy1zdGFyLS1mdWxsXCI+PC9kaXY+JyA6XG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fcmF0aW5nLXN0YXJcIj48L2Rpdj4nXG4gICAgICAgICAgKS5qb2luKCcnKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxwIGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay10ZXh0XCI+JHtmZWVkYmFja308L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYDtcblxuICAvLyBsb2FkIG1vcmUgcmV2aWV3IG9uIGJ1dHRvbiBjbGlja1xuICAkcmV2aWV3c01vcmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgdXJsID0gJHJldmlld3NNb3JlQnRuLmRhdGFzZXQudXJsO1xuXG4gICAgLy8gaW5jcmVtZW50IGN1cnJlbnQgbG9hZGVkIHJldmlld3MgcGFnZVxuICAgICsrcmV2aWV3c1BhZ2VzLmN1cnJlbnQ7XG4gICAgXG4gICAgLy8gbG9hZCByZXZpZXdzXG4gICAgZmV0Y2goYCR7dXJsfT9wYWdlPSR7cmV2aWV3c1BhZ2VzLmN1cnJlbnR9YCkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihkYXRhID0+IHtcbiAgICAgIGRhdGEubWFwKHJldmlldyA9PiB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXJldmlld3NfX2ZlZWRiYWNrcycpLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgcmV2aWV3RWxlbWVudChyZXZpZXcpKTtcblxuICAgICAgICBpZiAocmV2aWV3c1BhZ2VzLmN1cnJlbnQgPT09IHJldmlld3NQYWdlcy50b3RhbCkge1xuICAgICAgICAgICRyZXZpZXdzTW9yZUJ0bi5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufVxuICAvLyBpbml0IGZha2VTY3JvbGwgb24gdGltZXpvbmUgZHJvcGRvd25cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZScpKSB7XG4gIGNvbnN0ICR0aW1lem9uZURyb3Bkb3duID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX3RpbWV6b25lLW1lbnUnKTtcblxuICBpZiAoISR0aW1lem9uZURyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucygnZmFrZVNjcm9sbCcpKSB7XG4gICAgJHRpbWV6b25lRHJvcGRvd24uZmFrZVNjcm9sbCgpO1xuICB9XG59XG5cbmNvbnN0IHNldERhdGVUaW1lID0gKCkgPT4ge1xuICBjb25zdCAkY3VycmVudFVuaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fdW5pdC0tY3VycmVudCcpO1xuICBjb25zdCAkcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cInJlcXVlc3Qtc3BlY2lmaWNcIl0nKTtcblxuICBpZiAoJGN1cnJlbnRVbml0KSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBkYXRlID0gJGN1cnJlbnRVbml0LmRhdGFzZXQuZGF0ZTtcbiAgICAgIGNvbnN0IHRpbWUgPSAkY3VycmVudFVuaXQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX3RpbWUtdmFsdWUnKS5pbm5lclRleHQ7XG4gIFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX3BpY2snKS5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLXNjaGVkdWxlX19waWNrLS1hY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19waWNrLWRhdGUnKS5pbm5lclRleHQgPSBkYXRlO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX3BpY2stdGltZScpLmlubmVyVGV4dCA9IHRpbWU7XG5cbiAgICAgIGlmICgkcG9wdXApIHtcbiAgICAgICAgJHBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faGVhZGluZy1kYXRlJykuaW5uZXJUZXh0ID0gZGF0ZTtcbiAgICAgICAgJHBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faGVhZGluZy10aW1lJykuaW5uZXJUZXh0ID0gdGltZTtcbiAgICAgICAgJHBvcHVwLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJ0aW1lXCJdJykudmFsdWUgPSB0aW1lO1xuICAgICAgfVxuICAgIH0sIDApO1xuICB9XG59XG5cbi8vIGhhbmRsZSBzY2hlZHVsZSBzbGlkZXJcbmNvbnN0ICRwcmV2QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX2NvbnRyb2xzLWJ1dHRvbi0tcHJldicpO1xuY29uc3QgJG5leHRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1uZXh0Jyk7XG5cbmlmICgkcHJldkJ1dHRvbikge1xuICAkcHJldkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCAkYWN0aXZlU2xpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fc2xpZGUtLWFjdGl2ZScpO1xuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9ICskYWN0aXZlU2xpZGUuZGF0YXNldC5zbGlkZTtcbiAgICBjb25zdCAkcHJldlNsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnByb2ZpbGUtc2NoZWR1bGVfX3NsaWRlW2RhdGEtc2xpZGU9XCIke2N1cnJlbnRJbmRleCAtIDF9XCJdYCk7XG4gIFxuICAgIGlmICgkcHJldlNsaWRlKSB7XG4gICAgICAkYWN0aXZlU2xpZGUuY2xhc3NMaXN0LnJlbW92ZSgncHJvZmlsZS1zY2hlZHVsZV9fc2xpZGUtLWFjdGl2ZScpO1xuICAgICAgJHByZXZTbGlkZS5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLXNjaGVkdWxlX19zbGlkZS0tYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1uZXh0JykuY2xhc3NMaXN0LnJlbW92ZSgncHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1kaXNhYmxlZCcpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX2NvbnRyb2xzLWRhdGVzJykuaW5uZXJUZXh0ID0gJHByZXZTbGlkZS5kYXRhc2V0LmRhdGVzO1xuICBcbiAgICAgIGlmICgkcHJldlNsaWRlLmRhdGFzZXQuZmlyc3QpIHtcbiAgICAgICAgJHByZXZCdXR0b24uY2xhc3NMaXN0LmFkZCgncHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1kaXNhYmxlZCcpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbmlmICgkbmV4dEJ1dHRvbikge1xuICAkbmV4dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCAkYWN0aXZlU2xpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fc2xpZGUtLWFjdGl2ZScpO1xuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9ICskYWN0aXZlU2xpZGUuZGF0YXNldC5zbGlkZTtcbiAgICBjb25zdCAkbmV4dFNsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnByb2ZpbGUtc2NoZWR1bGVfX3NsaWRlW2RhdGEtc2xpZGU9XCIke2N1cnJlbnRJbmRleCArIDF9XCJdYCk7XG4gIFxuICAgIGlmICgkbmV4dFNsaWRlKSB7XG4gICAgICAkYWN0aXZlU2xpZGUuY2xhc3NMaXN0LnJlbW92ZSgncHJvZmlsZS1zY2hlZHVsZV9fc2xpZGUtLWFjdGl2ZScpO1xuICAgICAgJG5leHRTbGlkZS5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLXNjaGVkdWxlX19zbGlkZS0tYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1wcmV2JykuY2xhc3NMaXN0LnJlbW92ZSgncHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1kaXNhYmxlZCcpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX2NvbnRyb2xzLWRhdGVzJykuaW5uZXJUZXh0ID0gJG5leHRTbGlkZS5kYXRhc2V0LmRhdGVzO1xuICBcbiAgICAgIGlmICgkbmV4dFNsaWRlLmRhdGFzZXQubGFzdCkge1xuICAgICAgICAkbmV4dEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLWRpc2FibGVkJyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuLy8gaGFuZGxlIHNlbGVjdCBkYXRldGltZSB1bml0XG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9maWxlLXNjaGVkdWxlX191bml0JykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoJy5wcm9maWxlLXNjaGVkdWxlX190aW1lJykpIHtcbiAgICBjb25zdCAkY3VycmVudFVuaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fdW5pdC0tY3VycmVudCcpO1xuICBcbiAgICBpZiAoJGN1cnJlbnRVbml0KSB7XG4gICAgICAkY3VycmVudFVuaXQuY2xhc3NMaXN0LnJlbW92ZSgncHJvZmlsZS1zY2hlZHVsZV9fdW5pdC0tY3VycmVudCcpO1xuICAgIH1cbiAgXG4gICAgZWwuY2xhc3NMaXN0LmFkZCgncHJvZmlsZS1zY2hlZHVsZV9fdW5pdC0tY3VycmVudCcpO1xuICAgIHNldERhdGVUaW1lKCk7XG4gIH1cbn0pKTtcblxuLy8gZXhlY3V0ZSBzZXQgZGF0ZXRpbWUgb24gdGltZSBjaGFuZ2VcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2ZpbGUtc2NoZWR1bGVfX3RpbWUtbWVudSAuZHJvcGRvd25fX21lbnUtaXRlbScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZXREYXRlVGltZSkpO1xuXG59Il19
