"use strict";window.onload=function(){var e={popup:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.onHide,n=t.onShow,r=function(){document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px")},i=function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)};return{isShown:function(){return e.classList.contains("popup--opened")},show:function(){var t=new Promise((function(t){e.style.display="block",t()}));r(),t.then((function(){e.classList.add("popup--opened"),"function"==typeof n&&n()}))},hide:function(){var t=-parseInt(document.body.style.marginTop);e.classList.remove("popup--opened"),setTimeout((function(){e.style.display="none",i(t),"function"==typeof o&&o()}),300)}}}};Array.from(document.querySelectorAll(".js-open-popup")).map((function(t){return t.addEventListener("click",(function(t){t.preventDefault();var o=t.currentTarget.dataset.popup,n=document.querySelector('.js-popup[data-popup="'.concat(o,'"]'));e.popup(n).show()}))})),Array.from(document.querySelectorAll(".js-close-popup")).map((function(t){return t.addEventListener("click",(function(t){if(t.preventDefault(),!t.target.closest(".popup__window")||!t.currentTarget.classList.contains("js-popup")){var o=t.currentTarget.closest(".popup");e.popup(o).hide()}}))})),document.addEventListener("click",(function(e){e.target.closest(".dropdown")||Array.from(document.querySelectorAll(".dropdown")).map((function(e){return e.classList.remove("dropdown--active")}))})),Array.from(document.querySelectorAll(".dropdown")).map((function(e){return e.addEventListener("click",(function(e){var t=e.currentTarget;Array.from(document.querySelectorAll(".dropdown")).map((function(e){return e!==t&&e.classList.remove("dropdown--active")})),t.classList.toggle("dropdown--active")}))})),document.addEventListener("click",(function(e){if(e.target.getAttribute("data-toggle")){console.log(!0);var t=e.target,o=t.innerText,n=t.cloneNode(),r=t.closest(".dropdown").querySelector(".dropdown__value");n.innerText=r.innerText,r.innerText=o,t.parentNode.prepend(n),t.parentNode.removeChild(t)}})),Array.from(document.querySelectorAll(".tabs__item")).map((function(e){return e.addEventListener("click",(function(e){var t=e.currentTarget,o=t.dataset.tab;t.closest(".tabs").querySelector(".tabs__item--active").classList.remove("tabs__item--active"),t.classList.add("tabs__item--active"),t.closest("[data-tabs]").querySelector("[data-active]").removeAttribute("data-active"),t.closest("[data-tabs]").querySelector('[data-content="'.concat(o,'"]')).setAttribute("data-active",!0)}))}));var t=document.querySelector(".cookies");JSON.parse(localStorage.getItem("cookiesIsHidden"))?t.remove():(t.classList.add("cookies--shown"),document.querySelector(".cookies__btn").addEventListener("click",(function(){t.classList.remove("cookies--shown"),setTimeout((function(){t.remove(),localStorage.setItem("cookiesIsHidden",!0)}),500)})));var o=document.querySelector(".header__banner"),n=function(){!function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)}(),document.querySelector(".header-menu").classList.remove("header-menu--shown")};JSON.parse(localStorage.getItem("bannerIsHidden"))?o.remove():(o.style.display="flex",document.querySelector(".header__banner-close").addEventListener("click",(function(){o.classList.add("header__banner--hide"),setTimeout((function(){o.remove(),localStorage.setItem("bannerIsHidden",!0)}),500)}))),document.querySelector(".header__burger").addEventListener("click",(function(){-parseInt(document.body.style.marginTop),document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px"),document.querySelector(".header-menu").classList.add("header-menu--shown")})),document.querySelector(".header-menu__backdrop").addEventListener("click",n),document.querySelector(".header-menu__close").addEventListener("click",n),Array.from(document.querySelectorAll(".hero__dropdown-item")).map((function(e){return e.addEventListener("click",(function(e){var t=e.currentTarget,o=t.innerText;t.closest(".hero__input").querySelector(".hero__input-field").value=o}))})),Array.from(document.querySelectorAll(".hero__input-field")).map((function(e){var t=e,o=t.nextElementSibling,n=function(e){var n=JSON.parse(t.dataset.options),r=t.value.toLowerCase(),i=!1;o.innerHTML="",n.map((function(t){(e||t.toLowerCase().match(r))&&(i=!0,o.insertAdjacentHTML("beforeend",'<a class="hero__dropdown-item dropdown__menu-item" href="javascript:void(0)">'.concat(t,"</a>")))})),i?o.classList.remove("hero__dropdown--hidden"):o.classList.add("hero__dropdown--hidden"),Array.from(o.querySelectorAll(".hero__dropdown-item")).map((function(e){return e.addEventListener("click",(function(){t.value=e.innerText,t.setAttribute("data-value",e.innerText)}))}))};t.addEventListener("input",(function(){return n(!1)})),t.addEventListener("focus",(function(){return n(!0)})),t.addEventListener("blur",(function(){""!==t.value&&t.dataset.value?t.value=t.dataset.value:t.value=""}))}));new Swiper(".popular__grid--mobile",{loop:!0,loopAdditionalSlides:3,slidesPerView:"auto",centeredSlides:!0}),new Swiper(".reviews__slider",{loop:!0,spaceBetween:20,slidesPerView:3,slidesPerGroup:3,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".reviews__slider--mobile",{loop:!0,spaceBetween:20,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbmxvYWQiLCIkYXBpIiwiJHBvcHVwIiwiX3JlZiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsIm9uSGlkZSIsIm9uU2hvdyIsImRvY3VtZW50Iiwic3R5bGUiLCJjb25jYXQiLCJzY3JvbGxZIiwiYm9keSIsImNzc1RleHQiLCJzY3JvbGxUbyIsIm9mZnNldCIsImlzU2hvd24iLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInNob3ciLCJQcm9taXNlIiwicmVzb2x2ZSIsImRpc3BsYXkiLCJoaWRlT3ZlcmZsb3ciLCJhZGQiLCJwcm9taXNlIiwiaGlkZSIsInBhcnNlSW50IiwibWFyZ2luVG9wIiwicmVtb3ZlIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIm1hcCIsImVsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImN1cnJlbnRUYXJnZXQiLCJwb3B1cCIsInRhcmdldCIsImNsb3Nlc3QiLCIkdGhpcyIsImdldEF0dHJpYnV0ZSIsImNvbnNvbGUiLCJsb2ciLCJjbG9uZU5vZGUiLCJxdWVyeVNlbGVjdG9yIiwiJGNsb25lRWxlbWVudCIsImlubmVyVGV4dCIsIiRkcm9wZG93blZhbHVlIiwicGFyZW50Tm9kZSIsInRhYiIsImRhdGFzZXQiLCJyZW1vdmVBdHRyaWJ1dGUiLCIkY29va2llcyIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRUaW1lb3V0Iiwic2V0SXRlbSIsIiRiYW5uZXIiLCJzaG93T3ZlcmZsb3ciLCJoaWRlSGVhZGVyTWVudSIsInZhbHVlIiwiZmlyc3RSZW5kZXIiLCIkZHJvcGRvd24iLCJuZXh0RWxlbWVudFNpYmxpbmciLCJvcHRpb25zIiwibG93ZXJDYXNlVmFsdWUiLCJ0b0xvd2VyQ2FzZSIsImhhbmRsZUlucHV0IiwiaW5uZXJIVE1MIiwibWF0Y2giLCJtYXRjaGVzRm91bmQiLCJzZXRBdHRyaWJ1dGUiLCJTd2lwZXIiLCJsb29wQWRkaXRpb25hbFNsaWRlcyIsImNlbnRlcmVkU2xpZGVzIiwibG9vcCIsInBvcHVsYXJTbGlkZXIiLCJzbGlkZXNQZXJWaWV3IiwicGFnaW5hdGlvbiIsInJldmlld3NTbGlkZXIiLCJjbGlja2FibGUiLCJyZXZpZXdTbGlkZXJNb2JpbGUiXSwibWFwcGluZ3MiOiJhQUFBQSxPQUFPQyxPQUFTLFdBRWQsSUFBQUMsRUFBQSxDQUlGQSxNQUFBLFNBQUFDLEdBQWtELElBQUFDLEVBQUFDLFVBQUFDLE9BQUEsUUFBQUMsSUFBQUYsVUFBQSxHQUFBQSxVQUFBLEdBQUEsR0FBckNHLEVBQXFDSixFQUFyQ0ksT0FBQUMsRUFBcUNMLEVBQXJDSyxPQUFXRCxFQUFBQSxXQUEwQkUsU0FBbEJELEtBQWtCRSxNQUFsQkYsUUFBa0IsZ0NBQUFHLFFBQUFaLE9BQUFhLFFBQUEsT0FHOUNILEVBQWNDLFNBQUFBLEdBQ2ZELFNBRURJLEtBQUFILE1BQUFJLFFBQUEsa0NBSUVmLE9BQU9nQixTQUFTLEVBQUdDLElBQW5CakIsTUFBQUEsQ0FLQWtCLFFBQVMsV0FBQSxPQUFNZixFQUFPZ0IsVUFBVUMsU0FBUyxrQkFEekNDLEtBSkFyQixXQUtBa0IsSUFBQUEsRUFBUyxJQUFBSSxTQUFBLFNBQUFDLEdBQUFwQixFQUFNQSxNQUFNcUIsUUFBTixRQUZWRCxPQUtIRSxJQUVFRixFQUFBQSxNQUFPLFdBQ1JwQixFQUhEZ0IsVUFBQU8sSUFBQSxpQkFLWSxtQkFBWkQsR0FFQUUsUUFJR0MsS0FuQkw1QixXQW9CRyxJQUxEaUIsR0FBQVksU0FBQW5CLFNBQUFJLEtBQUFILE1BQUFtQixXQU9GM0IsRUFBQWdCLFVBQUFZLE9BQUEsaUJBQ0FILFlBcEJLLFdBcUJIekIsRUFBTWMsTUFBU08sUUFBVWQsT0FFekJQLEVBQU9nQixHQUNJLG1CQUFBWCxHQUNUTCxNQUtDLFNBQ0o2QixNQUFBQyxLQUFBdkIsU0FBQXdCLGlCQUFBLG1CQUFBQyxLQUFBLFNBQUFDLEdBQUEsT0EvQklB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LEVBQUlRLFVBQWM5QyxPQUFBLDBCQUVqQnNDLEVBQU1sRCxVQUFBTyxJQUFBLDBCQUlQTSxNQUFNQyxLQUFLb0MsRUFBVW5DLGlCQUFpQix5QkFBeUJDLEtBQUksU0FBQUMsR0FBRSxPQUFJQSxFQUFHQyxpQkFBaUIsU0FBUyxXQUF0R0wsRUFBTUMsTUFBS29DLEVBQUFBLFVBQTBEekIsRUFBQWtDLGFBQU96QyxhQUFpQkQsRUFBcEJlLGtCQUFKUCxFQUFyRVAsaUJBQUEsU0FBQSxXQUFBLE9BQUFxQyxHQUFBLE1BSUQ5QixFQXhCRFAsaUJBQUEsU0FBQSxXQUFBLE9BQUFxQyxHQUFBLE1BNEJBOUIsRUFBTVAsaUJBQWlCLFFBQVEsV0FGekJBLEtBQU5PLEVBQU1QLE9BQWlCTyxFQUFTVyxRQUFBWSxNQUNoQ3ZCLEVBQU1QLE1BQUFBLEVBQU5rQixRQUFBWSxNQURnQ3ZCLEVBQUF1QixNQUFNTyxTQUdoQyxJQUFBSyxPQUF1Qm5DLHlCQUFxQixDQUM5Q0EsTUFBQUEsRUFDRG9DLHFCQUFNLEVBQ0xwQyxjQUFNdUIsT0FDUGMsZ0JBQUEsSUFwQ0wsSUFBQUYsT0FBQSxtQkFBQSxDQXVDRUcsTUFBTUMsRUFDTkQsYUFEMkQsR0FFM0RGLGNBQUFBLEVBQ0FJLGVBQWEsRUFDYkgscUJBQWdCLEVBSjJDSSxXQUEzRCxDQU1BakQsR0FBTWtELHFCQUNOSixXQURxRCxLQUFBLElBQUFILE9BQUEsMkJBQUEsQ0FNckRNLE1BQUFBLEVBQ0VqRCxhQUFJLEdBQ0ptRCxxQkFBVyxFQUZERixXQUFBLENBTlpqRCxHQUFBLHFCQVlGbUQsV0FBTUMiLCJmaWxlIjoiY29tbW9uLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG5cbiAgLy8g0J7QsdGK0LXQutGCINCz0LvQvtCx0LDQu9GM0L3QvtCz0L4gQVBJXG5jb25zdCAkYXBpID0ge307XG5cbi8vIEFQSSDQtNC70Y8g0YDQsNCx0L7RgtGLINGBINC/0L7Qv9Cw0L/QsNC80LhcbiRhcGkucG9wdXAgPSAoJHBvcHVwLCB7IG9uSGlkZSwgb25TaG93IH0gPSB7fSkgPT4ge1xuICAvLyDQntGC0LrQu9GO0YfQsNC10YIg0LLQvtC30LzQvtC20L3QvtGB0YLRjCDRgdC60YDQvtC70LvQuNGC0Ywg0YHRgtGA0LDQvdC40YbRg1xuICBjb25zdCBoaWRlT3ZlcmZsb3cgPSAoKSA9PiB7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jc3NUZXh0ID0gYHBvc2l0aW9uOiBmaXhlZDsgbWFyZ2luLXRvcDogJHstd2luZG93LnNjcm9sbFl9cHhgO1xuICB9O1xuICBcbiAgLy8g0JLQutC70Y7Rh9Cw0LXRgiDQstC+0LfQvNC+0LbQvdC+0YHRgtGMINGB0LrRgNC+0LvQu9C40YLRjCDRgdGC0YDQsNC90LjRhtGDXG4gIGNvbnN0IHNob3dPdmVyZmxvdyA9IG9mZnNldCA9PiB7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOiBzdGF0aWM7IG1hcmdpbi10b3A6IDAnO1xuICAgIFxuICAgIHdpbmRvdy5zY3JvbGxUbygwLCBvZmZzZXQpO1xuICB9O1xuICBcbiAgcmV0dXJuIHtcbiAgICAvLyDQktC+0LfQstGA0LDRidCw0LXRgiB0cnVlLCDQtdGB0LvQuCDQv9C+0L/QsNC/INC/0L7QutCw0LfRi9Cy0LDQtdGC0YHRjywg0LIg0LjQvdC+0Lwg0YHQu9GD0YfQsNC1IGZhbHNlXG4gICAgaXNTaG93bjogKCkgPT4gJHBvcHVwLmNsYXNzTGlzdC5jb250YWlucygncG9wdXAtLW9wZW5lZCcpLFxuICAgIC8vINCf0L7QutCw0LfRi9Cy0LDQtdGCINC/0L7Qv9Cw0L9cbiAgICBzaG93KCkge1xuICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAkcG9wdXAuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0pO1xuXG4gICAgICBoaWRlT3ZlcmZsb3coKTtcblxuICAgICAgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgJHBvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwLS1vcGVuZWQnKTtcbiAgICAgICAgaWYgKHR5cGVvZiBvblNob3cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBvblNob3coKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICAvLyDQodC60YDRi9Cy0LDQtdGCINC/0L7Qv9Cw0L9cbiAgICBoaWRlKCkge1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gLXBhcnNlSW50KGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luVG9wKTtcbiAgXG4gICAgICAkcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXAtLW9wZW5lZCcpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICRwb3B1cC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBzaG93T3ZlcmZsb3cob2Zmc2V0KTtcbiAgICAgICAgaWYgKHR5cGVvZiBvbkhpZGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBvbkhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgfSwgMzAwKTtcbiAgICB9XG4gIH07XG59O1xuXG4gIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLW9wZW4tcG9wdXAnKSkubWFwKGVsID0+XG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3QgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQucG9wdXA7XG4gICAgY29uc3QgJHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCIke3RhcmdldH1cIl1gKTtcbiAgICBcbiAgICAkYXBpLnBvcHVwKCRwb3B1cCkuc2hvdygpO1xuICB9KVxuKTtcbiAgXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1jbG9zZS1wb3B1cCcpKS5tYXAoZWwgPT5cbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZighZS50YXJnZXQuY2xvc2VzdCgnLnBvcHVwX193aW5kb3cnKSB8fCAhZS5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnanMtcG9wdXAnKSkge1xuICAgICAgY29uc3QgJHBvcHVwID0gZS5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5wb3B1cCcpO1xuXG4gICAgICAkYXBpLnBvcHVwKCRwb3B1cCkuaGlkZSgpO1xuICAgIH1cbiAgfSlcbik7XG4gIC8vIGNsb3NlIGRyb3Bkb3duIG9uIG91dGVyIGNsaWNrXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9IGUudGFyZ2V0O1xuXG4gIGlmKCEkdGhpcy5jbG9zZXN0KCcuZHJvcGRvd24nKSkge1xuICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRyb3Bkb3duJykpLm1hcChlbCA9PiBlbC5jbGFzc0xpc3QucmVtb3ZlKCdkcm9wZG93bi0tYWN0aXZlJykpO1xuICB9XG59KTtcblxuLy8gb3BlbiBkcm9wZG93blxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcGRvd24nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gZS5jdXJyZW50VGFyZ2V0O1xuICBcbiAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcGRvd24nKSkubWFwKGVsID0+IGVsICE9PSAkdGhpcyAmJiBlbC5jbGFzc0xpc3QucmVtb3ZlKCdkcm9wZG93bi0tYWN0aXZlJykpO1xuICAkdGhpcy5jbGFzc0xpc3QudG9nZ2xlKCdkcm9wZG93bi0tYWN0aXZlJyk7XG59KSk7XG5cbi8vIGNoYW5nZSBkcm9wZG93biB2YWx1ZVxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgaWYgKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS10b2dnbGUnKSkge1xuICAgIGNvbnNvbGUubG9nKHRydWUpXG4gICAgY29uc3QgJHRoaXMgPSBlLnRhcmdldDtcbiAgICBjb25zdCBuZXdWYWx1ZSA9ICR0aGlzLmlubmVyVGV4dDtcbiAgICBjb25zdCAkY2xvbmVFbGVtZW50ID0gJHRoaXMuY2xvbmVOb2RlKCk7XG4gICAgY29uc3QgJGRyb3Bkb3duVmFsdWUgPSAkdGhpcy5jbG9zZXN0KCcuZHJvcGRvd24nKS5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd25fX3ZhbHVlJyk7XG4gICAgXG4gICAgJGNsb25lRWxlbWVudC5pbm5lclRleHQgPSAkZHJvcGRvd25WYWx1ZS5pbm5lclRleHQ7XG4gICAgJGRyb3Bkb3duVmFsdWUuaW5uZXJUZXh0ID0gbmV3VmFsdWU7XG4gICAgXG4gICAgJHRoaXMucGFyZW50Tm9kZS5wcmVwZW5kKCRjbG9uZUVsZW1lbnQpO1xuICAgICR0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoJHRoaXMpO1xuICB9XG59KTtcbiAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFic19faXRlbScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSBlLmN1cnJlbnRUYXJnZXQ7XG4gIGNvbnN0IHRhcmdldCA9ICR0aGlzLmRhdGFzZXQudGFiO1xuXG4gICR0aGlzLmNsb3Nlc3QoJy50YWJzJykucXVlcnlTZWxlY3RvcignLnRhYnNfX2l0ZW0tLWFjdGl2ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ3RhYnNfX2l0ZW0tLWFjdGl2ZScpO1xuICAkdGhpcy5jbGFzc0xpc3QuYWRkKCd0YWJzX19pdGVtLS1hY3RpdmUnKTtcblxuICAkdGhpcy5jbG9zZXN0KCdbZGF0YS10YWJzXScpLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZV0nKS5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtYWN0aXZlJyk7XG4gICR0aGlzLmNsb3Nlc3QoJ1tkYXRhLXRhYnNdJykucXVlcnlTZWxlY3RvcihgW2RhdGEtY29udGVudD1cIiR7dGFyZ2V0fVwiXWApLnNldEF0dHJpYnV0ZSgnZGF0YS1hY3RpdmUnLCB0cnVlKTtcbn0pKTtcblxuICBjb25zdCAkY29va2llcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb29raWVzJyk7XG5cbmlmICghSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY29va2llc0lzSGlkZGVuJykpKSB7XG4gICRjb29raWVzLmNsYXNzTGlzdC5hZGQoJ2Nvb2tpZXMtLXNob3duJyk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvb2tpZXNfX2J0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICRjb29raWVzLmNsYXNzTGlzdC5yZW1vdmUoJ2Nvb2tpZXMtLXNob3duJyk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkY29va2llcy5yZW1vdmUoKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjb29raWVzSXNIaWRkZW4nLCB0cnVlKTtcbiAgICB9LCA1MDApXG4gIH0pO1xufSBlbHNlIHtcbiAgJGNvb2tpZXMucmVtb3ZlKCk7XG59XG4gIGxldCBvZmZzZXQgPSAwO1xuY29uc3QgJGJhbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2Jhbm5lcicpO1xuY29uc3QgaGlkZU92ZXJmbG93ID0gKCkgPT4ge1xuICBvZmZzZXQgPSAtcGFyc2VJbnQoZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW5Ub3ApO1xuICBkb2N1bWVudC5ib2R5LnN0eWxlLmNzc1RleHQgPSBgcG9zaXRpb246IGZpeGVkOyBtYXJnaW4tdG9wOiAkey13aW5kb3cuc2Nyb2xsWX1weGA7XG59O1xuY29uc3Qgc2hvd092ZXJmbG93ID0gb2Zmc2V0ID0+IHtcbiAgZG9jdW1lbnQuYm9keS5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOiBzdGF0aWM7IG1hcmdpbi10b3A6IDAnO1xuICB3aW5kb3cuc2Nyb2xsVG8oMCwgb2Zmc2V0KTtcbn07XG5jb25zdCBoaWRlSGVhZGVyTWVudSA9ICgpID0+IHtcbiAgc2hvd092ZXJmbG93KCk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbWVudScpLmNsYXNzTGlzdC5yZW1vdmUoJ2hlYWRlci1tZW51LS1zaG93bicpO1xufTtcblxuaWYgKCFKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdiYW5uZXJJc0hpZGRlbicpKSkge1xuICAkYmFubmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2Jhbm5lci1jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICRiYW5uZXIuY2xhc3NMaXN0LmFkZCgnaGVhZGVyX19iYW5uZXItLWhpZGUnKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRiYW5uZXIucmVtb3ZlKCk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYmFubmVySXNIaWRkZW4nLCB0cnVlKTtcbiAgICB9LCA1MDApXG4gIH0pO1xufSBlbHNlIHtcbiAgJGJhbm5lci5yZW1vdmUoKTtcbn1cblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYnVyZ2VyJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGhpZGVPdmVyZmxvdygpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW1lbnUnKS5jbGFzc0xpc3QuYWRkKCdoZWFkZXItbWVudS0tc2hvd24nKTtcbn0pO1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW1lbnVfX2JhY2tkcm9wJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWRlSGVhZGVyTWVudSk7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW1lbnVfX2Nsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWRlSGVhZGVyTWVudSk7XG4gIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhlcm9fX2Ryb3Bkb3duLWl0ZW0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gZS5jdXJyZW50VGFyZ2V0O1xuICBjb25zdCB2YWx1ZSA9ICR0aGlzLmlubmVyVGV4dDtcblxuICAkdGhpcy5jbG9zZXN0KCcuaGVyb19faW5wdXQnKS5xdWVyeVNlbGVjdG9yKCcuaGVyb19faW5wdXQtZmllbGQnKS52YWx1ZSA9IHZhbHVlO1xufSkpO1xuXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oZXJvX19pbnB1dC1maWVsZCcpKS5tYXAoZWwgPT4ge1xuICBjb25zdCAkdGhpcyA9IGVsO1xuICBjb25zdCAkZHJvcGRvd24gPSAkdGhpcy5uZXh0RWxlbWVudFNpYmxpbmc7XG4gIGNvbnN0IGhhbmRsZUlucHV0ID0gZmlyc3RSZW5kZXIgPT4ge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBKU09OLnBhcnNlKCR0aGlzLmRhdGFzZXQub3B0aW9ucyk7XG4gICAgY29uc3QgbG93ZXJDYXNlVmFsdWUgPSAkdGhpcy52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgIGxldCBtYXRjaGVzRm91bmQgPSBmYWxzZTtcbiAgXG4gICAgJGRyb3Bkb3duLmlubmVySFRNTCA9ICcnO1xuICBcbiAgICBvcHRpb25zLm1hcChlbCA9PiB7XG4gICAgICBpZiAoZmlyc3RSZW5kZXIgfHwgZWwudG9Mb3dlckNhc2UoKS5tYXRjaChsb3dlckNhc2VWYWx1ZSkpIHtcbiAgICAgICAgbWF0Y2hlc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgJGRyb3Bkb3duLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYDxhIGNsYXNzPVwiaGVyb19fZHJvcGRvd24taXRlbSBkcm9wZG93bl9fbWVudS1pdGVtXCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiPiR7ZWx9PC9hPmApXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAobWF0Y2hlc0ZvdW5kKSB7XG4gICAgICAkZHJvcGRvd24uY2xhc3NMaXN0LnJlbW92ZSgnaGVyb19fZHJvcGRvd24tLWhpZGRlbicpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkZHJvcGRvd24uY2xhc3NMaXN0LmFkZCgnaGVyb19fZHJvcGRvd24tLWhpZGRlbicpO1xuICAgIH1cblxuICAgIEFycmF5LmZyb20oJGRyb3Bkb3duLnF1ZXJ5U2VsZWN0b3JBbGwoJy5oZXJvX19kcm9wZG93bi1pdGVtJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICR0aGlzLnZhbHVlID0gZWwuaW5uZXJUZXh0O1xuICAgICAgJHRoaXMuc2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJywgZWwuaW5uZXJUZXh0KTtcbiAgICB9KSk7XG4gIH07XG5cbiAgJHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiBoYW5kbGVJbnB1dChmYWxzZSkpXG4gICR0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4gaGFuZGxlSW5wdXQodHJ1ZSkpO1xuICAkdGhpcy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuICAgIGlmICgkdGhpcy52YWx1ZSA9PT0gJycgfHwgISR0aGlzLmRhdGFzZXQudmFsdWUpIHtcbiAgICAgICR0aGlzLnZhbHVlID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgICR0aGlzLnZhbHVlID0gJHRoaXMuZGF0YXNldC52YWx1ZTtcbiAgICB9XG4gIH0pO1xufSk7XG4gIGNvbnN0IHBvcHVsYXJTbGlkZXIgPSBuZXcgU3dpcGVyKCcucG9wdWxhcl9fZ3JpZC0tbW9iaWxlJywge1xuICBsb29wOiB0cnVlLFxuICBsb29wQWRkaXRpb25hbFNsaWRlczogMyxcbiAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuICBjZW50ZXJlZFNsaWRlczogdHJ1ZSxcbn0pO1xuICBjb25zdCByZXZpZXdzU2xpZGVyID0gbmV3IFN3aXBlcignLnJldmlld3NfX3NsaWRlcicsIHtcbiAgbG9vcDogdHJ1ZSxcbiAgc3BhY2VCZXR3ZWVuOiAyMCxcbiAgc2xpZGVzUGVyVmlldzogMyxcbiAgc2xpZGVzUGVyR3JvdXA6IDMsXG4gIGxvb3BBZGRpdGlvbmFsU2xpZGVzOiAzLFxuICBwYWdpbmF0aW9uOiB7XG4gICAgZWw6ICcuc3dpcGVyLXBhZ2luYXRpb24nLFxuICAgIGNsaWNrYWJsZTogdHJ1ZVxuICB9XG59KTtcblxuY29uc3QgcmV2aWV3U2xpZGVyTW9iaWxlID0gbmV3IFN3aXBlcignLnJldmlld3NfX3NsaWRlci0tbW9iaWxlJywge1xuICBsb29wOiB0cnVlLFxuICBzcGFjZUJldHdlZW46IDIwLFxuICBsb29wQWRkaXRpb25hbFNsaWRlczogMyxcbiAgcGFnaW5hdGlvbjoge1xuICAgIGVsOiAnLnN3aXBlci1wYWdpbmF0aW9uJyxcbiAgICBjbGlja2FibGU6IHRydWVcbiAgfVxufSk7XG5cbn0iXX0=
