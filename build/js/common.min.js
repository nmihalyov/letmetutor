"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function _iterableToArrayLimit(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,c=[],a=!0,i=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(c.push(n.value),!t||c.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(i)throw r}}return c}}function _arrayWithHoles(e){if(Array.isArray(e))return e}window.onload=function(){var e=function(e){var t=document.querySelector('.header-notification[data-notification="'.concat(e,'"]'));t.classList.add("header-notification--active"),setTimeout((function(){t.classList.remove("header-notification--active")}),4e3)},t=function(t,o){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];fetch(t,{method:"POST",credentials:"same-origin",body:new FormData(o)}).then((function(e){return e.json()})).then((function(t){t.success?(e("success"),o.querySelector('button[type="submit"]').classList.remove("button--loading")):(o.querySelector('button[type="submit"]').classList.remove("button--loading"),console.log(t),t.errors.forEach((function(e){if(-1!==e.indexOf(";")){var t=e.split(";");o.querySelector('[name="'+t[0]+'"]').closest("label").classList.contains("textarea")?(o.querySelector('[name="'+t[0]+']"').closest("label").classList.add("textarea--error"),o.querySelector('[name="'+t[0]+']"').closest("label").querySelector(".textarea__error").innerHTML=t[1]):o.querySelector('[name="'+t[0]+'"]').closest("label").classList.contains("input")&&(o.querySelector('[name="'+t[0]+'"]').closest("label").classList.add("input--error"),o.querySelector('[name="'+t[0]+'"]').closest("label").querySelector(".input__error").innerHTML=t[1])}else console.log(e),!1!==n&&n(e)})))}))},o={popup:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.onHide,n=t.onShow,r=function(){document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px")},c=function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)};return{isShown:function(){return e.classList.contains("popup--opened")},show:function(){var t=new Promise((function(t){e.style.display="block",t()}));r(),t.then((function(){e.classList.add("popup--opened"),"function"==typeof n&&n()}))},hide:function(){var t=-parseInt(document.body.style.marginTop);e.classList.remove("popup--opened"),setTimeout((function(){e.style.display="none",c(t),"function"==typeof o&&o()}),300)}}}};o.validate=function(e,t){var o=null,n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,r=function(e){e.closest(".input")?e.closest(".input").classList.add("input--error"):e.closest(".textarea")&&e.closest(".textarea").classList.add("textarea--error"),o=e,e.focus()};e.querySelector('button[type="submit"]').addEventListener("click",(function(c){c.preventDefault();var a=!0,i=Array.from(e.querySelectorAll("input[required], textarea[required]")),l=e.querySelectorAll(".checkboxselect");if(i.reverse().map((function(e){switch(o=null,e.dataset.passRepeat&&e.value!==e.closest("form").querySelector("input[data-pass]").value&&r(e),e.getAttribute("type")){case"text":case"password":""===e.value.trim()&&(r(e),a=!1);break;case"tel":(""===e.value.trim()||e.value.includes("_"))&&(r(e),a=!1);break;case"number":+e.value<+e.dataset.min&&(r(e),a=!1);break;case"checkbox":e.checked||(o=t=e,t.closest(".checkbox").classList.add("checkbox--error"),a=!1);break;case"email":n.test(e.value)||(r(e),a=!1);break;default:(e.dataset.min>e.value.trim().length||""===e.value.trim())&&(r(e),a=!1)}var t})),l.length&&Array.from(l).map((function(e){var t=!1;Array.from(e.querySelectorAll(".checkbox__input")).map((function(e){e.checked&&(t=!0)})),t||(e.classList.add("checkboxselect--error"),a=!1)})),a)c.currentTarget.classList.add("button--loading"),t();else{var s=o.closest(".input")||o.closest(".textarea");scrollTo(0,s.getBoundingClientRect().y+pageYOffset-document.querySelector(".header").offsetHeight-10)}})),Array.from(e.querySelectorAll("input")).concat(Array.from(e.querySelectorAll("textarea"))).map((function(e){return e.addEventListener("input",(function(){e.closest(".input")?e.closest(".input").classList.remove("input--error"):e.closest(".checkbox")?e.closest(".checkbox").classList.remove("checkbox--error"):e.closest(".textarea")&&e.closest(".textarea").classList.remove("textarea--error")}))}))};var n=new Event("popupShow");document.addEventListener("click",(function(e){var t=e.target;if(t.closest(".js-open-popup")){e.preventDefault();var r=t.closest(".js-open-popup").dataset.popup,c=document.querySelector('.js-popup[data-popup="'.concat(r,'"]'));"request-auth"===r&&(document.querySelector(".profile-head__name")?c.querySelector(".popup__desc b").innerText=document.querySelector(".profile-head__name").innerText:c.querySelector(".popup__desc b").innerText=t.closest(".tutorcard").querySelector(".tutorcard__name").innerText),o.popup(c,{onShow:function(){"edit-photo"===r&&c.dispatchEvent(n)}}).show()}})),Array.from(document.querySelectorAll(".js-close-popup")).map((function(e){return e.addEventListener("click",(function(t){if(!t.target.closest(".popup__window")||!t.currentTarget.classList.contains("js-popup")){var n=t.currentTarget.closest(".popup");e.dataset.link&&fetch(e.dataset.link).then((function(e){return e.text()})).then((function(e){location.reload()})),o.popup(n).hide()}}))})),[{$element:document.querySelector("form[data-restore-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-request-auth-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-refuse]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-pay]"),callback:function(e){var t=document.querySelector('.js-popup[data-popup="application-pay"]')||document.querySelector('.js-popup[data-popup="application-offer-pay"]'),n=document.querySelector('.js-popup[data-popup="application-pay-success"]');setTimeout((function(){o.popup(t,{onHide:function(){Array.from(t.querySelectorAll("input")).map((function(e){return e.value=""})),o.popup(n).show(),e.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}},{$element:document.querySelector("form[data-service-pay]"),callback:function(e){var t=document.querySelector('.js-popup[data-popup="service-pay"]'),n=document.querySelector('.js-popup[data-popup="service-pay-success"]');setTimeout((function(){o.popup(t,{onHide:function(){Array.from(t.querySelectorAll("input")).map((function(e){return e.value=""})),o.popup(n).show(),e.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}},{$element:document.querySelector("form[data-offer-form]"),callback:function(e){var t=document.querySelector('.js-popup[data-popup="offer"]'),n=document.querySelector('.js-popup[data-popup="offer-success"]');setTimeout((function(){o.popup(t,{onHide:function(){Array.from(t.querySelectorAll("input")).map((function(e){return e.value=""})),o.popup(n).show(),e.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}},{$element:document.querySelector("form[data-request-form]"),callback:function(e){var t=document.querySelector('.js-popup[data-popup="request"]'),n=document.querySelector('.js-popup[data-popup="request-success"]');setTimeout((function(){o.popup(t,{onHide:function(){Array.from(t.querySelectorAll("input")).map((function(e){return e.value=""})),o.popup(n).show(),e.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}},{$element:document.querySelector("form[data-request-specific-form]"),callback:function(e){var t=document.querySelector('.js-popup[data-popup="request-specific"]'),n=document.querySelector('.js-popup[data-popup="request-success"]');setTimeout((function(){o.popup(t,{onHide:function(){Array.from(t.querySelectorAll("input")).map((function(e){return e.value=""})),o.popup(n).show(),e.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}}].map((function(e){var t=e.$element,n=e.callback;t&&o.validate(t,(function(){return n(t)}))})),document.querySelectorAll(".js-anchor").forEach((function(e){return e.addEventListener("click",(function(t){t.preventDefault();var o=e.dataset.target;scrollTo({top:document.querySelector("."+o).getBoundingClientRect().top+window.pageYOffset-document.querySelector(".header").offsetHeight,behavior:"smooth"})}))}));Array.from(document.querySelectorAll(".dropdown"));document.addEventListener("click",(function(){document.querySelector(".dropdown--active")&&document.querySelector(".dropdown--active").classList.remove("dropdown--active")})),document.addEventListener("click",(function(e){var t=e.target.closest(".dropdown");if(t){if(t.classList.contains("input__code")&&e.preventDefault(),t.classList.contains("header__profile-notifications")){fetch("/ajax/action/read_notifications").then((function(e){return e.text()})).then((function(e){if("ok"===e){var o=t.querySelector(".header__profile-counter");null!==o&&o.remove()}}))}t.classList.contains("dropdown--active")||(document.querySelector(".dropdown--active")&&document.querySelector(".dropdown--active").classList.remove("dropdown--active"),t.classList.toggle("dropdown--active"))}}));var r=function(e){fetch(e).then((function(e){return e.text()})).then((function(e){location.reload()}))};document.addEventListener("click",(function(e){var t=e.target.closest(".dropdown__menu-item");if(t&&(document.querySelector(".dropdown--active").classList.remove("dropdown--active"),t.getAttribute("data-toggle"))){var o=e.target,n=o.dataset.value||o.innerText,c=o.closest(".dropdown__menu").querySelector(".dropdown__menu-item--hidden"),a=o.closest(".dropdown"),i=a.querySelector(".dropdown__value"),l=a.querySelector("input");c&&c.classList.remove("dropdown__menu-item--hidden"),l&&(l.value=n),t.classList.add("dropdown__menu-item--hidden"),i.innerText=n,o.closest(".dropdown").classList.contains("catalog__sort-item")&&(document.location.href=function(e){var t=e;t+="?filter=".concat(document.querySelector(".js-catalog-filter .dropdown__value").innerText);var o=Array.from(document.querySelectorAll(".filters__input-field")).map((function(e){return e.name}));return new URL(location.href).searchParams.toString().split("&").map((function(e){var n=_slicedToArray(e.split("="),1)[0];o.includes(n)&&(t+="&"+e)})),t+="&limit=".concat(document.querySelector(".js-catalog-limit .dropdown__value").innerText)}("/search")),o.closest(".dropdown").classList.contains("js-currency-change")&&r("/ajax/action/currency_change?currency="+n),o.closest(".dropdown").classList.contains("js-language-change")&&r("/ajax/action/language_change?language="+n)}})),Array.from(document.querySelectorAll(".tabs__item")).map((function(e){return e.addEventListener("click",(function(t){t.preventDefault();var o=e.dataset.tab,n=e.closest("[data-tabs]").querySelector("[data-active]");e.closest(".tabs").querySelector(".tabs__item--active").classList.remove("tabs__item--active"),e.classList.add("tabs__item--active"),n&&(e.closest("[data-tabs]").querySelector("[data-active]").removeAttribute("data-active"),e.closest("[data-tabs]").querySelector('[data-content="'.concat(o,'"]')).setAttribute("data-active",!0))}))}));var c=new Event("changeCountry");Array.from(document.querySelectorAll(".input.dropdown")).concat(Array.from(document.querySelectorAll(".input .dropdown"))).map((function(e){return e.addEventListener("click",(function(){var t=e.querySelector(".dropdown__menu");e.closest(".input").querySelector(".input__dropdown").style.width=e.closest(".input").getBoundingClientRect().width+"px",t.classList.contains("fakeScroll")||t.fakeScroll()}))})),Array.from(document.querySelectorAll(".input__dropdown-item[data-code-loc]")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.codeLoc,o=e.dataset.mask,n=e.closest(".input").querySelector("input");e.closest(".input__code").dataset.codeLoc=t,e.closest(".input__code").dataset.mask=o,n.placeholder=o.replaceAll("9","_"),function(e,t){Inputmask({mask:t}).mask(e)}(n,o)}))})),document.addEventListener("click",(function(e){var t=e.target.closest(".input__dropdown-item[data-dropdown]");if(t){var o=t.dataset.value||t.innerText;t.closest(".input").querySelector("input").value=o,t.closest(".input").classList.remove("input--error"),t.closest(".input").classList.contains("js-auth-country")&&t.closest(".input").dispatchEvent(c)}})),Array.from(document.querySelectorAll('input[type="tel"]')).map((function(e){Inputmask({mask:e.closest(".input").querySelector(".input__code").dataset.mask}).mask(e)})),Array.from(document.querySelectorAll(".checkbox__hint")).map((function(e){return e.addEventListener("click",(function(t){t.preventDefault(),t.target.closest(".checkbox__hint-container")||e.querySelector(".checkbox__hint-container").classList.toggle("checkbox__hint-container--shown")}))})),document.addEventListener("click",(function(e){var t=document.querySelector(".checkbox__hint-container--shown");e.target.closest(".checkbox__hint")&&!e.target.closest(".checkbox__hint-close")||!t||t.classList.remove("checkbox__hint-container--shown")})),Array.from(document.querySelectorAll(".checkboxselect__list")).map((function(e){e.addEventListener("click",(function(t){t.stopPropagation();var o=e.closest(".checkboxselect"),n=!1;o.classList.remove("checkboxselect--error"),Array.from(e.querySelectorAll(".checkbox__input")).map((function(t){var r=o.querySelector(".checkboxselect__input-placeholder");t.checked&&(n=!0),t.addEventListener("click",(function(){var t="";Array.from(e.querySelectorAll("input:checked")).map((function(e){t+=e.closest(".checkboxselect__item").querySelector(".checkbox__text").innerText+", "})),t?(r.innerText=t.substring(0,t.length-2),r.classList.add("checkboxselect__input-placeholder--active")):(r.innerText=r.dataset.placeholder,r.classList.remove("checkboxselect__input-placeholder--active"))}))})),n?o.classList.add("checkboxselect--checked"):o.classList.remove("checkboxselect--checked")})),e.fakeScroll()})),Array.from(document.querySelectorAll(".filters__dropdown-item")).map((function(e){return e.addEventListener("click",(function(e){var t=e.currentTarget,o=t.innerText;t.closest(".filters__input").querySelector(".filters__input-field").value=o}))}));var a=function(e,t){var o=function(o){var n=e.nextElementSibling.querySelector(".filters__dropdown-inner"),r=n.querySelector(".fakeScroll__content")||n,c="location"===e.getAttribute("name"),a=c?t.map((function(e){return e.key})).concat(t.flatMap((function(e){return e.cities}))):JSON.parse(e.dataset.options),i=e.value.toLowerCase(),l=r.closest(".filters__dropdown").querySelector('input[type="checkbox"]'),s=!1;r.innerHTML="",a.map((function(e){if(o||0===e.toLowerCase().indexOf(i)){var t=c?'<a class="filters__dropdown-item dropdown__menu-item'.concat(i&&!o?" filters__dropdown-item--smart":"",'" href="javascript:void(0)"><span>').concat(e.substr(0,i.length),"</span>").concat(e.substr(i.length),"</a>"):'<a class="filters__dropdown-item dropdown__menu-item" href="javascript:void(0)">'.concat(e,"</a>");s=!0,r.insertAdjacentHTML("beforeend",t)}})),s?(n.parentNode.classList.remove("filters__dropdown--hidden"),n.parentNode.classList.remove("filters__dropdown--empty")):l?n.parentNode.classList.add("filters__dropdown--empty"):n.parentNode.classList.add("filters__dropdown--hidden"),Array.from(r.querySelectorAll(".filters__dropdown-item")).map((function(t){return t.addEventListener("click",(function(){e.value=t.innerText,e.setAttribute("data-value",t.innerText),l&&(l.checked=!1,e.removeAttribute("readonly"))}))})),o&&!n.classList.contains("fakeScroll")&&r.fakeScroll()};"cost"!==e.name&&(e.addEventListener("input",(function(){return o(!1)})),e.addEventListener("focus",(function(){return o(!0)})),e.addEventListener("blur",(function(){""!==e.value&&e.dataset.value?e.value=e.dataset.value:e.value=""})))};document.querySelectorAll(".filters__input-field").length&&Array.from(document.querySelectorAll(".filters__input-field")).map((function(e){"location"===e.name?fetch("json/location.json").then((function(e){return e.json()})).then((function(t){a(e,t)})):a(e)})),Array.from(document.querySelectorAll(".filters__cost-range")).map((function(e){var t=+e.dataset.min,o=+e.dataset.max,n=+e.dataset.smin,r=+e.dataset.smax;noUiSlider.create(e,{start:[n,r],connect:!0,range:{min:t,max:o},step:100}),e.noUiSlider.on("slide",(function(t){var o=parseInt(t[0]),n=parseInt(t[1]);e.closest(".filters__input").querySelector(".filters__input-field").value="".concat(o," ₽ – ").concat(n," ₽"),e.closest(".filters__cost").querySelector('[data-cost="from"]').innerText=o,e.closest(".filters__cost").querySelector('[data-cost="to"]').innerText=n}))})),Array.from(document.querySelectorAll(".filters__dropdown-checkbox")).map((function(e){return e.addEventListener("click",(function(){var t=e.closest(".filters__input").querySelector(".filters__input-field");if(e.querySelector("input").checked){var o=e.querySelector(".checkbox__text").innerText;t.value=o,t.setAttribute("data-value",o),t.setAttribute("readonly","readonly")}else t.value="",t.setAttribute("data-value",""),t.removeAttribute("readonly")}))})),document.addEventListener("click",(function(e){var t=e.target;t.classList.contains("js-tutorcard-more")&&(t.style.display="none",Array.from(t.closest(".tutorcard__subjects").querySelectorAll(".tutorcard__subjects-item--hidden")).map((function(e){e.classList.remove("tutorcard__subjects-item--hidden")})))})),Array.from(document.querySelectorAll(".accordion__item-title")).map((function(e){return e.addEventListener("click",(function(){var t=e.closest(".accordion").querySelector(".accordion__item--active"),o=e.closest(".accordion__item");o.classList.contains("accordion__item--active")?o.classList.remove("accordion__item--active"):(t&&t.classList.remove("accordion__item--active"),o.classList.add("accordion__item--active"))}))}));var i=document.querySelectorAll(".personal__applications-checkbox");document.querySelectorAll(".application__write").forEach((function(e){return e.addEventListener("click",(function(){var t=e.dataset.show,o=e.dataset.hide,n=e.innerHTML;e.closest(".application").querySelector(".application__form").style.display=n===t?"block":"none",e.innerText=n===t?o:t}))})),i.forEach((function(e){return e.addEventListener("click",(function(){var t=e.querySelector("input").checked;e.closest(".personal__card").querySelectorAll(".application__checkbox input").forEach((function(e){return e.checked=t})),e.closest(".personal__card").querySelectorAll(".personal__applications-checkbox").forEach((function(o){o!==e&&(o.querySelector("input").checked=t)}))}))})),document.querySelectorAll(".application__checkbox input").forEach((function(e){return e.addEventListener("change",(function(){var t=!0;e.closest(".personal__card").querySelectorAll(".application__checkbox input").forEach((function(e){e.checked||(t=!1)})),i.forEach((function(e){return e.querySelector("input").checked=t}))}))})),document.querySelectorAll(".application__declined-link").forEach((function(e){return e.addEventListener("click",(function(){e.nextElementSibling.classList.toggle("application__declined-reason--active")}))})),document.addEventListener("click",(function(e){var t=document.querySelector(".application__declined-reason--active");t&&!e.target.closest(".application__declined")&&t.classList.remove("application__declined-reason--active")})),document.querySelectorAll(".balance__input").forEach((function(e){Inputmask({alias:"decimal",radixPoint:" ",suffix:" ₽"}).mask(e)})),[{$element:document.querySelector("form[data-balance-replensih]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-balance-withdraw]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}}].map((function(e){var t=e.$element,n=e.callback;t&&o.validate(t,(function(){return n(t)}))}));var l=document.querySelector(".banner");JSON.parse(localStorage.getItem("letmetutor:bannerIsHidden"))?l.remove():(l.style.display="flex",document.querySelector(".banner__close").addEventListener("click",(function(){l.classList.add("banner--hide"),setTimeout((function(){l.remove(),localStorage.setItem("letmetutor:bannerIsHidden",!0)}),500)})));var s=document.querySelector(".cookies");JSON.parse(localStorage.getItem("letmetutor:cookiesIsHidden"))?s.remove():(s.classList.add("cookies--shown"),document.querySelector(".cookies__btn").addEventListener("click",(function(){s.classList.remove("cookies--shown"),setTimeout((function(){s.remove(),localStorage.setItem("letmetutor:cookiesIsHidden",!0)}),500)})));var u=function(){!function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)}(),document.querySelector(".header-menu").classList.remove("header-menu--shown")};document.querySelector(".header__burger").addEventListener("click",(function(){-parseInt(document.body.style.marginTop),document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px"),document.querySelector(".header-menu").classList.add("header-menu--shown")})),document.querySelector(".header-menu__backdrop").addEventListener("click",u),document.querySelector(".header-menu__close").addEventListener("click",u),Array.from(document.querySelectorAll(".header__notifications-wrapper")).map((function(e){e.classList.contains("fakeScroll")||e.fakeScroll()}));new Swiper(".popular__grid--mobile",{loop:!0,loopAdditionalSlides:3,spaceBetween:20,slidesPerView:"auto",centeredSlides:!0,breakpoints:{760:{slidesPerView:2,centeredSlides:!1}}}),new Swiper(".reviews__slider",{loop:!0,spaceBetween:20,slidesPerView:3,slidesPerGroup:3,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".reviews__slider--mobile",{loop:!0,spaceBetween:20,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}});if([{$element:document.querySelector("form[data-login-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-signup-student-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-signup-tutor-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-support-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-signup-student-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-signup-tutor-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-commercial-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}}].map((function(e){var t=e.$element,n=e.callback;t&&o.validate(t,(function(){return n(t)}))})),Array.from(document.querySelectorAll(".js-auth-country")).map((function(e){e.addEventListener("changeCountry",(function(t){e.closest("form").querySelector(".js-auth-city").dataset.country=t.target.querySelector("input").value})),e.dispatchEvent(c)})),document.querySelectorAll(".js-auth-city input").length&&fetch("/json/location.json").then((function(e){return e.json()})).then((function(e){Array.from(document.querySelectorAll(".js-auth-city input")).map((function(t){t.addEventListener("input",(function(t){var o=t.currentTarget,n=o.closest(".input"),r=n.dataset.country;if(r){var c=e.filter((function(e){return e.key===r}))[0].cities,a=o.value.toLowerCase(),i=o.closest(".input").querySelector(".dropdown__menu"),l=i.querySelector(".fakeScroll__content"),s=!1;l&&(l.innerHTML=""),""!==o.value&&(c.map((function(e){0===e.toLowerCase().indexOf(a)&&(s=!0,l.insertAdjacentHTML("beforeend",'<a class="input__dropdown-item dropdown__menu-item'.concat(a?" input__dropdown-item--smart":"",'" href="javascript:void(0)"><span>').concat(e.substr(0,a.length),"</span>").concat(e.substr(a.length),"</a>")))})),s&&Array.from(n.querySelectorAll(".input__dropdown-item")).map((function(e){return e.addEventListener("click",(function(){o.value=e.innerText}))}))),i.classList.contains("fakeScroll")||i.fakeScroll()}})),t.addEventListener("focus",(function(){var e=t.closest(".input").querySelector(".fakeScroll__content");e&&(e.innerHTML="")}))}))})),Array.from(document.querySelectorAll('input[name="rulesAgreement"]')).map((function(e){return e.addEventListener("change",(function(){var t=e.closest("form").querySelector('button[type="submit"]');e.checked?(t.classList.remove("button--disabled"),t.removeAttribute("disabled")):(t.classList.add("button--disabled"),t.setAttribute("disabled","disabled"))}))})),Array.from(document.querySelectorAll(".auth__toggle .tabs__item")).map((function(e){return e.addEventListener("click",(function(){document.querySelector(".auth__type").value=e.dataset.tab-1}))})),document.querySelector(".js-catalog-more")){document.querySelector(".pagination__arrow--prev");var d=document.querySelector(".pagination__arrow--next"),p=(document.querySelector(".pagination__separator"),{current:[1],total:parseInt(document.querySelector(".catalog__items").dataset.total)}),m=function(e){var t=e,o=Array.from(document.querySelectorAll(".filters__input-field")).map((function(e){return e.name}));return new URL(location.href).searchParams.toString().split("&").map((function(e){var n=_slicedToArray(e.split("="),1)[0];o.includes(n)&&(t+="&"+e)})),t+="&limit=".concat(document.querySelector(".js-catalog-limit .dropdown__value").innerText),t+="&filter=".concat(document.querySelector(".js-catalog-filter .dropdown__value").innerText)},f=function(e){var t=e.top,o=e.image,n=e.verified,r=e.name,c=e.country,a=e.subjects,i=e.location,l=e.description,s=e.link,u=e.rating,d=e.reviews,p=e.price;return'\n    <div class="tutorcard'.concat(t?" tutorcard--top":"",'">\n      <div class="tutorcard__image" style="background-image: url(\'').concat(o,'\')"></div>\n      <div class="tutorcard__info">\n        <div>\n          <p class="tutorcard__name').concat(n?" tutorcard__name--verified":"",'"><a href="').concat(s,'">').concat(r,'</a></p>\n          <p class="tutorcard__location" data-loc=').concat(c,">").concat(i,'</p>\n          <div class="tutorcard__subjects">\n            ').concat(a.map((function(e){return'\n              <a class="tutorcard__subjects-item'.concat(e.search?" tutorcard__subjects-item--search":"").concat(e.hidden?" tutorcard__subjects-item--hidden":"",'" href="javascript:void(0)">').concat(e.name," <span>(опыт <b>").concat(e.experience,"</b>)</span></a>\n            ")})).join(""),"\n            ").concat(a.length>2?'<a class="tutorcard__subjects-more js-tutorcard-more" href="javascript:void(0)">+'+["предмет","предмета","предметов"].decline(a.length-2,!0)+"</a>":"",'\n          </div>\n          <p class="tutorcard__desc">').concat(l,'</p>\n        </div><a class="tutorcard__more" href=').concat(s,'>Подробнее</a>\n      </div>\n      <div class="tutorcard__actions">\n        <div class="tutorcard__actions-info">\n          <div class="tutorcard__rating').concat(0===parseInt(d)?" tutorcard__rating--empty":"",'">\n            <p class="tutorcard__rating-rate">').concat(u,'</p>\n            <p class="tutorcard__rating-reviews">(').concat(d,')</p>\n          </div>\n          <div class="tutorcard__cost">\n            <p class="tutorcard__cost-value">').concat(p,' ₽</p>\n            <p class="tutorcard__cost-desc">в час</p>\n          </div>\n        </div>\n        <button class="button js-open-popup').concat(t?" button--primary":" button--secondary",' tutorcard__btn" data-popup="').concat(null!==document.querySelector(".header__profile")?"request":"request-auth",'">Оставить заявку</button>\n      </div>\n    </div>\n  ')};document.addEventListener("click",(function(e){var t=e.target.closest(".js-catalog-more");if(t){e.preventDefault(),t.classList.add("button--loading");var o=p.current[p.current.length-1]+1,n=m("/json/catalog.json?page=".concat(o));p.current.push(o),fetch(n).then((function(e){return e.json()})).then((function(e){e.data.map((function(e){document.querySelector(".catalog__items").insertAdjacentHTML("beforeend",f(e))})),document.querySelector(".catalog__bottom").innerHTML=e.paginator,o===p.total&&(t.classList.add("catalog__bottom-btn--hidden"),d.classList.add("pagination__arrow--disabled")),t.classList.remove("button--loading")}))}})),document.addEventListener("click",(function(e){if(e.target.closest(".pagination__arrow--prev")){e.preventDefault();var t=p.current[0]-1,o=m("/json/catalog.json?page=".concat(t));p.current=[t],fetch(o).then((function(e){return e.json()})).then((function(e){var t="";e.data.map((function(e){t+=f(e)})),document.querySelector(".catalog__items").innerHTML=t,window.scrollTo(0,0),document.querySelector(".catalog__bottom").innerHTML=e.paginator}))}})),document.addEventListener("click",(function(e){if(e.target.closest(".pagination__arrow--next")){e.preventDefault();var t=p.current[p.current.length-1]+1,o=m("/json/catalog.json?page=".concat(t));p.current=[t],fetch(o).then((function(e){return e.json()})).then((function(e){var t="";e.data.map((function(e){t+=f(e)})),document.querySelector(".catalog__items").innerHTML=t,window.scrollTo(0,0),document.querySelector(".catalog__bottom").innerHTML=e.paginator}))}})),document.addEventListener("click",(function(e){var t=e.target;if(t.classList.contains("pagination__page")){var o=parseInt(t.dataset.page),n=m("/json/catalog.json?page=".concat(o));p.current=[o],fetch(n).then((function(e){return e.json()})).then((function(e){var t="";e.data.map((function(e){t+=f(e)})),document.querySelector(".catalog__items").innerHTML=t,window.scrollTo(0,0),document.querySelector(".catalog__bottom").innerHTML=e.paginator}))}}))}Array.from(document.querySelectorAll(".tutor__nav-link")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.target;scrollTo({top:document.querySelector('[data-block="'.concat(t,'"]')).getBoundingClientRect().top+window.pageYOffset-document.querySelector(".header").offsetHeight,behavior:"smooth"})}))})),Array.from(document.querySelectorAll(".profile-head__subjects-item")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.pay;e.closest(".profile-head__subjects").querySelector(".profile-head__subjects-item--highlight").classList.remove("profile-head__subjects-item--highlight"),e.classList.add("profile-head__subjects-item--highlight"),Array.from(document.querySelectorAll(".js-profile-cost")).map((function(e){return e.innerText=t}))}))}));var _=document.querySelector(".profile-about__video-cover");_&&_.addEventListener("click",(function(){var e=_.parentNode.querySelector("iframe");_.parentNode.querySelector("iframe").setAttribute("src",e.getAttribute("src")+"?autoplay=1"),_.classList.add("profile-about__video-cover--hidden")}));var y=document.querySelector(".js-reviews-more");if(y){var v={current:1,total:parseInt(document.querySelector('meta[name="reviews-total"]').content)};y.addEventListener("click",(function(e){e.preventDefault();var t=y.dataset.url;++v.current,fetch("".concat(t,"?page=").concat(v.current)).then((function(e){return e.json()})).then((function(e){e.data.map((function(e){var t,o,n,r,c,a,i;document.querySelector(".profile-reviews__feedbacks").insertAdjacentHTML("beforeend",(o=(t=e).image,n=t.name,r=t.date,c=t.rating,a=t.feedback,i=t.tag,'\n  <div class="profile-reviews__feedback">\n  '.concat(o?'<div class="profile-reviews__feedback-image" style="background-image: url(\''.concat(o,"')\"></div>"):'<div class="profile-reviews__feedback-image"></div>','\n      <div class="profile-reviews__feedback-info">\n      <div class="profile-reviews__feedback-head">\n      <div>\n      <p class="profile-reviews__feedback-name">').concat(n,'</p>\n      <p class="profile-reviews__feedback-date">').concat(r,"</p>\n      </div>\n      ").concat(i?'<p class="profile-reviews__feedback-tag">'+i+"</p>":"",'\n      </div>\n      <div class="profile-reviews__rating-stars">\n      ').concat([1,2,3,4,5].map((function(e){return e<=c?'<div class="profile-reviews__rating-star profile-reviews__rating-star--full"></div>':'<div class="profile-reviews__rating-star"></div>'})).join(""),'\n        </div>\n        <p class="profile-reviews__feedback-text">').concat(a,"</p>\n        </div>\n        </div>\n        "))),v.current===v.total&&y.remove()}))}))}))}var h=document.querySelectorAll(".profile-schedule__timezone-menu");h.length&&Array.from(h).map((function(e){e.classList.contains("fakeScroll")||e.fakeScroll()})),Array.from(document.querySelectorAll(".profile-schedule__time")).map((function(e){var t=e.querySelector(".profile-schedule__time-menu");t&&!t.classList.contains("fakeScroll")&&t.fakeScroll()}));var S=function(){var e=document.querySelector(".profile-schedule__unit--current"),t=document.querySelector('.js-popup[data-popup="request-specific"]');e&&setTimeout((function(){var o=e.dataset.date,n=e.querySelector(".profile-schedule__time-value").innerText;document.querySelector(".profile-schedule__pick").classList.add("profile-schedule__pick--active"),document.querySelector(".profile-schedule__pick-date").innerText=o,document.querySelector(".profile-schedule__pick-time").innerText=n,t&&(t.querySelector(".popup__heading-date").innerText=o,t.querySelector(".popup__heading-time").innerText=n,t.querySelector('input[name="time"]').value=n)}),0)};if(document.querySelector(".profile-schedule")){var q=document.querySelector(".profile-schedule__controls-button--prev"),b=document.querySelector(".profile-schedule__controls-button--next");q&&q.addEventListener("click",(function(){var e=document.querySelector(".profile-schedule__slide--active"),t=+e.dataset.slide,o=document.querySelector('.profile-schedule__slide[data-slide="'.concat(t-1,'"]'));o&&(e.classList.remove("profile-schedule__slide--active"),o.classList.add("profile-schedule__slide--active"),document.querySelector(".profile-schedule__controls-button--next").classList.remove("profile-schedule__controls-button--disabled"),document.querySelector(".profile-schedule__controls-dates").innerText=o.dataset.dates,o.dataset.first&&q.classList.add("profile-schedule__controls-button--disabled"))})),b&&b.addEventListener("click",(function(){var e=document.querySelector(".profile-schedule__slide--active"),t=+e.dataset.slide,o=document.querySelector('.profile-schedule__slide[data-slide="'.concat(t+1,'"]'));o&&(e.classList.remove("profile-schedule__slide--active"),o.classList.add("profile-schedule__slide--active"),document.querySelector(".profile-schedule__controls-button--prev").classList.remove("profile-schedule__controls-button--disabled"),document.querySelector(".profile-schedule__controls-dates").innerText=o.dataset.dates,o.dataset.last&&b.classList.add("profile-schedule__controls-button--disabled"))}))}Array.from(document.querySelectorAll(".profile-schedule__unit")).map((function(e){return e.addEventListener("click",(function(t){if(!t.target.closest(".profile-schedule__time")){var o=document.querySelector(".profile-schedule__unit--current");o&&o.classList.remove("profile-schedule__unit--current"),e.classList.add("profile-schedule__unit--current"),S()}}))})),Array.from(document.querySelectorAll(".profile-schedule__time-menu .dropdown__menu-item")).map((function(e){return e.addEventListener("click",S)}));var g=document.querySelector(".chat__grid"),L=document.querySelector(".chat__aside"),k=Array.from(document.querySelectorAll(".chat-item")),w=document.querySelector(".chat__head-warning"),A=document.querySelector(".chat__dialog"),x=document.querySelector(".chat__dialog-container"),T=document.querySelector(".chat__footer-input"),E=document.querySelector(".chat__footer-container"),j=document.querySelector(".chat__context"),H=document.querySelector('.js-popup[data-popup="dialog-delete"] [data-delete]'),I=0,$=new Event("formSubmit"),M=function(e){document.querySelector(".chat__context--shown")&&(j.classList.remove("chat__context--shown"),window.innerWidth<760&&!e&&(document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,I)))};L&&L.fakeScroll();var C=function(){T.style.height="5px",T.style.height=T.scrollHeight+3+"px"},N=function(){var e=A.querySelector(".fakeScroll__content");e.scrollTop=e.scrollHeight};w&&(JSON.parse(localStorage.getItem("letmetutor:dialogWarningIsHidden"))?w.remove():(w.classList.add("chat__head-warning--shown"),document.querySelector(".chat__head-warning-close").addEventListener("click",(function(){w.remove(),localStorage.setItem("letmetutor:dialogWarningIsHidden",!0)})))),document.querySelector(".chat__head-back")&&document.querySelector(".chat__head-back").addEventListener("click",(function(){g.classList.remove("chat__grid--inner")})),k&&k.map((function(e){return e.addEventListener("click",(function(t){e.querySelector(".chat-item__container").style="",e.querySelector(".chat-item__delete").style="",(window.innerWidth>759&&!e.classList.contains("chat-item--active")||!t.target.closest(".chat-item__delete"))&&(g.classList.add("chat__grid--inner"),document.querySelector(".chat-item--active").classList.remove("chat-item--active"),e.classList.add("chat-item--active"),e.querySelector(".chat-item__counter")&&e.querySelector(".chat-item__counter").remove(),document.querySelector(".chat__head-image").style.backgroundImage=e.querySelector(".chat-item__image").style.backgroundImage,document.querySelector(".chat__head-name").innerText=e.querySelector(".chat-item__name").innerText)}))})),T&&T.addEventListener("input",C),A&&(A.fakeScroll(),A.querySelector(".fakeScroll__content").addEventListener("scroll",(function(){M()})),N()),E&&(E.addEventListener("formSubmit",(function(){var e=T.value;if(0===e.replace(/\s/g,"").length)return T.focus(),!1;if("send"===E.dataset.action){var t='<div class="chat__message chat__message--right" data-id="'.concat(+document.querySelector(".chat__message:last-child").dataset.id+1,'">\n        <p class="chat__message-text">').concat(e,'</p>\n        <p class="chat__message-time">').concat(Intl.DateTimeFormat("ru-Ru",{hour:"numeric",minute:"numeric"}).format(Date.now()),"</p>\n      </div>");x.insertAdjacentHTML("beforeend",t),N()}else"edit"===E.dataset.action&&(document.querySelector('.chat__message[data-id="'.concat(E.dataset.id,'"] .chat__message-text')).innerText=e,E.classList.remove("chat__footer-container--edit"),E.dataset.action="send");T.value="",T.focus(),C()})),E.addEventListener("submit",(function(e){e.preventDefault(),E.dispatchEvent($)})),E.addEventListener("keypress",(function(e){13!==(e.keyCode?e.keyCode:e.which)||e.shiftKey||(e.preventDefault(),E.dispatchEvent($))}))),document.addEventListener("click",(function(e){var t=e.target;if(t.classList.contains("chat__message-text")&&t.closest(".chat__message--right")){var o=t.parentNode.dataset.id;j.classList.add("chat__context--shown"),j.style.cssText="left: ".concat(e.clientX+10,"px; top: ").concat(e.clientY+scrollY+10,"px;"),H.dataset.id=o,E.dataset.id=o,window.innerWidth<760&&(I=window.scrollY,document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px"))}else M(t.closest('[data-action="delete"]'))})),H&&H.addEventListener("click",(function(){document.querySelector('.chat__message[data-id="'.concat(H.dataset.id,'"]')).remove()})),document.querySelector('.chat__context-item[data-action="edit"]')&&document.querySelector('.chat__context-item[data-action="edit"]').addEventListener("click",(function(){var e=document.querySelector('.chat__message[data-id="'.concat(E.dataset.id,'"] .chat__message-text')).innerText;E.classList.add("chat__footer-container--edit"),E.dataset.action="edit",T.focus(),T.value=e,document.querySelector(".chat__edit-text").innerText=e,C()})),document.querySelector(".chat__edit-cancel")&&document.querySelector(".chat__edit-cancel").addEventListener("click",(function(){E.classList.remove("chat__footer-container--edit"),E.dataset.action="send",T.focus(),T.value="",C()}));var D={start:null,end:null,diff:null};k&&k.map((function(e){var t=e.querySelector(".chat-item__container"),o=e.querySelector(".chat-item__delete");e.addEventListener("touchstart",(function(n){k.map((function(t){t!==e&&(t.querySelector(".chat-item__container").style.transform="translateX(0)",t.querySelector(".chat-item__delete").style.transform="translateX(0)")})),t.style.transition="none",o.style.transition="none",D.start=n.touches[0].clientX}),!1),e.addEventListener("touchmove",(function(e){var n=e.touches[0].clientX,r=D.start-n;D.end=n,D.diff=r,r>0&&r<120&&(t.style.transform="translateX(-".concat(r,"px)"),o.style.transform="translateX(-".concat(r,"px)"))}),!1),e.addEventListener("touchend",(function(e){e.stopPropagation();var n=D.diff<60?0:-120;t.style.cssText="\n        transition: transform .3s ease;\n        transform: translateX(".concat(n,"px);\n      "),o.style.cssText="\n        transition: transform .3s ease;\n        transform: translateX(".concat(n,"px);\n      ")}),!1)}));var R=null;[{$element:document.querySelector("form[data-personal-data]"),callback:function(e){t("/ajax/account/basic",e)}},{$element:document.querySelector("form[data-personal-experience]"),callback:function(e){t("/ajax/account/experiences",e)}},{$element:document.querySelector("form[data-personal-specialization]"),callback:function(e){document.querySelector(".errortype").style.display="none",t("/ajax/account/specialization",e,(function(e){"error.type"==e&&(document.querySelector(".errortype").style.display="block")}))}},{$element:document.querySelector("form[data-personal-contacts]"),callback:function(e){t("/ajax/account/contacts",e)}},{$element:document.querySelector("form[data-personal-pass]"),callback:function(e){t("/ajax/account/password",e)}},{$element:document.querySelector("form[data-personal-notification]"),callback:function(e){t("/ajax/account/notifications",e)}},{$element:document.querySelector("form[data-personal-info]"),callback:function(e){t("/ajax/account/info",e)}},{$element:document.querySelector("form[data-photo-form]"),callback:function(e){setTimeout((function(){var t=R.getData(),o={x:parseInt(t.x),y:parseInt(t.y),width:parseInt(t.width),height:parseInt(t.height)};R.element.closest(".popup__photo").querySelector('input[name="imageCropInfo"]').value=JSON.stringify(o),e.submit()}),0)}}].map((function(e){var t=e.$element,n=e.callback;t&&o.validate(t,(function(){return n(t)}))})),Array.from(document.querySelectorAll(".js-personal-add")).map((function(e){return e.addEventListener("click",(function(){var t=e.parentNode.querySelector(".js-copy-item"),o=t.cloneNode(!0),n=o.querySelector(".input.dropdown");o.style.display="block",Array.from(o.querySelectorAll("input")).map((function(e){e.required=!0})),Array.from(o.querySelectorAll("input")).map((function(e){e.addEventListener("input",(function(e){e.target.parentNode.parentNode.classList.remove("input--error")}))})),Array.from(o.querySelectorAll(".fakeScroll__content")).map((function(e){var t=e.closest(".dropdown__menu");Array.from(e.children).map((function(e){t.insertAdjacentElement("beforeend",e)})),Array.from(o.querySelectorAll('input[type="text"]')).map((function(e){return e.value=""})),Array.from(o.querySelectorAll('input[type="checkbox"]')).map((function(e){return e.checked=!1})),t.classList.remove("fakeScroll","fakeScroll--hasBar"),t.querySelector(".fakeScroll__wrap").remove(),t.querySelector(".fakeScroll__track").remove(),t.fakeScroll()})),t.parentNode.insertAdjacentElement("beforeend",o),Array.from(document.querySelectorAll(".js-personal-remove")).map((function(e){return e.addEventListener("click",(function(){e.parentNode.remove()}))})),n&&(n.addEventListener("click",(function(){var e=n.querySelector(".dropdown__menu");n.closest(".input").querySelector(".input__dropdown").style.width=n.closest(".input").getBoundingClientRect().width+"px",e.classList.contains("fakeScroll")||e.fakeScroll()})),Array.from(n.querySelectorAll(".input__dropdown-item[data-dropdown]")).map((function(e){return e.addEventListener("click",(function(){var t=e.innerText;e.closest(".input").querySelector("input").value=t,e.closest(".input").classList.remove("input--error")}))})))}))})),Array.from(document.querySelectorAll(".js-personal-remove")).map((function(e){return e.addEventListener("click",(function(){e.parentNode.remove()}))}));var O=function(e){R=new Cropper(e,{viewMode:3,aspectRatio:1,zoomable:!1,guides:!1,center:!1,highlight:!1,minContainerWidth:window.innerWidth<760?200:350,autoCropArea:1,minCropBoxWidth:200,minCropBoxHeight:200,preview:e.closest(".popup__photo").querySelector(".popup__photo-pic")})},B=document.querySelector('.js-popup[data-popup="edit-photo"]');B&&B.addEventListener("popupShow",(function(){var e=B.querySelector(".popup__photo-image[data-uploaded]");e&&O(e)}));var P=document.querySelector(".js-photo-input");P&&P.addEventListener("change",(function(e){var t=e.target.files[0],o=new FileReader;o.onloadend=function(){var e=o.result,t=document.querySelector(".cropper-container"),n=P.closest(".popup__photo");!t&&n.querySelector(".popup__photo-image[data-uploaded]")||(t&&t.remove(),n.querySelector(".popup__photo-pic").style.backgroundImage="url(".concat(e,")"),n.querySelector(".popup__photo-image").remove(),n.querySelector(".popup__photo-container").insertAdjacentHTML("afterbegin",'<img class="popup__photo-image" src="'.concat(e,'" alt="">')));var r=n.querySelector(".popup__photo-image");O(r)},o.readAsDataURL(t)})),Array.from(document.querySelectorAll(".personal__schedule-time-link")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.schedule;document.querySelector("[data-schedule-main]").style.display="none",document.querySelector('[data-schedule-detail="'.concat(t,'"]')).style.display="block",window.innerWidth>1199&&window.scrollTo(0,0)}))})),Array.from(document.querySelectorAll(".personal__back")).map((function(e){return e.addEventListener("click",(function(){e.closest("[data-schedule-detail]").style.display="none",document.querySelector("[data-schedule-main]").style.display="block",window.innerWidth>1199&&window.scrollTo(0,0)}))})),document.querySelector(".personal__schedule")&&(Array.from(document.querySelectorAll(".profile-schedule__controls-button--prev")).map((function(e){return e.addEventListener("click",(function(){var t=e.closest("[data-schedule-detail]"),o=parseInt(t.dataset.scheduleDetail);t.style.display="none",document.querySelector('[data-schedule-detail="'.concat(o-1,'"]')).style.display="block"}))})),Array.from(document.querySelectorAll(".profile-schedule__controls-button--next")).map((function(e){return e.addEventListener("click",(function(){var t=e.closest("[data-schedule-detail]"),o=parseInt(t.dataset.scheduleDetail);t.style.display="none",document.querySelector('[data-schedule-detail="'.concat(o+1,'"]')).style.display="block"}))})));var W=function(){var e=document.querySelector(".personal__services-terms--active input:checked");if(e){var t=e.parentElement.querySelector(".radio__text").innerHTML.split("<span>")[0].trim(),o=e.value.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" &#8381;";document.querySelector('.personal__services-selected span[data-selected="term"]').innerText=t,document.querySelector(".personal__services-topay span").innerHTML=o,document.querySelector(".personal__services-footer").classList.remove("personal__services-footer--hidden"),document.querySelector("span[data-service-cost]")&&(document.querySelector("span[data-service-cost]").innerHTML=o)}else document.querySelector(".personal__services-footer").classList.add("personal__services-footer--hidden")};document.querySelectorAll(".personal__services-label input").forEach((function(e){return e.addEventListener("change",(function(){var t=e.value,o=e.parentElement.querySelector(".personal__services-heading").innerText;document.querySelector(".personal__services-terms--active").classList.remove("personal__services-terms--active"),document.querySelector('.personal__services-terms[data-terms="'.concat(t,'"]')).classList.add("personal__services-terms--active"),document.querySelector('.personal__services-selected span[data-selected="service"]').innerHTML="&laquo;"+o+"&raquo;",document.querySelector(".popup__heading-service")&&(document.querySelector(".popup__heading-service").innerText=o),W()}))})),document.querySelectorAll(".personal__services-radio input").forEach((function(e){return e.addEventListener("change",W)})),document.querySelector(".personal__verify-arrow")&&document.querySelector(".personal__verify-arrow").addEventListener("click",(function(){scrollTo({top:document.querySelector(".personal__verification-btn").getBoundingClientRect().top+window.pageYOffset-document.querySelector(".header").offsetHeight-20,behavior:"smooth"})}));var Y=document.querySelector(".personal__ref-copy");Y&&Y.addEventListener("click",(function(){var e=Y.parentNode.querySelector("input"),t=e.getAttribute("type");e.setAttribute("type","text"),e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),e.setAttribute("type",t)}));var X=document.querySelector(".personal__ref-share");document.querySelector(".personal__ref-invite")&&document.querySelector(".personal__ref-invite").addEventListener("click",(function(){setTimeout((function(){X.classList.add("personal__ref-share--active")}))})),document.addEventListener("click",(function(e){var t=document.querySelector(".personal__ref-share--active");t&&!e.target.closest(".personal__ref-share")&&t.classList.remove("personal__ref-share--active")})),document.querySelectorAll(".personal__tabs-toggle").forEach((function(e){return e.addEventListener("click",(function(){var t=e.closest(".personal__tabs"),o=e.dataset.tab;t.querySelector(".personal__tabs-toggle--active").classList.remove("personal__tabs-toggle--active"),t.querySelector(".personal__tabs-content--active").classList.remove("personal__tabs-content--active"),e.classList.add("personal__tabs-toggle--active"),t.querySelector('.personal__tabs-content[data-tab="'.concat(o,'"]')).classList.add("personal__tabs-content--active")}))}));new Swiper(".joined__slider",{loop:!0,centeredSlides:!0,allowTouchMove:!1,slidesPerView:1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{slideChange:function(e){document.querySelector(".joined__info--active").classList.remove("joined__info--active"),document.querySelector('.joined__info[data-content="'.concat(e.realIndex+1,'"]')).classList.add("joined__info--active")}},breakpoints:{760:{slidesPerView:3}}})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbmxvYWQiLCJzaG93Tm90aWZpY2F0aW9uIiwiaWQiLCIkbm90aWZpY2F0aW9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29uY2F0IiwiY2xhc3NMaXN0IiwiYWRkIiwic2V0VGltZW91dCIsInJlbW92ZSIsInNlbmRGb3JtIiwicXVlcnlVcmwiLCJlbGVtZW50IiwidXNlQ2FsbGJhY2siLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJ0aGVuIiwianNvbiIsImxvZyIsImVycm9yIiwic3BsaXQiLCJjcmVkZW50aWFscyIsImNsb3Nlc3QiLCJjb250YWlucyIsIkZvcm1EYXRhIiwiaW5uZXJIVE1MIiwic3VjY2VzcyIsImNvbnNvbGUiLCJoaWRlT3ZlcmZsb3ciLCJzY3JvbGxZIiwic2hvd092ZXJmbG93Iiwib2Zmc2V0Iiwic3R5bGUiLCJjc3NUZXh0Iiwic2Nyb2xsVG8iLCJpc1Nob3duIiwiJHBvcHVwIiwic2hvdyIsInByb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsImRpc3BsYXkiLCJvblNob3ciLCJoaWRlIiwicGFyc2VJbnQiLCJtYXJnaW5Ub3AiLCJvbkhpZGUiLCIkYXBpIiwidmFsaWRhdGUiLCJmb3JtIiwicmVxdWVzdCIsIiRmaXJzdEludmFsaWRGaWVsZCIsInNldEludmFsaWRJbnB1dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJlbWFpbFJlZ2V4cCIsIiRmb3JtSW5wdXRzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0IiwibWFwIiwiZWwiLCJkYXRhc2V0IiwicGFzc1JlcGVhdCIsInZhbHVlIiwiZ2V0QXR0cmlidXRlIiwic2V0SW52YWxpZENoZWNrYm94IiwiZm9ybUlzVmFsaWQiLCJ0cmltIiwiaW5jbHVkZXMiLCIkY2hlY2tib3hTZWxlY3QiLCJjaGVja2VkIiwidGVzdCIsIm1pbiIsImNoZWNrYm94IiwiY3VycmVudFRhcmdldCIsIiRpbnB1dCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInkiLCJwYWdlWU9mZnNldCIsIm9mZnNldEhlaWdodCIsInBvcHVwU2hvdyIsIkV2ZW50IiwiJHRoaXMiLCJwb3B1cCIsInRhcmdldCIsImlubmVyVGV4dCIsImRpc3BhdGNoRXZlbnQiLCJ0ZXh0IiwicmVsb2FkIiwiY2FsbGJhY2siLCIkZWxlbWVudCIsInN1Ym1pdCIsIiRzdWNjZXNzUG9wdXAiLCJ0b3AiLCIkcG9wdXBGb3JtcyIsIiRkcm9wZG93biIsImJlaGF2aW9yIiwicmVzcG9uc2UiLCIkZHJvcGRvd25zIiwiZmluZCIsInRvZ2dsZSIsImNoYW5nZUFjdGlvbnMiLCJ1cmwiLCJsb2NhdGlvbiIsIiRkcm9wZG93bk1lbnVJdGVtIiwiZmlsdGVyc05hbWVzIiwiZm9ybWF0dGVkVVJMIiwiJGhpZGRlbkl0ZW0iLCIkZHJvcGRvd25JbnB1dCIsIm5ld1ZhbHVlIiwiJGRyb3Bkb3duVmFsdWUiLCJocmVmIiwibmFtZSIsIlVSTCIsInNlYXJjaFBhcmFtcyIsInRvU3RyaW5nIiwia2V5IiwiX3NsaWNlZFRvQXJyYXkiLCJmb3JtYXRVUkwiLCJ0YWIiLCIkYWN0aXZlVGFiQ29udGVudCIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsIndpZHRoIiwiY29kZUxvYyIsIm1hc2siLCJsb2MiLCJjaGFuZ2VDb3VudHJ5RXZlbnQiLCJwbGFjZWhvbGRlciIsInJlcGxhY2VBbGwiLCJJbnB1dG1hc2siLCJ1cGRhdGVNYXNrIiwiJGlucHV0RHJvcGRvd25JdGVtIiwiZmFrZVNjcm9sbCIsIiRoaW50U2hvd25Db250YWluZXIiLCJsaXN0Iiwic3RvcFByb3BhZ2F0aW9uIiwiaXRlbSIsInN1YnN0cmluZyIsIiRwbGFjZWhvbGRlciIsImluaXRTbWFydFNlYXJjaCIsImRhdGEiLCJoYW5kbGVJbnB1dCIsImZpcnN0UmVuZGVyIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiJGRyb3Bkb3duRWxlbWVudCIsIm9wdGlvbnMiLCJpbnB1dFNtYXJ0U2VhcmNoIiwiZmxhdE1hcCIsImNpdGllcyIsIkpTT04iLCJwYXJzZSIsImxvd2VyQ2FzZVZhbHVlIiwidG9Mb3dlckNhc2UiLCJtYXRjaGVzRm91bmQiLCJzdWJzdHIiLCJnZXRMb2NhdGlvbkRhdGEiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJwYXJlbnROb2RlIiwiJGNoZWNrYm94IiwicmVzIiwiJHJhbmdlIiwibWF4Iiwic21pbiIsInNtYXgiLCJzdGFydCIsInJhbmdlIiwic3RlcCIsIm5vVWlTbGlkZXIiLCJvbiIsInZhbHVlcyIsIiRpbnB1dEZpZWxkIiwiY3JlYXRlIiwiY2hlY2tib3hWYWx1ZSIsIiR0YXJnZXQiLCIkYWN0aXZlSXRlbSIsIiRjdXJyZW50SXRlbSIsImZvckVhY2giLCJjdXJyZW50VGV4dCIsInNob3dUZXh0IiwiaGlkZVRleHQiLCIkdG9nZ2xlQ2hlY2tib3hlcyIsImlzQ2hlY2tlZCIsIiRhY3RpdmVSZWFzb24iLCJhbGlhcyIsInJhZGl4UG9pbnQiLCJzdWZmaXgiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiJGJhbm5lciIsIiRiYWxhbmNlRm9ybXMiLCIkY29va2llcyIsImhpZGVIZWFkZXJNZW51IiwiU3dpcGVyIiwibG9vcCIsInNwYWNlQmV0d2VlbiIsInNsaWRlc1BlclZpZXciLCJjZW50ZXJlZFNsaWRlcyIsImJyZWFrcG9pbnRzIiwiNzYwIiwic2xpZGVzUGVyR3JvdXAiLCJjbGlja2FibGUiLCJwYWdpbmF0aW9uIiwibG9vcEFkZGl0aW9uYWxTbGlkZXMiLCJyZXZpZXdzU2xpZGVyIiwicmV2aWV3U2xpZGVyTW9iaWxlIiwiJGF1dGhGb3JtcyIsIiRsYWJlbEVsZW1lbnQiLCJjb3VudHJ5IiwiZmlsdGVyIiwiJGRyb3Bkb3duQ29udGVudCIsIiRzdWJtaXRCdXR0b24iLCIkbmV4dEFycm93IiwiY2F0YWxvZ1BhZ2VzIiwiY3VycmVudCIsInRvdGFsIiwiY2F0YWxvZ0l0ZW1FbGVtZW50IiwiX3JlZjIiLCJpbWFnZSIsInZlcmlmaWVkIiwic3ViamVjdHMiLCJkZXNjcmlwdGlvbiIsImxpbmsiLCJyYXRpbmciLCJyZXZpZXdzIiwicHJpY2UiLCJzZWFyY2giLCJoaWRkZW4iLCJleHBlcmllbmNlIiwiZGVjbGluZSIsIiRjYXRhbG9nTW9yZUJ0biIsImxhdGVzdFBhZ2UiLCJwdXNoIiwicGFnaW5hdG9yIiwiJHByZXZBcnJvdyIsImN1cnJlbnRQYWdlIiwiJGVsZW1lbnRzIiwicGFnZSIsIiRwcm9maWxlVmlkZW9Db3ZlciIsIiRyZXZpZXdzTW9yZUJ0biIsInBheW1lbnQiLCJwYXkiLCJ0YWciLCIkdmlkZW8iLCJyZXZpZXdzUGFnZXMiLCJjb250ZW50IiwiJGNvbnRhaW5lciIsIiRjdXJyZW50VW5pdCIsInJldmlldyIsImRhdGUiLCJmZWVkYmFjayIsIiR0aW1lem9uZURyb3Bkb3ducyIsImpvaW4iLCIkcHJldkJ1dHRvbiIsIiRhY3RpdmVTbGlkZSIsIiRwcmV2U2xpZGUiLCJ0aW1lIiwiJG5leHRCdXR0b24iLCIkbmV4dFNsaWRlIiwiY3VycmVudEluZGV4Iiwic2xpZGUiLCJkYXRlcyIsImZpcnN0Iiwic2V0RGF0ZVRpbWUiLCIkZGlhbG9nQ29udGFpbmVyIiwiJGRpYWxvZ0xpc3QiLCIkZGlhbG9nV2FybmluZyIsIiRkaWFsb2dXaW5kb3ciLCIkZGlhbG9nV2luZG93Q29udGFpbmVyIiwiJGRpYWxvZ0lucHV0RmllbGQiLCIkZGlhbG9nRm9ybSIsIiRkaWFsb2dEZWxldGVNZXNzYWdlQnRuIiwibGFzdCIsInNjcmVlbk9mZnNldCIsImlubmVyV2lkdGgiLCJzY3JvbGxDaGF0VG9Cb3R0b20iLCIkY2hhdFNjcm9sbENvbnRhaW5lciIsInNjcm9sbFRvcCIsInNldEl0ZW0iLCIkZGlhbG9nQ29udGV4dE1lbnUiLCJkZWxldGVNZXNzYWdlIiwiJGRpYWxvZ0xpc3RJdGVtcyIsInNldERpYWxvZ0lucHV0SGVpZ2h0IiwiaGVpZ2h0Iiwic2Nyb2xsSGVpZ2h0IiwiY29udGV4dERlc3Ryb3kiLCIkbWVzc2FnZUVsZW1lbnQiLCJtaW51dGUiLCJmb3JtYXQiLCJub3ciLCJiYWNrZ3JvdW5kSW1hZ2UiLCJtZXNzYWdlIiwiZm9jdXMiLCJJbnRsIiwiRGF0ZVRpbWVGb3JtYXQiLCJob3VyIiwiRGF0ZSIsImFjdGlvbiIsIm9yaWdpbmFsTWVzc2FnZVRleHQiLCJrZXlDb2RlIiwid2hpY2giLCJzaGlmdEtleSIsImZvcm1TdWJtaXRFdmVudCIsIm1lc3NhZ2VJRCIsImNsaWVudFgiLCJjbGllbnRZIiwiZW5kIiwiZGlmZiIsIiRjaGF0SXRlbUNvbnRhaW5lciIsImN1cnJlbnRDb29yZGluYXRlIiwic3dpcGVDb29yZGluYXRlcyIsIiRjaGF0SXRlbURlbGV0ZSIsInRyYW5zZm9ybSIsInRyYW5zaXRpb24iLCJjcm9wcGVkSW1hZ2UiLCJnZXREYXRhIiwieCIsImRlc3QiLCJmaWxlRGF0YSIsIiRjbG9uZWRFbGVtZW50IiwiJGlucHV0RHJvcGRvd24iLCIkbWVudSIsImluc2VydEFkamFjZW50RWxlbWVudCIsInN0cmluZ2lmeSIsImNyb3BwZXJJbml0IiwiZ3VpZGVzIiwiY2VudGVyIiwiaGlnaGxpZ2h0IiwiY2xvbmVOb2RlIiwibWluQ29udGFpbmVyV2lkdGgiLCJtaW5Dcm9wQm94V2lkdGgiLCJwcmV2aWV3IiwicmVxdWlyZWQiLCIkZWRpdFBob3RvUG9wdXAiLCIkdXBsb2FkZWRJbWFnZSIsImNoaWxkcmVuIiwiJHBvcHVwUGhvdG9JbnB1dCIsImZpbGUiLCJmaWxlcyIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCIkcG9wdXBQaG90b0NvbnRhaW5lciIsIiRjcm9wcGVyIiwiJGltYWdlRWxlbWVudCIsInNjaGVkdWxlIiwiQ3JvcHBlciIsInZpZXdNb2RlIiwiYXNwZWN0UmF0aW8iLCJ6b29tYWJsZSIsIiRjdXJyZW50U2NoZWR1bGUiLCJjdXJyZW50U2NoZWR1bGVJZCIsIm1pbkNyb3BCb3hIZWlnaHQiLCIkY2hlY2tlZFJhZGlvIiwicmVwbGFjZSIsIm9ubG9hZGVuZCIsInJlc3VsdCIsInBhcmVudEVsZW1lbnQiLCJzZXRTZWxlY3RlZFNlcnZpY2VUZXJtIiwiJGNvcHlCdG4iLCJ0eXBlIiwic2NoZWR1bGVEZXRhaWwiLCJzZXRTZWxlY3Rpb25SYW5nZSIsInRlcm0iLCJjb3N0IiwiJGFjdGl2ZVNoYXJlTWVudSIsIiR0YWJzIiwidGl0bGUiLCJuZXh0RWwiLCJwcmV2RWwiLCJzbGlkZUNoYW5nZSIsInNlbGVjdCIsImV4ZWNDb21tYW5kIiwiJHNoYXJlTWVudSIsImFsbG93VG91Y2hNb3ZlIiwibmF2aWdhdGlvbiIsInN3aXBlciIsInJlYWxJbmRleCJdLCJtYXBwaW5ncyI6IjBxQ0FBQUEsT0FBT0MsT0FBUyxXQUVkLElBQU1DLEVBQW1CLFNBQUFDLEdBQ3pCLElBQU1DLEVBQWdCQyxTQUFTQyxjQUFULDJDQUFBQyxPQUFrRUosRUFBbEUsT0FDdEJDLEVBQWNJLFVBQVVDLElBQUksK0JBRTVCQyxZQUFXLFdBQ1ROLEVBQWNJLFVBQVVHLE9BQU8saUNBQzlCLE1BR0NDLEVBQVcsU0FBQ0MsRUFBVUMsR0FBaUMsSUFBeEJDLEVBQXdCQyxVQUFBQyxPQUFBLFFBQUFDLElBQUFGLFVBQUEsSUFBQUEsVUFBQSxHQUMzREcsTUFBTU4sRUFBVSxDQUNkTyxPQUFRLE9BYlpwQixZQUFnQixjQUVkcUIsS0FBTW5CLElBQUFBLFNBQWdCWSxLQUV0QlYsTUFBQUEsU0FBQUEsR0FBQUEsT0FBQUEsRUFBY0ksVUFBZGMsTUFBNEIsU0FBQUMsR0FFNUJiLEVBQUFBLFNBQ0VOLEVBQWNJLFdBRE5NLEVBQVZSLGNBQUEseUJBQUFFLFVBQUFHLE9BQUEscUJBZ0JJRyxFQUFRUixjQUFjLHlCQUF5QkUsVUFBVUcsT0FBTyxtQkFYaEVDLFFBQVFZLElBQUdELEdBQTRDQSxFQUF4QlIsT0FBQUEsU0FBd0IsU0FBQVUsR0FDM0ROLElBQWdCLElBQVZOLEVBQUFBLFFBQVUsS0FBQSxDQUNkTyxJQUFRTSxFQURNRCxFQUFBQyxNQUFBLEtBRWRDLEVBQWFyQixjQUZDLFVBQUFvQixFQUFBLEdB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U0FBUyxXQUN4RWpELFlBQVcsV0FDVG1YLEVBQVdyWCxVQUFVQyxJQUFJLHFDQU0vQkosU0FBU3NELGlCQUFpQixTQUFTLFNBQUFDLEdBQ2pDLElBQU15VCxFQUFtQmhYLFNBQVNDLGNBQWMsZ0NBRTVDK1csSUFBcUJ6VCxFQUFFaUMsT0FBT2pFLFFBQVEseUJBQ3hDeVYsRUFBaUI3VyxVQUFVRyxPQUFPLGtDQUt0Q04sU0FBUzZELGlCQUFpQiwwQkFBMEJ3SCxTQUFRLFNBQUFySCxHQUFFLE9BQUlBLEVBQUdWLGlCQUFpQixTQUFTLFdBQzdGLElBQU0yVCxFQUFRalQsRUFBR3pDLFFBQVEsbUJBQ25CaUUsRUFBU3hCLEVBQUdDLFFBQVEwRCxJQUUxQnNQLEVBQU1oWCxjQUFjLGtDQUFrQ0UsVUFBVUcsT0FBTyxpQ0FDdkUyVyxFQUFNaFgsY0FBYyxtQ0FBbUNFLFVBQVVHLE9BQU8sa0NBRXhFMEQsRUFBRzdELFVBQVVDLElBQUksaUNBQ2pCNlcsRUFBTWhYLGNBQU4scUNBQUFDLE9BQXlEc0YsRUFBekQsT0FBcUVyRixVQUFVQyxJQUFJLHdDQUU5RCxJQUFJaU0sT0FBTyxrQkFBbUIsQ0FDbkRDLE1BQU0sRUFDTkcsZ0JBQWdCLEVBQ2hCZ0wsZ0JBQWdCLEVBQ2hCakwsY0FBZSxFQUNma0wsV0FBWSxDQUNWUCxPQUFRLHNCQUNSQyxPQUFRLHVCQUVWdk0sR0FBSSxDQUNGd00sWUFERSxTQUNVTSxHQUNWM1gsU0FBU0MsY0FBYyx5QkFBeUJFLFVBQVVHLE9BQU8sd0JBQ2pFTixTQUFTQyxjQUFULCtCQUFBQyxPQUFzRHlYLEVBQU9DLFVBQVksRUFBekUsT0FBZ0Z6WCxVQUFVQyxJQUFJLDBCQUdsR3NNLFlBQWEsQ0FDWEMsSUFBSyxDQUNISCxjQUFlIiwiZmlsZSI6ImNvbW1vbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cub25sb2FkID0gKCkgPT4ge1xuXG4gIGNvbnN0IHNob3dOb3RpZmljYXRpb24gPSBpZCA9PiB7XG4gIGNvbnN0ICRub3RpZmljYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuaGVhZGVyLW5vdGlmaWNhdGlvbltkYXRhLW5vdGlmaWNhdGlvbj1cIiR7aWR9XCJdYCk7XG4gICRub3RpZmljYXRpb24uY2xhc3NMaXN0LmFkZCgnaGVhZGVyLW5vdGlmaWNhdGlvbi0tYWN0aXZlJyk7XG4gIFxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAkbm90aWZpY2F0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hlYWRlci1ub3RpZmljYXRpb24tLWFjdGl2ZScpO1xuICB9LCA0MDAwKTtcbn07XG5cbmNvbnN0IHNlbmRGb3JtID0gKHF1ZXJ5VXJsLCBlbGVtZW50LCB1c2VDYWxsYmFjayA9IGZhbHNlKSA9PiB7XG4gIGZldGNoKHF1ZXJ5VXJsLCB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBjcmVkZW50aWFsczogXCJzYW1lLW9yaWdpblwiLFxuICAgIGJvZHk6IG5ldyBGb3JtRGF0YShlbGVtZW50KVxuICB9KVxuICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihqc29uID0+IHtcbiAgICBpZiAoanNvbi5zdWNjZXNzKSB7XG4gICAgICBzaG93Tm90aWZpY2F0aW9uKFwic3VjY2Vzc1wiKTtcbiAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgY29uc29sZS5sb2coanNvbik7XG4gICAgICBqc29uLmVycm9ycy5mb3JFYWNoKGVycm9yID0+IHtcbiAgICAgICAgaWYoZXJyb3IuaW5kZXhPZignOycpICE9PSAtMSkge1xuICAgICAgICAgIHZhciBzcGxpdCA9IGVycm9yLnNwbGl0KCc7Jyk7XG4gICAgICAgICAgaWYoZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIicrc3BsaXRbMF0rJ1wiXScpLmNsb3Nlc3QoJ2xhYmVsJykuY2xhc3NMaXN0LmNvbnRhaW5zKCd0ZXh0YXJlYScpKSB7XG4gICAgICAgICAgICBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiJytzcGxpdFswXSsnXVwiJykuY2xvc2VzdCgnbGFiZWwnKS5jbGFzc0xpc3QuYWRkKCd0ZXh0YXJlYS0tZXJyb3InKTtcbiAgICAgICAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCInK3NwbGl0WzBdKyddXCInKS5jbG9zZXN0KCdsYWJlbCcpLnF1ZXJ5U2VsZWN0b3IoJy50ZXh0YXJlYV9fZXJyb3InKS5pbm5lckhUTUwgPSBzcGxpdFsxXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZihlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiJytzcGxpdFswXSsnXCJdJykuY2xvc2VzdCgnbGFiZWwnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2lucHV0JykpIHtcbiAgICAgICAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCInK3NwbGl0WzBdKydcIl0nKS5jbG9zZXN0KCdsYWJlbCcpLmNsYXNzTGlzdC5hZGQoJ2lucHV0LS1lcnJvcicpO1xuICAgICAgICAgICAgZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIicrc3BsaXRbMF0rJ1wiXScpLmNsb3Nlc3QoJ2xhYmVsJykucXVlcnlTZWxlY3RvcignLmlucHV0X19lcnJvcicpLmlubmVySFRNTCA9IHNwbGl0WzFdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgaWYgKHVzZUNhbGxiYWNrICE9PSBmYWxzZSkgdXNlQ2FsbGJhY2soZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufTtcbiAgLy8g0J7QsdGK0LXQutGCINCz0LvQvtCx0LDQu9GM0L3QvtCz0L4gQVBJXG5jb25zdCAkYXBpID0ge307XG5cbi8vIEFQSSDQtNC70Y8g0YDQsNCx0L7RgtGLINGBINC/0L7Qv9Cw0L/QsNC80LhcbiRhcGkucG9wdXAgPSAoJHBvcHVwLCB7IG9uSGlkZSwgb25TaG93IH0gPSB7fSkgPT4ge1xuICAvLyDQntGC0LrQu9GO0YfQsNC10YIg0LLQvtC30LzQvtC20L3QvtGB0YLRjCDRgdC60YDQvtC70LvQuNGC0Ywg0YHRgtGA0LDQvdC40YbRg1xuICBjb25zdCBoaWRlT3ZlcmZsb3cgPSAoKSA9PiB7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jc3NUZXh0ID0gYHBvc2l0aW9uOiBmaXhlZDsgbWFyZ2luLXRvcDogJHstd2luZG93LnNjcm9sbFl9cHhgO1xuICB9O1xuICBcbiAgLy8g0JLQutC70Y7Rh9Cw0LXRgiDQstC+0LfQvNC+0LbQvdC+0YHRgtGMINGB0LrRgNC+0LvQu9C40YLRjCDRgdGC0YDQsNC90LjRhtGDXG4gIGNvbnN0IHNob3dPdmVyZmxvdyA9IG9mZnNldCA9PiB7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOiBzdGF0aWM7IG1hcmdpbi10b3A6IDAnO1xuICAgIFxuICAgIHdpbmRvdy5zY3JvbGxUbygwLCBvZmZzZXQpO1xuICB9O1xuICBcbiAgcmV0dXJuIHtcbiAgICAvLyDQktC+0LfQstGA0LDRidCw0LXRgiB0cnVlLCDQtdGB0LvQuCDQv9C+0L/QsNC/INC/0L7QutCw0LfRi9Cy0LDQtdGC0YHRjywg0LIg0LjQvdC+0Lwg0YHQu9GD0YfQsNC1IGZhbHNlXG4gICAgaXNTaG93bjogKCkgPT4gJHBvcHVwLmNsYXNzTGlzdC5jb250YWlucygncG9wdXAtLW9wZW5lZCcpLFxuICAgIC8vINCf0L7QutCw0LfRi9Cy0LDQtdGCINC/0L7Qv9Cw0L9cbiAgICBzaG93KCkge1xuICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAkcG9wdXAuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0pO1xuXG4gICAgICBoaWRlT3ZlcmZsb3coKTtcblxuICAgICAgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgJHBvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwLS1vcGVuZWQnKTtcbiAgICAgICAgaWYgKHR5cGVvZiBvblNob3cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBvblNob3coKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICAvLyDQodC60YDRi9Cy0LDQtdGCINC/0L7Qv9Cw0L9cbiAgICBoaWRlKCkge1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gLXBhcnNlSW50KGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luVG9wKTtcbiAgXG4gICAgICAkcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXAtLW9wZW5lZCcpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICRwb3B1cC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBzaG93T3ZlcmZsb3cob2Zmc2V0KTtcbiAgICAgICAgaWYgKHR5cGVvZiBvbkhpZGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBvbkhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgfSwgMzAwKTtcbiAgICB9XG4gIH07XG59O1xuXG4vLyBBUEkg0LTQu9GPINCy0LDQu9C40LTQsNGG0LjQuCDRhNC+0YDQvFxuJGFwaS52YWxpZGF0ZSA9IChmb3JtLCByZXF1ZXN0KSA9PiB7XG4gIGxldCAkZmlyc3RJbnZhbGlkRmllbGQgPSBudWxsO1xuICBjb25zdCBlbWFpbFJlZ2V4cCA9IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuICBjb25zdCBzZXRJbnZhbGlkSW5wdXQgPSBpbnB1dCA9PiB7XG4gICAgaWYgKGlucHV0LmNsb3Nlc3QoJy5pbnB1dCcpKSB7XG4gICAgICBpbnB1dC5jbG9zZXN0KCcuaW5wdXQnKS5jbGFzc0xpc3QuYWRkKCdpbnB1dC0tZXJyb3InKTtcbiAgICB9IGVsc2UgaWYgKGlucHV0LmNsb3Nlc3QoJy50ZXh0YXJlYScpKSB7XG4gICAgICBpbnB1dC5jbG9zZXN0KCcudGV4dGFyZWEnKS5jbGFzc0xpc3QuYWRkKCd0ZXh0YXJlYS0tZXJyb3InKTtcbiAgICB9XG4gICAgJGZpcnN0SW52YWxpZEZpZWxkID0gaW5wdXQ7XG4gICAgaW5wdXQuZm9jdXMoKTtcbiAgfTtcbiAgY29uc3Qgc2V0SW52YWxpZENoZWNrYm94ID0gaW5wdXQgPT4ge1xuICAgICRmaXJzdEludmFsaWRGaWVsZCA9IGlucHV0O1xuICAgIGlucHV0LmNsb3Nlc3QoJy5jaGVja2JveCcpLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94LS1lcnJvcicpO1xuICB9O1xuXG4gIGZvcm0ucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGxldCBmb3JtSXNWYWxpZCA9IHRydWU7XG4gICAgY29uc3QgJGZvcm1JbnB1dHMgPSBBcnJheS5mcm9tKGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbcmVxdWlyZWRdLCB0ZXh0YXJlYVtyZXF1aXJlZF0nKSk7XG4gICAgY29uc3QgJGNoZWNrYm94U2VsZWN0ID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3hzZWxlY3QnKTtcblxuICAgICRmb3JtSW5wdXRzLnJldmVyc2UoKS5tYXAoZWwgPT4ge1xuICAgICAgJGZpcnN0SW52YWxpZEZpZWxkID0gbnVsbDtcblxuICAgICAgaWYgKGVsLmRhdGFzZXQucGFzc1JlcGVhdCAmJiBlbC52YWx1ZSAhPT0gZWwuY2xvc2VzdCgnZm9ybScpLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFzc10nKS52YWx1ZSkge1xuICAgICAgICBzZXRJbnZhbGlkSW5wdXQoZWwpO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2goZWwuZ2V0QXR0cmlidXRlKCd0eXBlJykpIHtcbiAgICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgIGNhc2UgJ3Bhc3N3b3JkJzpcbiAgICAgICAgICBpZiAoZWwudmFsdWUudHJpbSgpID09PSAnJykge1xuICAgICAgICAgICAgc2V0SW52YWxpZElucHV0KGVsKTtcbiAgICAgICAgICAgIGZvcm1Jc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0ZWwnOlxuICAgICAgICAgIGlmIChlbC52YWx1ZS50cmltKCkgPT09ICcnIHx8IGVsLnZhbHVlLmluY2x1ZGVzKCdfJykpIHtcbiAgICAgICAgICAgIHNldEludmFsaWRJbnB1dChlbCk7XG4gICAgICAgICAgICBmb3JtSXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICBpZiAoK2VsLnZhbHVlIDwgK2VsLmRhdGFzZXQubWluKSB7XG4gICAgICAgICAgICBzZXRJbnZhbGlkSW5wdXQoZWwpO1xuICAgICAgICAgICAgZm9ybUlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICBpZiAoIWVsLmNoZWNrZWQpIHtcbiAgICAgICAgICAgIHNldEludmFsaWRDaGVja2JveChlbCk7XG4gICAgICAgICAgICBmb3JtSXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZW1haWwnOlxuICAgICAgICAgIGlmICghZW1haWxSZWdleHAudGVzdChlbC52YWx1ZSkpIHtcbiAgICAgICAgICAgIHNldEludmFsaWRJbnB1dChlbCk7XG4gICAgICAgICAgICBmb3JtSXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoZWwuZGF0YXNldC5taW4gPiBlbC52YWx1ZS50cmltKCkubGVuZ3RoKSB7XG4gICAgICAgICAgICBzZXRJbnZhbGlkSW5wdXQoZWwpO1xuICAgICAgICAgICAgZm9ybUlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGVsLnZhbHVlLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgICAgICAgIHNldEludmFsaWRJbnB1dChlbCk7XG4gICAgICAgICAgICBmb3JtSXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgXG4gICAgaWYgKCRjaGVja2JveFNlbGVjdC5sZW5ndGgpIHtcbiAgICAgIEFycmF5LmZyb20oJGNoZWNrYm94U2VsZWN0KS5tYXAoZWwgPT4ge1xuICAgICAgICBsZXQgY2hlY2tlZCA9IGZhbHNlO1xuICBcbiAgICAgICAgQXJyYXkuZnJvbShlbC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3hfX2lucHV0JykpLm1hcChjaGVja2JveCA9PiB7XG4gICAgICAgICAgaWYgKGNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICAgICAgICAgIGNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gIFxuICAgICAgICBpZiAoIWNoZWNrZWQpIHtcbiAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveHNlbGVjdC0tZXJyb3InKTtcbiAgICAgICAgICBmb3JtSXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZm9ybUlzVmFsaWQpIHtcbiAgICAgIGUuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuYWRkKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgIHJlcXVlc3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgJGlucHV0ID0gJGZpcnN0SW52YWxpZEZpZWxkLmNsb3Nlc3QoJy5pbnB1dCcpIHx8ICRmaXJzdEludmFsaWRGaWVsZC5jbG9zZXN0KCcudGV4dGFyZWEnKTtcbiAgICAgIHNjcm9sbFRvKDAsICRpbnB1dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55ICsgcGFnZVlPZmZzZXQgLSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyJykub2Zmc2V0SGVpZ2h0IC0gMTApO1xuICAgIH1cbiAgfSk7XG5cbiAgQXJyYXkuZnJvbShmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykpLmNvbmNhdChBcnJheS5mcm9tKGZvcm0ucXVlcnlTZWxlY3RvckFsbCgndGV4dGFyZWEnKSkpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICBpZiAoZWwuY2xvc2VzdCgnLmlucHV0JykpIHtcbiAgICAgIGVsLmNsb3Nlc3QoJy5pbnB1dCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2lucHV0LS1lcnJvcicpO1xuICAgIH0gZWxzZSBpZiAoZWwuY2xvc2VzdCgnLmNoZWNrYm94JykpIHtcbiAgICAgIGVsLmNsb3Nlc3QoJy5jaGVja2JveCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrYm94LS1lcnJvcicpO1xuICAgIH0gZWxzZSBpZiAoZWwuY2xvc2VzdCgnLnRleHRhcmVhJykpIHtcbiAgICAgIGVsLmNsb3Nlc3QoJy50ZXh0YXJlYScpLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHRhcmVhLS1lcnJvcicpO1xuICAgIH1cbiAgfSkpO1xufTtcblxuICAvLyBoYW5kbGUgb3BlbiBwb3B1cFxuY29uc3QgcG9wdXBTaG93ID0gbmV3IEV2ZW50KCdwb3B1cFNob3cnKTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSBlLnRhcmdldDtcblxuICBpZiAoJHRoaXMuY2xvc2VzdCgnLmpzLW9wZW4tcG9wdXAnKSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBcbiAgICBjb25zdCB0YXJnZXQgPSAkdGhpcy5jbG9zZXN0KCcuanMtb3Blbi1wb3B1cCcpLmRhdGFzZXQucG9wdXA7XG4gICAgY29uc3QgJHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCIke3RhcmdldH1cIl1gKTtcblxuICAgIGlmICh0YXJnZXQgPT09ICdyZXF1ZXN0LWF1dGgnKSB7XG4gICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtaGVhZF9fbmFtZScpKSB7XG4gICAgICAgICRwb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Rlc2MgYicpLmlubmVyVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLWhlYWRfX25hbWUnKS5pbm5lclRleHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19kZXNjIGInKS5pbm5lclRleHQgPSAkdGhpcy5jbG9zZXN0KCcudHV0b3JjYXJkJykucXVlcnlTZWxlY3RvcignLnR1dG9yY2FyZF9fbmFtZScpLmlubmVyVGV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkYXBpLnBvcHVwKCRwb3B1cCwge1xuICAgICAgb25TaG93KCkge1xuICAgICAgICBpZiAodGFyZ2V0ID09PSAnZWRpdC1waG90bycpIHtcbiAgICAgICAgICAkcG9wdXAuZGlzcGF0Y2hFdmVudChwb3B1cFNob3cpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkuc2hvdygpO1xuICB9XG59KTtcblxuLy8gaGFuZGxlIGNsb3NlIHBvcHVwXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1jbG9zZS1wb3B1cCcpKS5tYXAoZWwgPT5cbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoJy5wb3B1cF9fd2luZG93JykgfHwgIWUuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLXBvcHVwJykpIHtcbiAgICAgIGNvbnN0ICRwb3B1cCA9IGUuY3VycmVudFRhcmdldC5jbG9zZXN0KCcucG9wdXAnKTtcblxuICAgICAgaWYgKGVsLmRhdGFzZXQubGluaykge1xuICAgICAgICBmZXRjaChlbC5kYXRhc2V0LmxpbmspXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLnRleHQoKSlcbiAgICAgICAgLnRoZW4odGV4dCA9PiB7XG4gICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAkYXBpLnBvcHVwKCRwb3B1cCkuaGlkZSgpO1xuICAgIH1cbiAgfSlcbik7XG5cbi8vIGFsbCBwb3B1cCBmb3Jtc1xuY29uc3QgJHBvcHVwRm9ybXMgPSBbe1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXJlc3RvcmUtZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAkZWxlbWVudC5zdWJtaXQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1yZXF1ZXN0LWF1dGgtZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAkZWxlbWVudC5zdWJtaXQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1yZWZ1c2VdJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgJGVsZW1lbnQuc3VibWl0KCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtcGF5XScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIGNvbnN0ICRwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwiYXBwbGljYXRpb24tcGF5XCJdJykgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJhcHBsaWNhdGlvbi1vZmZlci1wYXlcIl0nKTtcbiAgICBjb25zdCAkc3VjY2Vzc1BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJhcHBsaWNhdGlvbi1wYXktc3VjY2Vzc1wiXScpO1xuICBcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRhcGkucG9wdXAoJHBvcHVwLCB7XG4gICAgICAgIG9uSGlkZSgpIHtcbiAgICAgICAgICBBcnJheS5mcm9tKCRwb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpKS5tYXAoZWwgPT4gZWwudmFsdWUgPSAnJyk7XG4gICAgICAgICAgJGFwaS5wb3B1cCgkc3VjY2Vzc1BvcHVwKS5zaG93KCk7XG4gICAgICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICAgfVxuICAgICAgfSkuaGlkZSgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXNlcnZpY2UtcGF5XScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIGNvbnN0ICRwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwic2VydmljZS1wYXlcIl0nKTtcbiAgICBjb25zdCAkc3VjY2Vzc1BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJzZXJ2aWNlLXBheS1zdWNjZXNzXCJdJyk7XG4gIFxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGFwaS5wb3B1cCgkcG9wdXAsIHtcbiAgICAgICAgb25IaWRlKCkge1xuICAgICAgICAgIEFycmF5LmZyb20oJHBvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykpLm1hcChlbCA9PiBlbC52YWx1ZSA9ICcnKTtcbiAgICAgICAgICAkYXBpLnBvcHVwKCRzdWNjZXNzUG9wdXApLnNob3coKTtcbiAgICAgICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgICB9XG4gICAgICB9KS5oaWRlKCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtb2ZmZXItZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBjb25zdCAkcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cIm9mZmVyXCJdJyk7XG4gICAgY29uc3QgJHN1Y2Nlc3NQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwib2ZmZXItc3VjY2Vzc1wiXScpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkYXBpLnBvcHVwKCRwb3B1cCwge1xuICAgICAgICBvbkhpZGUoKSB7XG4gICAgICAgICAgQXJyYXkuZnJvbSgkcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKSkubWFwKGVsID0+IGVsLnZhbHVlID0gJycpO1xuICAgICAgICAgICRhcGkucG9wdXAoJHN1Y2Nlc3NQb3B1cCkuc2hvdygpO1xuICAgICAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAgIH1cbiAgICAgIH0pLmhpZGUoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1yZXF1ZXN0LWZvcm1dJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgY29uc3QgJHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJyZXF1ZXN0XCJdJyk7XG4gICAgY29uc3QgJHN1Y2Nlc3NQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwicmVxdWVzdC1zdWNjZXNzXCJdJyk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRhcGkucG9wdXAoJHBvcHVwLCB7XG4gICAgICAgIG9uSGlkZSgpIHtcbiAgICAgICAgICBBcnJheS5mcm9tKCRwb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpKS5tYXAoZWwgPT4gZWwudmFsdWUgPSAnJyk7XG4gICAgICAgICAgJGFwaS5wb3B1cCgkc3VjY2Vzc1BvcHVwKS5zaG93KCk7XG4gICAgICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICAgfVxuICAgICAgfSkuaGlkZSgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXJlcXVlc3Qtc3BlY2lmaWMtZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBjb25zdCAkcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cInJlcXVlc3Qtc3BlY2lmaWNcIl0nKTtcbiAgICBjb25zdCAkc3VjY2Vzc1BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJyZXF1ZXN0LXN1Y2Nlc3NcIl0nKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGFwaS5wb3B1cCgkcG9wdXAsIHtcbiAgICAgICAgb25IaWRlKCkge1xuICAgICAgICAgIEFycmF5LmZyb20oJHBvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykpLm1hcChlbCA9PiBlbC52YWx1ZSA9ICcnKTtcbiAgICAgICAgICAkYXBpLnBvcHVwKCRzdWNjZXNzUG9wdXApLnNob3coKTtcbiAgICAgICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgICB9XG4gICAgICB9KS5oaWRlKCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn1dO1xuXG4vLyBhcHBseSB2YWxpZGF0aW9uIG9uIHBvcHVwcyBmb3Jtc1xuJHBvcHVwRm9ybXMubWFwKGZvcm0gPT4ge1xuICBjb25zdCB7ICRlbGVtZW50LCBjYWxsYmFjayB9ID0gZm9ybTtcblxuICBpZiAoJGVsZW1lbnQpIHtcbiAgICAkYXBpLnZhbGlkYXRlKCRlbGVtZW50LCAoKSA9PiBjYWxsYmFjaygkZWxlbWVudCkpO1xuICB9XG59KTtcbiAgLy8gYW5jaG9yIGJ1dHRvbiBoYW5kbGVyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtYW5jaG9yJykuZm9yRWFjaChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgY29uc3QgeyB0YXJnZXQgfSA9IGVsLmRhdGFzZXQ7XG5cbiAgc2Nyb2xsVG8oe1xuICAgIHRvcDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLicgKyB0YXJnZXQpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCAtIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKS5vZmZzZXRIZWlnaHQsXG4gICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gIH0pO1xufSkpO1xuICBjb25zdCAkZHJvcGRvd25zID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcGRvd24nKSk7XG5cbi8vIGNsb3NlIGRyb3Bkb3duIG9uIG91dGVyIGNsaWNrXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bi0tYWN0aXZlJykpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd24tLWFjdGl2ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3Bkb3duLS1hY3RpdmUnKTtcbiAgfVxufSk7XG5cblxuLy8gb3BlbiBkcm9wZG93blxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJGRyb3Bkb3duID0gZS50YXJnZXQuY2xvc2VzdCgnLmRyb3Bkb3duJyk7XG5cbiAgaWYgKCRkcm9wZG93bikge1xuICAgIGlmICgkZHJvcGRvd24uY2xhc3NMaXN0LmNvbnRhaW5zKCdpbnB1dF9fY29kZScpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgaWYgKCRkcm9wZG93bi5jbGFzc0xpc3QuY29udGFpbnMoJ2hlYWRlcl9fcHJvZmlsZS1ub3RpZmljYXRpb25zJykpIHtcbiAgICAgIHZhciBxdWVyeVVybCA9ICcvYWpheC9hY3Rpb24vcmVhZF9ub3RpZmljYXRpb25zJztcbiAgICAgIC8vIGNoZWNrIG5vdGlmaWNhdGlvbnNcbiAgICAgIGZldGNoKHF1ZXJ5VXJsKVxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UudGV4dCgpKVxuICAgICAgLnRoZW4odGV4dCA9PiB7XG4gICAgICAgIGlmICh0ZXh0ID09PSAnb2snKSB7XG4gICAgICAgICAgY29uc3QgZmluZCA9ICRkcm9wZG93bi5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19wcm9maWxlLWNvdW50ZXInKTtcbiAgICAgICAgICBpZiAoZmluZCAhPT0gbnVsbCkgZmluZC5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7ICAgIFxuICAgIH1cbiAgXG4gICAgaWYgKCEkZHJvcGRvd24uY2xhc3NMaXN0LmNvbnRhaW5zKCdkcm9wZG93bi0tYWN0aXZlJykpIHtcbiAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd24tLWFjdGl2ZScpKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bi0tYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnZHJvcGRvd24tLWFjdGl2ZScpO1xuICAgICAgfVxuICAgICAgJGRyb3Bkb3duLmNsYXNzTGlzdC50b2dnbGUoJ2Ryb3Bkb3duLS1hY3RpdmUnKTtcbiAgICB9XG4gIH1cbn0pO1xuXG5jb25zdCBmb3JtYXRVUkwgPSB1cmwgPT4ge1xuICBsZXQgZm9ybWF0dGVkVVJMID0gdXJsO1xuXG4gIGZvcm1hdHRlZFVSTCArPSBgP2ZpbHRlcj0ke2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1jYXRhbG9nLWZpbHRlciAuZHJvcGRvd25fX3ZhbHVlJykuaW5uZXJUZXh0fWA7XG4gIGNvbnN0IGZpbHRlcnNOYW1lcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlcnNfX2lucHV0LWZpZWxkJykpLm1hcChlbCA9PiBlbC5uYW1lKTtcbiAgXG4gIG5ldyBVUkwobG9jYXRpb24uaHJlZikuc2VhcmNoUGFyYW1zLnRvU3RyaW5nKCkuc3BsaXQoXCImXCIpLm1hcChlbCA9PiB7XG4gICAgY29uc3QgWyBrZXkgXSA9IGVsLnNwbGl0KCc9Jyk7XG4gICAgaWYgKGZpbHRlcnNOYW1lcy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICBmb3JtYXR0ZWRVUkwgKz0gJyYnICsgZWw7XG4gICAgfVxuICB9KTtcblxuICBmb3JtYXR0ZWRVUkwgKz0gYCZsaW1pdD0ke2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1jYXRhbG9nLWxpbWl0IC5kcm9wZG93bl9fdmFsdWUnKS5pbm5lclRleHR9YDtcblxuICByZXR1cm4gZm9ybWF0dGVkVVJMO1xufTtcblxuY29uc3QgY2hhbmdlQWN0aW9ucyA9IHVybCA9PiB7XG4gIC8vIGNoYW5nZSBjdXJyZW5jeS9sYW5ndWFnZVxuICBmZXRjaCh1cmwpXG4gIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLnRleHQoKSlcbiAgLnRoZW4odGV4dCA9PiB7XG4gICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gIH0pO1xufTtcblxuLy8gY2hhbmdlIGRyb3Bkb3duIHZhbHVlXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkZHJvcGRvd25NZW51SXRlbSA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5kcm9wZG93bl9fbWVudS1pdGVtJyk7XG5cbiAgaWYgKCRkcm9wZG93bk1lbnVJdGVtKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duLS1hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdkcm9wZG93bi0tYWN0aXZlJyk7XG5cbiAgICBpZiAoJGRyb3Bkb3duTWVudUl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLXRvZ2dsZScpKSB7XG4gICAgICBjb25zdCAkdGhpcyA9IGUudGFyZ2V0O1xuICAgICAgY29uc3QgbmV3VmFsdWUgPSAkdGhpcy5kYXRhc2V0LnZhbHVlIHx8ICR0aGlzLmlubmVyVGV4dDtcbiAgICAgIGNvbnN0ICRoaWRkZW5JdGVtID0gJHRoaXMuY2xvc2VzdCgnLmRyb3Bkb3duX19tZW51JykucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duX19tZW51LWl0ZW0tLWhpZGRlbicpO1xuICAgICAgY29uc3QgJGRyb3Bkb3duID0gJHRoaXMuY2xvc2VzdCgnLmRyb3Bkb3duJyk7XG4gICAgICBjb25zdCAkZHJvcGRvd25WYWx1ZSA9ICRkcm9wZG93bi5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd25fX3ZhbHVlJyk7XG4gICAgICBjb25zdCAkZHJvcGRvd25JbnB1dCA9ICRkcm9wZG93bi5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuXG4gICAgICBpZiAoJGhpZGRlbkl0ZW0pIHtcbiAgICAgICAgJGhpZGRlbkl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnZHJvcGRvd25fX21lbnUtaXRlbS0taGlkZGVuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICgkZHJvcGRvd25JbnB1dCkge1xuICAgICAgICAkZHJvcGRvd25JbnB1dC52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgfVxuXG4gICAgICAkZHJvcGRvd25NZW51SXRlbS5jbGFzc0xpc3QuYWRkKCdkcm9wZG93bl9fbWVudS1pdGVtLS1oaWRkZW4nKTsgXG4gICAgICAkZHJvcGRvd25WYWx1ZS5pbm5lclRleHQgPSBuZXdWYWx1ZTtcblxuICAgICAgLy8gc2VhcmNoIGZpbHRlcnNcbiAgICAgIGlmICgkdGhpcy5jbG9zZXN0KCcuZHJvcGRvd24nKS5jbGFzc0xpc3QuY29udGFpbnMoJ2NhdGFsb2dfX3NvcnQtaXRlbScpKSB7XG4gICAgICAgIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgPSBmb3JtYXRVUkwoJy9zZWFyY2gnKTtcbiAgICAgIH1cblxuICAgICAgLy8gY3VycmVuY3kgZmlsdGVyc1xuICAgICAgaWYgKCR0aGlzLmNsb3Nlc3QoJy5kcm9wZG93bicpLmNsYXNzTGlzdC5jb250YWlucygnanMtY3VycmVuY3ktY2hhbmdlJykpIHtcbiAgICAgICAgY2hhbmdlQWN0aW9ucygnL2FqYXgvYWN0aW9uL2N1cnJlbmN5X2NoYW5nZT9jdXJyZW5jeT0nICsgbmV3VmFsdWUpOyAgIFxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBsYW5ndWFnZSBmaWx0ZXJzXG4gICAgICBpZiAoJHRoaXMuY2xvc2VzdCgnLmRyb3Bkb3duJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy1sYW5ndWFnZS1jaGFuZ2UnKSkge1xuICAgICAgICBjaGFuZ2VBY3Rpb25zKCcvYWpheC9hY3Rpb24vbGFuZ3VhZ2VfY2hhbmdlP2xhbmd1YWdlPScgKyBuZXdWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59KTtcbiAgLy8gaGFuZGxlIHRhYnMgbG9naWNcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhYnNfX2l0ZW0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgdGFyZ2V0ID0gZWwuZGF0YXNldC50YWI7XG4gIGNvbnN0ICRhY3RpdmVUYWJDb250ZW50ID0gZWwuY2xvc2VzdCgnW2RhdGEtdGFic10nKS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmVdJyk7XG5cbiAgZWwuY2xvc2VzdCgnLnRhYnMnKS5xdWVyeVNlbGVjdG9yKCcudGFic19faXRlbS0tYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgndGFic19faXRlbS0tYWN0aXZlJyk7XG4gIGVsLmNsYXNzTGlzdC5hZGQoJ3RhYnNfX2l0ZW0tLWFjdGl2ZScpO1xuXG4gIGlmICgkYWN0aXZlVGFiQ29udGVudCkge1xuICAgIGVsLmNsb3Nlc3QoJ1tkYXRhLXRhYnNdJykucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aXZlXScpLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1hY3RpdmUnKTtcbiAgICBlbC5jbG9zZXN0KCdbZGF0YS10YWJzXScpLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWNvbnRlbnQ9XCIke3RhcmdldH1cIl1gKS5zZXRBdHRyaWJ1dGUoJ2RhdGEtYWN0aXZlJywgdHJ1ZSk7XG4gIH1cbn0pKTtcbiAgY29uc3QgY2hhbmdlQ291bnRyeUV2ZW50ID0gbmV3IEV2ZW50KCdjaGFuZ2VDb3VudHJ5Jyk7XG5cbmNvbnN0IHVwZGF0ZU1hc2sgPSAoaW5wdXQsIG1hc2spID0+IHtcbiAgSW5wdXRtYXNrKHttYXNrfSkubWFzayhpbnB1dCk7XG59O1xuXG4vLyBPcGVuIGlucHV0IGRyb3Bkb3duXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dC5kcm9wZG93bicpKVxuLmNvbmNhdChBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dCAuZHJvcGRvd24nKSkpXG4ubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCAkZHJvcGRvd24gPSBlbC5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd25fX21lbnUnKTtcbiAgZWwuY2xvc2VzdCgnLmlucHV0JykucXVlcnlTZWxlY3RvcignLmlucHV0X19kcm9wZG93bicpLnN0eWxlLndpZHRoID0gZWwuY2xvc2VzdCgnLmlucHV0JykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAncHgnO1xuXG4gIGlmICghJGRyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucygnZmFrZVNjcm9sbCcpKSB7XG4gICAgJGRyb3Bkb3duLmZha2VTY3JvbGwoKTtcbiAgfVxufSkpO1xuXG4vLyBDaGFuZ2UgcGhvbmUgY29kZSBvbiBpbnB1dCBkcm9wZG93blxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW5wdXRfX2Ryb3Bkb3duLWl0ZW1bZGF0YS1jb2RlLWxvY10nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCBsb2MgPSBlbC5kYXRhc2V0LmNvZGVMb2M7XG4gIGNvbnN0IG1hc2sgPSBlbC5kYXRhc2V0Lm1hc2s7XG4gIGNvbnN0ICRpbnB1dCA9IGVsLmNsb3Nlc3QoJy5pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG5cbiAgZWwuY2xvc2VzdCgnLmlucHV0X19jb2RlJykuZGF0YXNldC5jb2RlTG9jID0gbG9jO1xuICBlbC5jbG9zZXN0KCcuaW5wdXRfX2NvZGUnKS5kYXRhc2V0Lm1hc2sgPSBtYXNrO1xuICAkaW5wdXQucGxhY2Vob2xkZXIgPSBtYXNrLnJlcGxhY2VBbGwoJzknLCAnXycpO1xuICB1cGRhdGVNYXNrKCRpbnB1dCwgbWFzayk7XG59KSk7XG5cbi8vIENoYW5nZSBpbnB1dCBkcm9wZG93biB2YWx1ZVxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJGlucHV0RHJvcGRvd25JdGVtID0gZS50YXJnZXQuY2xvc2VzdCgnLmlucHV0X19kcm9wZG93bi1pdGVtW2RhdGEtZHJvcGRvd25dJyk7XG5cbiAgaWYgKCRpbnB1dERyb3Bkb3duSXRlbSkge1xuICAgIGNvbnN0IHZhbHVlID0gJGlucHV0RHJvcGRvd25JdGVtLmRhdGFzZXQudmFsdWUgfHwgJGlucHV0RHJvcGRvd25JdGVtLmlubmVyVGV4dDtcbiAgICBcbiAgICAkaW5wdXREcm9wZG93bkl0ZW0uY2xvc2VzdCgnLmlucHV0JykucXVlcnlTZWxlY3RvcignaW5wdXQnKS52YWx1ZSA9IHZhbHVlO1xuICAgICRpbnB1dERyb3Bkb3duSXRlbS5jbG9zZXN0KCcuaW5wdXQnKS5jbGFzc0xpc3QucmVtb3ZlKCdpbnB1dC0tZXJyb3InKTtcbiAgICBcbiAgICBpZiAoJGlucHV0RHJvcGRvd25JdGVtLmNsb3Nlc3QoJy5pbnB1dCcpLmNsYXNzTGlzdC5jb250YWlucygnanMtYXV0aC1jb3VudHJ5JykpIHtcbiAgICAgICRpbnB1dERyb3Bkb3duSXRlbS5jbG9zZXN0KCcuaW5wdXQnKS5kaXNwYXRjaEV2ZW50KGNoYW5nZUNvdW50cnlFdmVudCk7XG4gICAgfVxuICB9XG59KTtcblxuLy8gTWFza2luZyBwaG9uZSBpbnB1dFxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwidGVsXCJdJykpLm1hcChlbCA9PiB7XG4gIElucHV0bWFzayh7bWFzazogZWwuY2xvc2VzdCgnLmlucHV0JykucXVlcnlTZWxlY3RvcignLmlucHV0X19jb2RlJykuZGF0YXNldC5tYXNrfSkubWFzayhlbCk7XG59KTtcbiAgLy8gc2hvdyBjaGVja2JveCBoaW50XG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGVja2JveF9faGludCcpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBcbiAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KCcuY2hlY2tib3hfX2hpbnQtY29udGFpbmVyJykpIHtcbiAgICBlbC5xdWVyeVNlbGVjdG9yKCcuY2hlY2tib3hfX2hpbnQtY29udGFpbmVyJykuY2xhc3NMaXN0LnRvZ2dsZSgnY2hlY2tib3hfX2hpbnQtY29udGFpbmVyLS1zaG93bicpXG4gIH1cbn0pKTtcblxuLy8gaGlkZSBjaGVja2JveCBoaW50XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkaGludFNob3duQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoZWNrYm94X19oaW50LWNvbnRhaW5lci0tc2hvd24nKTtcblxuICBpZiAoKCFlLnRhcmdldC5jbG9zZXN0KCcuY2hlY2tib3hfX2hpbnQnKSB8fCBlLnRhcmdldC5jbG9zZXN0KCcuY2hlY2tib3hfX2hpbnQtY2xvc2UnKSkgJiYgJGhpbnRTaG93bkNvbnRhaW5lcikge1xuICAgICRoaW50U2hvd25Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tib3hfX2hpbnQtY29udGFpbmVyLS1zaG93bicpO1xuICB9XG59KTtcbiAgLy8gaGFuZGxlIGNoZWNrYm94c2VsZWN0IGxvZ2ljXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGVja2JveHNlbGVjdF9fbGlzdCcpKS5tYXAobGlzdCA9PiB7XG4gIGxpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICBcbiAgICBjb25zdCAkY2hlY2tib3hTZWxlY3QgPSBsaXN0LmNsb3Nlc3QoJy5jaGVja2JveHNlbGVjdCcpO1xuICAgIGxldCBjaGVja2VkID0gZmFsc2U7XG5cbiAgICAkY2hlY2tib3hTZWxlY3QuY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tib3hzZWxlY3QtLWVycm9yJyk7XG5cbiAgICBBcnJheS5mcm9tKGxpc3QucXVlcnlTZWxlY3RvckFsbCgnLmNoZWNrYm94X19pbnB1dCcpKS5tYXAoY2hlY2tib3ggPT4ge1xuICAgICAgY29uc3QgJHBsYWNlaG9sZGVyID0gJGNoZWNrYm94U2VsZWN0LnF1ZXJ5U2VsZWN0b3IoJy5jaGVja2JveHNlbGVjdF9faW5wdXQtcGxhY2Vob2xkZXInKTtcblxuICAgICAgaWYgKGNoZWNrYm94LmNoZWNrZWQpIGNoZWNrZWQgPSB0cnVlO1xuXG4gICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgbGV0IHZhbHVlID0gJyc7XG5cbiAgICAgICAgQXJyYXkuZnJvbShsaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0OmNoZWNrZWQnKSkubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgIHZhbHVlICs9IGl0ZW0uY2xvc2VzdCgnLmNoZWNrYm94c2VsZWN0X19pdGVtJykucXVlcnlTZWxlY3RvcignLmNoZWNrYm94X190ZXh0JykuaW5uZXJUZXh0ICsgJywgJztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgJHBsYWNlaG9sZGVyLmlubmVyVGV4dCA9IHZhbHVlLnN1YnN0cmluZygwLCB2YWx1ZS5sZW5ndGggLSAyKTtcbiAgICAgICAgICAkcGxhY2Vob2xkZXIuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3hzZWxlY3RfX2lucHV0LXBsYWNlaG9sZGVyLS1hY3RpdmUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkcGxhY2Vob2xkZXIuaW5uZXJUZXh0ID0gJHBsYWNlaG9sZGVyLmRhdGFzZXQucGxhY2Vob2xkZXI7XG4gICAgICAgICAgJHBsYWNlaG9sZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrYm94c2VsZWN0X19pbnB1dC1wbGFjZWhvbGRlci0tYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICBcbiAgICBpZiAoY2hlY2tlZCkge1xuICAgICAgJGNoZWNrYm94U2VsZWN0LmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94c2VsZWN0LS1jaGVja2VkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRjaGVja2JveFNlbGVjdC5jbGFzc0xpc3QucmVtb3ZlKCdjaGVja2JveHNlbGVjdC0tY2hlY2tlZCcpO1xuICAgIH1cbiAgfSk7XG5cbiAgbGlzdC5mYWtlU2Nyb2xsKCk7XG59KTtcbiAgLy8gc2V0IGZpbHRlciBpbnB1dCB2YWx1ZVxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsdGVyc19fZHJvcGRvd24taXRlbScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSBlLmN1cnJlbnRUYXJnZXQ7XG4gIGNvbnN0IHZhbHVlID0gJHRoaXMuaW5uZXJUZXh0O1xuXG4gICR0aGlzLmNsb3Nlc3QoJy5maWx0ZXJzX19pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXJzX19pbnB1dC1maWVsZCcpLnZhbHVlID0gdmFsdWU7XG59KSk7XG5cbmNvbnN0IGdldExvY2F0aW9uRGF0YSA9ICgpID0+IGZldGNoKCdqc29uL2xvY2F0aW9uLmpzb24nKS50aGVuKHJlcyA9PiByZXMuanNvbigpKTtcblxuY29uc3QgaW5pdFNtYXJ0U2VhcmNoID0gKCRlbGVtZW50LCBkYXRhKSA9PiB7XG4gIC8vIGhhbmRsZSBmaWx0ZXIgaW5wdXRcbiAgY29uc3QgaGFuZGxlSW5wdXQgPSBmaXJzdFJlbmRlciA9PiB7XG4gICAgY29uc3QgJGRyb3Bkb3duRWxlbWVudCA9ICRlbGVtZW50Lm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyc19fZHJvcGRvd24taW5uZXInKTtcbiAgICBjb25zdCAkZHJvcGRvd24gPSAkZHJvcGRvd25FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYWtlU2Nyb2xsX19jb250ZW50JykgfHwgJGRyb3Bkb3duRWxlbWVudDtcbiAgICBjb25zdCBpbnB1dFNtYXJ0U2VhcmNoID0gJGVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJykgPT09ICdsb2NhdGlvbic7XG4gICAgY29uc3Qgb3B0aW9ucyA9IGlucHV0U21hcnRTZWFyY2ggPyBkYXRhLm1hcChlbCA9PiBlbC5rZXkpLmNvbmNhdChkYXRhLmZsYXRNYXAoaXRlbSA9PiBpdGVtLmNpdGllcykpIDogSlNPTi5wYXJzZSgkZWxlbWVudC5kYXRhc2V0Lm9wdGlvbnMpO1xuICAgIGNvbnN0IGxvd2VyQ2FzZVZhbHVlID0gJGVsZW1lbnQudmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCAkY2hlY2tib3ggPSAkZHJvcGRvd24uY2xvc2VzdCgnLmZpbHRlcnNfX2Ryb3Bkb3duJykucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XG4gICAgbGV0IG1hdGNoZXNGb3VuZCA9IGZhbHNlO1xuXG4gICAgJGRyb3Bkb3duLmlubmVySFRNTCA9ICcnO1xuICBcbiAgICAvLyByZW5kZXIgZmlsdGVyIGRyb3Bkb3duIGl0ZW1zXG4gICAgb3B0aW9ucy5tYXAoZWwgPT4ge1xuICAgICAgaWYgKGZpcnN0UmVuZGVyIHx8IGVsLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihsb3dlckNhc2VWYWx1ZSkgPT09IDApIHtcbiAgICAgICAgY29uc3QgJGVsZW1lbnQgPSBpbnB1dFNtYXJ0U2VhcmNoID9cbiAgICAgICAgICBgPGEgY2xhc3M9XCJmaWx0ZXJzX19kcm9wZG93bi1pdGVtIGRyb3Bkb3duX19tZW51LWl0ZW0keyhsb3dlckNhc2VWYWx1ZSAmJiAhZmlyc3RSZW5kZXIpID8gJyBmaWx0ZXJzX19kcm9wZG93bi1pdGVtLS1zbWFydCcgOiAnJ31cIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCI+PHNwYW4+JHtlbC5zdWJzdHIoMCwgbG93ZXJDYXNlVmFsdWUubGVuZ3RoKX08L3NwYW4+JHtlbC5zdWJzdHIobG93ZXJDYXNlVmFsdWUubGVuZ3RoKX08L2E+YCA6XG4gICAgICAgICAgYDxhIGNsYXNzPVwiZmlsdGVyc19fZHJvcGRvd24taXRlbSBkcm9wZG93bl9fbWVudS1pdGVtXCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiPiR7ZWx9PC9hPmA7XG4gICAgICAgIG1hdGNoZXNGb3VuZCA9IHRydWU7XG4gICAgICAgICRkcm9wZG93bi5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsICRlbGVtZW50KVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gdG9nZ2xlIGZpbHRlciBkcm9wZG93biB2aXNpYmlsaXR5XG4gICAgaWYgKG1hdGNoZXNGb3VuZCkge1xuICAgICAgJGRyb3Bkb3duRWxlbWVudC5wYXJlbnROb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpbHRlcnNfX2Ryb3Bkb3duLS1oaWRkZW4nKTtcbiAgICAgICRkcm9wZG93bkVsZW1lbnQucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdmaWx0ZXJzX19kcm9wZG93bi0tZW1wdHknKTtcbiAgICB9IGVsc2UgaWYgKCEkY2hlY2tib3gpIHtcbiAgICAgICRkcm9wZG93bkVsZW1lbnQucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdmaWx0ZXJzX19kcm9wZG93bi0taGlkZGVuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRkcm9wZG93bkVsZW1lbnQucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdmaWx0ZXJzX19kcm9wZG93bi0tZW1wdHknKTtcbiAgICB9XG5cbiAgICAvLyBoYW5kbGUgaW5wdXQgdmFsdWVcbiAgICBBcnJheS5mcm9tKCRkcm9wZG93bi5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsdGVyc19fZHJvcGRvd24taXRlbScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAkZWxlbWVudC52YWx1ZSA9IGVsLmlubmVyVGV4dDtcbiAgICAgICRlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScsIGVsLmlubmVyVGV4dCk7XG5cbiAgICAgIGlmICgkY2hlY2tib3gpIHtcbiAgICAgICAgJGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgJGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdyZWFkb25seScpO1xuICAgICAgfVxuICAgIH0pKTtcblxuICAgIC8vIGZha2VTY3JvbGwgaW5pdFxuICAgIGlmIChmaXJzdFJlbmRlciAmJiAhJGRyb3Bkb3duRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zha2VTY3JvbGwnKSkge1xuICAgICAgJGRyb3Bkb3duLmZha2VTY3JvbGwoKTtcbiAgICB9XG4gIH07XG4gIC8vIGFkZCBsaXN0ZW5lcnMgb24gZmlsdGVyIGlucHV0XG4gIGlmICgkZWxlbWVudC5uYW1lICE9PSAnY29zdCcpIHtcbiAgICAkZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IGhhbmRsZUlucHV0KGZhbHNlKSk7XG4gICAgJGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiBoYW5kbGVJbnB1dCh0cnVlKSk7XG4gICAgJGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcbiAgICAgIGlmICgkZWxlbWVudC52YWx1ZSA9PT0gJycgfHwgISRlbGVtZW50LmRhdGFzZXQudmFsdWUpIHtcbiAgICAgICAgJGVsZW1lbnQudmFsdWUgPSAnJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRlbGVtZW50LnZhbHVlID0gJGVsZW1lbnQuZGF0YXNldC52YWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcblxuLy8gZmlsdGVyIG1haW4gbG9naWNcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsdGVyc19faW5wdXQtZmllbGQnKS5sZW5ndGgpIHtcbiAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsdGVyc19faW5wdXQtZmllbGQnKSkubWFwKGVsID0+IHtcbiAgICBpZiAoZWwubmFtZSA9PT0gJ2xvY2F0aW9uJykge1xuICAgICAgZ2V0TG9jYXRpb25EYXRhKCkudGhlbihkYXRhID0+IHtcbiAgICAgICAgaW5pdFNtYXJ0U2VhcmNoKGVsLCBkYXRhKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0U21hcnRTZWFyY2goZWwpO1xuICAgIH1cbiAgfSk7XG59XG5cblxuLy8gaGFuZGxlIGZpbHRlciByYW5nZSBzbGlkZXJcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlcnNfX2Nvc3QtcmFuZ2UnKSkubWFwKCRyYW5nZSA9PiB7XG4gIGNvbnN0IG1pbiA9ICskcmFuZ2UuZGF0YXNldC5taW47XG4gIGNvbnN0IG1heCA9ICskcmFuZ2UuZGF0YXNldC5tYXg7XG4gIGNvbnN0IHNtaW4gPSArJHJhbmdlLmRhdGFzZXQuc21pbjtcbiAgY29uc3Qgc21heCA9ICskcmFuZ2UuZGF0YXNldC5zbWF4O1xuXG4gIG5vVWlTbGlkZXIuY3JlYXRlKCRyYW5nZSwge1xuICAgIHN0YXJ0OiBbc21pbiwgc21heF0sXG4gICAgY29ubmVjdDogdHJ1ZSxcbiAgICByYW5nZToge1xuICAgICAgbWluLFxuICAgICAgbWF4XG4gICAgfSxcbiAgICBzdGVwOiAxMDBcbiAgfSk7XG5cbiAgJHJhbmdlLm5vVWlTbGlkZXIub24oJ3NsaWRlJywgdmFsdWVzID0+IHtcbiAgICBjb25zdCBtaW4gPSBwYXJzZUludCh2YWx1ZXNbMF0pO1xuICAgIGNvbnN0IG1heCA9IHBhcnNlSW50KHZhbHVlc1sxXSk7XG5cbiAgICAkcmFuZ2UuY2xvc2VzdCgnLmZpbHRlcnNfX2lucHV0JykucXVlcnlTZWxlY3RvcignLmZpbHRlcnNfX2lucHV0LWZpZWxkJykudmFsdWUgPSBgJHttaW59IOKCvSDigJMgJHttYXh9IOKCvWA7XG4gICAgJHJhbmdlLmNsb3Nlc3QoJy5maWx0ZXJzX19jb3N0JykucXVlcnlTZWxlY3RvcignW2RhdGEtY29zdD1cImZyb21cIl0nKS5pbm5lclRleHQgPSBtaW47XG4gICAgJHJhbmdlLmNsb3Nlc3QoJy5maWx0ZXJzX19jb3N0JykucXVlcnlTZWxlY3RvcignW2RhdGEtY29zdD1cInRvXCJdJykuaW5uZXJUZXh0ID0gbWF4O1xuICB9KTtcbn0pO1xuXG5cbi8vIGhhbmRsZSBmaWx0ZXIgY2hlY2tib3hcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlcnNfX2Ryb3Bkb3duLWNoZWNrYm94JykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgJGlucHV0RmllbGQgPSBlbC5jbG9zZXN0KCcuZmlsdGVyc19faW5wdXQnKS5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyc19faW5wdXQtZmllbGQnKTtcblxuICBpZiAoZWwucXVlcnlTZWxlY3RvcignaW5wdXQnKS5jaGVja2VkKSB7XG4gICAgY29uc3QgY2hlY2tib3hWYWx1ZSA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5jaGVja2JveF9fdGV4dCcpLmlubmVyVGV4dDtcbiAgXG4gICAgJGlucHV0RmllbGQudmFsdWUgPSBjaGVja2JveFZhbHVlO1xuICAgICRpbnB1dEZpZWxkLnNldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScsIGNoZWNrYm94VmFsdWUpO1xuICAgICRpbnB1dEZpZWxkLnNldEF0dHJpYnV0ZSgncmVhZG9ubHknLCAncmVhZG9ubHknKTtcbiAgfSBlbHNlIHtcbiAgICAkaW5wdXRGaWVsZC52YWx1ZSA9ICcnO1xuICAgICRpbnB1dEZpZWxkLnNldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScsICcnKTtcbiAgICAkaW5wdXRGaWVsZC5yZW1vdmVBdHRyaWJ1dGUoJ3JlYWRvbmx5Jyk7XG4gIH1cbn0pKTtcbiAgLy8gc2hvdyBoaWRkbmUgc3ViamVjdCBpbiB0dXRvcmNhcmRcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0YXJnZXQgPSBlLnRhcmdldDtcblxuICBpZiAoJHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLXR1dG9yY2FyZC1tb3JlJykpIHtcbiAgICAkdGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgXG4gICAgQXJyYXkuZnJvbSgkdGFyZ2V0LmNsb3Nlc3QoJy50dXRvcmNhcmRfX3N1YmplY3RzJykucXVlcnlTZWxlY3RvckFsbCgnLnR1dG9yY2FyZF9fc3ViamVjdHMtaXRlbS0taGlkZGVuJykpLm1hcChlbCA9PiB7XG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCd0dXRvcmNhcmRfX3N1YmplY3RzLWl0ZW0tLWhpZGRlbicpO1xuICAgIH0pO1xuICB9XG59KTtcbiAgLy8gYWNjb3JkaW9uIGxvZ2ljXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb25fX2l0ZW0tdGl0bGUnKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCAkYWN0aXZlSXRlbSA9IGVsLmNsb3Nlc3QoJy5hY2NvcmRpb24nKS5xdWVyeVNlbGVjdG9yKCcuYWNjb3JkaW9uX19pdGVtLS1hY3RpdmUnKTtcbiAgY29uc3QgJGN1cnJlbnRJdGVtID0gZWwuY2xvc2VzdCgnLmFjY29yZGlvbl9faXRlbScpO1xuXG4gIGlmICgkY3VycmVudEl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NvcmRpb25fX2l0ZW0tLWFjdGl2ZScpKSB7XG4gICAgJGN1cnJlbnRJdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjY29yZGlvbl9faXRlbS0tYWN0aXZlJyk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCRhY3RpdmVJdGVtKSB7XG4gICAgICAkYWN0aXZlSXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY2NvcmRpb25fX2l0ZW0tLWFjdGl2ZScpO1xuICAgIH1cbiAgXG4gICAgJGN1cnJlbnRJdGVtLmNsYXNzTGlzdC5hZGQoJ2FjY29yZGlvbl9faXRlbS0tYWN0aXZlJyk7XG4gIH1cbn0pKTtcbiAgY29uc3QgJHRvZ2dsZUNoZWNrYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGVyc29uYWxfX2FwcGxpY2F0aW9ucy1jaGVja2JveCcpO1xuXG4vLyB0b2dnbGUgYXBwbGljYXRpb24gZm9ybSBtZXNzYWdlXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYXBwbGljYXRpb25fX3dyaXRlJykuZm9yRWFjaChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3Qgc2hvd1RleHQgPSBlbC5kYXRhc2V0LnNob3c7XG4gIGNvbnN0IGhpZGVUZXh0ID0gZWwuZGF0YXNldC5oaWRlO1xuICBjb25zdCBjdXJyZW50VGV4dCA9IGVsLmlubmVySFRNTDtcblxuICBlbC5jbG9zZXN0KCcuYXBwbGljYXRpb24nKS5xdWVyeVNlbGVjdG9yKCcuYXBwbGljYXRpb25fX2Zvcm0nKS5zdHlsZS5kaXNwbGF5ID0gY3VycmVudFRleHQgPT09IHNob3dUZXh0ID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgZWwuaW5uZXJUZXh0ID0gY3VycmVudFRleHQgPT09IHNob3dUZXh0ID8gaGlkZVRleHQgOiBzaG93VGV4dDtcbn0pKTtcblxuLy8gdG9nZ2xlIGFwcGxpY2F0aW9ucyBjaGVja2JveGVzXG4kdG9nZ2xlQ2hlY2tib3hlcy5mb3JFYWNoKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCBjaGVja2VkID0gZWwucXVlcnlTZWxlY3RvcignaW5wdXQnKS5jaGVja2VkO1xuICBcbiAgZWwuY2xvc2VzdCgnLnBlcnNvbmFsX19jYXJkJykucXVlcnlTZWxlY3RvckFsbCgnLmFwcGxpY2F0aW9uX19jaGVja2JveCBpbnB1dCcpLmZvckVhY2goZWwgPT4gZWwuY2hlY2tlZCA9IGNoZWNrZWQpO1xuXG4gIGVsLmNsb3Nlc3QoJy5wZXJzb25hbF9fY2FyZCcpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wZXJzb25hbF9fYXBwbGljYXRpb25zLWNoZWNrYm94JykuZm9yRWFjaChpdGVtID0+IHtcbiAgICBpZiAoaXRlbSAhPT0gZWwpIHtcbiAgICAgIGl0ZW0ucXVlcnlTZWxlY3RvcignaW5wdXQnKS5jaGVja2VkID0gY2hlY2tlZDtcbiAgICB9XG4gIH0pO1xufSkpO1xuXG4vLyB0b2dnbGUgbWFpbiBjaGVja2JveFxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFwcGxpY2F0aW9uX19jaGVja2JveCBpbnB1dCcpLmZvckVhY2goZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICBsZXQgaXNDaGVja2VkID0gdHJ1ZTtcblxuICBlbC5jbG9zZXN0KCcucGVyc29uYWxfX2NhcmQnKS5xdWVyeVNlbGVjdG9yQWxsKCcuYXBwbGljYXRpb25fX2NoZWNrYm94IGlucHV0JykuZm9yRWFjaChlbCA9PiB7XG4gICAgaWYgKCFlbC5jaGVja2VkKSB7XG4gICAgICBpc0NoZWNrZWQgPSBmYWxzZTtcbiAgICB9XG4gIH0pO1xuXG4gICR0b2dnbGVDaGVja2JveGVzLmZvckVhY2goZWwgPT4gZWwucXVlcnlTZWxlY3RvcignaW5wdXQnKS5jaGVja2VkID0gaXNDaGVja2VkKTtcbn0pKTtcblxuLy8gdG9nZ2xlIGFwcGxpY2F0aW9uIHJlYXNvblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFwcGxpY2F0aW9uX19kZWNsaW5lZC1saW5rJykuZm9yRWFjaChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZWwubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC50b2dnbGUoJ2FwcGxpY2F0aW9uX19kZWNsaW5lZC1yZWFzb24tLWFjdGl2ZScpO1xufSkpO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkYWN0aXZlUmVhc29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFwcGxpY2F0aW9uX19kZWNsaW5lZC1yZWFzb24tLWFjdGl2ZScpO1xuXG4gIGlmICgkYWN0aXZlUmVhc29uICYmICFlLnRhcmdldC5jbG9zZXN0KCcuYXBwbGljYXRpb25fX2RlY2xpbmVkJykpIHtcbiAgICAkYWN0aXZlUmVhc29uLmNsYXNzTGlzdC5yZW1vdmUoJ2FwcGxpY2F0aW9uX19kZWNsaW5lZC1yZWFzb24tLWFjdGl2ZScpO1xuICB9XG59KTtcbiAgLy8gbWFza2luZyBiYWxhY25lIGlucHV0XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYmFsYW5jZV9faW5wdXQnKS5mb3JFYWNoKGVsID0+IHtcbiAgSW5wdXRtYXNrKHthbGlhczogJ2RlY2ltYWwnLCByYWRpeFBvaW50OiAnICcsIHN1ZmZpeDogJyDigr0nfSkubWFzayhlbCk7XG59KTtcblxuLy8gYWxsIGJhbGFuY2UgZm9ybXNcbmNvbnN0ICRiYWxhbmNlRm9ybXMgPSBbe1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLWJhbGFuY2UtcmVwbGVuc2loXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICRlbGVtZW50LnN1Ym1pdCgpO1xuICAgIH0sIDEwMDApO1xuICB9LFxufSwge1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLWJhbGFuY2Utd2l0aGRyYXddJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgJGVsZW1lbnQuc3VibWl0KCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn1dO1xuXG4vLyBhcHBseSB2YWxpZGF0aW9uIG9uIGJhbGFuY2UgZm9ybXNcbiRiYWxhbmNlRm9ybXMubWFwKGZvcm0gPT4ge1xuICBjb25zdCB7ICRlbGVtZW50LCBjYWxsYmFjayB9ID0gZm9ybTtcblxuICBpZiAoJGVsZW1lbnQpIHtcbiAgICAkYXBpLnZhbGlkYXRlKCRlbGVtZW50LCAoKSA9PiBjYWxsYmFjaygkZWxlbWVudCkpO1xuICB9XG59KTtcbiAgXG4gIGNvbnN0ICRiYW5uZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFubmVyJyk7XG5cbi8vIGJhbm5lciBoYW5kbGluZ1xuaWYgKCFKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsZXRtZXR1dG9yOmJhbm5lcklzSGlkZGVuJykpKSB7XG4gICRiYW5uZXIuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhbm5lcl9fY2xvc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAkYmFubmVyLmNsYXNzTGlzdC5hZGQoJ2Jhbm5lci0taGlkZScpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGJhbm5lci5yZW1vdmUoKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsZXRtZXR1dG9yOmJhbm5lcklzSGlkZGVuJywgdHJ1ZSk7XG4gICAgfSwgNTAwKVxuICB9KTtcbn0gZWxzZSB7XG4gICRiYW5uZXIucmVtb3ZlKCk7XG59XG4gIGNvbnN0ICRjb29raWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvb2tpZXMnKTtcblxuLy8gY29va2llcyBoYW5kbGluZ1xuaWYgKCFKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsZXRtZXR1dG9yOmNvb2tpZXNJc0hpZGRlbicpKSkge1xuICAkY29va2llcy5jbGFzc0xpc3QuYWRkKCdjb29raWVzLS1zaG93bicpO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb29raWVzX19idG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAkY29va2llcy5jbGFzc0xpc3QucmVtb3ZlKCdjb29raWVzLS1zaG93bicpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGNvb2tpZXMucmVtb3ZlKCk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGV0bWV0dXRvcjpjb29raWVzSXNIaWRkZW4nLCB0cnVlKTtcbiAgICB9LCA1MDApXG4gIH0pO1xufSBlbHNlIHtcbiAgJGNvb2tpZXMucmVtb3ZlKCk7XG59XG4gIGxldCBvZmZzZXQgPSAwO1xuY29uc3QgaGlkZU92ZXJmbG93ID0gKCkgPT4ge1xuICBvZmZzZXQgPSAtcGFyc2VJbnQoZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW5Ub3ApO1xuICBkb2N1bWVudC5ib2R5LnN0eWxlLmNzc1RleHQgPSBgcG9zaXRpb246IGZpeGVkOyBtYXJnaW4tdG9wOiAkey13aW5kb3cuc2Nyb2xsWX1weGA7XG59O1xuY29uc3Qgc2hvd092ZXJmbG93ID0gb2Zmc2V0ID0+IHtcbiAgZG9jdW1lbnQuYm9keS5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOiBzdGF0aWM7IG1hcmdpbi10b3A6IDAnO1xuICB3aW5kb3cuc2Nyb2xsVG8oMCwgb2Zmc2V0KTtcbn07XG5jb25zdCBoaWRlSGVhZGVyTWVudSA9ICgpID0+IHtcbiAgc2hvd092ZXJmbG93KCk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbWVudScpLmNsYXNzTGlzdC5yZW1vdmUoJ2hlYWRlci1tZW51LS1zaG93bicpO1xufTtcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYnVyZ2VyJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGhpZGVPdmVyZmxvdygpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW1lbnUnKS5jbGFzc0xpc3QuYWRkKCdoZWFkZXItbWVudS0tc2hvd24nKTtcbn0pO1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW1lbnVfX2JhY2tkcm9wJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWRlSGVhZGVyTWVudSk7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW1lbnVfX2Nsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWRlSGVhZGVyTWVudSk7XG5cbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhlYWRlcl9fbm90aWZpY2F0aW9ucy13cmFwcGVyJykpLm1hcChlbCA9PiB7XG4gIGlmICghZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdmYWtlU2Nyb2xsJykpIHtcbiAgICBlbC5mYWtlU2Nyb2xsKCk7XG4gIH1cbn0pO1xuICBjb25zdCBwb3B1bGFyU2xpZGVyID0gbmV3IFN3aXBlcignLnBvcHVsYXJfX2dyaWQtLW1vYmlsZScsIHtcbiAgbG9vcDogdHJ1ZSxcbiAgbG9vcEFkZGl0aW9uYWxTbGlkZXM6IDMsXG4gIHNwYWNlQmV0d2VlbjogMjAsXG4gIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcbiAgY2VudGVyZWRTbGlkZXM6IHRydWUsXG4gIGJyZWFrcG9pbnRzOiB7XG4gICAgNzYwOiB7XG4gICAgICBzbGlkZXNQZXJWaWV3OiAyLFxuICAgICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlXG4gICAgfVxuICB9XG59KTtcbiAgY29uc3QgcmV2aWV3c1NsaWRlciA9IG5ldyBTd2lwZXIoJy5yZXZpZXdzX19zbGlkZXInLCB7XG4gIGxvb3A6IHRydWUsXG4gIHNwYWNlQmV0d2VlbjogMjAsXG4gIHNsaWRlc1BlclZpZXc6IDMsXG4gIHNsaWRlc1Blckdyb3VwOiAzLFxuICBsb29wQWRkaXRpb25hbFNsaWRlczogMyxcbiAgcGFnaW5hdGlvbjoge1xuICAgIGVsOiAnLnN3aXBlci1wYWdpbmF0aW9uJyxcbiAgICBjbGlja2FibGU6IHRydWVcbiAgfVxufSk7XG5cbmNvbnN0IHJldmlld1NsaWRlck1vYmlsZSA9IG5ldyBTd2lwZXIoJy5yZXZpZXdzX19zbGlkZXItLW1vYmlsZScsIHtcbiAgbG9vcDogdHJ1ZSxcbiAgc3BhY2VCZXR3ZWVuOiAyMCxcbiAgbG9vcEFkZGl0aW9uYWxTbGlkZXM6IDMsXG4gIHBhZ2luYXRpb246IHtcbiAgICBlbDogJy5zd2lwZXItcGFnaW5hdGlvbicsXG4gICAgY2xpY2thYmxlOiB0cnVlXG4gIH1cbn0pO1xuICAvLyBhbGwgYXV0aCBmb3Jtc1xuY29uc3QgJGF1dGhGb3JtcyA9IFt7XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtbG9naW4tZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAkZWxlbWVudC5zdWJtaXQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1zaWdudXAtc3R1ZGVudC1mb3JtXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICRlbGVtZW50LnN1Ym1pdCgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXNpZ251cC10dXRvci1mb3JtXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICRlbGVtZW50LnN1Ym1pdCgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXN1cHBvcnQtZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAkZWxlbWVudC5zdWJtaXQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1zaWdudXAtc3R1ZGVudC1mb3JtXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICRlbGVtZW50LnN1Ym1pdCgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXNpZ251cC10dXRvci1mb3JtXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICRlbGVtZW50LnN1Ym1pdCgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLWNvbW1lcmNpYWwtZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAkZWxlbWVudC5zdWJtaXQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufV07XG5cbi8vIGFwcGx5IHZhbGlkYXRpb24gb24gYXV0aCBmb3Jtc1xuJGF1dGhGb3Jtcy5tYXAoZm9ybSA9PiB7XG4gIGNvbnN0IHsgJGVsZW1lbnQsIGNhbGxiYWNrIH0gPSBmb3JtO1xuXG4gIGlmICgkZWxlbWVudCkge1xuICAgICRhcGkudmFsaWRhdGUoJGVsZW1lbnQsICgpID0+IGNhbGxiYWNrKCRlbGVtZW50KSk7XG4gIH1cbn0pO1xuXG4vLyBzZXQgY291bnRyeSB2YWx1ZSB0byBjaXRpZXMgaW5wdXRcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWF1dGgtY291bnRyeScpKS5tYXAoZWwgPT4ge1xuICBlbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2VDb3VudHJ5JywgZSA9PiB7XG4gICAgZWwuY2xvc2VzdCgnZm9ybScpLnF1ZXJ5U2VsZWN0b3IoJy5qcy1hdXRoLWNpdHknKS5kYXRhc2V0LmNvdW50cnkgPSBlLnRhcmdldC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLnZhbHVlO1xuICB9KTtcbiAgZWwuZGlzcGF0Y2hFdmVudChjaGFuZ2VDb3VudHJ5RXZlbnQpO1xufSk7XG5cbi8vIGhhbmRsaW5nIGNpdGllcyBpbnB1dFxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1hdXRoLWNpdHkgaW5wdXQnKS5sZW5ndGgpIHtcbiAgZmV0Y2goJy9qc29uL2xvY2F0aW9uLmpzb24nKVxuICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgLnRoZW4oZGF0YSA9PiB7XG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtYXV0aC1jaXR5IGlucHV0JykpLm1hcChlbCA9PiB7XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGUgPT4ge1xuICAgICAgICBjb25zdCAkdGhpcyA9IGUuY3VycmVudFRhcmdldDtcbiAgICAgICAgY29uc3QgJGxhYmVsRWxlbWVudCA9ICR0aGlzLmNsb3Nlc3QoJy5pbnB1dCcpO1xuICAgICAgICBjb25zdCBjb3VudHJ5ID0gJGxhYmVsRWxlbWVudC5kYXRhc2V0LmNvdW50cnk7XG5cbiAgICAgICAgaWYgKGNvdW50cnkpIHtcbiAgICAgICAgICBjb25zdCBjaXRpZXMgPSBkYXRhLmZpbHRlcihlbCA9PiBlbC5rZXkgPT09IGNvdW50cnkpWzBdLmNpdGllcztcbiAgICAgICAgICBjb25zdCBsb3dlckNhc2VWYWx1ZSA9ICR0aGlzLnZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgY29uc3QgJGRyb3Bkb3duRWxlbWVudCA9ICR0aGlzLmNsb3Nlc3QoJy5pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bl9fbWVudScpO1xuICAgICAgICAgIGNvbnN0ICRkcm9wZG93bkNvbnRlbnQgPSAkZHJvcGRvd25FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYWtlU2Nyb2xsX19jb250ZW50Jyk7XG4gICAgICAgICAgbGV0IG1hdGNoZXNGb3VuZCA9IGZhbHNlO1xuXG4gICAgICAgICAgaWYgKCRkcm9wZG93bkNvbnRlbnQpIHtcbiAgICAgICAgICAgICRkcm9wZG93bkNvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCR0aGlzLnZhbHVlICE9PSAnJykge1xuICAgICAgICAgICAgY2l0aWVzLm1hcChlbCA9PiB7XG4gICAgICAgICAgICAgIGlmIChlbC50b0xvd2VyQ2FzZSgpLmluZGV4T2YobG93ZXJDYXNlVmFsdWUpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkZHJvcGRvd25Db250ZW50Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYDxhIGNsYXNzPVwiaW5wdXRfX2Ryb3Bkb3duLWl0ZW0gZHJvcGRvd25fX21lbnUtaXRlbSR7bG93ZXJDYXNlVmFsdWUgPyAnIGlucHV0X19kcm9wZG93bi1pdGVtLS1zbWFydCcgOiAnJ31cIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCI+PHNwYW4+JHtlbC5zdWJzdHIoMCwgbG93ZXJDYXNlVmFsdWUubGVuZ3RoKX08L3NwYW4+JHtlbC5zdWJzdHIobG93ZXJDYXNlVmFsdWUubGVuZ3RoKX08L2E+YClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChtYXRjaGVzRm91bmQpIHtcbiAgICAgICAgICAgICAgQXJyYXkuZnJvbSgkbGFiZWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dF9fZHJvcGRvd24taXRlbScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgJHRoaXMudmFsdWUgPSBlbC5pbm5lclRleHQ7XG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoISRkcm9wZG93bkVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmYWtlU2Nyb2xsJykpIHtcbiAgICAgICAgICAgICRkcm9wZG93bkVsZW1lbnQuZmFrZVNjcm9sbCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xuICAgICAgICBjb25zdCAkZHJvcGRvd25FbGVtZW50ID0gZWwuY2xvc2VzdCgnLmlucHV0JykucXVlcnlTZWxlY3RvcignLmZha2VTY3JvbGxfX2NvbnRlbnQnKTtcblxuICAgICAgICBpZiAoJGRyb3Bkb3duRWxlbWVudCkge1xuICAgICAgICAgICRkcm9wZG93bkVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn1cblxuLy8gaGFuZGxpbmcgcmVxdWlyZWQgYWdyZWVtZW50IGNoZWNrYm94XG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W25hbWU9XCJydWxlc0FncmVlbWVudFwiXScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICBjb25zdCAkc3VibWl0QnV0dG9uID0gZWwuY2xvc2VzdCgnZm9ybScpLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJyk7XG5cbiAgaWYgKGVsLmNoZWNrZWQpIHtcbiAgICAkc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tZGlzYWJsZWQnKTtcbiAgICAkc3VibWl0QnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgfSBlbHNlIHtcbiAgICAkc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbi0tZGlzYWJsZWQnKTtcbiAgICAkc3VibWl0QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgfVxufSkpO1xuXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hdXRoX190b2dnbGUgLnRhYnNfX2l0ZW0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXV0aF9fdHlwZScpLnZhbHVlID0gZWwuZGF0YXNldC50YWIgLSAxO1xufSkpO1xuICBjb25zdCAkY2F0YWxvZ01vcmVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtY2F0YWxvZy1tb3JlJyk7XG5cbmlmICgkY2F0YWxvZ01vcmVCdG4pIHtcbiAgY29uc3QgJHByZXZBcnJvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uX19hcnJvdy0tcHJldicpO1xuICBjb25zdCAkbmV4dEFycm93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2luYXRpb25fX2Fycm93LS1uZXh0Jyk7XG4gIGNvbnN0ICRzZXBhcmF0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnaW5hdGlvbl9fc2VwYXJhdG9yJyk7XG5cbiAgLy8gY2F0YWxvZyBwYWdlcyBzdGF0ZVxuICBjb25zdCBjYXRhbG9nUGFnZXMgPSB7XG4gICAgY3VycmVudDogWzFdLFxuICAgIHRvdGFsOiBwYXJzZUludChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZ19faXRlbXMnKS5kYXRhc2V0LnRvdGFsKVxuICB9O1xuXG4gIC8vIHNldCBwYWdpbmF0aW9uIGN1cnJlbnQgcGFnZVxuICAvLyBjb25zdCBzZXRDdXJyZW50UGFnZSA9IGN1cnJlbnRQYWdlID0+IHtcbiAgLy8gICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG4gIC8vICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGFnaW5hdGlvbl9fcGFnZS0tY3VycmVudCcpKS5tYXAoZWwgPT4gZWwuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fcGFnZS0tY3VycmVudCcpKTtcbiAgLy8gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucGFnaW5hdGlvbl9fcGFnZVtkYXRhLXBhZ2U9XCIke2N1cnJlbnRQYWdlfVwiXWApLmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX3BhZ2UtLWN1cnJlbnQnKTtcbiAgLy8gfTtcblxuICAvLyBzZXQgcGFnaW5hdGlvbiBicmVha1xuICAvLyBjb25zdCBzZXRCcmVhayA9IGxhdGVzdFBhZ2UgPT4ge1xuICAvLyAgIGNvbnN0ICRiZWZvcmVTZXBhcmF0b3JJdGVtID0gJHNlcGFyYXRvci5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAvLyAgIGNvbnN0ICRmaXJzdEl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnaW5hdGlvbl9fcGFnZScpO1xuXG4gIC8vICAgaWYgKCskYmVmb3JlU2VwYXJhdG9ySXRlbS5kYXRhc2V0LnBhZ2UgPT09IGxhdGVzdFBhZ2UpIHtcbiAgLy8gICAgIGlmIChsYXRlc3RQYWdlID09PSBjYXRhbG9nUGFnZXMudG90YWwgLSAyKSB7XG4gIC8vICAgICAgICRmaXJzdEl0ZW0ucmVtb3ZlKCk7XG4gIC8vICAgICAgICRzZXBhcmF0b3IuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fc2VwYXJhdG9yLS1oaWRkZW4nKTtcbiAgLy8gICAgICAgJHNlcGFyYXRvci5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWJlZ2luJywgYDxhIGNsYXNzPVwicGFnaW5hdGlvbl9fcGFnZVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiBkYXRhLXBhZ2U9XCIke2xhdGVzdFBhZ2UgKyAxfVwiPiR7bGF0ZXN0UGFnZSArIDF9PC9hPmApO1xuICAvLyAgICAgfSBlbHNlIGlmIChsYXRlc3RQYWdlIDwgY2F0YWxvZ1BhZ2VzLnRvdGFsIC0gMikge1xuICAvLyAgICAgICAkZmlyc3RJdGVtLnJlbW92ZSgpO1xuICAvLyAgICAgICAkc2VwYXJhdG9yLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlYmVnaW4nLCBgPGEgY2xhc3M9XCJwYWdpbmF0aW9uX19wYWdlXCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIGRhdGEtcGFnZT1cIiR7bGF0ZXN0UGFnZSArIDF9XCI+JHtsYXRlc3RQYWdlICsgMX08L2E+YCk7XG4gIC8vICAgICAgICRzZXBhcmF0b3IuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fc2VwYXJhdG9yLS1oaWRkZW4nKTtcbiAgLy8gICAgIH1cbiAgLy8gICB9IGVsc2UgaWYgKCskZmlyc3RJdGVtLmRhdGFzZXQucGFnZSA9PT0gbGF0ZXN0UGFnZSAmJiBsYXRlc3RQYWdlICE9PSAxKSB7XG4gIC8vICAgICAkYmVmb3JlU2VwYXJhdG9ySXRlbS5yZW1vdmUoKTtcbiAgLy8gICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uX19wYWdlcycpLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGA8YSBjbGFzcz1cInBhZ2luYXRpb25fX3BhZ2VcIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgZGF0YS1wYWdlPVwiJHtsYXRlc3RQYWdlIC0gMX1cIj4ke2xhdGVzdFBhZ2UgLSAxfTwvYT5gKTtcbiAgLy8gICAgICRzZXBhcmF0b3IuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fc2VwYXJhdG9yLS1oaWRkZW4nKTtcbiAgLy8gICB9IGVsc2UgaWYgKGxhdGVzdFBhZ2UgPT09IGNhdGFsb2dQYWdlcy50b3RhbCAmJiAhJHNlcGFyYXRvci5jbGFzc0xpc3QuY29udGFpbnMoJ3BhZ2luYXRpb25fX3NlcGFyYXRvci0tJykpIHtcbiAgLy8gICAgIGNvbnN0ICRwYWdpbmF0aW9uUGFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGFnaW5hdGlvbl9fcGFnZScpO1xuXG4gIC8vICAgICAkc2VwYXJhdG9yLmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX3NlcGFyYXRvci0taGlkZGVuJyk7XG4gIC8vICAgICBBcnJheS5mcm9tKCRwYWdpbmF0aW9uUGFnZXMpLnJldmVyc2UoKS5tYXAoKGVsLCBpKSA9PiB7XG4gIC8vICAgICAgIGVsLmlubmVyVGV4dCA9IGxhdGVzdFBhZ2UgLSBpO1xuICAvLyAgICAgICBlbC5kYXRhc2V0LnBhZ2UgPSBsYXRlc3RQYWdlIC0gaTtcbiAgLy8gICAgIH0pO1xuICAvLyAgIH1cbiAgLy8gfTtcblxuICAvLyBmb3JtaW5nIHF1ZXJ5IHVybCB3aXRoIGZpbHRlcnMgdmFsdWVzIGZyb20gdXJsIHBhcmFtZXJ0cmVzXG4gIGNvbnN0IGZvcm1hdFVSTCA9IHVybCA9PiB7XG4gICAgbGV0IGZvcm1hdHRlZFVSTCA9IHVybDtcbiAgICBjb25zdCBmaWx0ZXJzTmFtZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19pbnB1dC1maWVsZCcpKS5tYXAoZWwgPT4gZWwubmFtZSk7XG4gICAgXG4gICAgbmV3IFVSTChsb2NhdGlvbi5ocmVmKS5zZWFyY2hQYXJhbXMudG9TdHJpbmcoKS5zcGxpdChcIiZcIikubWFwKGVsID0+IHtcbiAgICAgIGNvbnN0IFsga2V5IF0gPSBlbC5zcGxpdCgnPScpO1xuICAgICAgaWYgKGZpbHRlcnNOYW1lcy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgIGZvcm1hdHRlZFVSTCArPSAnJicgKyBlbDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZvcm1hdHRlZFVSTCArPSBgJmxpbWl0PSR7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLWNhdGFsb2ctbGltaXQgLmRyb3Bkb3duX192YWx1ZScpLmlubmVyVGV4dH1gO1xuICAgIGZvcm1hdHRlZFVSTCArPSBgJmZpbHRlcj0ke2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1jYXRhbG9nLWZpbHRlciAuZHJvcGRvd25fX3ZhbHVlJykuaW5uZXJUZXh0fWA7XG5cbiAgICByZXR1cm4gZm9ybWF0dGVkVVJMO1xuICB9O1xuXG4gIC8vIGdlbmVyYXRlIGNhdGFsb2cgaXRlbSBlbGVtZW50XG4gIGNvbnN0IGNhdGFsb2dJdGVtRWxlbWVudCA9ICh7IHRvcCwgaW1hZ2UsIHZlcmlmaWVkLCBuYW1lLCBjb3VudHJ5LCBzdWJqZWN0cywgbG9jYXRpb24sIGRlc2NyaXB0aW9uLCBsaW5rLCByYXRpbmcsIHJldmlld3MsIHByaWNlIH0pID0+IGBcbiAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkJHt0b3AgPyAnIHR1dG9yY2FyZC0tdG9wJyA6ICcnfVwiPlxuICAgICAgPGRpdiBjbGFzcz1cInR1dG9yY2FyZF9faW1hZ2VcIiBzdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6IHVybCgnJHtpbWFnZX0nKVwiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInR1dG9yY2FyZF9faW5mb1wiPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19uYW1lJHt2ZXJpZmllZCA/ICcgdHV0b3JjYXJkX19uYW1lLS12ZXJpZmllZCcgOiAnJ31cIj48YSBocmVmPVwiJHtsaW5rfVwiPiR7bmFtZX08L2E+PC9wPlxuICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19sb2NhdGlvblwiIGRhdGEtbG9jPSR7Y291bnRyeX0+JHtsb2NhdGlvbn08L3A+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInR1dG9yY2FyZF9fc3ViamVjdHNcIj5cbiAgICAgICAgICAgICR7c3ViamVjdHMubWFwKGVsID0+IGBcbiAgICAgICAgICAgICAgPGEgY2xhc3M9XCJ0dXRvcmNhcmRfX3N1YmplY3RzLWl0ZW0ke2VsLnNlYXJjaCA/ICcgdHV0b3JjYXJkX19zdWJqZWN0cy1pdGVtLS1zZWFyY2gnIDogJyd9JHtlbC5oaWRkZW4gPyAnIHR1dG9yY2FyZF9fc3ViamVjdHMtaXRlbS0taGlkZGVuJyA6ICcnfVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIj4ke2VsLm5hbWV9IDxzcGFuPijQvtC/0YvRgiA8Yj4ke2VsLmV4cGVyaWVuY2V9PC9iPik8L3NwYW4+PC9hPlxuICAgICAgICAgICAgYCkuam9pbignJyl9XG4gICAgICAgICAgICAke3N1YmplY3RzLmxlbmd0aCA+IDIgPyAnPGEgY2xhc3M9XCJ0dXRvcmNhcmRfX3N1YmplY3RzLW1vcmUganMtdHV0b3JjYXJkLW1vcmVcIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCI+KycrWyfQv9GA0LXQtNC80LXRgicsICfQv9GA0LXQtNC80LXRgtCwJywgJ9C/0YDQtdC00LzQtdGC0L7QsiddLmRlY2xpbmUoc3ViamVjdHMubGVuZ3RoIC0gMiwgdHJ1ZSkrJzwvYT4nIDogJyd9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0dXRvcmNhcmRfX2Rlc2NcIj4ke2Rlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgPC9kaXY+PGEgY2xhc3M9XCJ0dXRvcmNhcmRfX21vcmVcIiBocmVmPSR7bGlua30+0J/QvtC00YDQvtCx0L3QtdC1PC9hPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkX19hY3Rpb25zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0dXRvcmNhcmRfX2FjdGlvbnMtaW5mb1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0dXRvcmNhcmRfX3JhdGluZyR7cGFyc2VJbnQocmV2aWV3cykgPT09IDAgPyAnIHR1dG9yY2FyZF9fcmF0aW5nLS1lbXB0eScgOiAnJ31cIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19yYXRpbmctcmF0ZVwiPiR7cmF0aW5nfTwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19yYXRpbmctcmV2aWV3c1wiPigke3Jldmlld3N9KTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkX19jb3N0XCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInR1dG9yY2FyZF9fY29zdC12YWx1ZVwiPiR7cHJpY2V9IOKCvTwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19jb3N0LWRlc2NcIj7QsiDRh9Cw0YE8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGpzLW9wZW4tcG9wdXAke3RvcCA/ICcgYnV0dG9uLS1wcmltYXJ5JyA6ICcgYnV0dG9uLS1zZWNvbmRhcnknfSB0dXRvcmNhcmRfX2J0blwiIGRhdGEtcG9wdXA9XCIke2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX3Byb2ZpbGUnKSAhPT0gbnVsbCA/ICdyZXF1ZXN0JyA6ICdyZXF1ZXN0LWF1dGgnfVwiPtCe0YHRgtCw0LLQuNGC0Ywg0LfQsNGP0LLQutGDPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYDtcblxuICAvLyBsb2FkIG1vcmUgY2F0YWxvZyBpdGVtc1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGNvbnN0ICRjYXRhbG9nTW9yZUJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5qcy1jYXRhbG9nLW1vcmUnKTtcblxuICAgIGlmICgkY2F0YWxvZ01vcmVCdG4pIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgXG4gICAgICAkY2F0YWxvZ01vcmVCdG4uY2xhc3NMaXN0LmFkZCgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gIFxuICAgICAgY29uc3QgbGF0ZXN0UGFnZSA9IGNhdGFsb2dQYWdlcy5jdXJyZW50W2NhdGFsb2dQYWdlcy5jdXJyZW50Lmxlbmd0aCAtIDFdICsgMTtcbiAgICAgIGNvbnN0IHF1ZXJ5VXJsID0gZm9ybWF0VVJMKGAvanNvbi9jYXRhbG9nLmpzb24/cGFnZT0ke2xhdGVzdFBhZ2V9YCk7XG4gIFxuICAgICAgLy8gc2V0IGN1cnJlbnQgcGFnZXNcbiAgICAgIGNhdGFsb2dQYWdlcy5jdXJyZW50LnB1c2gobGF0ZXN0UGFnZSk7XG4gIFxuICAgICAgZmV0Y2gocXVlcnlVcmwpLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIGRhdGEuZGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGFsb2dfX2l0ZW1zJykuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBjYXRhbG9nSXRlbUVsZW1lbnQoaXRlbSkpO1xuICAgICAgICB9KTtcbiAgXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nX19ib3R0b20nKS5pbm5lckhUTUwgPSBkYXRhLnBhZ2luYXRvcjtcbiAgXG4gICAgICAgIGlmIChsYXRlc3RQYWdlID09PSBjYXRhbG9nUGFnZXMudG90YWwpIHtcbiAgICAgICAgICAkY2F0YWxvZ01vcmVCdG4uY2xhc3NMaXN0LmFkZCgnY2F0YWxvZ19fYm90dG9tLWJ0bi0taGlkZGVuJyk7XG4gICAgICAgICAgJG5leHRBcnJvdy5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgJGNhdGFsb2dNb3JlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgLy8gJGNhdGFsb2dNb3JlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIC8vICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIC8vICAgJGNhdGFsb2dNb3JlQnRuLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbi0tbG9hZGluZycpO1xuXG4gIC8vICAgY29uc3QgbGF0ZXN0UGFnZSA9IGNhdGFsb2dQYWdlcy5jdXJyZW50W2NhdGFsb2dQYWdlcy5jdXJyZW50Lmxlbmd0aCAtIDFdICsgMTtcbiAgLy8gICBjb25zdCBxdWVyeVVybCA9IGZvcm1hdFVSTChgL2pzb24vY2F0YWxvZy5qc29uP3BhZ2U9JHtsYXRlc3RQYWdlfWApO1xuXG4gIC8vICAgLy8gc2V0IGN1cnJlbnQgcGFnZXNcbiAgLy8gICBjYXRhbG9nUGFnZXMuY3VycmVudC5wdXNoKGxhdGVzdFBhZ2UpO1xuXG4gIC8vICAgLy8gc2V0IGN1cnJlbnQgcGFnaW50YWlvbiBwYWdlc1xuICAvLyAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBhZ2luYXRpb25fX3BhZ2UnKSkubWFwKGVsID0+IHtcbiAgLy8gICAgIGlmIChjYXRhbG9nUGFnZXMuY3VycmVudC5pbmNsdWRlcyhwYXJzZUludChlbC5pbm5lclRleHQpKSkge1xuICAvLyAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19wYWdlLS1jdXJyZW50Jyk7XG4gIC8vICAgICB9XG4gIC8vICAgfSk7XG5cbiAgLy8gICBmZXRjaChxdWVyeVVybCkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihkYXRhID0+IHtcbiAgLy8gICAgIGRhdGEubWFwKGl0ZW0gPT4ge1xuICAvLyAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZ19faXRlbXMnKS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGNhdGFsb2dJdGVtRWxlbWVudChpdGVtKSk7XG4gIC8vICAgICB9KTtcblxuICAvLyAgICAgaWYgKGxhdGVzdFBhZ2UgPT09IGNhdGFsb2dQYWdlcy50b3RhbCkge1xuICAvLyAgICAgICAkY2F0YWxvZ01vcmVCdG4uY2xhc3NMaXN0LmFkZCgnY2F0YWxvZ19fYm90dG9tLWJ0bi0taGlkZGVuJyk7XG4gIC8vICAgICAgICRuZXh0QXJyb3cuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gIC8vICAgICB9XG5cbiAgLy8gICAgICRjYXRhbG9nTW9yZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgLy8gICB9KTtcbiAgLy8gfSk7XG5cbiAgLy8gZ28gdG8gcHJldmlvdXMgcGFnZVxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGNvbnN0ICRwcmV2QXJyb3cgPSBlLnRhcmdldC5jbG9zZXN0KCcucGFnaW5hdGlvbl9fYXJyb3ctLXByZXYnKTtcblxuICAgIGlmICgkcHJldkFycm93KSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIFxuICAgICAgY29uc3QgY3VycmVudFBhZ2UgPSBjYXRhbG9nUGFnZXMuY3VycmVudFswXSAtIDE7XG4gICAgICBjb25zdCBxdWVyeVVybCA9IGZvcm1hdFVSTChgL2pzb24vY2F0YWxvZy5qc29uP3BhZ2U9JHtjdXJyZW50UGFnZX1gKTtcbiAgXG4gICAgICBjYXRhbG9nUGFnZXMuY3VycmVudCA9IFtjdXJyZW50UGFnZV07XG4gIFxuICAgICAgZmV0Y2gocXVlcnlVcmwpLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIGxldCAkZWxlbWVudHMgPSAnJztcbiAgICBcbiAgICAgICAgZGF0YS5kYXRhLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAkZWxlbWVudHMgKz0gY2F0YWxvZ0l0ZW1FbGVtZW50KGl0ZW0pO1xuICAgICAgICB9KTtcbiAgXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nX19pdGVtcycpLmlubmVySFRNTCA9ICRlbGVtZW50cztcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZ19fYm90dG9tJykuaW5uZXJIVE1MID0gZGF0YS5wYWdpbmF0b3I7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICAvLyAkcHJldkFycm93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIC8vICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIC8vICAgY29uc3QgY3VycmVudFBhZ2UgPSBjYXRhbG9nUGFnZXMuY3VycmVudFswXSAtIDE7XG4gIC8vICAgY29uc3QgcXVlcnlVcmwgPSBmb3JtYXRVUkwoYC9qc29uL2NhdGFsb2cuanNvbj9wYWdlPSR7Y3VycmVudFBhZ2V9YCk7XG5cbiAgLy8gICBjYXRhbG9nUGFnZXMuY3VycmVudCA9IFtjdXJyZW50UGFnZV07XG5cbiAgLy8gICBmZXRjaChxdWVyeVVybCkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihkYXRhID0+IHtcbiAgLy8gICAgIGxldCAkZWxlbWVudHMgPSAnJztcbiAgXG4gIC8vICAgICBkYXRhLm1hcChpdGVtID0+IHtcbiAgLy8gICAgICAgJGVsZW1lbnRzICs9IGNhdGFsb2dJdGVtRWxlbWVudChpdGVtKTtcbiAgLy8gICAgIH0pO1xuXG4gIC8vICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnaW5hdGlvbl9fYXJyb3ctLW5leHQnKS5jbGFzc0xpc3QucmVtb3ZlKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgLy8gICAgIHNldEN1cnJlbnRQYWdlKGN1cnJlbnRQYWdlKTtcblxuICAvLyAgICAgaWYgKGN1cnJlbnRQYWdlID09PSAxKSB7XG4gIC8vICAgICAgICRwcmV2QXJyb3cuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gIC8vICAgICB9XG5cbiAgLy8gICAgICRjYXRhbG9nTW9yZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdjYXRhbG9nX19ib3R0b20tYnRuLS1oaWRkZW4nKTtcbiAgLy8gICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nX19pdGVtcycpLmlubmVySFRNTCA9ICRlbGVtZW50cztcbiAgLy8gICB9KTtcblxuICAvLyAgIGlmICgkc2VwYXJhdG9yKSB7XG4gIC8vICAgICBzZXRCcmVhayhjdXJyZW50UGFnZSk7XG4gIC8vICAgfVxuICAvLyB9KTtcblxuICAvLyBnbyB0byBuZXh0IHBhZ2VcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBjb25zdCAkbmV4dEFycm93ID0gZS50YXJnZXQuY2xvc2VzdCgnLnBhZ2luYXRpb25fX2Fycm93LS1uZXh0Jyk7XG5cbiAgICBpZiAoJG5leHRBcnJvdykge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBcbiAgICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gY2F0YWxvZ1BhZ2VzLmN1cnJlbnRbY2F0YWxvZ1BhZ2VzLmN1cnJlbnQubGVuZ3RoIC0gMV0gKyAxO1xuICAgICAgY29uc3QgcXVlcnlVcmwgPSBmb3JtYXRVUkwoYC9qc29uL2NhdGFsb2cuanNvbj9wYWdlPSR7Y3VycmVudFBhZ2V9YCk7XG4gIFxuICAgICAgY2F0YWxvZ1BhZ2VzLmN1cnJlbnQgPSBbY3VycmVudFBhZ2VdO1xuICBcbiAgICAgIGZldGNoKHF1ZXJ5VXJsKS50aGVuKHJlcyA9PiByZXMuanNvbigpKS50aGVuKGRhdGEgPT4ge1xuICAgICAgICBsZXQgJGVsZW1lbnRzID0gJyc7XG4gICAgXG4gICAgICAgIGRhdGEuZGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgJGVsZW1lbnRzICs9IGNhdGFsb2dJdGVtRWxlbWVudChpdGVtKTtcbiAgICAgICAgfSk7XG4gIFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZ19faXRlbXMnKS5pbm5lckhUTUwgPSAkZWxlbWVudHM7XG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGFsb2dfX2JvdHRvbScpLmlubmVySFRNTCA9IGRhdGEucGFnaW5hdG9yO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgLy8gJG5leHRBcnJvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAvLyAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAvLyAgIGNvbnN0IGN1cnJlbnRQYWdlID0gY2F0YWxvZ1BhZ2VzLmN1cnJlbnRbY2F0YWxvZ1BhZ2VzLmN1cnJlbnQubGVuZ3RoIC0gMV0gKyAxO1xuICAvLyAgIGNvbnN0IHF1ZXJ5VXJsID0gZm9ybWF0VVJMKGAvanNvbi9jYXRhbG9nLmpzb24/cGFnZT0ke2N1cnJlbnRQYWdlfWApO1xuXG4gIC8vICAgY2F0YWxvZ1BhZ2VzLmN1cnJlbnQgPSBbY3VycmVudFBhZ2VdO1xuXG4gIC8vICAgZmV0Y2gocXVlcnlVcmwpLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpLnRoZW4oZGF0YSA9PiB7XG4gIC8vICAgICBsZXQgJGVsZW1lbnRzID0gJyc7XG4gIFxuICAvLyAgICAgZGF0YS5tYXAoaXRlbSA9PiB7XG4gIC8vICAgICAgICRlbGVtZW50cyArPSBjYXRhbG9nSXRlbUVsZW1lbnQoaXRlbSk7XG4gIC8vICAgICB9KTtcblxuICAvLyAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2luYXRpb25fX2Fycm93LS1wcmV2JykuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gIC8vICAgICBzZXRDdXJyZW50UGFnZShjdXJyZW50UGFnZSk7XG5cbiAgLy8gICAgIGlmIChjdXJyZW50UGFnZSA9PT0gY2F0YWxvZ1BhZ2VzLnRvdGFsKSB7XG4gIC8vICAgICAgICRjYXRhbG9nTW9yZUJ0bi5jbGFzc0xpc3QuYWRkKCdjYXRhbG9nX19ib3R0b20tYnRuLS1oaWRkZW4nKTtcbiAgLy8gICAgICAgJG5leHRBcnJvdy5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgLy8gICAgIH1cblxuICAvLyAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGFsb2dfX2l0ZW1zJykuaW5uZXJIVE1MID0gJGVsZW1lbnRzO1xuICBcbiAgLy8gICAgIGlmICgkc2VwYXJhdG9yKSB7XG4gIC8vICAgICAgIHNldEJyZWFrKGN1cnJlbnRQYWdlKTtcbiAgLy8gICAgIH1cbiAgLy8gICB9KTtcbiAgLy8gfSk7XG5cbiAgLy8gZ28gdG8gc3BlY2lmaWMgcGFnZVxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGNvbnN0ICR0aGlzID0gZS50YXJnZXQ7XG5cbiAgICBpZiAoJHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdwYWdpbmF0aW9uX19wYWdlJykpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gcGFyc2VJbnQoJHRoaXMuZGF0YXNldC5wYWdlKTtcbiAgICAgIGNvbnN0IHF1ZXJ5VXJsID0gZm9ybWF0VVJMKGAvanNvbi9jYXRhbG9nLmpzb24/cGFnZT0ke2N1cnJlbnRQYWdlfWApO1xuXG4gICAgICBjYXRhbG9nUGFnZXMuY3VycmVudCA9IFtjdXJyZW50UGFnZV07XG5cbiAgICAgIGZldGNoKHF1ZXJ5VXJsKS50aGVuKHJlcyA9PiByZXMuanNvbigpKS50aGVuKGRhdGEgPT4ge1xuICAgICAgICBsZXQgJGVsZW1lbnRzID0gJyc7XG4gICAgXG4gICAgICAgIGRhdGEuZGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgJGVsZW1lbnRzICs9IGNhdGFsb2dJdGVtRWxlbWVudChpdGVtKTtcbiAgICAgICAgfSk7XG4gIFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZ19faXRlbXMnKS5pbm5lckhUTUwgPSAkZWxlbWVudHM7XG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGFsb2dfX2JvdHRvbScpLmlubmVySFRNTCA9IGRhdGEucGFnaW5hdG9yO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgLy8gICBjb25zdCAkdGhpcyA9IGUudGFyZ2V0O1xuXG4gIC8vICAgaWYgKCR0aGlzLmNsYXNzTGlzdC5jb250YWlucygncGFnaW5hdGlvbl9fcGFnZScpKSB7XG4gIC8vICAgICBjb25zdCBjdXJyZW50UGFnZSA9IHBhcnNlSW50KCR0aGlzLmRhdGFzZXQucGFnZSk7XG4gIC8vICAgICBjb25zdCBxdWVyeVVybCA9IGZvcm1hdFVSTChgL2pzb24vY2F0YWxvZy5qc29uP3BhZ2U9JHtjdXJyZW50UGFnZX1gKTtcblxuICAvLyAgICAgY2F0YWxvZ1BhZ2VzLmN1cnJlbnQgPSBbY3VycmVudFBhZ2VdO1xuXG4gIC8vICAgICBmZXRjaChxdWVyeVVybCkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihkYXRhID0+IHtcbiAgLy8gICAgICAgbGV0ICRlbGVtZW50cyA9ICcnO1xuICAgIFxuICAvLyAgICAgICBkYXRhLm1hcChpdGVtID0+IHtcbiAgLy8gICAgICAgICAkZWxlbWVudHMgKz0gY2F0YWxvZ0l0ZW1FbGVtZW50KGl0ZW0pO1xuICAvLyAgICAgICB9KTtcbiAgXG4gIC8vICAgICAgIHNldEN1cnJlbnRQYWdlKGN1cnJlbnRQYWdlKTtcbiAgXG4gIC8vICAgICAgIGlmIChjdXJyZW50UGFnZSA9PT0gY2F0YWxvZ1BhZ2VzLnRvdGFsKSB7XG4gIC8vICAgICAgICAgJHByZXZBcnJvdy5jbGFzc0xpc3QucmVtb3ZlKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgLy8gICAgICAgICAkbmV4dEFycm93LmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX2Fycm93LS1kaXNhYmxlZCcpO1xuICAvLyAgICAgICAgICRjYXRhbG9nTW9yZUJ0bi5jbGFzc0xpc3QuYWRkKCdjYXRhbG9nX19ib3R0b20tYnRuLS1oaWRkZW4nKTtcbiAgLy8gICAgICAgfSBlbHNlIGlmIChjdXJyZW50UGFnZSA9PT0gMSkge1xuICAvLyAgICAgICAgICRwcmV2QXJyb3cuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gIC8vICAgICAgICAgJG5leHRBcnJvdy5jbGFzc0xpc3QucmVtb3ZlKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgLy8gICAgICAgICAkY2F0YWxvZ01vcmVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnY2F0YWxvZ19fYm90dG9tLWJ0bi0taGlkZGVuJyk7XG4gIC8vICAgICAgIH0gZWxzZSB7XG4gIC8vICAgICAgICAgJHByZXZBcnJvdy5jbGFzc0xpc3QucmVtb3ZlKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgLy8gICAgICAgICAkbmV4dEFycm93LmNsYXNzTGlzdC5yZW1vdmUoJ3BhZ2luYXRpb25fX2Fycm93LS1kaXNhYmxlZCcpO1xuICAvLyAgICAgICAgICRjYXRhbG9nTW9yZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdjYXRhbG9nX19ib3R0b20tYnRuLS1oaWRkZW4nKTtcbiAgLy8gICAgICAgfVxuXG4gIC8vICAgICAgIGlmICgkc2VwYXJhdG9yKSB7XG4gIC8vICAgICAgICAgc2V0QnJlYWsoY3VycmVudFBhZ2UpO1xuICAvLyAgICAgICB9XG5cbiAgLy8gICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGFsb2dfX2l0ZW1zJykuaW5uZXJIVE1MID0gJGVsZW1lbnRzO1xuICAvLyAgICAgfSk7XG4gIC8vICAgfVxuICAvLyB9KTtcbn1cbiAgLy8gc2Nyb2xsIHRvIHR1dG9yIHNlY3Rpb25cbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnR1dG9yX19uYXYtbGluaycpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IHRhcmdldCA9IGVsLmRhdGFzZXQudGFyZ2V0O1xuXG4gIHNjcm9sbFRvKHtcbiAgICB0b3A6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWJsb2NrPVwiJHt0YXJnZXR9XCJdYCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0IC0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcicpLm9mZnNldEhlaWdodCxcbiAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgfSk7XG59KSk7XG4gIC8vIHNldCBwYXltZW50IHBlciBob3VyXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9maWxlLWhlYWRfX3N1YmplY3RzLWl0ZW0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCBwYXltZW50ID0gZWwuZGF0YXNldC5wYXk7XG5cbiAgZWwuY2xvc2VzdCgnLnByb2ZpbGUtaGVhZF9fc3ViamVjdHMnKS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1oZWFkX19zdWJqZWN0cy1pdGVtLS1oaWdobGlnaHQnKS5jbGFzc0xpc3QucmVtb3ZlKCdwcm9maWxlLWhlYWRfX3N1YmplY3RzLWl0ZW0tLWhpZ2hsaWdodCcpO1xuICBlbC5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLWhlYWRfX3N1YmplY3RzLWl0ZW0tLWhpZ2hsaWdodCcpO1xuXG4gIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLXByb2ZpbGUtY29zdCcpKS5tYXAoZWwgPT4gZWwuaW5uZXJUZXh0ID0gcGF5bWVudCk7XG59KSk7XG4gIGNvbnN0ICRwcm9maWxlVmlkZW9Db3ZlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLWFib3V0X192aWRlby1jb3ZlcicpO1xuXG4vLyBwbGF5IHZpZGUgb24gYWJvdXQgc2VjdGlvblxuaWYgKCRwcm9maWxlVmlkZW9Db3Zlcikge1xuICAkcHJvZmlsZVZpZGVvQ292ZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY29uc3QgJHZpZGVvID0gJHByb2ZpbGVWaWRlb0NvdmVyLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignaWZyYW1lJyk7XG4gICAgXG4gICAgJHByb2ZpbGVWaWRlb0NvdmVyLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignaWZyYW1lJykuc2V0QXR0cmlidXRlKCdzcmMnLCAkdmlkZW8uZ2V0QXR0cmlidXRlKCdzcmMnKSArICc/YXV0b3BsYXk9MScpO1xuICAgICRwcm9maWxlVmlkZW9Db3Zlci5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLWFib3V0X192aWRlby1jb3Zlci0taGlkZGVuJyk7XG4gIH0pO1xufVxuICBjb25zdCAkcmV2aWV3c01vcmVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcmV2aWV3cy1tb3JlJyk7XG5cbmlmICgkcmV2aWV3c01vcmVCdG4pIHtcbiAgLy8gcmV2aWV3cyBwYWdlcyBzdGF0ZVxuICBjb25zdCByZXZpZXdzUGFnZXMgPSB7XG4gICAgY3VycmVudDogMSxcbiAgICB0b3RhbDogcGFyc2VJbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwicmV2aWV3cy10b3RhbFwiXScpLmNvbnRlbnQpXG4gIH07XG4gIC8vIGdlbmVyYXRlIHJldmlldyBlbGVtZW50XG4gIGNvbnN0IHJldmlld0VsZW1lbnQgPSAoeyBpbWFnZSwgbmFtZSwgZGF0ZSwgcmF0aW5nLCBmZWVkYmFjaywgdGFnIH0pID0+IGBcbiAgPGRpdiBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2tcIj5cbiAgJHtpbWFnZSA/XG4gICAgICAgIGA8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay1pbWFnZVwiIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTogdXJsKCcke2ltYWdlfScpXCI+PC9kaXY+YCA6XG4gICAgICAgICc8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay1pbWFnZVwiPjwvZGl2PidcbiAgICAgIH1cbiAgICAgIDxkaXYgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX2ZlZWRiYWNrLWluZm9cIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX2ZlZWRiYWNrLWhlYWRcIj5cbiAgICAgIDxkaXY+XG4gICAgICA8cCBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2stbmFtZVwiPiR7bmFtZX08L3A+XG4gICAgICA8cCBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2stZGF0ZVwiPiR7ZGF0ZX08L3A+XG4gICAgICA8L2Rpdj5cbiAgICAgICR7dGFnID8gJzxwIGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay10YWdcIj4nICsgdGFnICsgJzwvcD4nIDogJyd9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX3JhdGluZy1zdGFyc1wiPlxuICAgICAgJHtbMSwgMiwgMywgNCwgNV0ubWFwKGUgPT4gZSA8PSByYXRpbmcgP1xuICAgICAgICAnPGRpdiBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fcmF0aW5nLXN0YXIgcHJvZmlsZS1yZXZpZXdzX19yYXRpbmctc3Rhci0tZnVsbFwiPjwvZGl2PicgOlxuICAgICAgICAnPGRpdiBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fcmF0aW5nLXN0YXJcIj48L2Rpdj4nXG4gICAgICAgICkuam9pbignJyl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8cCBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2stdGV4dFwiPiR7ZmVlZGJhY2t9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIFxuICAgICAgICAvLyBsb2FkIG1vcmUgcmV2aWV3IG9uIGJ1dHRvbiBjbGlja1xuICAgICAgICAkcmV2aWV3c01vcmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgY29uc3QgdXJsID0gJHJldmlld3NNb3JlQnRuLmRhdGFzZXQudXJsO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIGluY3JlbWVudCBjdXJyZW50IGxvYWRlZCByZXZpZXdzIHBhZ2VcbiAgICAgICAgICArK3Jldmlld3NQYWdlcy5jdXJyZW50O1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIGxvYWQgcmV2aWV3c1xuICAgICAgICAgIGZldGNoKGAke3VybH0/cGFnZT0ke3Jldmlld3NQYWdlcy5jdXJyZW50fWApXG4gICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4gICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICBkYXRhLmRhdGEubWFwKHJldmlldyA9PiB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXJldmlld3NfX2ZlZWRiYWNrcycpLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgcmV2aWV3RWxlbWVudChyZXZpZXcpKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXZpZXdzUGFnZXMuY3VycmVudCA9PT0gcmV2aWV3c1BhZ2VzLnRvdGFsKSB7XG4gICAgICAgICAgJHJldmlld3NNb3JlQnRuLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59XG4gIC8vIGluaXQgZmFrZVNjcm9sbCBvbiB0aW1lem9uZSBkcm9wZG93blxuY29uc3QgJHRpbWV6b25lRHJvcGRvd25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2ZpbGUtc2NoZWR1bGVfX3RpbWV6b25lLW1lbnUnKTtcblxuaWYgKCR0aW1lem9uZURyb3Bkb3ducy5sZW5ndGgpIHtcbiAgQXJyYXkuZnJvbSgkdGltZXpvbmVEcm9wZG93bnMpLm1hcChlbCA9PiB7XG4gICAgaWYgKCFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zha2VTY3JvbGwnKSkge1xuICAgICAgZWwuZmFrZVNjcm9sbCgpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIGluaXQgZmFrZVNjcm9sbCBvbiBkYXRlL3RpbWUgZHJvcGRvd25zXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9maWxlLXNjaGVkdWxlX190aW1lJykpLm1hcChlbCA9PiB7XG4gIGNvbnN0ICRjb250YWluZXIgPSBlbC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fdGltZS1tZW51Jyk7XG5cbiAgaWYgKCRjb250YWluZXIgJiYgISRjb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdmYWtlU2Nyb2xsJykpIHtcbiAgICAkY29udGFpbmVyLmZha2VTY3JvbGwoKTtcbiAgfVxufSk7XG5cbmNvbnN0IHNldERhdGVUaW1lID0gKCkgPT4ge1xuICBjb25zdCAkY3VycmVudFVuaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fdW5pdC0tY3VycmVudCcpO1xuICBjb25zdCAkcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cInJlcXVlc3Qtc3BlY2lmaWNcIl0nKTtcblxuICBpZiAoJGN1cnJlbnRVbml0KSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBkYXRlID0gJGN1cnJlbnRVbml0LmRhdGFzZXQuZGF0ZTtcbiAgICAgIGNvbnN0IHRpbWUgPSAkY3VycmVudFVuaXQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX3RpbWUtdmFsdWUnKS5pbm5lclRleHQ7XG4gIFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX3BpY2snKS5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLXNjaGVkdWxlX19waWNrLS1hY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19waWNrLWRhdGUnKS5pbm5lclRleHQgPSBkYXRlO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX3BpY2stdGltZScpLmlubmVyVGV4dCA9IHRpbWU7XG5cbiAgICAgIGlmICgkcG9wdXApIHtcbiAgICAgICAgJHBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faGVhZGluZy1kYXRlJykuaW5uZXJUZXh0ID0gZGF0ZTtcbiAgICAgICAgJHBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faGVhZGluZy10aW1lJykuaW5uZXJUZXh0ID0gdGltZTtcbiAgICAgICAgJHBvcHVwLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJ0aW1lXCJdJykudmFsdWUgPSB0aW1lO1xuICAgICAgfVxuICAgIH0sIDApO1xuICB9XG59XG5cbi8vIGhhbmRsZSBzY2hlZHVsZSBzbGlkZXJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZScpKSB7XG4gIGNvbnN0ICRwcmV2QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX2NvbnRyb2xzLWJ1dHRvbi0tcHJldicpO1xuICBjb25zdCAkbmV4dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLW5leHQnKTtcbiAgXG4gIGlmICgkcHJldkJ1dHRvbikge1xuICAgICRwcmV2QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgJGFjdGl2ZVNsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX3NsaWRlLS1hY3RpdmUnKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9ICskYWN0aXZlU2xpZGUuZGF0YXNldC5zbGlkZTtcbiAgICAgIGNvbnN0ICRwcmV2U2xpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucHJvZmlsZS1zY2hlZHVsZV9fc2xpZGVbZGF0YS1zbGlkZT1cIiR7Y3VycmVudEluZGV4IC0gMX1cIl1gKTtcbiAgICBcbiAgICAgIGlmICgkcHJldlNsaWRlKSB7XG4gICAgICAgICRhY3RpdmVTbGlkZS5jbGFzc0xpc3QucmVtb3ZlKCdwcm9maWxlLXNjaGVkdWxlX19zbGlkZS0tYWN0aXZlJyk7XG4gICAgICAgICRwcmV2U2xpZGUuY2xhc3NMaXN0LmFkZCgncHJvZmlsZS1zY2hlZHVsZV9fc2xpZGUtLWFjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1uZXh0JykuY2xhc3NMaXN0LnJlbW92ZSgncHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1kaXNhYmxlZCcpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtZGF0ZXMnKS5pbm5lclRleHQgPSAkcHJldlNsaWRlLmRhdGFzZXQuZGF0ZXM7XG4gICAgXG4gICAgICAgIGlmICgkcHJldlNsaWRlLmRhdGFzZXQuZmlyc3QpIHtcbiAgICAgICAgICAkcHJldkJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLWRpc2FibGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBcbiAgaWYgKCRuZXh0QnV0dG9uKSB7XG4gICAgJG5leHRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCAkYWN0aXZlU2xpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fc2xpZGUtLWFjdGl2ZScpO1xuICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gKyRhY3RpdmVTbGlkZS5kYXRhc2V0LnNsaWRlO1xuICAgICAgY29uc3QgJG5leHRTbGlkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wcm9maWxlLXNjaGVkdWxlX19zbGlkZVtkYXRhLXNsaWRlPVwiJHtjdXJyZW50SW5kZXggKyAxfVwiXWApO1xuICAgIFxuICAgICAgaWYgKCRuZXh0U2xpZGUpIHtcbiAgICAgICAgJGFjdGl2ZVNsaWRlLmNsYXNzTGlzdC5yZW1vdmUoJ3Byb2ZpbGUtc2NoZWR1bGVfX3NsaWRlLS1hY3RpdmUnKTtcbiAgICAgICAgJG5leHRTbGlkZS5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLXNjaGVkdWxlX19zbGlkZS0tYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLXByZXYnKS5jbGFzc0xpc3QucmVtb3ZlKCdwcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLWRpc2FibGVkJyk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1kYXRlcycpLmlubmVyVGV4dCA9ICRuZXh0U2xpZGUuZGF0YXNldC5kYXRlcztcbiAgICBcbiAgICAgICAgaWYgKCRuZXh0U2xpZGUuZGF0YXNldC5sYXN0KSB7XG4gICAgICAgICAgJG5leHRCdXR0b24uY2xhc3NMaXN0LmFkZCgncHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1kaXNhYmxlZCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuLy8gaGFuZGxlIHNlbGVjdCBkYXRldGltZSB1bml0XG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9maWxlLXNjaGVkdWxlX191bml0JykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoJy5wcm9maWxlLXNjaGVkdWxlX190aW1lJykpIHtcbiAgICBjb25zdCAkY3VycmVudFVuaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fdW5pdC0tY3VycmVudCcpO1xuICBcbiAgICBpZiAoJGN1cnJlbnRVbml0KSB7XG4gICAgICAkY3VycmVudFVuaXQuY2xhc3NMaXN0LnJlbW92ZSgncHJvZmlsZS1zY2hlZHVsZV9fdW5pdC0tY3VycmVudCcpO1xuICAgIH1cbiAgXG4gICAgZWwuY2xhc3NMaXN0LmFkZCgncHJvZmlsZS1zY2hlZHVsZV9fdW5pdC0tY3VycmVudCcpO1xuICAgIHNldERhdGVUaW1lKCk7XG4gIH1cbn0pKTtcblxuLy8gZXhlY3V0ZSBzZXQgZGF0ZXRpbWUgb24gdGltZSBjaGFuZ2VcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2ZpbGUtc2NoZWR1bGVfX3RpbWUtbWVudSAuZHJvcGRvd25fX21lbnUtaXRlbScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZXREYXRlVGltZSkpO1xuICBjb25zdCAkZGlhbG9nQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2dyaWQnKTtcbmNvbnN0ICRkaWFsb2dMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2FzaWRlJyk7XG5jb25zdCAkZGlhbG9nTGlzdEl0ZW1zID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hhdC1pdGVtJykpO1xuY29uc3QgJGRpYWxvZ1dhcm5pbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdF9faGVhZC13YXJuaW5nJyk7XG5jb25zdCAkZGlhbG9nV2luZG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2RpYWxvZycpO1xuY29uc3QgJGRpYWxvZ1dpbmRvd0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19kaWFsb2ctY29udGFpbmVyJyk7XG5jb25zdCAkZGlhbG9nSW5wdXRGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19mb290ZXItaW5wdXQnKTtcbmNvbnN0ICRkaWFsb2dGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2Zvb3Rlci1jb250YWluZXInKTtcbmNvbnN0ICRkaWFsb2dDb250ZXh0TWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19jb250ZXh0Jyk7XG5jb25zdCAkZGlhbG9nRGVsZXRlTWVzc2FnZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwiZGlhbG9nLWRlbGV0ZVwiXSBbZGF0YS1kZWxldGVdJyk7XG5sZXQgc2NyZWVuT2Zmc2V0ID0gMDtcblxuLy8gY3VzdG9tIGZvcm0gc3VibWl0IGV2ZW50XG5jb25zdCBmb3JtU3VibWl0RXZlbnQgPSBuZXcgRXZlbnQoJ2Zvcm1TdWJtaXQnKTtcblxuLy8gZGVzdHJveSBkaWFsb2cgY29udGV4dCBtZW51XG5jb25zdCBjb250ZXh0RGVzdHJveSA9IGRlbGV0ZU1lc3NhZ2UgPT4ge1xuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2NvbnRleHQtLXNob3duJykpIHtcbiAgICAkZGlhbG9nQ29udGV4dE1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnY2hhdF9fY29udGV4dC0tc2hvd24nKTtcbiAgICBcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPCA3NjAgJiYgIWRlbGV0ZU1lc3NhZ2UpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjogc3RhdGljOyBtYXJnaW4tdG9wOiAwJztcbiAgICAgIFxuICAgICAgd2luZG93LnNjcm9sbFRvKDAsIHNjcmVlbk9mZnNldCk7XG4gICAgfVxuICB9XG59O1xuXG5pZiAoJGRpYWxvZ0xpc3QpIHtcbiAgJGRpYWxvZ0xpc3QuZmFrZVNjcm9sbCgpO1xufVxuXG4vLyBzZXQgaGVpZ2h0IG9mIGZvcm0gdGV4dGFyZWEgZmllbGRcbmNvbnN0IHNldERpYWxvZ0lucHV0SGVpZ2h0ID0gKCkgPT4ge1xuICAkZGlhbG9nSW5wdXRGaWVsZC5zdHlsZS5oZWlnaHQgPSAnNXB4JztcbiAgJGRpYWxvZ0lucHV0RmllbGQuc3R5bGUuaGVpZ2h0ID0gJGRpYWxvZ0lucHV0RmllbGQuc2Nyb2xsSGVpZ2h0ICsgMyArICdweCc7XG59O1xuXG5jb25zdCBzY3JvbGxDaGF0VG9Cb3R0b20gPSAoKSA9PiB7XG4gIGNvbnN0ICRjaGF0U2Nyb2xsQ29udGFpbmVyID0gJGRpYWxvZ1dpbmRvdy5xdWVyeVNlbGVjdG9yKCcuZmFrZVNjcm9sbF9fY29udGVudCcpO1xuICAkY2hhdFNjcm9sbENvbnRhaW5lci5zY3JvbGxUb3AgPSAkY2hhdFNjcm9sbENvbnRhaW5lci5zY3JvbGxIZWlnaHQ7XG59O1xuXG4vLyBkaWFsb2cgd2FybmluZyBoYW5kbGluZ1xuaWYgKCRkaWFsb2dXYXJuaW5nKSB7XG4gIGlmICghSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGV0bWV0dXRvcjpkaWFsb2dXYXJuaW5nSXNIaWRkZW4nKSkpIHtcbiAgICAkZGlhbG9nV2FybmluZy5jbGFzc0xpc3QuYWRkKCdjaGF0X19oZWFkLXdhcm5pbmctLXNob3duJyk7XG4gIFxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19oZWFkLXdhcm5pbmctY2xvc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICRkaWFsb2dXYXJuaW5nLnJlbW92ZSgpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xldG1ldHV0b3I6ZGlhbG9nV2FybmluZ0lzSGlkZGVuJywgdHJ1ZSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgJGRpYWxvZ1dhcm5pbmcucmVtb3ZlKCk7XG4gIH1cbn1cblxuLy8gZ28gYmFjayB0byBkaWFsb2cgbGlzdHMgb24gbW9iaWxlIGRldmljZXNcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdF9faGVhZC1iYWNrJykpIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2hlYWQtYmFjaycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICRkaWFsb2dDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnY2hhdF9fZ3JpZC0taW5uZXInKTtcbiAgfSk7XG59XG5cbi8vIHRvZ2dsZSBjdXJyZW50IGRpYWxvZ1xuaWYgKCRkaWFsb2dMaXN0SXRlbXMpIHtcbiAgJGRpYWxvZ0xpc3RJdGVtcy5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBlbC5xdWVyeVNlbGVjdG9yKCcuY2hhdC1pdGVtX19jb250YWluZXInKS5zdHlsZSA9ICcnO1xuICAgIGVsLnF1ZXJ5U2VsZWN0b3IoJy5jaGF0LWl0ZW1fX2RlbGV0ZScpLnN0eWxlID0gJyc7XG4gIFxuICAgIFxuICAgIGlmICgod2luZG93LmlubmVyV2lkdGggPiA3NTkgJiYgIWVsLmNsYXNzTGlzdC5jb250YWlucygnY2hhdC1pdGVtLS1hY3RpdmUnKSkgfHwgIWUudGFyZ2V0LmNsb3Nlc3QoJy5jaGF0LWl0ZW1fX2RlbGV0ZScpKSB7XG4gICAgICAkZGlhbG9nQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2NoYXRfX2dyaWQtLWlubmVyJyk7XG4gIFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXQtaXRlbS0tYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnY2hhdC1pdGVtLS1hY3RpdmUnKTtcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2NoYXQtaXRlbS0tYWN0aXZlJyk7XG4gIFxuICAgICAgaWYgKGVsLnF1ZXJ5U2VsZWN0b3IoJy5jaGF0LWl0ZW1fX2NvdW50ZXInKSkge1xuICAgICAgICBlbC5xdWVyeVNlbGVjdG9yKCcuY2hhdC1pdGVtX19jb3VudGVyJykucmVtb3ZlKCk7XG4gICAgICB9XG4gIFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2hlYWQtaW1hZ2UnKS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBlbC5xdWVyeVNlbGVjdG9yKCcuY2hhdC1pdGVtX19pbWFnZScpLnN0eWxlLmJhY2tncm91bmRJbWFnZTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19oZWFkLW5hbWUnKS5pbm5lclRleHQgPSBlbC5xdWVyeVNlbGVjdG9yKCcuY2hhdC1pdGVtX19uYW1lJykuaW5uZXJUZXh0O1xuICAgIH1cbiAgfSkpO1xufVxuXG4vLyBoYW5kbGUgaW5wdXQgZmllbGRcbmlmICgkZGlhbG9nSW5wdXRGaWVsZCkge1xuICAkZGlhbG9nSW5wdXRGaWVsZC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHNldERpYWxvZ0lucHV0SGVpZ2h0KTtcbn1cblxuLy8gc2V0IHNjcm9sbCBvbiBkaWFsb2cgd2luZG93XG5pZiAoJGRpYWxvZ1dpbmRvdykge1xuICAkZGlhbG9nV2luZG93LmZha2VTY3JvbGwoKTtcbiAgJGRpYWxvZ1dpbmRvdy5xdWVyeVNlbGVjdG9yKCcuZmFrZVNjcm9sbF9fY29udGVudCcpLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcbiAgICBjb250ZXh0RGVzdHJveSgpO1xuICB9KTtcblxuICBzY3JvbGxDaGF0VG9Cb3R0b20oKTtcbn1cblxuaWYgKCRkaWFsb2dGb3JtKSB7XG4gIC8vIGN1c3RvbSBmb3JtIHN1Ym1pdCBldmVudCBoYW5kbGVyXG4gICRkaWFsb2dGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ2Zvcm1TdWJtaXQnLCAoKSA9PiB7XG4gICAgY29uc3QgbWVzc2FnZSA9ICRkaWFsb2dJbnB1dEZpZWxkLnZhbHVlO1xuICBcbiAgICBpZiAobWVzc2FnZS5yZXBsYWNlKC9cXHMvZywgJycpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgJGRpYWxvZ0lucHV0RmllbGQuZm9jdXMoKTtcbiAgICBcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIFxuICAgIGlmICgkZGlhbG9nRm9ybS5kYXRhc2V0LmFjdGlvbiA9PT0gJ3NlbmQnKSB7XG4gICAgICBjb25zdCAkbWVzc2FnZUVsZW1lbnQgPSBgPGRpdiBjbGFzcz1cImNoYXRfX21lc3NhZ2UgY2hhdF9fbWVzc2FnZS0tcmlnaHRcIiBkYXRhLWlkPVwiJHsrZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX21lc3NhZ2U6bGFzdC1jaGlsZCcpLmRhdGFzZXQuaWQgKyAxfVwiPlxuICAgICAgICA8cCBjbGFzcz1cImNoYXRfX21lc3NhZ2UtdGV4dFwiPiR7bWVzc2FnZX08L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiY2hhdF9fbWVzc2FnZS10aW1lXCI+JHtJbnRsLkRhdGVUaW1lRm9ybWF0KCdydS1SdScsIHtob3VyOiAnbnVtZXJpYycsIG1pbnV0ZTogJ251bWVyaWMnfSkuZm9ybWF0KERhdGUubm93KCkpfTwvcD5cbiAgICAgIDwvZGl2PmA7XG4gICAgXG4gICAgICAkZGlhbG9nV2luZG93Q29udGFpbmVyLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgJG1lc3NhZ2VFbGVtZW50KTtcbiAgICAgIHNjcm9sbENoYXRUb0JvdHRvbSgpO1xuICAgIH0gZWxzZSBpZiAoJGRpYWxvZ0Zvcm0uZGF0YXNldC5hY3Rpb24gPT09ICdlZGl0Jykge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmNoYXRfX21lc3NhZ2VbZGF0YS1pZD1cIiR7JGRpYWxvZ0Zvcm0uZGF0YXNldC5pZH1cIl0gLmNoYXRfX21lc3NhZ2UtdGV4dGApLmlubmVyVGV4dCA9IG1lc3NhZ2U7XG4gICAgICAkZGlhbG9nRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdjaGF0X19mb290ZXItY29udGFpbmVyLS1lZGl0Jyk7XG4gICAgICAkZGlhbG9nRm9ybS5kYXRhc2V0LmFjdGlvbiA9ICdzZW5kJztcbiAgICB9XG4gIFxuICAgICRkaWFsb2dJbnB1dEZpZWxkLnZhbHVlID0gJyc7XG4gICAgJGRpYWxvZ0lucHV0RmllbGQuZm9jdXMoKTtcbiAgICBzZXREaWFsb2dJbnB1dEhlaWdodCgpO1xuICB9KTtcblxuICAvLyBzZW5kIG1lc3NhZ2UgaGFuZGxlcnNcbiAgJGRpYWxvZ0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBcbiAgICAkZGlhbG9nRm9ybS5kaXNwYXRjaEV2ZW50KGZvcm1TdWJtaXRFdmVudCk7XG4gIH0pO1xuXG4gICRkaWFsb2dGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgZSA9PiB7XG4gICAgY29uc3Qga2V5Y29kZSA9IGUua2V5Q29kZSA/IGUua2V5Q29kZSA6IGUud2hpY2g7XG4gIFxuICAgIGlmIChrZXljb2RlID09PSAxMyAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgJGRpYWxvZ0Zvcm0uZGlzcGF0Y2hFdmVudChmb3JtU3VibWl0RXZlbnQpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIGhhbmRsZSBtZXNzYWdlIGNvbnRleHQgbWVudVxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSBlLnRhcmdldDtcblxuICBpZiAoJHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGF0X19tZXNzYWdlLXRleHQnKSAmJiAkdGhpcy5jbG9zZXN0KCcuY2hhdF9fbWVzc2FnZS0tcmlnaHQnKSkge1xuICAgIGNvbnN0IG1lc3NhZ2VJRCA9ICR0aGlzLnBhcmVudE5vZGUuZGF0YXNldC5pZDtcblxuICAgICRkaWFsb2dDb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdjaGF0X19jb250ZXh0LS1zaG93bicpO1xuICAgICRkaWFsb2dDb250ZXh0TWVudS5zdHlsZS5jc3NUZXh0ID0gYGxlZnQ6ICR7ZS5jbGllbnRYICsgMTB9cHg7IHRvcDogJHtlLmNsaWVudFkgKyBzY3JvbGxZICsgMTB9cHg7YDtcblxuICAgICRkaWFsb2dEZWxldGVNZXNzYWdlQnRuLmRhdGFzZXQuaWQgPSBtZXNzYWdlSUQ7XG4gICAgJGRpYWxvZ0Zvcm0uZGF0YXNldC5pZCA9IG1lc3NhZ2VJRDtcblxuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDc2MCkge1xuICAgICAgc2NyZWVuT2Zmc2V0ID0gd2luZG93LnNjcm9sbFk7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmNzc1RleHQgPSBgcG9zaXRpb246IGZpeGVkOyBtYXJnaW4tdG9wOiAkey13aW5kb3cuc2Nyb2xsWX1weGA7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnRleHREZXN0cm95KCR0aGlzLmNsb3Nlc3QoJ1tkYXRhLWFjdGlvbj1cImRlbGV0ZVwiXScpKTtcbiAgfVxufSk7XG5cbi8vIGRlbGV0ZSBjaGF0IG1lc3NhZ2VcbmlmICgkZGlhbG9nRGVsZXRlTWVzc2FnZUJ0bikge1xuICAkZGlhbG9nRGVsZXRlTWVzc2FnZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuY2hhdF9fbWVzc2FnZVtkYXRhLWlkPVwiJHskZGlhbG9nRGVsZXRlTWVzc2FnZUJ0bi5kYXRhc2V0LmlkfVwiXWApLnJlbW92ZSgpO1xuICB9KTtcbn1cblxuLy8gaGFuZGxlIGNvbnRleHQgZWRpdCBjbGlja1xuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19jb250ZXh0LWl0ZW1bZGF0YS1hY3Rpb249XCJlZGl0XCJdJykpIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2NvbnRleHQtaXRlbVtkYXRhLWFjdGlvbj1cImVkaXRcIl0nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCBvcmlnaW5hbE1lc3NhZ2VUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmNoYXRfX21lc3NhZ2VbZGF0YS1pZD1cIiR7JGRpYWxvZ0Zvcm0uZGF0YXNldC5pZH1cIl0gLmNoYXRfX21lc3NhZ2UtdGV4dGApLmlubmVyVGV4dDtcbiAgXG4gICAgJGRpYWxvZ0Zvcm0uY2xhc3NMaXN0LmFkZCgnY2hhdF9fZm9vdGVyLWNvbnRhaW5lci0tZWRpdCcpO1xuICAgICRkaWFsb2dGb3JtLmRhdGFzZXQuYWN0aW9uID0gJ2VkaXQnO1xuICAgICRkaWFsb2dJbnB1dEZpZWxkLmZvY3VzKCk7XG4gICAgJGRpYWxvZ0lucHV0RmllbGQudmFsdWUgPSBvcmlnaW5hbE1lc3NhZ2VUZXh0O1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19lZGl0LXRleHQnKS5pbm5lclRleHQgPSBvcmlnaW5hbE1lc3NhZ2VUZXh0O1xuICAgIHNldERpYWxvZ0lucHV0SGVpZ2h0KCk7XG4gIH0pO1xufVxuXG4vLyBjYW5jZWwgbWVzc2FnZSBlZGl0aW5nXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2VkaXQtY2FuY2VsJykpIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2VkaXQtY2FuY2VsJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgJGRpYWxvZ0Zvcm0uY2xhc3NMaXN0LnJlbW92ZSgnY2hhdF9fZm9vdGVyLWNvbnRhaW5lci0tZWRpdCcpO1xuICAgICRkaWFsb2dGb3JtLmRhdGFzZXQuYWN0aW9uID0gJ3NlbmQnO1xuICAgICRkaWFsb2dJbnB1dEZpZWxkLmZvY3VzKCk7XG4gICAgJGRpYWxvZ0lucHV0RmllbGQudmFsdWUgPSAnJztcbiAgICBzZXREaWFsb2dJbnB1dEhlaWdodCgpO1xuICB9KTtcbn1cblxuLy8gaGFuZGxlIGRlbGV0ZSBkaWFsb2cgb24gbW9iaWxlIGRldmljZXNcbmNvbnN0IHN3aXBlQ29vcmRpbmF0ZXMgPSB7XG4gIHN0YXJ0OiBudWxsLFxuICBlbmQ6IG51bGwsXG4gIGRpZmY6IG51bGxcbn07XG5cbmlmICgkZGlhbG9nTGlzdEl0ZW1zKSB7XG4gICRkaWFsb2dMaXN0SXRlbXMubWFwKGVsID0+IHtcbiAgICBjb25zdCAkY2hhdEl0ZW1Db250YWluZXIgPSBlbC5xdWVyeVNlbGVjdG9yKCcuY2hhdC1pdGVtX19jb250YWluZXInKTtcbiAgICBjb25zdCAkY2hhdEl0ZW1EZWxldGUgPSBlbC5xdWVyeVNlbGVjdG9yKCcuY2hhdC1pdGVtX19kZWxldGUnKTtcbiAgXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGUgPT4ge1xuICAgICAgJGRpYWxvZ0xpc3RJdGVtcy5tYXAoaXRlbSA9PiB7XG4gICAgICAgIGlmIChpdGVtICE9PSBlbCkge1xuICAgICAgICAgIGl0ZW0ucXVlcnlTZWxlY3RvcignLmNoYXQtaXRlbV9fY29udGFpbmVyJykuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoMCknO1xuICAgICAgICAgIGl0ZW0ucXVlcnlTZWxlY3RvcignLmNoYXQtaXRlbV9fZGVsZXRlJykuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoMCknO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgXG4gICAgICAkY2hhdEl0ZW1Db250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9ICdub25lJztcbiAgICAgICRjaGF0SXRlbURlbGV0ZS5zdHlsZS50cmFuc2l0aW9uID0gJ25vbmUnO1xuICBcbiAgICAgIHN3aXBlQ29vcmRpbmF0ZXMuc3RhcnQgPSBlLnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICB9LCBmYWxzZSk7XG4gIFxuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGUgPT4ge1xuICAgICAgY29uc3QgY3VycmVudENvb3JkaW5hdGUgPSBlLnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIGNvbnN0IGRpZmYgPSBzd2lwZUNvb3JkaW5hdGVzLnN0YXJ0IC0gY3VycmVudENvb3JkaW5hdGU7XG4gICAgXG4gICAgICBzd2lwZUNvb3JkaW5hdGVzLmVuZCA9IGN1cnJlbnRDb29yZGluYXRlO1xuICAgICAgc3dpcGVDb29yZGluYXRlcy5kaWZmID0gZGlmZjtcbiAgXG4gIFxuICAgICAgaWYgKGRpZmYgPiAwICYmIGRpZmYgPCAxMjApIHtcbiAgICAgICAgJGNoYXRJdGVtQ29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke2RpZmZ9cHgpYDtcbiAgICAgICAgJGNoYXRJdGVtRGVsZXRlLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke2RpZmZ9cHgpYDtcbiAgICAgIH1cbiAgICB9LCBmYWxzZSk7XG4gIFxuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgZSA9PiB7ICAgIFxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGNvbnN0IGRlc3QgPSBzd2lwZUNvb3JkaW5hdGVzLmRpZmYgPCA2MCA/IDAgOiAtMTIwO1xuICAgICAgXG4gICAgICAkY2hhdEl0ZW1Db250YWluZXIuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIC4zcyBlYXNlO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoJHtkZXN0fXB4KTtcbiAgICAgIGA7XG4gICAgICAkY2hhdEl0ZW1EZWxldGUuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIC4zcyBlYXNlO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoJHtkZXN0fXB4KTtcbiAgICAgIGA7XG4gICAgfSwgZmFsc2UpO1xuICB9KTtcbn1cbiAgLy8gY3JvcHBlZCBpbWFnZSB0byBzZW5kIHRvIHNlcnZlclxubGV0IGNyb3BwZWRJbWFnZSA9IG51bGw7XG5cbi8vIGFsbCBwZXJzb25hbCBmb3Jtc1xuY29uc3QgJHBlcnNvbmFsRm9ybXMgPSBbe1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXBlcnNvbmFsLWRhdGFdJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgc2VuZEZvcm0oJy9hamF4L2FjY291bnQvYmFzaWMnLCAkZWxlbWVudCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtcGVyc29uYWwtZXhwZXJpZW5jZV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZW5kRm9ybSgnL2FqYXgvYWNjb3VudC9leHBlcmllbmNlcycsICRlbGVtZW50KTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1wZXJzb25hbC1zcGVjaWFsaXphdGlvbl0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXJyb3J0eXBlJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgIHNlbmRGb3JtKCcvYWpheC9hY2NvdW50L3NwZWNpYWxpemF0aW9uJywgJGVsZW1lbnQsIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICBpZihlcnJvciA9PSAnZXJyb3IudHlwZScpIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lcnJvcnR5cGUnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9KTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1wZXJzb25hbC1jb250YWN0c10nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZW5kRm9ybSgnL2FqYXgvYWNjb3VudC9jb250YWN0cycsICRlbGVtZW50KTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1wZXJzb25hbC1wYXNzXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNlbmRGb3JtKCcvYWpheC9hY2NvdW50L3Bhc3N3b3JkJywgJGVsZW1lbnQpO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXBlcnNvbmFsLW5vdGlmaWNhdGlvbl0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZW5kRm9ybSgnL2FqYXgvYWNjb3VudC9ub3RpZmljYXRpb25zJywgJGVsZW1lbnQpO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXBlcnNvbmFsLWluZm9dJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgc2VuZEZvcm0oJy9hamF4L2FjY291bnQvaW5mbycsICRlbGVtZW50KTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1waG90by1mb3JtXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3QgZmlsZURhdGEgPSBjcm9wcGVkSW1hZ2UuZ2V0RGF0YSgpO1xuICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgeDogcGFyc2VJbnQoZmlsZURhdGEueCksXG4gICAgICAgIHk6IHBhcnNlSW50KGZpbGVEYXRhLnkpLFxuICAgICAgICB3aWR0aDogcGFyc2VJbnQoZmlsZURhdGEud2lkdGgpLFxuICAgICAgICBoZWlnaHQ6IHBhcnNlSW50KGZpbGVEYXRhLmhlaWdodClcbiAgICAgIH07XG4gICAgICBjcm9wcGVkSW1hZ2UuZWxlbWVudC5jbG9zZXN0KCcucG9wdXBfX3Bob3RvJykucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImltYWdlQ3JvcEluZm9cIl0nKS52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuXG4gICAgICAkZWxlbWVudC5zdWJtaXQoKTtcbiAgICB9LCAwKTtcbiAgfVxufV07XG5cbi8vIGFwcGx5IHZhbGlkYXRpb24gb24gcGVyc29uYWwgZm9ybXNcbiRwZXJzb25hbEZvcm1zLm1hcChmb3JtID0+IHtcbiAgY29uc3QgeyAkZWxlbWVudCwgY2FsbGJhY2sgfSA9IGZvcm07XG5cbiAgaWYgKCRlbGVtZW50KSB7XG4gICAgJGFwaS52YWxpZGF0ZSgkZWxlbWVudCwgKCkgPT4gY2FsbGJhY2soJGVsZW1lbnQpKTtcbiAgfVxufSk7XG5cbi8vIGFkZCBpdGVtcyBsb2dpY1xuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtcGVyc29uYWwtYWRkJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgJGVsZW1lbnQgPSBlbC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJy5qcy1jb3B5LWl0ZW0nKTtcbiAgY29uc3QgJGNsb25lZEVsZW1lbnQgPSAkZWxlbWVudC5jbG9uZU5vZGUodHJ1ZSk7XG4gIGNvbnN0ICRpbnB1dERyb3Bkb3duID0gJGNsb25lZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmlucHV0LmRyb3Bkb3duJyk7XG5cbiAgJGNsb25lZEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgQXJyYXkuZnJvbSgkY2xvbmVkRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpKS5tYXAoZWwgPT4ge1xuICAgIGVsLnJlcXVpcmVkID0gdHJ1ZTtcbiAgfSk7XG5cbiAgQXJyYXkuZnJvbSgkY2xvbmVkRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpKS5tYXAoZWwgPT4ge1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24oZSkge1xuICAgICAgZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2lucHV0LS1lcnJvcicpO1xuICAgIH0pO1xuICAgIFxuICB9KTtcblxuICBBcnJheS5mcm9tKCRjbG9uZWRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mYWtlU2Nyb2xsX19jb250ZW50JykpLm1hcChlbCA9PiB7XG4gICAgY29uc3QgJG1lbnUgPSBlbC5jbG9zZXN0KCcuZHJvcGRvd25fX21lbnUnKTtcblxuICAgIEFycmF5LmZyb20oZWwuY2hpbGRyZW4pLm1hcChpdGVtID0+IHtcbiAgICAgICRtZW51Lmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlZW5kJywgaXRlbSk7XG4gICAgfSk7XG5cbiAgICBBcnJheS5mcm9tKCRjbG9uZWRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdJykpLm1hcChlbCA9PiBlbC52YWx1ZSA9ICcnKTtcbiAgICBBcnJheS5mcm9tKCRjbG9uZWRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpKS5tYXAoZWwgPT4gZWwuY2hlY2tlZCA9IGZhbHNlKTtcblxuICAgICRtZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2Zha2VTY3JvbGwnLCAnZmFrZVNjcm9sbC0taGFzQmFyJyk7XG4gICAgJG1lbnUucXVlcnlTZWxlY3RvcignLmZha2VTY3JvbGxfX3dyYXAnKS5yZW1vdmUoKTtcbiAgICAkbWVudS5xdWVyeVNlbGVjdG9yKCcuZmFrZVNjcm9sbF9fdHJhY2snKS5yZW1vdmUoKTtcbiAgICAkbWVudS5mYWtlU2Nyb2xsKCk7XG4gIH0pO1xuXG4gICRlbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdiZWZvcmVlbmQnLCAkY2xvbmVkRWxlbWVudCk7XG5cbiAgLy8gcmVtb3ZlIGV2ZW50XG4gIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLXBlcnNvbmFsLXJlbW92ZScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZWwucGFyZW50Tm9kZS5yZW1vdmUoKTtcbiAgfSkpO1xuXG4gIGlmICgkaW5wdXREcm9wZG93bikge1xuICAgICRpbnB1dERyb3Bkb3duLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgJGRyb3Bkb3duID0gJGlucHV0RHJvcGRvd24ucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duX19tZW51Jyk7XG5cbiAgICAgICRpbnB1dERyb3Bkb3duLmNsb3Nlc3QoJy5pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dF9fZHJvcGRvd24nKS5zdHlsZS53aWR0aCA9ICRpbnB1dERyb3Bkb3duLmNsb3Nlc3QoJy5pbnB1dCcpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgJ3B4JztcbiAgICBcbiAgICAgIGlmICghJGRyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucygnZmFrZVNjcm9sbCcpKSB7XG4gICAgICAgICRkcm9wZG93bi5mYWtlU2Nyb2xsKCk7XG4gICAgICB9XG5cbiAgICB9KTtcblxuICAgIEFycmF5LmZyb20oJGlucHV0RHJvcGRvd24ucXVlcnlTZWxlY3RvckFsbCgnLmlucHV0X19kcm9wZG93bi1pdGVtW2RhdGEtZHJvcGRvd25dJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gZWwuaW5uZXJUZXh0O1xuICAgICAgXG4gICAgICBlbC5jbG9zZXN0KCcuaW5wdXQnKS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLnZhbHVlID0gdmFsdWU7XG4gICAgICBlbC5jbG9zZXN0KCcuaW5wdXQnKS5jbGFzc0xpc3QucmVtb3ZlKCdpbnB1dC0tZXJyb3InKTtcbiAgICB9KSk7XG4gIH1cbn0pKTtcblxuLy8gcmVtb3ZlIGJ1dHRvblxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtcGVyc29uYWwtcmVtb3ZlJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZWwucGFyZW50Tm9kZS5yZW1vdmUoKTtcbn0pKTtcblxuLy8gaW5pdGlhbGl6ZSBpbWFnZSBjcm9wcGVyXG5jb25zdCBjcm9wcGVySW5pdCA9IGltYWdlID0+IHtcbiAgY3JvcHBlZEltYWdlID0gbmV3IENyb3BwZXIoaW1hZ2UsIHtcbiAgICB2aWV3TW9kZTogMyxcbiAgICBhc3BlY3RSYXRpbzogMSxcbiAgICB6b29tYWJsZTogZmFsc2UsXG4gICAgZ3VpZGVzOiBmYWxzZSxcbiAgICBjZW50ZXI6IGZhbHNlLFxuICAgIGhpZ2hsaWdodDogZmFsc2UsXG4gICAgbWluQ29udGFpbmVyV2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoIDwgNzYwID8gMjAwIDogMzUwLFxuICAgIGF1dG9Dcm9wQXJlYTogMSxcbiAgICBtaW5Dcm9wQm94V2lkdGg6IDIwMCxcbiAgICBtaW5Dcm9wQm94SGVpZ2h0OiAyMDAsXG4gICAgcHJldmlldzogaW1hZ2UuY2xvc2VzdCgnLnBvcHVwX19waG90bycpLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGhvdG8tcGljJylcbiAgfSk7XG59O1xuXG5jb25zdCAkZWRpdFBob3RvUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cImVkaXQtcGhvdG9cIl0nKTtcbmlmICgkZWRpdFBob3RvUG9wdXApIHtcbiAgJGVkaXRQaG90b1BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHVwU2hvdycsICgpID0+IHtcbiAgICBjb25zdCAkdXBsb2FkZWRJbWFnZSA9ICRlZGl0UGhvdG9Qb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3Bob3RvLWltYWdlW2RhdGEtdXBsb2FkZWRdJyk7XG4gIFxuICAgIGlmICgkdXBsb2FkZWRJbWFnZSkge1xuICAgICAgY3JvcHBlckluaXQoJHVwbG9hZGVkSW1hZ2UpO1xuICAgIH1cbiAgfSlcbn1cblxuLy8gZ2V0IHVwbG9hZGVkIHBob3RvXG5jb25zdCAkcG9wdXBQaG90b0lucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBob3RvLWlucHV0Jyk7XG5cbmlmICgkcG9wdXBQaG90b0lucHV0KSB7XG4gICRwb3B1cFBob3RvSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZSA9PiB7XG4gICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdO1xuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIFxuICAgIHJlYWRlci5vbmxvYWRlbmQgPSAoKSA9PiB7XG4gICAgICBjb25zdCBpbWFnZSA9IHJlYWRlci5yZXN1bHQ7XG4gICAgICBjb25zdCAkY3JvcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jcm9wcGVyLWNvbnRhaW5lcicpO1xuICAgICAgY29uc3QgJHBvcHVwUGhvdG9Db250YWluZXIgPSAkcG9wdXBQaG90b0lucHV0LmNsb3Nlc3QoJy5wb3B1cF9fcGhvdG8nKTtcbiAgICAgIFxuICAgICAgaWYgKCRjcm9wcGVyIHx8ICEkcG9wdXBQaG90b0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3Bob3RvLWltYWdlW2RhdGEtdXBsb2FkZWRdJykpIHtcbiAgICAgICAgaWYgKCRjcm9wcGVyKSB7XG4gICAgICAgICAgJGNyb3BwZXIucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAkcG9wdXBQaG90b0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3Bob3RvLXBpYycpLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHtpbWFnZX0pYDtcbiAgICAgICAgJHBvcHVwUGhvdG9Db250YWluZXIucXVlcnlTZWxlY3RvcignLnBvcHVwX19waG90by1pbWFnZScpLnJlbW92ZSgpO1xuICAgICAgICAkcG9wdXBQaG90b0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3Bob3RvLWNvbnRhaW5lcicpLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGA8aW1nIGNsYXNzPVwicG9wdXBfX3Bob3RvLWltYWdlXCIgc3JjPVwiJHtpbWFnZX1cIiBhbHQ9XCJcIj5gKVxuICAgICAgfVxuXG4gICAgICBjb25zdCAkaW1hZ2VFbGVtZW50ID0gJHBvcHVwUGhvdG9Db250YWluZXIucXVlcnlTZWxlY3RvcignLnBvcHVwX19waG90by1pbWFnZScpO1xuICBcbiAgICAgIGNyb3BwZXJJbml0KCRpbWFnZUVsZW1lbnQpO1xuICAgIH07XG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gIH0pO1xufVxuXG4vLyBnbyB0byBkZXRhaWxlZCBzY2hlZHVsZVxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGVyc29uYWxfX3NjaGVkdWxlLXRpbWUtbGluaycpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IHRhcmdldCA9IGVsLmRhdGFzZXQuc2NoZWR1bGU7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2NoZWR1bGUtbWFpbl0nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1zY2hlZHVsZS1kZXRhaWw9XCIke3RhcmdldH1cIl1gKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgaWYgKHdpbmRvdy5pbm5lcldpZHRoID4gMTE5OSkgd2luZG93LnNjcm9sbFRvKDAsIDApO1xufSkpO1xuXG4vLyBnbyBiYWNrIHRvIG1haW4gc2NoZWR1bGVcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBlcnNvbmFsX19iYWNrJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZWwuY2xvc2VzdCgnW2RhdGEtc2NoZWR1bGUtZGV0YWlsXScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNjaGVkdWxlLW1haW5dJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+IDExOTkpIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcbn0pKTtcblxuLy8gaGFuZGxlIHNjaGVkdWxlIGRheXMgdG9nZ2xlclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wZXJzb25hbF9fc2NoZWR1bGUnKSkge1xuICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLXByZXYnKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0ICRjdXJyZW50U2NoZWR1bGUgPSBlbC5jbG9zZXN0KCdbZGF0YS1zY2hlZHVsZS1kZXRhaWxdJyk7XG4gICAgY29uc3QgY3VycmVudFNjaGVkdWxlSWQgPSBwYXJzZUludCgkY3VycmVudFNjaGVkdWxlLmRhdGFzZXQuc2NoZWR1bGVEZXRhaWwpO1xuXG4gICAgJGN1cnJlbnRTY2hlZHVsZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXNjaGVkdWxlLWRldGFpbD1cIiR7Y3VycmVudFNjaGVkdWxlSWQgLSAxfVwiXWApLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICB9KSk7XG5cbiAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1uZXh0JykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCAkY3VycmVudFNjaGVkdWxlID0gZWwuY2xvc2VzdCgnW2RhdGEtc2NoZWR1bGUtZGV0YWlsXScpO1xuICAgIGNvbnN0IGN1cnJlbnRTY2hlZHVsZUlkID0gcGFyc2VJbnQoJGN1cnJlbnRTY2hlZHVsZS5kYXRhc2V0LnNjaGVkdWxlRGV0YWlsKTtcblxuICAgICRjdXJyZW50U2NoZWR1bGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1zY2hlZHVsZS1kZXRhaWw9XCIke2N1cnJlbnRTY2hlZHVsZUlkICsgMX1cIl1gKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgfSkpO1xufVxuXG5jb25zdCBzZXRTZWxlY3RlZFNlcnZpY2VUZXJtID0gKCkgPT4ge1xuICBjb25zdCAkY2hlY2tlZFJhZGlvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBlcnNvbmFsX19zZXJ2aWNlcy10ZXJtcy0tYWN0aXZlIGlucHV0OmNoZWNrZWQnKTtcblxuICBpZiAoJGNoZWNrZWRSYWRpbykge1xuICAgIGNvbnN0IHRlcm0gPSAkY2hlY2tlZFJhZGlvLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnJhZGlvX190ZXh0JykuaW5uZXJIVE1MLnNwbGl0KCc8c3Bhbj4nKVswXS50cmltKCk7XG4gICAgY29uc3QgY29zdCA9ICRjaGVja2VkUmFkaW8udmFsdWUudG9TdHJpbmcoKS5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCAnICcpICsgJyAmIzgzODE7JztcbiAgXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBlcnNvbmFsX19zZXJ2aWNlcy1zZWxlY3RlZCBzcGFuW2RhdGEtc2VsZWN0ZWQ9XCJ0ZXJtXCJdJykuaW5uZXJUZXh0ID0gdGVybTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGVyc29uYWxfX3NlcnZpY2VzLXRvcGF5IHNwYW4nKS5pbm5lckhUTUwgPSBjb3N0O1xuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBlcnNvbmFsX19zZXJ2aWNlcy1mb290ZXInKS5jbGFzc0xpc3QucmVtb3ZlKCdwZXJzb25hbF9fc2VydmljZXMtZm9vdGVyLS1oaWRkZW4nKTtcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc3BhbltkYXRhLXNlcnZpY2UtY29zdF0nKSkge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc3BhbltkYXRhLXNlcnZpY2UtY29zdF0nKS5pbm5lckhUTUwgPSBjb3N0O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGVyc29uYWxfX3NlcnZpY2VzLWZvb3RlcicpLmNsYXNzTGlzdC5hZGQoJ3BlcnNvbmFsX19zZXJ2aWNlcy1mb290ZXItLWhpZGRlbicpO1xuICB9XG59O1xuXG4vLyBoYW5kbGUgc2VydmljZSB0b2dnbGVyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGVyc29uYWxfX3NlcnZpY2VzLWxhYmVsIGlucHV0JykuZm9yRWFjaChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gIGNvbnN0IHZhbHVlID0gZWwudmFsdWU7XG4gIGNvbnN0IHRpdGxlID0gZWwucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGVyc29uYWxfX3NlcnZpY2VzLWhlYWRpbmcnKS5pbm5lclRleHQ7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBlcnNvbmFsX19zZXJ2aWNlcy10ZXJtcy0tYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgncGVyc29uYWxfX3NlcnZpY2VzLXRlcm1zLS1hY3RpdmUnKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnBlcnNvbmFsX19zZXJ2aWNlcy10ZXJtc1tkYXRhLXRlcm1zPVwiJHt2YWx1ZX1cIl1gKS5jbGFzc0xpc3QuYWRkKCdwZXJzb25hbF9fc2VydmljZXMtdGVybXMtLWFjdGl2ZScpO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wZXJzb25hbF9fc2VydmljZXMtc2VsZWN0ZWQgc3BhbltkYXRhLXNlbGVjdGVkPVwic2VydmljZVwiXScpLmlubmVySFRNTCA9ICcmbGFxdW87JyArIHRpdGxlICsgJyZyYXF1bzsnO1xuXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2hlYWRpbmctc2VydmljZScpKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19oZWFkaW5nLXNlcnZpY2UnKS5pbm5lclRleHQgPSB0aXRsZTtcbiAgfVxuXG4gIHNldFNlbGVjdGVkU2VydmljZVRlcm0oKTtcbn0pKTtcblxuLy8gaGFuZGxlIHNlcnZpY2UgdGVybSB0b2dnbGVyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGVyc29uYWxfX3NlcnZpY2VzLXJhZGlvIGlucHV0JykuZm9yRWFjaChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBzZXRTZWxlY3RlZFNlcnZpY2VUZXJtKSk7XG5cbi8vIHNjcm9sbCB0byB2ZXJpZmljYXRpb25cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGVyc29uYWxfX3ZlcmlmeS1hcnJvdycpKSB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wZXJzb25hbF9fdmVyaWZ5LWFycm93JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgc2Nyb2xsVG8oe1xuICAgICAgdG9wOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGVyc29uYWxfX3ZlcmlmaWNhdGlvbi1idG4nKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQgLSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyJykub2Zmc2V0SGVpZ2h0IC0gMjAsXG4gICAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgICB9KTtcbiAgfSk7XG59XG5cbi8vIGNvcHkgdG8gY2xpcGJvYXJkXG5jb25zdCAkY29weUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wZXJzb25hbF9fcmVmLWNvcHknKTtcblxuaWYgKCRjb3B5QnRuKSB7XG4gICRjb3B5QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0ICRpbnB1dCA9ICRjb3B5QnRuLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICBjb25zdCB0eXBlID0gJGlucHV0LmdldEF0dHJpYnV0ZSgndHlwZScpO1xuICAgICRpbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpO1xuICAgIFxuICAgICRpbnB1dC5zZWxlY3QoKTtcbiAgICAkaW5wdXQuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgOTk5OTkpO1xuICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5Jyk7XG4gICAgJGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsIHR5cGUpO1xuICB9KTtcbn1cblxuLy8gc2hhcmUgbWVudSBoYW5kbGluZ1xuY29uc3QgJHNoYXJlTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wZXJzb25hbF9fcmVmLXNoYXJlJyk7XG5cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGVyc29uYWxfX3JlZi1pbnZpdGUnKSkge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGVyc29uYWxfX3JlZi1pbnZpdGUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRzaGFyZU1lbnUuY2xhc3NMaXN0LmFkZCgncGVyc29uYWxfX3JlZi1zaGFyZS0tYWN0aXZlJyk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vLyBjbG9zZSBzaGFyZSBtZW51IG9uIG91dGVyIGNsaWNrXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkYWN0aXZlU2hhcmVNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBlcnNvbmFsX19yZWYtc2hhcmUtLWFjdGl2ZScpO1xuXG4gIGlmICgkYWN0aXZlU2hhcmVNZW51ICYmICFlLnRhcmdldC5jbG9zZXN0KCcucGVyc29uYWxfX3JlZi1zaGFyZScpKSB7XG4gICAgJGFjdGl2ZVNoYXJlTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdwZXJzb25hbF9fcmVmLXNoYXJlLS1hY3RpdmUnKTtcbiAgfVxufSk7XG5cbi8vIHRvZ2dsZSBwZXJzb25hbCB0YWJzXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGVyc29uYWxfX3RhYnMtdG9nZ2xlJykuZm9yRWFjaChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgJHRhYnMgPSBlbC5jbG9zZXN0KCcucGVyc29uYWxfX3RhYnMnKTtcbiAgY29uc3QgdGFyZ2V0ID0gZWwuZGF0YXNldC50YWI7XG5cbiAgJHRhYnMucXVlcnlTZWxlY3RvcignLnBlcnNvbmFsX190YWJzLXRvZ2dsZS0tYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgncGVyc29uYWxfX3RhYnMtdG9nZ2xlLS1hY3RpdmUnKTtcbiAgJHRhYnMucXVlcnlTZWxlY3RvcignLnBlcnNvbmFsX190YWJzLWNvbnRlbnQtLWFjdGl2ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ3BlcnNvbmFsX190YWJzLWNvbnRlbnQtLWFjdGl2ZScpO1xuXG4gIGVsLmNsYXNzTGlzdC5hZGQoJ3BlcnNvbmFsX190YWJzLXRvZ2dsZS0tYWN0aXZlJyk7XG4gICR0YWJzLnF1ZXJ5U2VsZWN0b3IoYC5wZXJzb25hbF9fdGFicy1jb250ZW50W2RhdGEtdGFiPVwiJHt0YXJnZXR9XCJdYCkuY2xhc3NMaXN0LmFkZCgncGVyc29uYWxfX3RhYnMtY29udGVudC0tYWN0aXZlJyk7XG59KSk7XG4gIGNvbnN0IGpvaW5lZFNsaWRlciA9IG5ldyBTd2lwZXIoJy5qb2luZWRfX3NsaWRlcicsIHtcbiAgbG9vcDogdHJ1ZSxcbiAgY2VudGVyZWRTbGlkZXM6IHRydWUsXG4gIGFsbG93VG91Y2hNb3ZlOiBmYWxzZSxcbiAgc2xpZGVzUGVyVmlldzogMSxcbiAgbmF2aWdhdGlvbjoge1xuICAgIG5leHRFbDogJy5zd2lwZXItYnV0dG9uLW5leHQnLFxuICAgIHByZXZFbDogJy5zd2lwZXItYnV0dG9uLXByZXYnLFxuICB9LFxuICBvbjoge1xuICAgIHNsaWRlQ2hhbmdlKHN3aXBlcikge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpvaW5lZF9faW5mby0tYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnam9pbmVkX19pbmZvLS1hY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5qb2luZWRfX2luZm9bZGF0YS1jb250ZW50PVwiJHtzd2lwZXIucmVhbEluZGV4ICsgMX1cIl1gKS5jbGFzc0xpc3QuYWRkKCdqb2luZWRfX2luZm8tLWFjdGl2ZScpO1xuICAgIH1cbiAgfSxcbiAgYnJlYWtwb2ludHM6IHtcbiAgICA3NjA6IHtcbiAgICAgIHNsaWRlc1BlclZpZXc6IDNcbiAgICB9XG4gIH1cbn0pO1xuXG59Il19
