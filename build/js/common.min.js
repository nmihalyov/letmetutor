"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function _iterableToArrayLimit(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,c=[],a=!0,i=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(c.push(n.value),!t||c.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(i)throw r}}return c}}function _arrayWithHoles(e){if(Array.isArray(e))return e}window.onload=function(){var e=function(e){var t=document.querySelector('.header-notification[data-notification="'.concat(e,'"]'));t.classList.add("header-notification--active"),setTimeout((function(){t.classList.remove("header-notification--active")}),4e3)},t={popup:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.onHide,n=t.onShow,r=function(){document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px")},c=function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)};return{isShown:function(){return e.classList.contains("popup--opened")},show:function(){var t=new Promise((function(t){e.style.display="block",t()}));r(),t.then((function(){e.classList.add("popup--opened"),"function"==typeof n&&n()}))},hide:function(){var t=-parseInt(document.body.style.marginTop);e.classList.remove("popup--opened"),setTimeout((function(){e.style.display="none",c(t),"function"==typeof o&&o()}),300)}}}};t.validate=function(e,t){var o=null,n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,r=function(e){e.closest(".input")?e.closest(".input").classList.add("input--error"):e.closest(".textarea")&&e.closest(".textarea").classList.add("textarea--error"),o=e,e.focus()};e.querySelector('button[type="submit"]').addEventListener("click",(function(c){c.preventDefault();var a=!0,i=Array.from(e.querySelectorAll("input[required], textarea[required]")),s=e.querySelectorAll(".checkboxselect");i.reverse().map((function(e){switch(o=null,e.dataset.passRepeat&&e.value!==e.closest("form").querySelector("input[data-pass]").value&&r(e),e.getAttribute("type")){case"text":case"password":""===e.value&&(r(e),a=!1);break;case"tel":(""===e.value||e.value.includes("_"))&&(r(e),a=!1);break;case"checkbox":e.checked||(o=t=e,t.closest(".checkbox").classList.add("checkbox--error"),a=!1);break;case"email":n.test(e.value)||(r(e),a=!1);break;default:""===e.value&&(r(e),a=!1)}var t})),s.length&&Array.from(s).map((function(e){var t=!1;Array.from(e.querySelectorAll(".checkbox__input")).map((function(e){e.checked&&(t=!0)})),t||(e.classList.add("checkboxselect--error"),a=!1)})),a?(c.currentTarget.classList.add("button--loading"),t()):scrollTo(0,o.closest(".input").getBoundingClientRect().y+pageYOffset-document.querySelector(".header").offsetHeight-10)})),Array.from(e.querySelectorAll("input")).concat(Array.from(e.querySelectorAll("textarea"))).map((function(e){return e.addEventListener("input",(function(){e.closest(".input")?e.closest(".input").classList.remove("input--error"):e.closest(".checkbox")?e.closest(".checkbox").classList.remove("checkbox--error"):e.closest(".textarea")&&e.closest(".textarea").classList.remove("textarea--error")}))}))};var o=new Event("popupShow");document.addEventListener("click",(function(e){var n=e.target;if(n.closest(".js-open-popup")){e.preventDefault();var r=n.closest(".js-open-popup").dataset.popup,c=document.querySelector('.js-popup[data-popup="'.concat(r,'"]'));"request-auth"===r&&(document.querySelector(".profile-head__name")?c.querySelector(".popup__desc b").innerText=document.querySelector(".profile-head__name").innerText:c.querySelector(".popup__desc b").innerText=n.closest(".tutorcard").querySelector(".tutorcard__name").innerText),t.popup(c,{onShow:function(){"edit-photo"===r&&c.dispatchEvent(o)}}).show()}})),Array.from(document.querySelectorAll(".js-close-popup")).map((function(e){return e.addEventListener("click",(function(e){if(!e.target.closest(".popup__window")||!e.currentTarget.classList.contains("js-popup")){var o=e.currentTarget.closest(".popup");t.popup(o).hide()}}))})),[{$element:document.querySelector("form[data-restore-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-request-auth-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-refuse]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-pay]"),callback:function(e){var o=document.querySelector('.js-popup[data-popup="application-pay"]'),n=document.querySelector('.js-popup[data-popup="application-pay-success"]');setTimeout((function(){t.popup(o,{onHide:function(){Array.from(o.querySelectorAll("input")).map((function(e){return e.value=""})),t.popup(n).show(),e.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}},{$element:document.querySelector("form[data-service-pay]"),callback:function(e){var o=document.querySelector('.js-popup[data-popup="service-pay"]'),n=document.querySelector('.js-popup[data-popup="service-pay-success"]');setTimeout((function(){t.popup(o,{onHide:function(){Array.from(o.querySelectorAll("input")).map((function(e){return e.value=""})),t.popup(n).show(),e.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}},{$element:document.querySelector("form[data-offer-form]"),callback:function(e){var o=document.querySelector('.js-popup[data-popup="offer"]'),n=document.querySelector('.js-popup[data-popup="offer-success"]');setTimeout((function(){t.popup(o,{onHide:function(){Array.from(o.querySelectorAll("input")).map((function(e){return e.value=""})),t.popup(n).show(),e.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}},{$element:document.querySelector("form[data-request-form]"),callback:function(e){var o=document.querySelector('.js-popup[data-popup="request"]'),n=document.querySelector('.js-popup[data-popup="request-success"]');setTimeout((function(){t.popup(o,{onHide:function(){Array.from(o.querySelectorAll("input")).map((function(e){return e.value=""})),t.popup(n).show(),e.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}},{$element:document.querySelector("form[data-request-specific-form]"),callback:function(e){var o=document.querySelector('.js-popup[data-popup="request-specific"]'),n=document.querySelector('.js-popup[data-popup="request-success"]');setTimeout((function(){t.popup(o,{onHide:function(){Array.from(o.querySelectorAll("input")).map((function(e){return e.value=""})),t.popup(n).show(),e.querySelector('button[type="submit"]').classList.remove("button--loading")}}).hide()}),1e3)}}].map((function(e){var o=e.$element,n=e.callback;o&&t.validate(o,(function(){return n(o)}))}));Array.from(document.querySelectorAll(".dropdown"));document.addEventListener("click",(function(){document.querySelector(".dropdown--active")&&document.querySelector(".dropdown--active").classList.remove("dropdown--active")})),document.addEventListener("click",(function(e){var t=e.target.closest(".dropdown");t&&(t.classList.contains("input__code")&&e.preventDefault(),t.classList.contains("dropdown--active")||(document.querySelector(".dropdown--active")&&document.querySelector(".dropdown--active").classList.remove("dropdown--active"),t.classList.toggle("dropdown--active")))})),document.addEventListener("click",(function(e){var t=e.target.closest(".dropdown__menu-item");if(t&&(document.querySelector(".dropdown--active").classList.remove("dropdown--active"),t.getAttribute("data-toggle"))){var o=e.target,n=o.innerText,r=o.closest(".dropdown__menu").querySelector(".dropdown__menu-item--hidden"),c=o.closest(".dropdown"),a=c.querySelector(".dropdown__value"),i=c.querySelector("input");r&&r.classList.remove("dropdown__menu-item--hidden"),i&&(i.value=n),t.classList.add("dropdown__menu-item--hidden"),a.innerText=n}})),Array.from(document.querySelectorAll(".tabs__item")).map((function(e){return e.addEventListener("click",(function(t){t.preventDefault();var o=e.dataset.tab,n=e.closest("[data-tabs]").querySelector("[data-active]");e.closest(".tabs").querySelector(".tabs__item--active").classList.remove("tabs__item--active"),e.classList.add("tabs__item--active"),n&&(e.closest("[data-tabs]").querySelector("[data-active]").removeAttribute("data-active"),e.closest("[data-tabs]").querySelector('[data-content="'.concat(o,'"]')).setAttribute("data-active",!0))}))}));var n=new Event("changeCountry");Array.from(document.querySelectorAll(".input.dropdown")).concat(Array.from(document.querySelectorAll(".input .dropdown"))).map((function(e){return e.addEventListener("click",(function(){var t=e.querySelector(".dropdown__menu");e.closest(".input").querySelector(".input__dropdown").style.width=e.closest(".input").getBoundingClientRect().width+"px",t.classList.contains("fakeScroll")||t.fakeScroll()}))})),Array.from(document.querySelectorAll(".input__dropdown-item[data-code-loc]")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.codeLoc,o=e.dataset.mask,n=e.closest(".input").querySelector("input");e.closest(".input__code").dataset.codeLoc=t,e.closest(".input__code").dataset.mask=o,n.placeholder=o.replaceAll("9","_"),function(e,t){Inputmask({mask:t}).mask(e)}(n,o)}))})),Array.from(document.querySelectorAll(".input__dropdown-item[data-dropdown]")).map((function(e){return e.addEventListener("click",(function(){var t=e.innerText;e.closest(".input").querySelector("input").value=t,e.closest(".input").classList.remove("input--error"),e.closest(".input").classList.contains("js-auth-country")&&e.closest(".input").dispatchEvent(n)}))})),Array.from(document.querySelectorAll('input[type="tel"]')).map((function(e){Inputmask({mask:e.closest(".input").querySelector(".input__code").dataset.mask}).mask(e)})),Array.from(document.querySelectorAll(".checkbox__hint")).map((function(e){return e.addEventListener("click",(function(t){t.preventDefault(),t.target.closest(".checkbox__hint-container")||e.querySelector(".checkbox__hint-container").classList.toggle("checkbox__hint-container--shown")}))})),document.addEventListener("click",(function(e){var t=document.querySelector(".checkbox__hint-container--shown");e.target.closest(".checkbox__hint")&&!e.target.closest(".checkbox__hint-close")||!t||t.classList.remove("checkbox__hint-container--shown")})),Array.from(document.querySelectorAll(".checkboxselect__list")).map((function(e){e.addEventListener("click",(function(t){t.stopPropagation();var o=e.closest(".checkboxselect"),n=!1;o.classList.remove("checkboxselect--error"),Array.from(e.querySelectorAll(".checkbox__input")).map((function(t){var r=o.querySelector(".checkboxselect__input-placeholder");t.checked&&(n=!0),t.addEventListener("click",(function(){var t="";Array.from(e.querySelectorAll("input:checked")).map((function(e){t+=e.closest(".checkboxselect__item").querySelector(".checkbox__text").innerText+", "})),t?(r.innerText=t.substring(0,t.length-2),r.classList.add("checkboxselect__input-placeholder--active")):(r.innerText=r.dataset.placeholder,r.classList.remove("checkboxselect__input-placeholder--active"))}))})),n?o.classList.add("checkboxselect--checked"):o.classList.remove("checkboxselect--checked")})),e.fakeScroll()})),Array.from(document.querySelectorAll(".filters__dropdown-item")).map((function(e){return e.addEventListener("click",(function(e){var t=e.currentTarget,o=t.innerText;t.closest(".filters__input").querySelector(".filters__input-field").value=o}))}));var r=function(e,t){var o=function(o){var n=e.nextElementSibling.querySelector(".filters__dropdown-inner"),r=n.querySelector(".fakeScroll__content")||n,c="location"===e.getAttribute("name"),a=c?t.map((function(e){return e.key})).concat(t.flatMap((function(e){return e.cities}))):JSON.parse(e.dataset.options),i=e.value.toLowerCase(),s=r.closest(".filters__dropdown").querySelector('input[type="checkbox"]'),l=!1;r.innerHTML="",a.map((function(e){if(o||0===e.toLowerCase().indexOf(i)){var t=c?'<a class="filters__dropdown-item dropdown__menu-item'.concat(i&&!o?" filters__dropdown-item--smart":"",'" href="javascript:void(0)"><span>').concat(e.substr(0,i.length),"</span>").concat(e.substr(i.length),"</a>"):'<a class="filters__dropdown-item dropdown__menu-item" href="javascript:void(0)">'.concat(e,"</a>");l=!0,r.insertAdjacentHTML("beforeend",t)}})),l?(n.parentNode.classList.remove("filters__dropdown--hidden"),n.parentNode.classList.remove("filters__dropdown--empty")):s?n.parentNode.classList.add("filters__dropdown--empty"):n.parentNode.classList.add("filters__dropdown--hidden"),Array.from(r.querySelectorAll(".filters__dropdown-item")).map((function(t){return t.addEventListener("click",(function(){e.value=t.innerText,e.setAttribute("data-value",t.innerText),s&&(s.checked=!1,e.removeAttribute("readonly"))}))})),o&&!n.classList.contains("fakeScroll")&&r.fakeScroll()};"cost"!==e.name&&(e.addEventListener("input",(function(){return o(!1)})),e.addEventListener("focus",(function(){return o(!0)})),e.addEventListener("blur",(function(){""!==e.value&&e.dataset.value?e.value=e.dataset.value:e.value=""})))};document.querySelectorAll(".filters__input-field").length&&Array.from(document.querySelectorAll(".filters__input-field")).map((function(e){"location"===e.name?fetch("json/location.json").then((function(e){return e.json()})).then((function(t){r(e,t)})):r(e)})),Array.from(document.querySelectorAll(".filters__cost-range")).map((function(e){var t=+e.dataset.min,o=+e.dataset.max,n=+e.dataset.min,r=+e.dataset.max;noUiSlider.create(e,{start:[n,r],connect:!0,range:{min:t,max:o},step:100}),e.noUiSlider.on("slide",(function(t){var o=parseInt(t[0]),n=parseInt(t[1]);e.closest(".filters__input").querySelector(".filters__input-field").value="".concat(o," ₽ – ").concat(n," ₽"),e.closest(".filters__cost").querySelector('[data-cost="from"]').innerText=o,e.closest(".filters__cost").querySelector('[data-cost="to"]').innerText=n}))})),Array.from(document.querySelectorAll(".filters__dropdown-checkbox")).map((function(e){return e.addEventListener("click",(function(){var t=e.closest(".filters__input").querySelector(".filters__input-field");if(e.querySelector("input").checked){var o=e.querySelector(".checkbox__text").innerText;t.value=o,t.setAttribute("data-value",o),t.setAttribute("readonly","readonly")}else t.value="",t.setAttribute("data-value",""),t.removeAttribute("readonly")}))})),document.addEventListener("click",(function(e){var t=e.target;t.classList.contains("js-tutorcard-more")&&(t.style.display="none",Array.from(t.closest(".tutorcard__subjects").querySelectorAll(".tutorcard__subjects-item--hidden")).map((function(e){e.classList.remove("tutorcard__subjects-item--hidden")})))})),Array.from(document.querySelectorAll(".accordion__item-title")).map((function(e){return e.addEventListener("click",(function(){var t=e.closest(".accordion").querySelector(".accordion__item--active"),o=e.closest(".accordion__item");o.classList.contains("accordion__item--active")?o.classList.remove("accordion__item--active"):(t&&t.classList.remove("accordion__item--active"),o.classList.add("accordion__item--active"))}))}));var c=document.querySelectorAll(".personal__applications-checkbox");document.querySelectorAll(".application__write").forEach((function(e){return e.addEventListener("click",(function(){var t=e.dataset.show,o=e.dataset.hide,n=e.innerHTML;e.closest(".application").querySelector(".application__form").style.display=n===t?"block":"none",e.innerText=n===t?o:t}))})),c.forEach((function(e){return e.addEventListener("click",(function(){var t=e.querySelector("input").checked;document.querySelectorAll(".application__checkbox input").forEach((function(e){return e.checked=t})),c.forEach((function(o){o!==e&&(o.querySelector("input").checked=t)}))}))})),document.querySelectorAll(".application__checkbox input").forEach((function(e){return e.addEventListener("change",(function(){var t=!0;e.closest(".personal__card").querySelectorAll(".application__checkbox input").forEach((function(e){e.checked||(t=!1)})),c.forEach((function(e){return e.querySelector("input").checked=t}))}))})),document.querySelectorAll(".application__declined-link").forEach((function(e){return e.addEventListener("click",(function(){e.nextElementSibling.classList.toggle("application__declined-reason--active")}))})),document.addEventListener("click",(function(e){var t=document.querySelector(".application__declined-reason--active");t&&!e.target.closest(".application__declined")&&t.classList.remove("application__declined-reason--active")})),document.querySelectorAll(".balance__input").forEach((function(e){Inputmask({alias:"decimal",radixPoint:" ",suffix:" ₽"}).mask(e)})),[{$element:document.querySelector("form[data-balance-replensih]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}}].map((function(e){var o=e.$element,n=e.callback;o&&t.validate(o,(function(){return n(o)}))}));var a=document.querySelector(".banner");JSON.parse(localStorage.getItem("letmetutor:bannerIsHidden"))?a.remove():(a.style.display="flex",document.querySelector(".banner__close").addEventListener("click",(function(){a.classList.add("banner--hide"),setTimeout((function(){a.remove(),localStorage.setItem("letmetutor:bannerIsHidden",!0)}),500)})));var i=document.querySelector(".cookies");JSON.parse(localStorage.getItem("letmetutor:cookiesIsHidden"))?i.remove():(i.classList.add("cookies--shown"),document.querySelector(".cookies__btn").addEventListener("click",(function(){i.classList.remove("cookies--shown"),setTimeout((function(){i.remove(),localStorage.setItem("letmetutor:cookiesIsHidden",!0)}),500)})));var s=function(){!function(e){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,e)}(),document.querySelector(".header-menu").classList.remove("header-menu--shown")};document.querySelector(".header__burger").addEventListener("click",(function(){-parseInt(document.body.style.marginTop),document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px"),document.querySelector(".header-menu").classList.add("header-menu--shown")})),document.querySelector(".header-menu__backdrop").addEventListener("click",s),document.querySelector(".header-menu__close").addEventListener("click",s),Array.from(document.querySelectorAll(".header__notifications-wrapper")).map((function(e){e.classList.contains("fakeScroll")||e.fakeScroll()}));new Swiper(".popular__grid--mobile",{loop:!0,loopAdditionalSlides:3,spaceBetween:20,slidesPerView:"auto",centeredSlides:!0,breakpoints:{760:{slidesPerView:2,centeredSlides:!1}}}),new Swiper(".reviews__slider",{loop:!0,spaceBetween:20,slidesPerView:3,slidesPerGroup:3,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".reviews__slider--mobile",{loop:!0,spaceBetween:20,loopAdditionalSlides:3,pagination:{el:".swiper-pagination",clickable:!0}});[{$element:document.querySelector("form[data-login-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-signup-student-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-signup-tutor-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-support-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-signup-student-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}},{$element:document.querySelector("form[data-signup-tutor-form]"),callback:function(e){setTimeout((function(){e.querySelector('button[type="submit"]').classList.remove("button--loading"),e.submit()}),1e3)}}].map((function(e){var o=e.$element,n=e.callback;o&&t.validate(o,(function(){return n(o)}))})),Array.from(document.querySelectorAll(".js-auth-country")).map((function(e){e.addEventListener("changeCountry",(function(t){e.closest("form").querySelector(".js-auth-city").dataset.country=t.target.querySelector("input").value})),e.dispatchEvent(n)})),document.querySelectorAll(".js-auth-city input").length&&fetch("json/location.json").then((function(e){return e.json()})).then((function(e){Array.from(document.querySelectorAll(".js-auth-city input")).map((function(t){t.addEventListener("input",(function(t){var o=t.currentTarget,n=o.closest(".input"),r=n.dataset.country;if(r){var c=e.filter((function(e){return e.key===r}))[0].cities,a=o.value.toLowerCase(),i=o.closest(".input").querySelector(".dropdown__menu"),s=i.querySelector(".fakeScroll__content"),l=!1;s&&(s.innerHTML=""),""!==o.value&&(c.map((function(e){0===e.toLowerCase().indexOf(a)&&(l=!0,s.insertAdjacentHTML("beforeend",'<a class="input__dropdown-item dropdown__menu-item'.concat(a?" input__dropdown-item--smart":"",'" href="javascript:void(0)"><span>').concat(e.substr(0,a.length),"</span>").concat(e.substr(a.length),"</a>")))})),l&&Array.from(n.querySelectorAll(".input__dropdown-item")).map((function(e){return e.addEventListener("click",(function(){o.value=e.innerText}))}))),i.classList.contains("fakeScroll")||i.fakeScroll()}})),t.addEventListener("focus",(function(){var e=t.closest(".input").querySelector(".fakeScroll__content");e&&(e.innerHTML="")}))}))})),Array.from(document.querySelectorAll('input[name="rulesAgreement"]')).map((function(e){return e.addEventListener("change",(function(){var t=e.closest("form").querySelector('button[type="submit"]');e.checked?(t.classList.remove("button--disabled"),t.removeAttribute("disabled")):(t.classList.add("button--disabled"),t.setAttribute("disabled","disabled"))}))})),Array.from(document.querySelectorAll(".auth__toggle .tabs__item")).map((function(e){return e.addEventListener("click",(function(){document.querySelector(".auth__type").value=e.dataset.tab-1}))}));var l=document.querySelector(".js-catalog-more");if(l){var u=document.querySelector(".pagination__arrow--prev"),d=document.querySelector(".pagination__arrow--next"),p=document.querySelector(".pagination__separator"),m={current:[1],total:parseInt(document.querySelector(".catalog__items").dataset.total)},_=function(e){Array.from(document.querySelectorAll(".pagination__page--current")).map((function(e){return e.classList.remove("pagination__page--current")})),document.querySelector('.pagination__page[data-page="'.concat(e,'"]')).classList.add("pagination__page--current"),window.scrollTo(0,0)},f=function(e){var t=p.previousElementSibling,o=document.querySelector(".pagination__page");if(+t.dataset.page===e)e===m.total-2?(o.remove(),p.classList.add("pagination__separator--hidden"),p.insertAdjacentHTML("beforebegin",'<a class="pagination__page" href="javascript:void(0)" data-page="'.concat(e+1,'">').concat(e+1,"</a>"))):e<m.total-2&&(o.remove(),p.insertAdjacentHTML("beforebegin",'<a class="pagination__page" href="javascript:void(0)" data-page="'.concat(e+1,'">').concat(e+1,"</a>")),p.classList.remove("pagination__separator--hidden"));else if(+o.dataset.page===e&&1!==e)t.remove(),document.querySelector(".pagination__pages").insertAdjacentHTML("afterbegin",'<a class="pagination__page" href="javascript:void(0)" data-page="'.concat(e-1,'">').concat(e-1,"</a>")),p.classList.remove("pagination__separator--hidden");else if(e===m.total&&!p.classList.contains("pagination__separator--")){var n=document.querySelectorAll(".pagination__page");p.classList.add("pagination__separator--hidden"),Array.from(n).reverse().map((function(t,o){t.innerText=e-o,t.dataset.page=e-o}))}},v=function(e){var t=e,o=Array.from(document.querySelectorAll(".filters__input-field")).map((function(e){return e.name}));return new URL(location.href).searchParams.toString().split("&").map((function(e){var n=_slicedToArray(e.split("="),1)[0];o.includes(n)&&(t+="&"+e)})),t+="&limit=".concat(document.querySelector(".js-catalog-limit .dropdown__value").innerText)},y=function(e){var t=e.top,o=e.image,n=e.verified,r=e.name,c=e.country,a=e.subjects,i=e.location,s=e.description,l=e.link,u=e.rating,d=e.reviews,p=e.price;return'\n    <div class="tutorcard'.concat(t?" tutorcard--top":"",'">\n      <div class="tutorcard__image" style="background-image: url(\'img/inhtml/').concat(o,'\')"></div>\n      <div class="tutorcard__info">\n        <div>\n          <p class="tutorcard__name').concat(n?" tutorcard__name--verified":"",'">').concat(r,'</p>\n          <p class="tutorcard__location" data-loc=').concat(c,">").concat(i,'</p>\n          <div class="tutorcard__subjects">\n            ').concat(a.map((function(e){return'\n              <a class="tutorcard__subjects-item'.concat(e.search?" tutorcard__subjects-item--search":"").concat(e.hidden?" tutorcard__subjects-item--hidden":"",'" href="javascript:void(0)">').concat(e.name," <span>(опыт <b>").concat(e.experience,"</b>)</span></a>\n            ")})).join(""),'\n            <a class="tutorcard__subjects-more js-tutorcard-more" href="javascript:void(0)">+').concat(["предмет","предмета","предметов"].decline(a.length-2,!0),'</a>\n          </div>\n          <p class="tutorcard__desc">').concat(s,'</p>\n        </div><a class="tutorcard__more" href=').concat(l,'>Подробнее</a>\n      </div>\n      <div class="tutorcard__actions">\n        <div class="tutorcard__actions-info">\n          <div class="tutorcard__rating').concat(0===parseInt(d)?" tutorcard__rating--empty":"",'">\n            <p class="tutorcard__rating-rate">').concat(u,'</p>\n            <p class="tutorcard__rating-reviews">(').concat(d,')</p>\n          </div>\n          <div class="tutorcard__cost">\n            <p class="tutorcard__cost-value">').concat(p,' ₽</p>\n            <p class="tutorcard__cost-desc">в час</p>\n          </div>\n        </div>\n        <button class="button js-open-popup').concat(t?" button--primary":" button--secondary",' tutorcard__btn" data-popup="request-auth">Оставить заявку</button>\n      </div>\n    </div>\n  ')};l.addEventListener("click",(function(e){e.preventDefault(),l.classList.add("button--loading");var t=m.current[m.current.length-1]+1,o=v("json/catalog.json?page=".concat(t));m.current.push(t),Array.from(document.querySelectorAll(".pagination__page")).map((function(e){m.current.includes(parseInt(e.innerText))&&e.classList.add("pagination__page--current")})),fetch(o).then((function(e){return e.json()})).then((function(e){e.map((function(e){document.querySelector(".catalog__items").insertAdjacentHTML("beforeend",y(e))})),t===m.total&&(l.classList.add("catalog__bottom-btn--hidden"),d.classList.add("pagination__arrow--disabled")),l.classList.remove("button--loading")}))})),u.addEventListener("click",(function(e){e.preventDefault();var t=m.current[0]-1,o=v("json/catalog.json?page=".concat(t));m.current=[t],fetch(o).then((function(e){return e.json()})).then((function(e){var o="";e.map((function(e){o+=y(e)})),document.querySelector(".pagination__arrow--next").classList.remove("pagination__arrow--disabled"),_(t),1===t&&u.classList.add("pagination__arrow--disabled"),l.classList.remove("catalog__bottom-btn--hidden"),document.querySelector(".catalog__items").innerHTML=o})),p&&f(t)})),d.addEventListener("click",(function(e){e.preventDefault();var t=m.current[m.current.length-1]+1,o=v("json/catalog.json?page=".concat(t));m.current=[t],fetch(o).then((function(e){return e.json()})).then((function(e){var o="";e.map((function(e){o+=y(e)})),document.querySelector(".pagination__arrow--prev").classList.remove("pagination__arrow--disabled"),_(t),t===m.total&&(l.classList.add("catalog__bottom-btn--hidden"),d.classList.add("pagination__arrow--disabled")),document.querySelector(".catalog__items").innerHTML=o,p&&f(t)}))})),document.addEventListener("click",(function(e){var t=e.target;if(t.classList.contains("pagination__page")){var o=parseInt(t.dataset.page),n=v("json/catalog.json?page=".concat(o));m.current=[o],fetch(n).then((function(e){return e.json()})).then((function(e){var t="";e.map((function(e){t+=y(e)})),_(o),o===m.total?(u.classList.remove("pagination__arrow--disabled"),d.classList.add("pagination__arrow--disabled"),l.classList.add("catalog__bottom-btn--hidden")):1===o?(u.classList.add("pagination__arrow--disabled"),d.classList.remove("pagination__arrow--disabled"),l.classList.remove("catalog__bottom-btn--hidden")):(u.classList.remove("pagination__arrow--disabled"),d.classList.remove("pagination__arrow--disabled"),l.classList.remove("catalog__bottom-btn--hidden")),p&&f(o),document.querySelector(".catalog__items").innerHTML=t}))}}))}Array.from(document.querySelectorAll(".tutor__nav-link")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.target;scrollTo({top:document.querySelector('[data-block="'.concat(t,'"]')).getBoundingClientRect().top+window.pageYOffset-document.querySelector(".header").offsetHeight,behavior:"smooth"})}))})),Array.from(document.querySelectorAll(".profile-head__subjects-item")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.pay;e.closest(".profile-head__subjects").querySelector(".profile-head__subjects-item--highlight").classList.remove("profile-head__subjects-item--highlight"),e.classList.add("profile-head__subjects-item--highlight"),Array.from(document.querySelectorAll(".js-profile-cost")).map((function(e){return e.innerText=t}))}))}));var h=document.querySelector(".profile-about__video-cover");h&&h.addEventListener("click",(function(){var e=h.parentNode.querySelector("iframe");h.parentNode.querySelector("iframe").setAttribute("src",e.getAttribute("src")+"?autoplay=1"),h.classList.add("profile-about__video-cover--hidden")}));var S=document.querySelector(".js-reviews-more");if(S){var b={current:1,total:3};S.addEventListener("click",(function(e){e.preventDefault();var t=S.dataset.url;++b.current,fetch("".concat(t,"?page=").concat(b.current)).then((function(e){return e.json()})).then((function(e){e.map((function(e){var t,o,n,r,c,a,i;document.querySelector(".profile-reviews__feedbacks").insertAdjacentHTML("beforeend",(o=(t=e).image,n=t.name,r=t.date,c=t.rating,a=t.feedback,i=t.tag,'\n    <div class="profile-reviews__feedback">\n      '.concat(o?'<div class="profile-reviews__feedback-image" style="background-image: url(\'img/inhtml/'.concat(o,"')\"></div>"):'<div class="profile-reviews__feedback-image"></div>','\n      <div class="profile-reviews__feedback-info">\n        <div class="profile-reviews__feedback-head">\n          <div>\n            <p class="profile-reviews__feedback-name">').concat(n,'</p>\n            <p class="profile-reviews__feedback-date">').concat(r,"</p>\n          </div>\n          ").concat(i?'<p class="profile-reviews__feedback-tag">'+i+"</p>":"",'\n        </div>\n        <div class="profile-reviews__rating-stars">\n          ').concat([1,2,3,4,5].map((function(e){return e<=c?'<div class="profile-reviews__rating-star profile-reviews__rating-star--full"></div>':'<div class="profile-reviews__rating-star"></div>'})).join(""),'\n        </div>\n        <p class="profile-reviews__feedback-text">').concat(a,"</p>\n      </div>\n    </div>\n  "))),b.current===b.total&&S.remove()}))}))}))}var q=document.querySelectorAll(".profile-schedule__timezone-menu");q.length&&Array.from(q).map((function(e){e.classList.contains("fakeScroll")||e.fakeScroll()})),Array.from(document.querySelectorAll(".profile-schedule__time")).map((function(e){var t=e.querySelector(".profile-schedule__time-menu");t&&!t.classList.contains("fakeScroll")&&t.fakeScroll()}));var g=function(){var e=document.querySelector(".profile-schedule__unit--current"),t=document.querySelector('.js-popup[data-popup="request-specific"]');e&&setTimeout((function(){var o=e.dataset.date,n=e.querySelector(".profile-schedule__time-value").innerText;document.querySelector(".profile-schedule__pick").classList.add("profile-schedule__pick--active"),document.querySelector(".profile-schedule__pick-date").innerText=o,document.querySelector(".profile-schedule__pick-time").innerText=n,t&&(t.querySelector(".popup__heading-date").innerText=o,t.querySelector(".popup__heading-time").innerText=n,t.querySelector('input[name="time"]').value=n)}),0)};if(document.querySelector(".profile-schedule")){var L=document.querySelector(".profile-schedule__controls-button--prev"),k=document.querySelector(".profile-schedule__controls-button--next");L&&L.addEventListener("click",(function(){var e=document.querySelector(".profile-schedule__slide--active"),t=+e.dataset.slide,o=document.querySelector('.profile-schedule__slide[data-slide="'.concat(t-1,'"]'));o&&(e.classList.remove("profile-schedule__slide--active"),o.classList.add("profile-schedule__slide--active"),document.querySelector(".profile-schedule__controls-button--next").classList.remove("profile-schedule__controls-button--disabled"),document.querySelector(".profile-schedule__controls-dates").innerText=o.dataset.dates,o.dataset.first&&L.classList.add("profile-schedule__controls-button--disabled"))})),k&&k.addEventListener("click",(function(){var e=document.querySelector(".profile-schedule__slide--active"),t=+e.dataset.slide,o=document.querySelector('.profile-schedule__slide[data-slide="'.concat(t+1,'"]'));o&&(e.classList.remove("profile-schedule__slide--active"),o.classList.add("profile-schedule__slide--active"),document.querySelector(".profile-schedule__controls-button--prev").classList.remove("profile-schedule__controls-button--disabled"),document.querySelector(".profile-schedule__controls-dates").innerText=o.dataset.dates,o.dataset.last&&k.classList.add("profile-schedule__controls-button--disabled"))}))}Array.from(document.querySelectorAll(".profile-schedule__unit")).map((function(e){return e.addEventListener("click",(function(t){if(!t.target.closest(".profile-schedule__time")){var o=document.querySelector(".profile-schedule__unit--current");o&&o.classList.remove("profile-schedule__unit--current"),e.classList.add("profile-schedule__unit--current"),g()}}))})),Array.from(document.querySelectorAll(".profile-schedule__time-menu .dropdown__menu-item")).map((function(e){return e.addEventListener("click",g)}));var w=document.querySelector(".chat__grid"),A=document.querySelector(".chat__aside"),x=Array.from(document.querySelectorAll(".chat-item")),T=document.querySelector(".chat__head-warning"),E=document.querySelector(".chat__dialog"),j=document.querySelector(".chat__dialog-container"),I=document.querySelector(".chat__footer-input"),H=document.querySelector(".chat__footer-container"),$=document.querySelector(".chat__context"),M=document.querySelector('.js-popup[data-popup="dialog-delete"] [data-delete]'),C=0,D=new Event("formSubmit"),N=function(e){document.querySelector(".chat__context--shown")&&($.classList.remove("chat__context--shown"),window.innerWidth<760&&!e&&(document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,C)))};A&&A.fakeScroll();var R=function(){I.style.height="5px",I.style.height=I.scrollHeight+3+"px"},W=function(){var e=E.querySelector(".fakeScroll__content");e.scrollTop=e.scrollHeight};T&&(JSON.parse(localStorage.getItem("letmetutor:dialogWarningIsHidden"))?T.remove():(T.classList.add("chat__head-warning--shown"),document.querySelector(".chat__head-warning-close").addEventListener("click",(function(){T.remove(),localStorage.setItem("letmetutor:dialogWarningIsHidden",!0)})))),x&&x.map((function(e){return e.addEventListener("click",(function(t){e.querySelector(".chat-item__container").style="",e.querySelector(".chat-item__delete").style="",(window.innerWidth>759&&!e.classList.contains("chat-item--active")||!t.target.closest(".chat-item__delete"))&&(w.classList.add("chat__grid--inner"),document.querySelector(".chat-item--active").classList.remove("chat-item--active"),e.classList.add("chat-item--active"),e.querySelector(".chat-item__counter")&&e.querySelector(".chat-item__counter").remove(),document.querySelector(".chat__head-image").style.backgroundImage=e.querySelector(".chat-item__image").style.backgroundImage,document.querySelector(".chat__head-name").innerText=e.querySelector(".chat-item__name").innerText)}))})),I&&I.addEventListener("input",R),E&&(E.fakeScroll(),E.querySelector(".fakeScroll__content").addEventListener("scroll",(function(){N()})),W()),H&&(H.addEventListener("formSubmit",(function(){var e=I.value;if(0===e.replace(/\s/g,"").length)return I.focus(),!1;if("send"===H.dataset.action){var t='<div class="chat__message chat__message--right" data-id="'.concat(+document.querySelector(".chat__message:last-child").dataset.id+1,'">\n        <p class="chat__message-text">').concat(e,'</p>\n        <p class="chat__message-time">').concat(Intl.DateTimeFormat("ru-Ru",{hour:"numeric",minute:"numeric"}).format(Date.now()),"</p>\n      </div>");j.insertAdjacentHTML("beforeend",t),W()}else"edit"===H.dataset.action&&(document.querySelector('.chat__message[data-id="'.concat(H.dataset.id,'"] .chat__message-text')).innerText=e,H.classList.remove("chat__footer-container--edit"),H.dataset.action="send");I.value="",I.focus(),R()})),H.addEventListener("submit",(function(e){e.preventDefault(),H.dispatchEvent(D)})),H.addEventListener("keypress",(function(e){13!==(e.keyCode?e.keyCode:e.which)||e.shiftKey||(e.preventDefault(),H.dispatchEvent(D))}))),document.addEventListener("click",(function(e){var t=e.target;if(t.classList.contains("chat__message-text")&&t.closest(".chat__message--right")){var o=t.parentNode.dataset.id;$.classList.add("chat__context--shown"),$.style.cssText="left: ".concat(e.clientX+10,"px; top: ").concat(e.clientY+scrollY+10,"px;"),M.dataset.id=o,H.dataset.id=o,window.innerWidth<760&&(C=window.scrollY,document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px"))}else N(t.closest('[data-action="delete"]'))})),M&&M.addEventListener("click",(function(){document.querySelector('.chat__message[data-id="'.concat(M.dataset.id,'"]')).remove()})),document.querySelector('.chat__context-item[data-action="edit"]')&&document.querySelector('.chat__context-item[data-action="edit"]').addEventListener("click",(function(){var e=document.querySelector('.chat__message[data-id="'.concat(H.dataset.id,'"] .chat__message-text')).innerText;H.classList.add("chat__footer-container--edit"),H.dataset.action="edit",I.focus(),I.value=e,document.querySelector(".chat__edit-text").innerText=e,R()})),document.querySelector(".chat__edit-cancel")&&document.querySelector(".chat__edit-cancel").addEventListener("click",(function(){H.classList.remove("chat__footer-container--edit"),H.dataset.action="send",I.focus(),I.value="",R()}));var B={start:null,end:null,diff:null};x&&x.map((function(e){var t=e.querySelector(".chat-item__container"),o=e.querySelector(".chat-item__delete");e.addEventListener("touchstart",(function(n){x.map((function(t){t!==e&&(t.querySelector(".chat-item__container").style.transform="translateX(0)",t.querySelector(".chat-item__delete").style.transform="translateX(0)")})),t.style.transition="none",o.style.transition="none",B.start=n.touches[0].clientX}),!1),e.addEventListener("touchmove",(function(e){var n=e.touches[0].clientX,r=B.start-n;B.end=n,B.diff=r,r>0&&r<120&&(t.style.transform="translateX(-".concat(r,"px)"),o.style.transform="translateX(-".concat(r,"px)"))}),!1),e.addEventListener("touchend",(function(e){e.stopPropagation();var n=B.diff<60?0:-120;t.style.cssText="\n        transition: transform .3s ease;\n        transform: translateX(".concat(n,"px);\n      "),o.style.cssText="\n        transition: transform .3s ease;\n        transform: translateX(".concat(n,"px);\n      ")}),!1)}));var O=null;[{$element:document.querySelector("form[data-personal-data]"),callback:function(t){setTimeout((function(){t.querySelector('button[type="submit"]').classList.remove("button--loading"),e("success")}),1e3)}},{$element:document.querySelector("form[data-personal-experience]"),callback:function(t){setTimeout((function(){t.querySelector('button[type="submit"]').classList.remove("button--loading"),e("success")}),1e3)}},{$element:document.querySelector("form[data-personal-contacts]"),callback:function(t){setTimeout((function(){t.querySelector('button[type="submit"]').classList.remove("button--loading"),e("success")}),1e3)}},{$element:document.querySelector("form[data-personal-pass]"),callback:function(t){setTimeout((function(){t.querySelector('button[type="submit"]').classList.remove("button--loading"),e("success")}),1e3)}},{$element:document.querySelector("form[data-personal-notification]"),callback:function(t){setTimeout((function(){t.querySelector('button[type="submit"]').classList.remove("button--loading"),e("success")}),1e3)}},{$element:document.querySelector("form[data-personal-info]"),callback:function(t){setTimeout((function(){t.querySelector('button[type="submit"]').classList.remove("button--loading"),e("success")}),1e3)}},{$element:document.querySelector("form[data-photo-form]"),callback:function(t){setTimeout((function(){var o=O.getData(),n={x:parseInt(o.x),y:parseInt(o.y),width:parseInt(o.width),height:parseInt(o.height)};O.element.closest(".popup__photo").querySelector('input[name="imageCropInfo"]').value=JSON.stringify(n),t.querySelector('button[type="submit"]').classList.remove("button--loading"),e("success")}),1e3)}}].map((function(e){var o=e.$element,n=e.callback;o&&t.validate(o,(function(){return n(o)}))})),Array.from(document.querySelectorAll(".js-personal-add")).map((function(e){return e.addEventListener("click",(function(){var t=e.parentNode.querySelector(".js-copy-item"),o=t.cloneNode(!0),n=o.querySelector(".input.dropdown");Array.from(o.querySelectorAll(".fakeScroll__content")).map((function(e){var t=e.closest(".dropdown__menu");Array.from(e.children).map((function(e){t.insertAdjacentElement("beforeend",e)})),Array.from(o.querySelectorAll('input[type="text"]')).map((function(e){return e.value=""})),Array.from(o.querySelectorAll('input[type="checkbox"]')).map((function(e){return e.checked=!1})),t.classList.remove("fakeScroll","fakeScroll--hasBar"),t.querySelector(".fakeScroll__wrap").remove(),t.querySelector(".fakeScroll__track").remove(),t.fakeScroll()})),t.parentNode.insertAdjacentElement("beforeend",o),n&&(n.addEventListener("click",(function(){var e=n.querySelector(".dropdown__menu");n.closest(".input").querySelector(".input__dropdown").style.width=n.closest(".input").getBoundingClientRect().width+"px",e.classList.contains("fakeScroll")||e.fakeScroll()})),Array.from(n.querySelectorAll(".input__dropdown-item[data-dropdown]")).map((function(e){return e.addEventListener("click",(function(){var t=e.innerText;e.closest(".input").querySelector("input").value=t,e.closest(".input").classList.remove("input--error")}))})))}))}));var P=function(e){O=new Cropper(e,{viewMode:3,aspectRatio:1,zoomable:!1,guides:!1,center:!1,highlight:!1,minContainerWidth:window.innerWidth<760?200:350,autoCropArea:1,minCropBoxWidth:200,minCropBoxHeight:200,preview:e.closest(".popup__photo").querySelector(".popup__photo-pic")})},X=document.querySelector('.js-popup[data-popup="edit-photo"]');X&&X.addEventListener("popupShow",(function(){var e=X.querySelector(".popup__photo-image[data-uploaded]");e&&P(e)}));var Y=document.querySelector(".js-photo-input");Y&&Y.addEventListener("change",(function(e){var t=e.target.files[0],o=new FileReader;o.onloadend=function(){var e=o.result,t=document.querySelector(".cropper-container"),n=Y.closest(".popup__photo");!t&&n.querySelector(".popup__photo-image[data-uploaded]")||(t&&t.remove(),n.querySelector(".popup__photo-pic").style.backgroundImage="url(".concat(e,")"),n.querySelector(".popup__photo-image").remove(),n.querySelector(".popup__photo-container").insertAdjacentHTML("afterbegin",'<img class="popup__photo-image" src="'.concat(e,'" alt="">')));var r=n.querySelector(".popup__photo-image");P(r)},o.readAsDataURL(t)})),Array.from(document.querySelectorAll(".personal__schedule-time-link")).map((function(e){return e.addEventListener("click",(function(){var t=e.dataset.schedule;document.querySelector("[data-schedule-main]").style.display="none",document.querySelector('[data-schedule-detail="'.concat(t,'"]')).style.display="block",window.innerWidth>1199&&window.scrollTo(0,0)}))})),Array.from(document.querySelectorAll(".personal__back")).map((function(e){return e.addEventListener("click",(function(){e.closest("[data-schedule-detail]").style.display="none",document.querySelector("[data-schedule-main]").style.display="block",window.innerWidth>1199&&window.scrollTo(0,0)}))})),document.querySelector(".personal__schedule")&&(Array.from(document.querySelectorAll(".profile-schedule__controls-button--prev")).map((function(e){return e.addEventListener("click",(function(){var t=e.closest("[data-schedule-detail]"),o=parseInt(t.dataset.scheduleDetail);t.style.display="none",document.querySelector('[data-schedule-detail="'.concat(o-1,'"]')).style.display="block"}))})),Array.from(document.querySelectorAll(".profile-schedule__controls-button--next")).map((function(e){return e.addEventListener("click",(function(){var t=e.closest("[data-schedule-detail]"),o=parseInt(t.dataset.scheduleDetail);t.style.display="none",document.querySelector('[data-schedule-detail="'.concat(o+1,'"]')).style.display="block"}))})));var J=function(){var e=document.querySelector(".personal__services-terms--active input:checked");if(e){var t=e.parentElement.querySelector(".radio__text").innerHTML.split("<span>")[0].trim(),o=e.value.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" &#8381;";document.querySelector('.personal__services-selected span[data-selected="term"]').innerText=t,document.querySelector(".personal__services-topay span").innerHTML=o,document.querySelector(".personal__services-footer").classList.remove("personal__services-footer--hidden"),document.querySelector("span[data-service-cost]")&&(document.querySelector("span[data-service-cost]").innerHTML=o)}else document.querySelector(".personal__services-footer").classList.add("personal__services-footer--hidden")};document.querySelectorAll(".personal__services-label input").forEach((function(e){return e.addEventListener("change",(function(){var t=e.value,o=e.parentElement.querySelector(".personal__services-heading").innerText;document.querySelector(".personal__services-terms--active").classList.remove("personal__services-terms--active"),document.querySelector('.personal__services-terms[data-terms="'.concat(t,'"]')).classList.add("personal__services-terms--active"),document.querySelector('.personal__services-selected span[data-selected="service"]').innerHTML="&laquo;"+o+"&raquo;",document.querySelector(".popup__heading-service")&&(document.querySelector(".popup__heading-service").innerText=o),J()}))})),document.querySelectorAll(".personal__services-radio input").forEach((function(e){return e.addEventListener("change",J)}))};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbmxvYWQiLCJzaG93Tm90aWZpY2F0aW9uIiwiaWQiLCIkbm90aWZpY2F0aW9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29uY2F0IiwiY2xhc3NMaXN0IiwiYWRkIiwic2V0VGltZW91dCIsInJlbW92ZSIsIiRhcGkiLCIkcG9wdXAiLCJfcmVmIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwib25IaWRlIiwib25TaG93Iiwic2Nyb2xsWSIsInNob3dPdmVyZmxvdyIsIm9mZnNldCIsImJvZHkiLCJzdHlsZSIsImNzc1RleHQiLCJzY3JvbGxUbyIsImlzU2hvd24iLCJjb250YWlucyIsInNob3ciLCJoaWRlT3ZlcmZsb3ciLCJQcm9taXNlIiwicmVzb2x2ZSIsImhpZGUiLCJwYXJzZUludCIsIm1hcmdpblRvcCIsImRpc3BsYXkiLCJ0aGVuIiwiZm9ybSIsInJlcXVlc3QiLCIkZmlyc3RJbnZhbGlkRmllbGQiLCJpbnB1dCIsImNsb3Nlc3QiLCJmb2N1cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJzZXRJbnZhbGlkSW5wdXQiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwibWFwIiwiZWwiLCJ2YWx1ZSIsInNldEludmFsaWRDaGVja2JveCIsImZvcm1Jc1ZhbGlkIiwiJGZvcm1JbnB1dHMiLCIkY2hlY2tib3hTZWxlY3QiLCJjaGVja2VkIiwiZ2V0QXR0cmlidXRlIiwiY2hlY2tib3giLCJjdXJyZW50VGFyZ2V0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwieSIsInBhZ2VZT2Zmc2V0Iiwib2Zmc2V0SGVpZ2h0IiwiJHRoaXMiLCJ0YXJnZXQiLCJkYXRhc2V0IiwicG9wdXAiLCJpbm5lclRleHQiLCJkaXNwYXRjaEV2ZW50IiwicG9wdXBTaG93IiwiJGVsZW1lbnQiLCJjYWxsYmFjayIsIiRwb3B1cEZvcm1zIiwic3VibWl0IiwiJHN1Y2Nlc3NQb3B1cCIsIiRkcm9wZG93biIsIiRkcm9wZG93bnMiLCIkZHJvcGRvd25NZW51SXRlbSIsIiRkcm9wZG93blZhbHVlIiwidG9nZ2xlIiwiJGhpZGRlbkl0ZW0iLCIkZHJvcGRvd25JbnB1dCIsIm5ld1ZhbHVlIiwidGFiIiwiJGFjdGl2ZVRhYkNvbnRlbnQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJjaGFuZ2VDb3VudHJ5RXZlbnQiLCJFdmVudCIsIndpZHRoIiwidXBkYXRlTWFzayIsImNvZGVMb2MiLCJJbnB1dG1hc2siLCJtYXNrIiwibG9jIiwiJGlucHV0IiwicGxhY2Vob2xkZXIiLCJyZXBsYWNlQWxsIiwiJGhpbnRTaG93bkNvbnRhaW5lciIsImxpc3QiLCJzdG9wUHJvcGFnYXRpb24iLCIkcGxhY2Vob2xkZXIiLCJzdWJzdHJpbmciLCJpdGVtIiwiaGFuZGxlSW5wdXQiLCJmaXJzdFJlbmRlciIsImZha2VTY3JvbGwiLCJuZXh0RWxlbWVudFNpYmxpbmciLCIkZHJvcGRvd25FbGVtZW50IiwiaW5wdXRTbWFydFNlYXJjaCIsImRhdGEiLCJrZXkiLCJmbGF0TWFwIiwiY2l0aWVzIiwiSlNPTiIsInBhcnNlIiwib3B0aW9ucyIsImxvd2VyQ2FzZVZhbHVlIiwidG9Mb3dlckNhc2UiLCJtYXRjaGVzRm91bmQiLCJpbm5lckhUTUwiLCJnZXRMb2NhdGlvbkRhdGEiLCJyZXMiLCJzdWJzdHIiLCJpbml0U21hcnRTZWFyY2giLCJwYXJlbnROb2RlIiwiaW5kZXhPZiIsIiRjaGVja2JveCIsImluc2VydEFkamFjZW50SFRNTCIsImpzb24iLCIkcmFuZ2UiLCJtYXgiLCJtaW4iLCJzbWF4Iiwibm9VaVNsaWRlciIsImNyZWF0ZSIsInN0YXJ0Iiwic21pbiIsImNvbm5lY3QiLCJyYW5nZSIsInZhbHVlcyIsImNoZWNrYm94VmFsdWUiLCIkaW5wdXRGaWVsZCIsIiR0YXJnZXQiLCIkYWN0aXZlSXRlbSIsIiRjdXJyZW50SXRlbSIsImZvckVhY2giLCJzaG93VGV4dCIsImhpZGVUZXh0IiwiY3VycmVudFRleHQiLCIkdG9nZ2xlQ2hlY2tib3hlcyIsImlzQ2hlY2tlZCIsIiRhY3RpdmVSZWFzb24iLCJyYWRpeFBvaW50IiwiJGJhbm5lciIsImFsaWFzIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInN1ZmZpeCIsIiRiYWxhbmNlRm9ybXMiLCJzZXRJdGVtIiwiJGNvb2tpZXMiLCJ2YWxpZGF0ZSIsImhpZGVIZWFkZXJNZW51IiwiU3dpcGVyIiwibG9vcCIsImxvb3BBZGRpdGlvbmFsU2xpZGVzIiwic3BhY2VCZXR3ZWVuIiwiYnJlYWtwb2ludHMiLCI3NjAiLCJzbGlkZXNQZXJWaWV3Iiwic2xpZGVzUGVyR3JvdXAiLCJjbGlja2FibGUiLCJwYWdpbmF0aW9uIiwicG9wdWxhclNsaWRlciIsImNlbnRlcmVkU2xpZGVzIiwiJGF1dGhGb3JtcyIsImNvdW50cnkiLCJmZXRjaCIsImZpbHRlciIsIiRkcm9wZG93bkNvbnRlbnQiLCIkc3VibWl0QnV0dG9uIiwiJGNhdGFsb2dNb3JlQnRuIiwiJHByZXZBcnJvdyIsIiRuZXh0QXJyb3ciLCJjYXRhbG9nUGFnZXMiLCJjdXJyZW50IiwidG90YWwiLCJzZXRDdXJyZW50UGFnZSIsImN1cnJlbnRQYWdlIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsIiRmaXJzdEl0ZW0iLCIkYmVmb3JlU2VwYXJhdG9ySXRlbSIsInBhZ2UiLCJsYXRlc3RQYWdlIiwiJHNlcGFyYXRvciIsIiRwYWdpbmF0aW9uUGFnZXMiLCJpIiwiZm9ybWF0VVJMIiwidXJsIiwic2V0QnJlYWsiLCJuYW1lIiwiVVJMIiwibG9jYXRpb24iLCJocmVmIiwic2VhcmNoUGFyYW1zIiwidG9TdHJpbmciLCJzcGxpdCIsIl9zbGljZWRUb0FycmF5IiwiZmlsdGVyc05hbWVzIiwiaW5jbHVkZXMiLCJ0b3AiLCJpbWFnZSIsInZlcmlmaWVkIiwiZGVzY3JpcHRpb24iLCJsaW5rIiwicmF0aW5nIiwicmV2aWV3cyIsInByaWNlIiwicmV2ZXJzZSIsInN1YmplY3RzIiwic2VhcmNoIiwiaGlkZGVuIiwiZXhwZXJpZW5jZSIsImpvaW4iLCJkZWNsaW5lIiwiY2F0YWxvZ0l0ZW1FbGVtZW50IiwicXVlcnlVcmwiLCIkZWxlbWVudHMiLCJiZWhhdmlvciIsInBheSIsInBheW1lbnQiLCIkcHJvZmlsZVZpZGVvQ292ZXIiLCIkdmlkZW8iLCJyZXZpZXdzUGFnZXMiLCIkcmV2aWV3c01vcmVCdG4iLCJyZXZpZXciLCJfcmVmMyIsImRhdGUiLCJmZWVkYmFjayIsInRhZyIsIiR0aW1lem9uZURyb3Bkb3ducyIsIiRjb250YWluZXIiLCJzZXREYXRlVGltZSIsIiRjdXJyZW50VW5pdCIsInRpbWUiLCIkYWN0aXZlU2xpZGUiLCIkcHJldkJ1dHRvbiIsImN1cnJlbnRJbmRleCIsIiRuZXh0QnV0dG9uIiwiJHByZXZTbGlkZSIsInNsaWRlIiwiZGF0ZXMiLCJmaXJzdCIsIiRuZXh0U2xpZGUiLCJsYXN0IiwiJGRpYWxvZ0xpc3RJdGVtcyIsIiRkaWFsb2dXYXJuaW5nIiwiJGRpYWxvZ1dpbmRvdyIsIiRkaWFsb2dXaW5kb3dDb250YWluZXIiLCIkZGlhbG9nSW5wdXRGaWVsZCIsIiRkaWFsb2dGb3JtIiwiJGRpYWxvZ0NvbnRleHRNZW51IiwiJGRpYWxvZ0RlbGV0ZU1lc3NhZ2VCdG4iLCJzY3JlZW5PZmZzZXQiLCJmb3JtU3VibWl0RXZlbnQiLCJpbm5lcldpZHRoIiwiZGVsZXRlTWVzc2FnZSIsIiRkaWFsb2dMaXN0Iiwic2V0RGlhbG9nSW5wdXRIZWlnaHQiLCIkY2hhdFNjcm9sbENvbnRhaW5lciIsInNjcm9sbFRvcCIsImhlaWdodCIsInNjcm9sbEhlaWdodCIsImJhY2tncm91bmRJbWFnZSIsImNvbnRleHREZXN0cm95IiwiJG1lc3NhZ2VFbGVtZW50IiwiaG91ciIsIm1lc3NhZ2UiLCJmb3JtYXQiLCJub3ciLCJhY3Rpb24iLCJJbnRsIiwiRGF0ZVRpbWVGb3JtYXQiLCJtaW51dGUiLCJEYXRlIiwic2Nyb2xsQ2hhdFRvQm90dG9tIiwid2hpY2giLCJtZXNzYWdlSUQiLCJjbGllbnRYIiwib3JpZ2luYWxNZXNzYWdlVGV4dCIsImVuZCIsIiRjaGF0SXRlbUNvbnRhaW5lciIsIiRjaGF0SXRlbURlbGV0ZSIsInN3aXBlQ29vcmRpbmF0ZXMiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2l0aW9uIiwidG91Y2hlcyIsIiRwZXJzb25hbEZvcm1zIiwiZGlmZiIsImN1cnJlbnRDb29yZGluYXRlIiwiZGVzdCIsImZpbGVEYXRhIiwieCIsImNyb3BwZWRJbWFnZSIsIiRjbG9uZWRFbGVtZW50IiwiJGlucHV0RHJvcGRvd24iLCIkbWVudSIsImVsZW1lbnQiLCJzdHJpbmdpZnkiLCJjbG9uZU5vZGUiLCJjcm9wcGVySW5pdCIsIkNyb3BwZXIiLCJhc3BlY3RSYXRpbyIsImNoaWxkcmVuIiwiem9vbWFibGUiLCJoaWdobGlnaHQiLCJtaW5Db250YWluZXJXaWR0aCIsIm1pbkNyb3BCb3hXaWR0aCIsIm1pbkNyb3BCb3hIZWlnaHQiLCJwcmV2aWV3IiwiJGVkaXRQaG90b1BvcHVwIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwiJHVwbG9hZGVkSW1hZ2UiLCIkcG9wdXBQaG90b0lucHV0IiwiZmlsZXMiLCJGaWxlUmVhZGVyIiwiJGNyb3BwZXIiLCIkcG9wdXBQaG90b0NvbnRhaW5lciIsInZpZXdNb2RlIiwiZ3VpZGVzIiwiYXV0b0Nyb3BBcmVhIiwiJGltYWdlRWxlbWVudCIsInJlYWRlciIsIm9ubG9hZGVuZCIsInJlc3VsdCIsIiRjdXJyZW50U2NoZWR1bGUiLCJjdXJyZW50U2NoZWR1bGVJZCIsInJlYWRBc0RhdGFVUkwiLCJmaWxlIiwiJGNoZWNrZWRSYWRpbyIsInRpdGxlIiwicGFyZW50RWxlbWVudCIsInNjaGVkdWxlRGV0YWlsIiwic2V0U2VsZWN0ZWRTZXJ2aWNlVGVybSIsInRlcm0iLCJ0cmltIiwiY29zdCIsInJlcGxhY2UiXSwibWFwcGluZ3MiOiIwcUNBQUFBLE9BQU9DLE9BQVMsV0FFZCxJQUFNQyxFQUFtQixTQUFBQyxHQUN6QixJQUFNQyxFQUFnQkMsU0FBU0Ms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LFVBQVV1RixNQUFNLFVBQVUsR0FBRzJJLE9BQzlGQyxFQUFPUCxFQUFjbFMsTUFBTTRKLFdBQVc4SSxRQUFRLHdCQUF5QixLQUFPLFdBRXBGMVYsU0FBU0MsY0FBYywyREFBMkRnRSxVQUFZc1IsRUFDOUZ2VixTQUFTQyxjQUFjLGtDQUFrQ3FILFVBQVltTyxFQUVyRXpWLFNBQVNDLGNBQWMsOEJBQThCRSxVQUFVRyxPQUFPLHFDQUNsRU4sU0FBU0MsY0FBYyw2QkFDekJELFNBQVNDLGNBQWMsMkJBQTJCcUgsVUFBWW1PLFFBR2hFelYsU0FBU0MsY0FBYyw4QkFBOEJFLFVBQVVDLElBQUksc0NBS3ZFSixTQUFTNkMsaUJBQWlCLG1DQUFtQ21HLFNBQVEsU0FBQWpHLEdBQUUsT0FBSUEsRUFBR1IsaUJBQWlCLFVBQVUsV0FDdkcsSUFBTVMsRUFBUUQsRUFBR0MsTUFDWG1TLEVBQVFwUyxFQUFHcVMsY0FBY25WLGNBQWMsK0JBQStCZ0UsVUFFNUVqRSxTQUFTQyxjQUFjLHFDQUFxQ0UsVUFBVUcsT0FBTyxvQ0FDN0VOLFNBQVNDLGNBQVQseUNBQUFDLE9BQWdFOEMsRUFBaEUsT0FBMkU3QyxVQUFVQyxJQUFJLG9DQUV6RkosU0FBU0MsY0FBYyw4REFBOERxSCxVQUFZLFVBQVk2TixFQUFRLFVBRWpIblYsU0FBU0MsY0FBYyw2QkFDekJELFNBQVNDLGNBQWMsMkJBQTJCZ0UsVUFBWWtSLEdBR2hFRyxVQUlGdFYsU0FBUzZDLGlCQUFpQixtQ0FBbUNtRyxTQUFRLFNBQUFqRyxHQUFFLE9BQUlBLEVBQUdSLGlCQUFpQixTQUFVK1MiLCJmaWxlIjoiY29tbW9uLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG5cbiAgY29uc3Qgc2hvd05vdGlmaWNhdGlvbiA9IGlkID0+IHtcbiAgY29uc3QgJG5vdGlmaWNhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5oZWFkZXItbm90aWZpY2F0aW9uW2RhdGEtbm90aWZpY2F0aW9uPVwiJHtpZH1cIl1gKTtcbiAgJG5vdGlmaWNhdGlvbi5jbGFzc0xpc3QuYWRkKCdoZWFkZXItbm90aWZpY2F0aW9uLS1hY3RpdmUnKTtcbiAgXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICRub3RpZmljYXRpb24uY2xhc3NMaXN0LnJlbW92ZSgnaGVhZGVyLW5vdGlmaWNhdGlvbi0tYWN0aXZlJyk7XG4gIH0sIDQwMDApO1xufTtcbiAgLy8g0J7QsdGK0LXQutGCINCz0LvQvtCx0LDQu9GM0L3QvtCz0L4gQVBJXG5jb25zdCAkYXBpID0ge307XG5cbi8vIEFQSSDQtNC70Y8g0YDQsNCx0L7RgtGLINGBINC/0L7Qv9Cw0L/QsNC80LhcbiRhcGkucG9wdXAgPSAoJHBvcHVwLCB7IG9uSGlkZSwgb25TaG93IH0gPSB7fSkgPT4ge1xuICAvLyDQntGC0LrQu9GO0YfQsNC10YIg0LLQvtC30LzQvtC20L3QvtGB0YLRjCDRgdC60YDQvtC70LvQuNGC0Ywg0YHRgtGA0LDQvdC40YbRg1xuICBjb25zdCBoaWRlT3ZlcmZsb3cgPSAoKSA9PiB7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jc3NUZXh0ID0gYHBvc2l0aW9uOiBmaXhlZDsgbWFyZ2luLXRvcDogJHstd2luZG93LnNjcm9sbFl9cHhgO1xuICB9O1xuICBcbiAgLy8g0JLQutC70Y7Rh9Cw0LXRgiDQstC+0LfQvNC+0LbQvdC+0YHRgtGMINGB0LrRgNC+0LvQu9C40YLRjCDRgdGC0YDQsNC90LjRhtGDXG4gIGNvbnN0IHNob3dPdmVyZmxvdyA9IG9mZnNldCA9PiB7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOiBzdGF0aWM7IG1hcmdpbi10b3A6IDAnO1xuICAgIFxuICAgIHdpbmRvdy5zY3JvbGxUbygwLCBvZmZzZXQpO1xuICB9O1xuICBcbiAgcmV0dXJuIHtcbiAgICAvLyDQktC+0LfQstGA0LDRidCw0LXRgiB0cnVlLCDQtdGB0LvQuCDQv9C+0L/QsNC/INC/0L7QutCw0LfRi9Cy0LDQtdGC0YHRjywg0LIg0LjQvdC+0Lwg0YHQu9GD0YfQsNC1IGZhbHNlXG4gICAgaXNTaG93bjogKCkgPT4gJHBvcHVwLmNsYXNzTGlzdC5jb250YWlucygncG9wdXAtLW9wZW5lZCcpLFxuICAgIC8vINCf0L7QutCw0LfRi9Cy0LDQtdGCINC/0L7Qv9Cw0L9cbiAgICBzaG93KCkge1xuICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAkcG9wdXAuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0pO1xuXG4gICAgICBoaWRlT3ZlcmZsb3coKTtcblxuICAgICAgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgJHBvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwLS1vcGVuZWQnKTtcbiAgICAgICAgaWYgKHR5cGVvZiBvblNob3cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBvblNob3coKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICAvLyDQodC60YDRi9Cy0LDQtdGCINC/0L7Qv9Cw0L9cbiAgICBoaWRlKCkge1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gLXBhcnNlSW50KGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luVG9wKTtcbiAgXG4gICAgICAkcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXAtLW9wZW5lZCcpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICRwb3B1cC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBzaG93T3ZlcmZsb3cob2Zmc2V0KTtcbiAgICAgICAgaWYgKHR5cGVvZiBvbkhpZGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBvbkhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgfSwgMzAwKTtcbiAgICB9XG4gIH07XG59O1xuXG4vLyBBUEkg0LTQu9GPINCy0LDQu9C40LTQsNGG0LjQuCDRhNC+0YDQvFxuJGFwaS52YWxpZGF0ZSA9IChmb3JtLCByZXF1ZXN0KSA9PiB7XG4gIGxldCAkZmlyc3RJbnZhbGlkRmllbGQgPSBudWxsO1xuICBjb25zdCBlbWFpbFJlZ2V4cCA9IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuICBjb25zdCBzZXRJbnZhbGlkSW5wdXQgPSBpbnB1dCA9PiB7XG4gICAgaWYgKGlucHV0LmNsb3Nlc3QoJy5pbnB1dCcpKSB7XG4gICAgICBpbnB1dC5jbG9zZXN0KCcuaW5wdXQnKS5jbGFzc0xpc3QuYWRkKCdpbnB1dC0tZXJyb3InKTtcbiAgICB9IGVsc2UgaWYgKGlucHV0LmNsb3Nlc3QoJy50ZXh0YXJlYScpKSB7XG4gICAgICBpbnB1dC5jbG9zZXN0KCcudGV4dGFyZWEnKS5jbGFzc0xpc3QuYWRkKCd0ZXh0YXJlYS0tZXJyb3InKTtcbiAgICB9XG4gICAgJGZpcnN0SW52YWxpZEZpZWxkID0gaW5wdXQ7XG4gICAgaW5wdXQuZm9jdXMoKTtcbiAgfTtcbiAgY29uc3Qgc2V0SW52YWxpZENoZWNrYm94ID0gaW5wdXQgPT4ge1xuICAgICRmaXJzdEludmFsaWRGaWVsZCA9IGlucHV0O1xuICAgIGlucHV0LmNsb3Nlc3QoJy5jaGVja2JveCcpLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94LS1lcnJvcicpO1xuICB9O1xuXG4gIGZvcm0ucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGxldCBmb3JtSXNWYWxpZCA9IHRydWU7XG4gICAgY29uc3QgJGZvcm1JbnB1dHMgPSBBcnJheS5mcm9tKGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbcmVxdWlyZWRdLCB0ZXh0YXJlYVtyZXF1aXJlZF0nKSk7XG4gICAgY29uc3QgJGNoZWNrYm94U2VsZWN0ID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3hzZWxlY3QnKTtcblxuICAgICRmb3JtSW5wdXRzLnJldmVyc2UoKS5tYXAoZWwgPT4ge1xuICAgICAgJGZpcnN0SW52YWxpZEZpZWxkID0gbnVsbDtcblxuICAgICAgaWYgKGVsLmRhdGFzZXQucGFzc1JlcGVhdCAmJiBlbC52YWx1ZSAhPT0gZWwuY2xvc2VzdCgnZm9ybScpLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFzc10nKS52YWx1ZSkge1xuICAgICAgICBzZXRJbnZhbGlkSW5wdXQoZWwpO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2goZWwuZ2V0QXR0cmlidXRlKCd0eXBlJykpIHtcbiAgICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgIGNhc2UgJ3Bhc3N3b3JkJzpcbiAgICAgICAgICBpZiAoZWwudmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICBzZXRJbnZhbGlkSW5wdXQoZWwpO1xuICAgICAgICAgICAgZm9ybUlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RlbCc6XG4gICAgICAgICAgaWYgKGVsLnZhbHVlID09PSAnJyB8fCBlbC52YWx1ZS5pbmNsdWRlcygnXycpKSB7XG4gICAgICAgICAgICBzZXRJbnZhbGlkSW5wdXQoZWwpO1xuICAgICAgICAgICAgZm9ybUlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICBpZiAoIWVsLmNoZWNrZWQpIHtcbiAgICAgICAgICAgIHNldEludmFsaWRDaGVja2JveChlbCk7XG4gICAgICAgICAgICBmb3JtSXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZW1haWwnOlxuICAgICAgICAgIGlmICghZW1haWxSZWdleHAudGVzdChlbC52YWx1ZSkpIHtcbiAgICAgICAgICAgIHNldEludmFsaWRJbnB1dChlbCk7XG4gICAgICAgICAgICBmb3JtSXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoZWwudmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICBzZXRJbnZhbGlkSW5wdXQoZWwpO1xuICAgICAgICAgICAgZm9ybUlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIFxuICAgIGlmICgkY2hlY2tib3hTZWxlY3QubGVuZ3RoKSB7XG4gICAgICBBcnJheS5mcm9tKCRjaGVja2JveFNlbGVjdCkubWFwKGVsID0+IHtcbiAgICAgICAgbGV0IGNoZWNrZWQgPSBmYWxzZTtcbiAgXG4gICAgICAgIEFycmF5LmZyb20oZWwucXVlcnlTZWxlY3RvckFsbCgnLmNoZWNrYm94X19pbnB1dCcpKS5tYXAoY2hlY2tib3ggPT4ge1xuICAgICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7XG4gICAgICAgICAgICBjaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICBcbiAgICAgICAgaWYgKCFjaGVja2VkKSB7XG4gICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3hzZWxlY3QtLWVycm9yJyk7XG4gICAgICAgICAgZm9ybUlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGZvcm1Jc1ZhbGlkKSB7XG4gICAgICBlLmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmFkZCgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICByZXF1ZXN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjcm9sbFRvKDAsICRmaXJzdEludmFsaWRGaWVsZC5jbG9zZXN0KCcuaW5wdXQnKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55ICsgcGFnZVlPZmZzZXQgLSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyJykub2Zmc2V0SGVpZ2h0IC0gMTApO1xuICAgIH1cbiAgfSk7XG5cbiAgQXJyYXkuZnJvbShmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykpLmNvbmNhdChBcnJheS5mcm9tKGZvcm0ucXVlcnlTZWxlY3RvckFsbCgndGV4dGFyZWEnKSkpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICBpZiAoZWwuY2xvc2VzdCgnLmlucHV0JykpIHtcbiAgICAgIGVsLmNsb3Nlc3QoJy5pbnB1dCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2lucHV0LS1lcnJvcicpO1xuICAgIH0gZWxzZSBpZiAoZWwuY2xvc2VzdCgnLmNoZWNrYm94JykpIHtcbiAgICAgIGVsLmNsb3Nlc3QoJy5jaGVja2JveCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrYm94LS1lcnJvcicpO1xuICAgIH0gZWxzZSBpZiAoZWwuY2xvc2VzdCgnLnRleHRhcmVhJykpIHtcbiAgICAgIGVsLmNsb3Nlc3QoJy50ZXh0YXJlYScpLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHRhcmVhLS1lcnJvcicpO1xuICAgIH1cbiAgfSkpO1xufTtcblxuICAvLyBoYW5kbGUgb3BlbiBwb3B1cFxuY29uc3QgcG9wdXBTaG93ID0gbmV3IEV2ZW50KCdwb3B1cFNob3cnKTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSBlLnRhcmdldDtcblxuICBpZiAoJHRoaXMuY2xvc2VzdCgnLmpzLW9wZW4tcG9wdXAnKSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBcbiAgICBjb25zdCB0YXJnZXQgPSAkdGhpcy5jbG9zZXN0KCcuanMtb3Blbi1wb3B1cCcpLmRhdGFzZXQucG9wdXA7XG4gICAgY29uc3QgJHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCIke3RhcmdldH1cIl1gKTtcblxuICAgIGlmICh0YXJnZXQgPT09ICdyZXF1ZXN0LWF1dGgnKSB7XG4gICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtaGVhZF9fbmFtZScpKSB7XG4gICAgICAgICRwb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Rlc2MgYicpLmlubmVyVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLWhlYWRfX25hbWUnKS5pbm5lclRleHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19kZXNjIGInKS5pbm5lclRleHQgPSAkdGhpcy5jbG9zZXN0KCcudHV0b3JjYXJkJykucXVlcnlTZWxlY3RvcignLnR1dG9yY2FyZF9fbmFtZScpLmlubmVyVGV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkYXBpLnBvcHVwKCRwb3B1cCwge1xuICAgICAgb25TaG93KCkge1xuICAgICAgICBpZiAodGFyZ2V0ID09PSAnZWRpdC1waG90bycpIHtcbiAgICAgICAgICAkcG9wdXAuZGlzcGF0Y2hFdmVudChwb3B1cFNob3cpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkuc2hvdygpO1xuICB9XG59KTtcblxuLy8gaGFuZGxlIGNsb3NlIHBvcHVwXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1jbG9zZS1wb3B1cCcpKS5tYXAoZWwgPT5cbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBpZighZS50YXJnZXQuY2xvc2VzdCgnLnBvcHVwX193aW5kb3cnKSB8fCAhZS5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnanMtcG9wdXAnKSkge1xuICAgICAgY29uc3QgJHBvcHVwID0gZS5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5wb3B1cCcpO1xuXG4gICAgICAkYXBpLnBvcHVwKCRwb3B1cCkuaGlkZSgpO1xuICAgIH1cbiAgfSlcbik7XG5cbi8vIGFsbCBwb3B1cCBmb3Jtc1xuY29uc3QgJHBvcHVwRm9ybXMgPSBbe1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXJlc3RvcmUtZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAkZWxlbWVudC5zdWJtaXQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1yZXF1ZXN0LWF1dGgtZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAkZWxlbWVudC5zdWJtaXQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1yZWZ1c2VdJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgJGVsZW1lbnQuc3VibWl0KCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtcGF5XScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIGNvbnN0ICRwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwiYXBwbGljYXRpb24tcGF5XCJdJyk7XG4gICAgY29uc3QgJHN1Y2Nlc3NQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwiYXBwbGljYXRpb24tcGF5LXN1Y2Nlc3NcIl0nKTtcbiAgXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkYXBpLnBvcHVwKCRwb3B1cCwge1xuICAgICAgICBvbkhpZGUoKSB7XG4gICAgICAgICAgQXJyYXkuZnJvbSgkcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKSkubWFwKGVsID0+IGVsLnZhbHVlID0gJycpO1xuICAgICAgICAgICRhcGkucG9wdXAoJHN1Y2Nlc3NQb3B1cCkuc2hvdygpO1xuICAgICAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAgIH1cbiAgICAgIH0pLmhpZGUoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1zZXJ2aWNlLXBheV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBjb25zdCAkcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cInNlcnZpY2UtcGF5XCJdJyk7XG4gICAgY29uc3QgJHN1Y2Nlc3NQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwic2VydmljZS1wYXktc3VjY2Vzc1wiXScpO1xuICBcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRhcGkucG9wdXAoJHBvcHVwLCB7XG4gICAgICAgIG9uSGlkZSgpIHtcbiAgICAgICAgICBBcnJheS5mcm9tKCRwb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpKS5tYXAoZWwgPT4gZWwudmFsdWUgPSAnJyk7XG4gICAgICAgICAgJGFwaS5wb3B1cCgkc3VjY2Vzc1BvcHVwKS5zaG93KCk7XG4gICAgICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICAgfVxuICAgICAgfSkuaGlkZSgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLW9mZmVyLWZvcm1dJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgY29uc3QgJHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJvZmZlclwiXScpO1xuICAgIGNvbnN0ICRzdWNjZXNzUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cIm9mZmVyLXN1Y2Nlc3NcIl0nKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGFwaS5wb3B1cCgkcG9wdXAsIHtcbiAgICAgICAgb25IaWRlKCkge1xuICAgICAgICAgIEFycmF5LmZyb20oJHBvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykpLm1hcChlbCA9PiBlbC52YWx1ZSA9ICcnKTtcbiAgICAgICAgICAkYXBpLnBvcHVwKCRzdWNjZXNzUG9wdXApLnNob3coKTtcbiAgICAgICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgICB9XG4gICAgICB9KS5oaWRlKCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn0sXG57XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtcmVxdWVzdC1mb3JtXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIGNvbnN0ICRwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwicmVxdWVzdFwiXScpO1xuICAgIGNvbnN0ICRzdWNjZXNzUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cInJlcXVlc3Qtc3VjY2Vzc1wiXScpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkYXBpLnBvcHVwKCRwb3B1cCwge1xuICAgICAgICBvbkhpZGUoKSB7XG4gICAgICAgICAgQXJyYXkuZnJvbSgkcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKSkubWFwKGVsID0+IGVsLnZhbHVlID0gJycpO1xuICAgICAgICAgICRhcGkucG9wdXAoJHN1Y2Nlc3NQb3B1cCkuc2hvdygpO1xuICAgICAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAgIH1cbiAgICAgIH0pLmhpZGUoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1yZXF1ZXN0LXNwZWNpZmljLWZvcm1dJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgY29uc3QgJHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCJyZXF1ZXN0LXNwZWNpZmljXCJdJyk7XG4gICAgY29uc3QgJHN1Y2Nlc3NQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwicmVxdWVzdC1zdWNjZXNzXCJdJyk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRhcGkucG9wdXAoJHBvcHVwLCB7XG4gICAgICAgIG9uSGlkZSgpIHtcbiAgICAgICAgICBBcnJheS5mcm9tKCRwb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpKS5tYXAoZWwgPT4gZWwudmFsdWUgPSAnJyk7XG4gICAgICAgICAgJGFwaS5wb3B1cCgkc3VjY2Vzc1BvcHVwKS5zaG93KCk7XG4gICAgICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICAgfVxuICAgICAgfSkuaGlkZSgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59XTtcblxuLy8gYXBwbHkgdmFsaWRhdGlvbiBvbiBwb3B1cHMgZm9ybXNcbiRwb3B1cEZvcm1zLm1hcChmb3JtID0+IHtcbiAgY29uc3QgeyAkZWxlbWVudCwgY2FsbGJhY2sgfSA9IGZvcm07XG5cbiAgaWYgKCRlbGVtZW50KSB7XG4gICAgJGFwaS52YWxpZGF0ZSgkZWxlbWVudCwgKCkgPT4gY2FsbGJhY2soJGVsZW1lbnQpKTtcbiAgfVxufSk7XG4gIGNvbnN0ICRkcm9wZG93bnMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wZG93bicpKTtcblxuLy8gY2xvc2UgZHJvcGRvd24gb24gb3V0ZXIgY2xpY2tcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duLS1hY3RpdmUnKSkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bi0tYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnZHJvcGRvd24tLWFjdGl2ZScpO1xuICB9XG59KTtcblxuXG4vLyBvcGVuIGRyb3Bkb3duXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkZHJvcGRvd24gPSBlLnRhcmdldC5jbG9zZXN0KCcuZHJvcGRvd24nKTtcblxuICBpZiAoJGRyb3Bkb3duKSB7XG4gICAgaWYgKCRkcm9wZG93bi5jbGFzc0xpc3QuY29udGFpbnMoJ2lucHV0X19jb2RlJykpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIFxuICAgIGlmICghJGRyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucygnZHJvcGRvd24tLWFjdGl2ZScpKSB7XG4gICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duLS1hY3RpdmUnKSkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd24tLWFjdGl2ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3Bkb3duLS1hY3RpdmUnKTtcbiAgICAgIH1cbiAgICAgICRkcm9wZG93bi5jbGFzc0xpc3QudG9nZ2xlKCdkcm9wZG93bi0tYWN0aXZlJyk7XG4gICAgfVxuICB9XG59KTtcblxuXG4vLyBjaGFuZ2UgZHJvcGRvd24gdmFsdWVcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICRkcm9wZG93bk1lbnVJdGVtID0gZS50YXJnZXQuY2xvc2VzdCgnLmRyb3Bkb3duX19tZW51LWl0ZW0nKTtcblxuICBpZiAoJGRyb3Bkb3duTWVudUl0ZW0pIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd24tLWFjdGl2ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3Bkb3duLS1hY3RpdmUnKTtcblxuICAgIGlmICgkZHJvcGRvd25NZW51SXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdG9nZ2xlJykpIHtcbiAgICAgIGNvbnN0ICR0aGlzID0gZS50YXJnZXQ7XG4gICAgICBjb25zdCBuZXdWYWx1ZSA9ICR0aGlzLmlubmVyVGV4dDtcbiAgICAgIGNvbnN0ICRoaWRkZW5JdGVtID0gJHRoaXMuY2xvc2VzdCgnLmRyb3Bkb3duX19tZW51JykucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duX19tZW51LWl0ZW0tLWhpZGRlbicpO1xuICAgICAgY29uc3QgJGRyb3Bkb3duID0gJHRoaXMuY2xvc2VzdCgnLmRyb3Bkb3duJyk7XG4gICAgICBjb25zdCAkZHJvcGRvd25WYWx1ZSA9ICRkcm9wZG93bi5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd25fX3ZhbHVlJyk7XG4gICAgICBjb25zdCAkZHJvcGRvd25JbnB1dCA9ICRkcm9wZG93bi5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuXG4gICAgICBpZiAoJGhpZGRlbkl0ZW0pIHtcbiAgICAgICAgJGhpZGRlbkl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnZHJvcGRvd25fX21lbnUtaXRlbS0taGlkZGVuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICgkZHJvcGRvd25JbnB1dCkge1xuICAgICAgICAkZHJvcGRvd25JbnB1dC52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgfVxuXG4gICAgICAkZHJvcGRvd25NZW51SXRlbS5jbGFzc0xpc3QuYWRkKCdkcm9wZG93bl9fbWVudS1pdGVtLS1oaWRkZW4nKTsgXG4gICAgICAkZHJvcGRvd25WYWx1ZS5pbm5lclRleHQgPSBuZXdWYWx1ZTtcbiAgICB9XG4gIH1cbn0pO1xuICAvLyBoYW5kbGUgdGFicyBsb2dpY1xuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFic19faXRlbScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCB0YXJnZXQgPSBlbC5kYXRhc2V0LnRhYjtcbiAgY29uc3QgJGFjdGl2ZVRhYkNvbnRlbnQgPSBlbC5jbG9zZXN0KCdbZGF0YS10YWJzXScpLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZV0nKTtcblxuICBlbC5jbG9zZXN0KCcudGFicycpLnF1ZXJ5U2VsZWN0b3IoJy50YWJzX19pdGVtLS1hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCd0YWJzX19pdGVtLS1hY3RpdmUnKTtcbiAgZWwuY2xhc3NMaXN0LmFkZCgndGFic19faXRlbS0tYWN0aXZlJyk7XG5cbiAgaWYgKCRhY3RpdmVUYWJDb250ZW50KSB7XG4gICAgZWwuY2xvc2VzdCgnW2RhdGEtdGFic10nKS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmVdJykucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWFjdGl2ZScpO1xuICAgIGVsLmNsb3Nlc3QoJ1tkYXRhLXRhYnNdJykucXVlcnlTZWxlY3RvcihgW2RhdGEtY29udGVudD1cIiR7dGFyZ2V0fVwiXWApLnNldEF0dHJpYnV0ZSgnZGF0YS1hY3RpdmUnLCB0cnVlKTtcbiAgfVxufSkpO1xuICBjb25zdCBjaGFuZ2VDb3VudHJ5RXZlbnQgPSBuZXcgRXZlbnQoJ2NoYW5nZUNvdW50cnknKTtcblxuY29uc3QgdXBkYXRlTWFzayA9IChpbnB1dCwgbWFzaykgPT4ge1xuICBJbnB1dG1hc2soe21hc2t9KS5tYXNrKGlucHV0KTtcbn07XG5cbi8vIE9wZW4gaW5wdXQgZHJvcGRvd25cbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmlucHV0LmRyb3Bkb3duJykpXG4uY29uY2F0KEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmlucHV0IC5kcm9wZG93bicpKSlcbi5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0ICRkcm9wZG93biA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bl9fbWVudScpO1xuICBlbC5jbG9zZXN0KCcuaW5wdXQnKS5xdWVyeVNlbGVjdG9yKCcuaW5wdXRfX2Ryb3Bkb3duJykuc3R5bGUud2lkdGggPSBlbC5jbG9zZXN0KCcuaW5wdXQnKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCArICdweCc7XG5cbiAgaWYgKCEkZHJvcGRvd24uY2xhc3NMaXN0LmNvbnRhaW5zKCdmYWtlU2Nyb2xsJykpIHtcbiAgICAkZHJvcGRvd24uZmFrZVNjcm9sbCgpO1xuICB9XG59KSk7XG5cbi8vIENoYW5nZSBwaG9uZSBjb2RlIG9uIGlucHV0IGRyb3Bkb3duXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dF9fZHJvcGRvd24taXRlbVtkYXRhLWNvZGUtbG9jXScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IGxvYyA9IGVsLmRhdGFzZXQuY29kZUxvYztcbiAgY29uc3QgbWFzayA9IGVsLmRhdGFzZXQubWFzaztcbiAgY29uc3QgJGlucHV0ID0gZWwuY2xvc2VzdCgnLmlucHV0JykucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcblxuICBlbC5jbG9zZXN0KCcuaW5wdXRfX2NvZGUnKS5kYXRhc2V0LmNvZGVMb2MgPSBsb2M7XG4gIGVsLmNsb3Nlc3QoJy5pbnB1dF9fY29kZScpLmRhdGFzZXQubWFzayA9IG1hc2s7XG4gICRpbnB1dC5wbGFjZWhvbGRlciA9IG1hc2sucmVwbGFjZUFsbCgnOScsICdfJyk7XG4gIHVwZGF0ZU1hc2soJGlucHV0LCBtYXNrKTtcbn0pKTtcblxuLy8gQ2hhbmdlIGlucHV0IGRyb3Bkb3duIHZhbHVlXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dF9fZHJvcGRvd24taXRlbVtkYXRhLWRyb3Bkb3duXScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IHZhbHVlID0gZWwuaW5uZXJUZXh0O1xuICBcbiAgZWwuY2xvc2VzdCgnLmlucHV0JykucXVlcnlTZWxlY3RvcignaW5wdXQnKS52YWx1ZSA9IHZhbHVlO1xuICBlbC5jbG9zZXN0KCcuaW5wdXQnKS5jbGFzc0xpc3QucmVtb3ZlKCdpbnB1dC0tZXJyb3InKTtcblxuICBpZiAoZWwuY2xvc2VzdCgnLmlucHV0JykuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy1hdXRoLWNvdW50cnknKSkge1xuICAgIGVsLmNsb3Nlc3QoJy5pbnB1dCcpLmRpc3BhdGNoRXZlbnQoY2hhbmdlQ291bnRyeUV2ZW50KTtcbiAgfVxufSkpO1xuXG4vLyBNYXNraW5nIHBob25lIGlucHV0XG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJ0ZWxcIl0nKSkubWFwKGVsID0+IHtcbiAgSW5wdXRtYXNrKHttYXNrOiBlbC5jbG9zZXN0KCcuaW5wdXQnKS5xdWVyeVNlbGVjdG9yKCcuaW5wdXRfX2NvZGUnKS5kYXRhc2V0Lm1hc2t9KS5tYXNrKGVsKTtcbn0pO1xuICAvLyBzaG93IGNoZWNrYm94IGhpbnRcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoZWNrYm94X19oaW50JykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIFxuICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoJy5jaGVja2JveF9faGludC1jb250YWluZXInKSkge1xuICAgIGVsLnF1ZXJ5U2VsZWN0b3IoJy5jaGVja2JveF9faGludC1jb250YWluZXInKS5jbGFzc0xpc3QudG9nZ2xlKCdjaGVja2JveF9faGludC1jb250YWluZXItLXNob3duJylcbiAgfVxufSkpO1xuXG4vLyBoaWRlIGNoZWNrYm94IGhpbnRcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICRoaW50U2hvd25Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hlY2tib3hfX2hpbnQtY29udGFpbmVyLS1zaG93bicpO1xuXG4gIGlmICgoIWUudGFyZ2V0LmNsb3Nlc3QoJy5jaGVja2JveF9faGludCcpIHx8IGUudGFyZ2V0LmNsb3Nlc3QoJy5jaGVja2JveF9faGludC1jbG9zZScpKSAmJiAkaGludFNob3duQ29udGFpbmVyKSB7XG4gICAgJGhpbnRTaG93bkNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdjaGVja2JveF9faGludC1jb250YWluZXItLXNob3duJyk7XG4gIH1cbn0pO1xuICAvLyBoYW5kbGUgY2hlY2tib3hzZWxlY3QgbG9naWNcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoZWNrYm94c2VsZWN0X19saXN0JykpLm1hcChsaXN0ID0+IHtcbiAgbGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIFxuICAgIGNvbnN0ICRjaGVja2JveFNlbGVjdCA9IGxpc3QuY2xvc2VzdCgnLmNoZWNrYm94c2VsZWN0Jyk7XG4gICAgbGV0IGNoZWNrZWQgPSBmYWxzZTtcblxuICAgICRjaGVja2JveFNlbGVjdC5jbGFzc0xpc3QucmVtb3ZlKCdjaGVja2JveHNlbGVjdC0tZXJyb3InKTtcblxuICAgIEFycmF5LmZyb20obGlzdC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3hfX2lucHV0JykpLm1hcChjaGVja2JveCA9PiB7XG4gICAgICBjb25zdCAkcGxhY2Vob2xkZXIgPSAkY2hlY2tib3hTZWxlY3QucXVlcnlTZWxlY3RvcignLmNoZWNrYm94c2VsZWN0X19pbnB1dC1wbGFjZWhvbGRlcicpO1xuXG4gICAgICBpZiAoY2hlY2tib3guY2hlY2tlZCkgY2hlY2tlZCA9IHRydWU7XG5cbiAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBsZXQgdmFsdWUgPSAnJztcblxuICAgICAgICBBcnJheS5mcm9tKGxpc3QucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQ6Y2hlY2tlZCcpKS5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgdmFsdWUgKz0gaXRlbS5jbG9zZXN0KCcuY2hlY2tib3hzZWxlY3RfX2l0ZW0nKS5xdWVyeVNlbGVjdG9yKCcuY2hlY2tib3hfX3RleHQnKS5pbm5lclRleHQgKyAnLCAnO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAkcGxhY2Vob2xkZXIuaW5uZXJUZXh0ID0gdmFsdWUuc3Vic3RyaW5nKDAsIHZhbHVlLmxlbmd0aCAtIDIpO1xuICAgICAgICAgICRwbGFjZWhvbGRlci5jbGFzc0xpc3QuYWRkKCdjaGVja2JveHNlbGVjdF9faW5wdXQtcGxhY2Vob2xkZXItLWFjdGl2ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRwbGFjZWhvbGRlci5pbm5lclRleHQgPSAkcGxhY2Vob2xkZXIuZGF0YXNldC5wbGFjZWhvbGRlcjtcbiAgICAgICAgICAkcGxhY2Vob2xkZXIuY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tib3hzZWxlY3RfX2lucHV0LXBsYWNlaG9sZGVyLS1hY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIFxuICAgIGlmIChjaGVja2VkKSB7XG4gICAgICAkY2hlY2tib3hTZWxlY3QuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3hzZWxlY3QtLWNoZWNrZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJGNoZWNrYm94U2VsZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrYm94c2VsZWN0LS1jaGVja2VkJyk7XG4gICAgfVxuICB9KTtcblxuICBsaXN0LmZha2VTY3JvbGwoKTtcbn0pO1xuICAvLyBzZXQgZmlsdGVyIGlucHV0IHZhbHVlXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19kcm9wZG93bi1pdGVtJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9IGUuY3VycmVudFRhcmdldDtcbiAgY29uc3QgdmFsdWUgPSAkdGhpcy5pbm5lclRleHQ7XG5cbiAgJHRoaXMuY2xvc2VzdCgnLmZpbHRlcnNfX2lucHV0JykucXVlcnlTZWxlY3RvcignLmZpbHRlcnNfX2lucHV0LWZpZWxkJykudmFsdWUgPSB2YWx1ZTtcbn0pKTtcblxuY29uc3QgZ2V0TG9jYXRpb25EYXRhID0gKCkgPT4gZmV0Y2goJ2pzb24vbG9jYXRpb24uanNvbicpLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpO1xuXG5jb25zdCBpbml0U21hcnRTZWFyY2ggPSAoJGVsZW1lbnQsIGRhdGEpID0+IHtcbiAgLy8gaGFuZGxlIGZpbHRlciBpbnB1dFxuICBjb25zdCBoYW5kbGVJbnB1dCA9IGZpcnN0UmVuZGVyID0+IHtcbiAgICBjb25zdCAkZHJvcGRvd25FbGVtZW50ID0gJGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXJzX19kcm9wZG93bi1pbm5lcicpO1xuICAgIGNvbnN0ICRkcm9wZG93biA9ICRkcm9wZG93bkVsZW1lbnQucXVlcnlTZWxlY3RvcignLmZha2VTY3JvbGxfX2NvbnRlbnQnKSB8fCAkZHJvcGRvd25FbGVtZW50O1xuICAgIGNvbnN0IGlucHV0U21hcnRTZWFyY2ggPSAkZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKSA9PT0gJ2xvY2F0aW9uJztcbiAgICBjb25zdCBvcHRpb25zID0gaW5wdXRTbWFydFNlYXJjaCA/IGRhdGEubWFwKGVsID0+IGVsLmtleSkuY29uY2F0KGRhdGEuZmxhdE1hcChpdGVtID0+IGl0ZW0uY2l0aWVzKSkgOiBKU09OLnBhcnNlKCRlbGVtZW50LmRhdGFzZXQub3B0aW9ucyk7XG4gICAgY29uc3QgbG93ZXJDYXNlVmFsdWUgPSAkZWxlbWVudC52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0ICRjaGVja2JveCA9ICRkcm9wZG93bi5jbG9zZXN0KCcuZmlsdGVyc19fZHJvcGRvd24nKS5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcbiAgICBsZXQgbWF0Y2hlc0ZvdW5kID0gZmFsc2U7XG5cbiAgICAkZHJvcGRvd24uaW5uZXJIVE1MID0gJyc7XG4gIFxuICAgIC8vIHJlbmRlciBmaWx0ZXIgZHJvcGRvd24gaXRlbXNcbiAgICBvcHRpb25zLm1hcChlbCA9PiB7XG4gICAgICBpZiAoZmlyc3RSZW5kZXIgfHwgZWwudG9Mb3dlckNhc2UoKS5pbmRleE9mKGxvd2VyQ2FzZVZhbHVlKSA9PT0gMCkge1xuICAgICAgICBjb25zdCAkZWxlbWVudCA9IGlucHV0U21hcnRTZWFyY2ggP1xuICAgICAgICAgIGA8YSBjbGFzcz1cImZpbHRlcnNfX2Ryb3Bkb3duLWl0ZW0gZHJvcGRvd25fX21lbnUtaXRlbSR7KGxvd2VyQ2FzZVZhbHVlICYmICFmaXJzdFJlbmRlcikgPyAnIGZpbHRlcnNfX2Ryb3Bkb3duLWl0ZW0tLXNtYXJ0JyA6ICcnfVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIj48c3Bhbj4ke2VsLnN1YnN0cigwLCBsb3dlckNhc2VWYWx1ZS5sZW5ndGgpfTwvc3Bhbj4ke2VsLnN1YnN0cihsb3dlckNhc2VWYWx1ZS5sZW5ndGgpfTwvYT5gIDpcbiAgICAgICAgICBgPGEgY2xhc3M9XCJmaWx0ZXJzX19kcm9wZG93bi1pdGVtIGRyb3Bkb3duX19tZW51LWl0ZW1cIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCI+JHtlbH08L2E+YDtcbiAgICAgICAgbWF0Y2hlc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgJGRyb3Bkb3duLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgJGVsZW1lbnQpXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyB0b2dnbGUgZmlsdGVyIGRyb3Bkb3duIHZpc2liaWxpdHlcbiAgICBpZiAobWF0Y2hlc0ZvdW5kKSB7XG4gICAgICAkZHJvcGRvd25FbGVtZW50LnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnZmlsdGVyc19fZHJvcGRvd24tLWhpZGRlbicpO1xuICAgICAgJGRyb3Bkb3duRWxlbWVudC5wYXJlbnROb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpbHRlcnNfX2Ryb3Bkb3duLS1lbXB0eScpO1xuICAgIH0gZWxzZSBpZiAoISRjaGVja2JveCkge1xuICAgICAgJGRyb3Bkb3duRWxlbWVudC5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ2ZpbHRlcnNfX2Ryb3Bkb3duLS1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJGRyb3Bkb3duRWxlbWVudC5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ2ZpbHRlcnNfX2Ryb3Bkb3duLS1lbXB0eScpO1xuICAgIH1cblxuICAgIC8vIGhhbmRsZSBpbnB1dCB2YWx1ZVxuICAgIEFycmF5LmZyb20oJGRyb3Bkb3duLnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19kcm9wZG93bi1pdGVtJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICRlbGVtZW50LnZhbHVlID0gZWwuaW5uZXJUZXh0O1xuICAgICAgJGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJywgZWwuaW5uZXJUZXh0KTtcblxuICAgICAgaWYgKCRjaGVja2JveCkge1xuICAgICAgICAkY2hlY2tib3guY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAkZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3JlYWRvbmx5Jyk7XG4gICAgICB9XG4gICAgfSkpO1xuXG4gICAgLy8gZmFrZVNjcm9sbCBpbml0XG4gICAgaWYgKGZpcnN0UmVuZGVyICYmICEkZHJvcGRvd25FbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZmFrZVNjcm9sbCcpKSB7XG4gICAgICAkZHJvcGRvd24uZmFrZVNjcm9sbCgpO1xuICAgIH1cbiAgfTtcbiAgLy8gYWRkIGxpc3RlbmVycyBvbiBmaWx0ZXIgaW5wdXRcbiAgaWYgKCRlbGVtZW50Lm5hbWUgIT09ICdjb3N0Jykge1xuICAgICRlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4gaGFuZGxlSW5wdXQoZmFsc2UpKTtcbiAgICAkZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsICgpID0+IGhhbmRsZUlucHV0KHRydWUpKTtcbiAgICAkZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuICAgICAgaWYgKCRlbGVtZW50LnZhbHVlID09PSAnJyB8fCAhJGVsZW1lbnQuZGF0YXNldC52YWx1ZSkge1xuICAgICAgICAkZWxlbWVudC52YWx1ZSA9ICcnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGVsZW1lbnQudmFsdWUgPSAkZWxlbWVudC5kYXRhc2V0LnZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuXG4vLyBmaWx0ZXIgbWFpbiBsb2dpY1xuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19pbnB1dC1maWVsZCcpLmxlbmd0aCkge1xuICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJzX19pbnB1dC1maWVsZCcpKS5tYXAoZWwgPT4ge1xuICAgIGlmIChlbC5uYW1lID09PSAnbG9jYXRpb24nKSB7XG4gICAgICBnZXRMb2NhdGlvbkRhdGEoKS50aGVuKGRhdGEgPT4ge1xuICAgICAgICBpbml0U21hcnRTZWFyY2goZWwsIGRhdGEpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluaXRTbWFydFNlYXJjaChlbCk7XG4gICAgfVxuICB9KTtcbn1cblxuXG4vLyBoYW5kbGUgZmlsdGVyIHJhbmdlIHNsaWRlclxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsdGVyc19fY29zdC1yYW5nZScpKS5tYXAoJHJhbmdlID0+IHtcbiAgY29uc3QgbWluID0gKyRyYW5nZS5kYXRhc2V0Lm1pbjtcbiAgY29uc3QgbWF4ID0gKyRyYW5nZS5kYXRhc2V0Lm1heDtcbiAgY29uc3Qgc21pbiA9ICskcmFuZ2UuZGF0YXNldC5taW47XG4gIGNvbnN0IHNtYXggPSArJHJhbmdlLmRhdGFzZXQubWF4O1xuXG4gIG5vVWlTbGlkZXIuY3JlYXRlKCRyYW5nZSwge1xuICAgIHN0YXJ0OiBbc21pbiwgc21heF0sXG4gICAgY29ubmVjdDogdHJ1ZSxcbiAgICByYW5nZToge1xuICAgICAgbWluLFxuICAgICAgbWF4XG4gICAgfSxcbiAgICBzdGVwOiAxMDBcbiAgfSk7XG5cbiAgJHJhbmdlLm5vVWlTbGlkZXIub24oJ3NsaWRlJywgdmFsdWVzID0+IHtcbiAgICBjb25zdCBtaW4gPSBwYXJzZUludCh2YWx1ZXNbMF0pO1xuICAgIGNvbnN0IG1heCA9IHBhcnNlSW50KHZhbHVlc1sxXSk7XG5cbiAgICAkcmFuZ2UuY2xvc2VzdCgnLmZpbHRlcnNfX2lucHV0JykucXVlcnlTZWxlY3RvcignLmZpbHRlcnNfX2lucHV0LWZpZWxkJykudmFsdWUgPSBgJHttaW59IOKCvSDigJMgJHttYXh9IOKCvWA7XG4gICAgJHJhbmdlLmNsb3Nlc3QoJy5maWx0ZXJzX19jb3N0JykucXVlcnlTZWxlY3RvcignW2RhdGEtY29zdD1cImZyb21cIl0nKS5pbm5lclRleHQgPSBtaW47XG4gICAgJHJhbmdlLmNsb3Nlc3QoJy5maWx0ZXJzX19jb3N0JykucXVlcnlTZWxlY3RvcignW2RhdGEtY29zdD1cInRvXCJdJykuaW5uZXJUZXh0ID0gbWF4O1xuICB9KTtcbn0pO1xuXG5cbi8vIGhhbmRsZSBmaWx0ZXIgY2hlY2tib3hcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlcnNfX2Ryb3Bkb3duLWNoZWNrYm94JykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgJGlucHV0RmllbGQgPSBlbC5jbG9zZXN0KCcuZmlsdGVyc19faW5wdXQnKS5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyc19faW5wdXQtZmllbGQnKTtcblxuICBpZiAoZWwucXVlcnlTZWxlY3RvcignaW5wdXQnKS5jaGVja2VkKSB7XG4gICAgY29uc3QgY2hlY2tib3hWYWx1ZSA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5jaGVja2JveF9fdGV4dCcpLmlubmVyVGV4dDtcbiAgXG4gICAgJGlucHV0RmllbGQudmFsdWUgPSBjaGVja2JveFZhbHVlO1xuICAgICRpbnB1dEZpZWxkLnNldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScsIGNoZWNrYm94VmFsdWUpO1xuICAgICRpbnB1dEZpZWxkLnNldEF0dHJpYnV0ZSgncmVhZG9ubHknLCAncmVhZG9ubHknKTtcbiAgfSBlbHNlIHtcbiAgICAkaW5wdXRGaWVsZC52YWx1ZSA9ICcnO1xuICAgICRpbnB1dEZpZWxkLnNldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScsICcnKTtcbiAgICAkaW5wdXRGaWVsZC5yZW1vdmVBdHRyaWJ1dGUoJ3JlYWRvbmx5Jyk7XG4gIH1cbn0pKTtcbiAgLy8gc2hvdyBoaWRkbmUgc3ViamVjdCBpbiB0dXRvcmNhcmRcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0YXJnZXQgPSBlLnRhcmdldDtcblxuICBpZiAoJHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLXR1dG9yY2FyZC1tb3JlJykpIHtcbiAgICAkdGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgXG4gICAgQXJyYXkuZnJvbSgkdGFyZ2V0LmNsb3Nlc3QoJy50dXRvcmNhcmRfX3N1YmplY3RzJykucXVlcnlTZWxlY3RvckFsbCgnLnR1dG9yY2FyZF9fc3ViamVjdHMtaXRlbS0taGlkZGVuJykpLm1hcChlbCA9PiB7XG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCd0dXRvcmNhcmRfX3N1YmplY3RzLWl0ZW0tLWhpZGRlbicpO1xuICAgIH0pO1xuICB9XG59KTtcbiAgLy8gYWNjb3JkaW9uIGxvZ2ljXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb25fX2l0ZW0tdGl0bGUnKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCAkYWN0aXZlSXRlbSA9IGVsLmNsb3Nlc3QoJy5hY2NvcmRpb24nKS5xdWVyeVNlbGVjdG9yKCcuYWNjb3JkaW9uX19pdGVtLS1hY3RpdmUnKTtcbiAgY29uc3QgJGN1cnJlbnRJdGVtID0gZWwuY2xvc2VzdCgnLmFjY29yZGlvbl9faXRlbScpO1xuXG4gIGlmICgkY3VycmVudEl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NvcmRpb25fX2l0ZW0tLWFjdGl2ZScpKSB7XG4gICAgJGN1cnJlbnRJdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjY29yZGlvbl9faXRlbS0tYWN0aXZlJyk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCRhY3RpdmVJdGVtKSB7XG4gICAgICAkYWN0aXZlSXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY2NvcmRpb25fX2l0ZW0tLWFjdGl2ZScpO1xuICAgIH1cbiAgXG4gICAgJGN1cnJlbnRJdGVtLmNsYXNzTGlzdC5hZGQoJ2FjY29yZGlvbl9faXRlbS0tYWN0aXZlJyk7XG4gIH1cbn0pKTtcbiAgY29uc3QgJHRvZ2dsZUNoZWNrYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGVyc29uYWxfX2FwcGxpY2F0aW9ucy1jaGVja2JveCcpO1xuXG4vLyB0b2dnbGUgYXBwbGljYXRpb24gZm9ybSBtZXNzYWdlXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYXBwbGljYXRpb25fX3dyaXRlJykuZm9yRWFjaChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3Qgc2hvd1RleHQgPSBlbC5kYXRhc2V0LnNob3c7XG4gIGNvbnN0IGhpZGVUZXh0ID0gZWwuZGF0YXNldC5oaWRlO1xuICBjb25zdCBjdXJyZW50VGV4dCA9IGVsLmlubmVySFRNTDtcblxuICBlbC5jbG9zZXN0KCcuYXBwbGljYXRpb24nKS5xdWVyeVNlbGVjdG9yKCcuYXBwbGljYXRpb25fX2Zvcm0nKS5zdHlsZS5kaXNwbGF5ID0gY3VycmVudFRleHQgPT09IHNob3dUZXh0ID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgZWwuaW5uZXJUZXh0ID0gY3VycmVudFRleHQgPT09IHNob3dUZXh0ID8gaGlkZVRleHQgOiBzaG93VGV4dDtcbn0pKTtcblxuLy8gdG9nZ2xlIGFwcGxpY2F0aW9ucyBjaGVja2JveGVzXG4kdG9nZ2xlQ2hlY2tib3hlcy5mb3JFYWNoKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCBjaGVja2VkID0gZWwucXVlcnlTZWxlY3RvcignaW5wdXQnKS5jaGVja2VkO1xuICBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFwcGxpY2F0aW9uX19jaGVja2JveCBpbnB1dCcpLmZvckVhY2goZWwgPT4gZWwuY2hlY2tlZCA9IGNoZWNrZWQpO1xuICAkdG9nZ2xlQ2hlY2tib3hlcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgIGlmIChpdGVtICE9PSBlbCkge1xuICAgICAgaXRlbS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmNoZWNrZWQgPSBjaGVja2VkO1xuICAgIH1cbiAgfSk7XG59KSk7XG5cbi8vIHRvZ2dsZSBtYWluIGNoZWNrYm94XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYXBwbGljYXRpb25fX2NoZWNrYm94IGlucHV0JykuZm9yRWFjaChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gIGxldCBpc0NoZWNrZWQgPSB0cnVlO1xuXG4gIGVsLmNsb3Nlc3QoJy5wZXJzb25hbF9fY2FyZCcpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5hcHBsaWNhdGlvbl9fY2hlY2tib3ggaW5wdXQnKS5mb3JFYWNoKGVsID0+IHtcbiAgICBpZiAoIWVsLmNoZWNrZWQpIHtcbiAgICAgIGlzQ2hlY2tlZCA9IGZhbHNlO1xuICAgIH1cbiAgfSk7XG5cbiAgJHRvZ2dsZUNoZWNrYm94ZXMuZm9yRWFjaChlbCA9PiBlbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmNoZWNrZWQgPSBpc0NoZWNrZWQpO1xufSkpO1xuXG4vLyB0b2dnbGUgYXBwbGljYXRpb24gcmVhc29uXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYXBwbGljYXRpb25fX2RlY2xpbmVkLWxpbmsnKS5mb3JFYWNoKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBlbC5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LnRvZ2dsZSgnYXBwbGljYXRpb25fX2RlY2xpbmVkLXJlYXNvbi0tYWN0aXZlJyk7XG59KSk7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICRhY3RpdmVSZWFzb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXBwbGljYXRpb25fX2RlY2xpbmVkLXJlYXNvbi0tYWN0aXZlJyk7XG5cbiAgaWYgKCRhY3RpdmVSZWFzb24gJiYgIWUudGFyZ2V0LmNsb3Nlc3QoJy5hcHBsaWNhdGlvbl9fZGVjbGluZWQnKSkge1xuICAgICRhY3RpdmVSZWFzb24uY2xhc3NMaXN0LnJlbW92ZSgnYXBwbGljYXRpb25fX2RlY2xpbmVkLXJlYXNvbi0tYWN0aXZlJyk7XG4gIH1cbn0pO1xuICAvLyBtYXNraW5nIGJhbGFjbmUgaW5wdXRcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5iYWxhbmNlX19pbnB1dCcpLmZvckVhY2goZWwgPT4ge1xuICBJbnB1dG1hc2soe2FsaWFzOiAnZGVjaW1hbCcsIHJhZGl4UG9pbnQ6ICcgJywgc3VmZml4OiAnIOKCvSd9KS5tYXNrKGVsKTtcbn0pO1xuXG4vLyBhbGwgYmFsYW5jZSBmb3Jtc1xuY29uc3QgJGJhbGFuY2VGb3JtcyA9IFt7XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtYmFsYW5jZS1yZXBsZW5zaWhdJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgJGVsZW1lbnQuc3VibWl0KCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn1dO1xuXG4vLyBhcHBseSB2YWxpZGF0aW9uIG9uIGJhbGFuY2UgZm9ybXNcbiRiYWxhbmNlRm9ybXMubWFwKGZvcm0gPT4ge1xuICBjb25zdCB7ICRlbGVtZW50LCBjYWxsYmFjayB9ID0gZm9ybTtcblxuICBpZiAoJGVsZW1lbnQpIHtcbiAgICAkYXBpLnZhbGlkYXRlKCRlbGVtZW50LCAoKSA9PiBjYWxsYmFjaygkZWxlbWVudCkpO1xuICB9XG59KTtcbiAgXG4gIGNvbnN0ICRiYW5uZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFubmVyJyk7XG5cbi8vIGJhbm5lciBoYW5kbGluZ1xuaWYgKCFKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsZXRtZXR1dG9yOmJhbm5lcklzSGlkZGVuJykpKSB7XG4gICRiYW5uZXIuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhbm5lcl9fY2xvc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAkYmFubmVyLmNsYXNzTGlzdC5hZGQoJ2Jhbm5lci0taGlkZScpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGJhbm5lci5yZW1vdmUoKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsZXRtZXR1dG9yOmJhbm5lcklzSGlkZGVuJywgdHJ1ZSk7XG4gICAgfSwgNTAwKVxuICB9KTtcbn0gZWxzZSB7XG4gICRiYW5uZXIucmVtb3ZlKCk7XG59XG4gIGNvbnN0ICRjb29raWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvb2tpZXMnKTtcblxuLy8gY29va2llcyBoYW5kbGluZ1xuaWYgKCFKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsZXRtZXR1dG9yOmNvb2tpZXNJc0hpZGRlbicpKSkge1xuICAkY29va2llcy5jbGFzc0xpc3QuYWRkKCdjb29raWVzLS1zaG93bicpO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb29raWVzX19idG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAkY29va2llcy5jbGFzc0xpc3QucmVtb3ZlKCdjb29raWVzLS1zaG93bicpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGNvb2tpZXMucmVtb3ZlKCk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGV0bWV0dXRvcjpjb29raWVzSXNIaWRkZW4nLCB0cnVlKTtcbiAgICB9LCA1MDApXG4gIH0pO1xufSBlbHNlIHtcbiAgJGNvb2tpZXMucmVtb3ZlKCk7XG59XG4gIGxldCBvZmZzZXQgPSAwO1xuY29uc3QgaGlkZU92ZXJmbG93ID0gKCkgPT4ge1xuICBvZmZzZXQgPSAtcGFyc2VJbnQoZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW5Ub3ApO1xuICBkb2N1bWVudC5ib2R5LnN0eWxlLmNzc1RleHQgPSBgcG9zaXRpb246IGZpeGVkOyBtYXJnaW4tdG9wOiAkey13aW5kb3cuc2Nyb2xsWX1weGA7XG59O1xuY29uc3Qgc2hvd092ZXJmbG93ID0gb2Zmc2V0ID0+IHtcbiAgZG9jdW1lbnQuYm9keS5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOiBzdGF0aWM7IG1hcmdpbi10b3A6IDAnO1xuICB3aW5kb3cuc2Nyb2xsVG8oMCwgb2Zmc2V0KTtcbn07XG5jb25zdCBoaWRlSGVhZGVyTWVudSA9ICgpID0+IHtcbiAgc2hvd092ZXJmbG93KCk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbWVudScpLmNsYXNzTGlzdC5yZW1vdmUoJ2hlYWRlci1tZW51LS1zaG93bicpO1xufTtcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYnVyZ2VyJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGhpZGVPdmVyZmxvdygpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW1lbnUnKS5jbGFzc0xpc3QuYWRkKCdoZWFkZXItbWVudS0tc2hvd24nKTtcbn0pO1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW1lbnVfX2JhY2tkcm9wJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWRlSGVhZGVyTWVudSk7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW1lbnVfX2Nsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWRlSGVhZGVyTWVudSk7XG5cbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhlYWRlcl9fbm90aWZpY2F0aW9ucy13cmFwcGVyJykpLm1hcChlbCA9PiB7XG4gIGlmICghZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdmYWtlU2Nyb2xsJykpIHtcbiAgICBlbC5mYWtlU2Nyb2xsKCk7XG4gIH1cbn0pO1xuICBjb25zdCBwb3B1bGFyU2xpZGVyID0gbmV3IFN3aXBlcignLnBvcHVsYXJfX2dyaWQtLW1vYmlsZScsIHtcbiAgbG9vcDogdHJ1ZSxcbiAgbG9vcEFkZGl0aW9uYWxTbGlkZXM6IDMsXG4gIHNwYWNlQmV0d2VlbjogMjAsXG4gIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcbiAgY2VudGVyZWRTbGlkZXM6IHRydWUsXG4gIGJyZWFrcG9pbnRzOiB7XG4gICAgNzYwOiB7XG4gICAgICBzbGlkZXNQZXJWaWV3OiAyLFxuICAgICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlXG4gICAgfVxuICB9XG59KTtcbiAgY29uc3QgcmV2aWV3c1NsaWRlciA9IG5ldyBTd2lwZXIoJy5yZXZpZXdzX19zbGlkZXInLCB7XG4gIGxvb3A6IHRydWUsXG4gIHNwYWNlQmV0d2VlbjogMjAsXG4gIHNsaWRlc1BlclZpZXc6IDMsXG4gIHNsaWRlc1Blckdyb3VwOiAzLFxuICBsb29wQWRkaXRpb25hbFNsaWRlczogMyxcbiAgcGFnaW5hdGlvbjoge1xuICAgIGVsOiAnLnN3aXBlci1wYWdpbmF0aW9uJyxcbiAgICBjbGlja2FibGU6IHRydWVcbiAgfVxufSk7XG5cbmNvbnN0IHJldmlld1NsaWRlck1vYmlsZSA9IG5ldyBTd2lwZXIoJy5yZXZpZXdzX19zbGlkZXItLW1vYmlsZScsIHtcbiAgbG9vcDogdHJ1ZSxcbiAgc3BhY2VCZXR3ZWVuOiAyMCxcbiAgbG9vcEFkZGl0aW9uYWxTbGlkZXM6IDMsXG4gIHBhZ2luYXRpb246IHtcbiAgICBlbDogJy5zd2lwZXItcGFnaW5hdGlvbicsXG4gICAgY2xpY2thYmxlOiB0cnVlXG4gIH1cbn0pO1xuICAvLyBhbGwgYXV0aCBmb3Jtc1xuY29uc3QgJGF1dGhGb3JtcyA9IFt7XG4gICRlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2RhdGEtbG9naW4tZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAkZWxlbWVudC5zdWJtaXQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1zaWdudXAtc3R1ZGVudC1mb3JtXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICRlbGVtZW50LnN1Ym1pdCgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXNpZ251cC10dXRvci1mb3JtXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICRlbGVtZW50LnN1Ym1pdCgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXN1cHBvcnQtZm9ybV0nKSxcbiAgY2FsbGJhY2s6ICRlbGVtZW50ID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICAkZWxlbWVudC5zdWJtaXQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1zaWdudXAtc3R1ZGVudC1mb3JtXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICRlbGVtZW50LnN1Ym1pdCgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXNpZ251cC10dXRvci1mb3JtXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgICRlbGVtZW50LnN1Ym1pdCgpO1xuICAgIH0sIDEwMDApO1xuICB9XG59XTtcblxuLy8gYXBwbHkgdmFsaWRhdGlvbiBvbiBhdXRoIGZvcm1zXG4kYXV0aEZvcm1zLm1hcChmb3JtID0+IHtcbiAgY29uc3QgeyAkZWxlbWVudCwgY2FsbGJhY2sgfSA9IGZvcm07XG5cbiAgaWYgKCRlbGVtZW50KSB7XG4gICAgJGFwaS52YWxpZGF0ZSgkZWxlbWVudCwgKCkgPT4gY2FsbGJhY2soJGVsZW1lbnQpKTtcbiAgfVxufSk7XG5cbi8vIHNldCBjb3VudHJ5IHZhbHVlIHRvIGNpdGllcyBpbnB1dFxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtYXV0aC1jb3VudHJ5JykpLm1hcChlbCA9PiB7XG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZUNvdW50cnknLCBlID0+IHtcbiAgICBlbC5jbG9zZXN0KCdmb3JtJykucXVlcnlTZWxlY3RvcignLmpzLWF1dGgtY2l0eScpLmRhdGFzZXQuY291bnRyeSA9IGUudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykudmFsdWU7XG4gIH0pO1xuICBlbC5kaXNwYXRjaEV2ZW50KGNoYW5nZUNvdW50cnlFdmVudCk7XG59KTtcblxuLy8gaGFuZGxpbmcgY2l0aWVzIGlucHV0XG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWF1dGgtY2l0eSBpbnB1dCcpLmxlbmd0aCkge1xuICBmZXRjaCgnanNvbi9sb2NhdGlvbi5qc29uJykudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihkYXRhID0+IHtcbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1hdXRoLWNpdHkgaW5wdXQnKSkubWFwKGVsID0+IHtcbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZSA9PiB7XG4gICAgICAgIGNvbnN0ICR0aGlzID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgICAgICBjb25zdCAkbGFiZWxFbGVtZW50ID0gJHRoaXMuY2xvc2VzdCgnLmlucHV0Jyk7XG4gICAgICAgIGNvbnN0IGNvdW50cnkgPSAkbGFiZWxFbGVtZW50LmRhdGFzZXQuY291bnRyeTtcblxuICAgICAgICBpZiAoY291bnRyeSkge1xuICAgICAgICAgIGNvbnN0IGNpdGllcyA9IGRhdGEuZmlsdGVyKGVsID0+IGVsLmtleSA9PT0gY291bnRyeSlbMF0uY2l0aWVzO1xuICAgICAgICAgIGNvbnN0IGxvd2VyQ2FzZVZhbHVlID0gJHRoaXMudmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICBjb25zdCAkZHJvcGRvd25FbGVtZW50ID0gJHRoaXMuY2xvc2VzdCgnLmlucHV0JykucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duX19tZW51Jyk7XG4gICAgICAgICAgY29uc3QgJGRyb3Bkb3duQ29udGVudCA9ICRkcm9wZG93bkVsZW1lbnQucXVlcnlTZWxlY3RvcignLmZha2VTY3JvbGxfX2NvbnRlbnQnKTtcbiAgICAgICAgICBsZXQgbWF0Y2hlc0ZvdW5kID0gZmFsc2U7XG5cbiAgICAgICAgICBpZiAoJGRyb3Bkb3duQ29udGVudCkge1xuICAgICAgICAgICAgJGRyb3Bkb3duQ29udGVudC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoJHRoaXMudmFsdWUgIT09ICcnKSB7XG4gICAgICAgICAgICBjaXRpZXMubWFwKGVsID0+IHtcbiAgICAgICAgICAgICAgaWYgKGVsLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihsb3dlckNhc2VWYWx1ZSkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICRkcm9wZG93bkNvbnRlbnQuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBgPGEgY2xhc3M9XCJpbnB1dF9fZHJvcGRvd24taXRlbSBkcm9wZG93bl9fbWVudS1pdGVtJHtsb3dlckNhc2VWYWx1ZSA/ICcgaW5wdXRfX2Ryb3Bkb3duLWl0ZW0tLXNtYXJ0JyA6ICcnfVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIj48c3Bhbj4ke2VsLnN1YnN0cigwLCBsb3dlckNhc2VWYWx1ZS5sZW5ndGgpfTwvc3Bhbj4ke2VsLnN1YnN0cihsb3dlckNhc2VWYWx1ZS5sZW5ndGgpfTwvYT5gKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKG1hdGNoZXNGb3VuZCkge1xuICAgICAgICAgICAgICBBcnJheS5mcm9tKCRsYWJlbEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmlucHV0X19kcm9wZG93bi1pdGVtJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICAkdGhpcy52YWx1ZSA9IGVsLmlubmVyVGV4dDtcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghJGRyb3Bkb3duRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zha2VTY3JvbGwnKSkge1xuICAgICAgICAgICAgJGRyb3Bkb3duRWxlbWVudC5mYWtlU2Nyb2xsKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0ICRkcm9wZG93bkVsZW1lbnQgPSBlbC5jbG9zZXN0KCcuaW5wdXQnKS5xdWVyeVNlbGVjdG9yKCcuZmFrZVNjcm9sbF9fY29udGVudCcpO1xuXG4gICAgICAgIGlmICgkZHJvcGRvd25FbGVtZW50KSB7XG4gICAgICAgICAgJGRyb3Bkb3duRWxlbWVudC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vLyBoYW5kbGluZyByZXF1aXJlZCBhZ3JlZW1lbnQgY2hlY2tib3hcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT1cInJ1bGVzQWdyZWVtZW50XCJdJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gIGNvbnN0ICRzdWJtaXRCdXR0b24gPSBlbC5jbG9zZXN0KCdmb3JtJykucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKTtcblxuICBpZiAoZWwuY2hlY2tlZCkge1xuICAgICRzdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1kaXNhYmxlZCcpO1xuICAgICRzdWJtaXRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICB9IGVsc2Uge1xuICAgICRzdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCgnYnV0dG9uLS1kaXNhYmxlZCcpO1xuICAgICRzdWJtaXRCdXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICB9XG59KSk7XG5cbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmF1dGhfX3RvZ2dsZSAudGFic19faXRlbScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hdXRoX190eXBlJykudmFsdWUgPSBlbC5kYXRhc2V0LnRhYiAtIDE7XG59KSk7XG4gIGNvbnN0ICRjYXRhbG9nTW9yZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1jYXRhbG9nLW1vcmUnKTtcblxuaWYgKCRjYXRhbG9nTW9yZUJ0bikge1xuICBjb25zdCAkcHJldkFycm93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2luYXRpb25fX2Fycm93LS1wcmV2Jyk7XG4gIGNvbnN0ICRuZXh0QXJyb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnaW5hdGlvbl9fYXJyb3ctLW5leHQnKTtcbiAgY29uc3QgJHNlcGFyYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uX19zZXBhcmF0b3InKTtcblxuICAvLyBjYXRhbG9nIHBhZ2VzIHN0YXRlXG4gIGNvbnN0IGNhdGFsb2dQYWdlcyA9IHtcbiAgICBjdXJyZW50OiBbMV0sXG4gICAgdG90YWw6IHBhcnNlSW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nX19pdGVtcycpLmRhdGFzZXQudG90YWwpXG4gIH07XG5cbiAgLy8gc2V0IHBhZ2luYXRpb24gY3VycmVudCBwYWdlXG4gIGNvbnN0IHNldEN1cnJlbnRQYWdlID0gY3VycmVudFBhZ2UgPT4ge1xuICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBhZ2luYXRpb25fX3BhZ2UtLWN1cnJlbnQnKSkubWFwKGVsID0+IGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BhZ2luYXRpb25fX3BhZ2UtLWN1cnJlbnQnKSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnBhZ2luYXRpb25fX3BhZ2VbZGF0YS1wYWdlPVwiJHtjdXJyZW50UGFnZX1cIl1gKS5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19wYWdlLS1jdXJyZW50Jyk7XG4gICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xuICB9O1xuXG4gIC8vIHNldCBwYWdpbmF0aW9uIGJyZWFrXG4gIGNvbnN0IHNldEJyZWFrID0gbGF0ZXN0UGFnZSA9PiB7XG4gICAgY29uc3QgJGJlZm9yZVNlcGFyYXRvckl0ZW0gPSAkc2VwYXJhdG9yLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgY29uc3QgJGZpcnN0SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uX19wYWdlJyk7XG5cbiAgICBpZiAoKyRiZWZvcmVTZXBhcmF0b3JJdGVtLmRhdGFzZXQucGFnZSA9PT0gbGF0ZXN0UGFnZSkge1xuICAgICAgaWYgKGxhdGVzdFBhZ2UgPT09IGNhdGFsb2dQYWdlcy50b3RhbCAtIDIpIHtcbiAgICAgICAgJGZpcnN0SXRlbS5yZW1vdmUoKTtcbiAgICAgICAgJHNlcGFyYXRvci5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19zZXBhcmF0b3ItLWhpZGRlbicpO1xuICAgICAgICAkc2VwYXJhdG9yLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlYmVnaW4nLCBgPGEgY2xhc3M9XCJwYWdpbmF0aW9uX19wYWdlXCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIGRhdGEtcGFnZT1cIiR7bGF0ZXN0UGFnZSArIDF9XCI+JHtsYXRlc3RQYWdlICsgMX08L2E+YCk7XG4gICAgICB9IGVsc2UgaWYgKGxhdGVzdFBhZ2UgPCBjYXRhbG9nUGFnZXMudG90YWwgLSAyKSB7XG4gICAgICAgICRmaXJzdEl0ZW0ucmVtb3ZlKCk7XG4gICAgICAgICRzZXBhcmF0b3IuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmViZWdpbicsIGA8YSBjbGFzcz1cInBhZ2luYXRpb25fX3BhZ2VcIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgZGF0YS1wYWdlPVwiJHtsYXRlc3RQYWdlICsgMX1cIj4ke2xhdGVzdFBhZ2UgKyAxfTwvYT5gKTtcbiAgICAgICAgJHNlcGFyYXRvci5jbGFzc0xpc3QucmVtb3ZlKCdwYWdpbmF0aW9uX19zZXBhcmF0b3ItLWhpZGRlbicpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoKyRmaXJzdEl0ZW0uZGF0YXNldC5wYWdlID09PSBsYXRlc3RQYWdlICYmIGxhdGVzdFBhZ2UgIT09IDEpIHtcbiAgICAgICRiZWZvcmVTZXBhcmF0b3JJdGVtLnJlbW92ZSgpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2luYXRpb25fX3BhZ2VzJykuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJywgYDxhIGNsYXNzPVwicGFnaW5hdGlvbl9fcGFnZVwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiBkYXRhLXBhZ2U9XCIke2xhdGVzdFBhZ2UgLSAxfVwiPiR7bGF0ZXN0UGFnZSAtIDF9PC9hPmApO1xuICAgICAgJHNlcGFyYXRvci5jbGFzc0xpc3QucmVtb3ZlKCdwYWdpbmF0aW9uX19zZXBhcmF0b3ItLWhpZGRlbicpO1xuICAgIH0gZWxzZSBpZiAobGF0ZXN0UGFnZSA9PT0gY2F0YWxvZ1BhZ2VzLnRvdGFsICYmICEkc2VwYXJhdG9yLmNsYXNzTGlzdC5jb250YWlucygncGFnaW5hdGlvbl9fc2VwYXJhdG9yLS0nKSkge1xuICAgICAgY29uc3QgJHBhZ2luYXRpb25QYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYWdpbmF0aW9uX19wYWdlJyk7XG5cbiAgICAgICRzZXBhcmF0b3IuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fc2VwYXJhdG9yLS1oaWRkZW4nKTtcbiAgICAgIEFycmF5LmZyb20oJHBhZ2luYXRpb25QYWdlcykucmV2ZXJzZSgpLm1hcCgoZWwsIGkpID0+IHtcbiAgICAgICAgZWwuaW5uZXJUZXh0ID0gbGF0ZXN0UGFnZSAtIGk7XG4gICAgICAgIGVsLmRhdGFzZXQucGFnZSA9IGxhdGVzdFBhZ2UgLSBpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIGZvcm1pbmcgcXVlcnkgdXJsIHdpdGggZmlsdGVycyB2YWx1ZXMgZnJvbSB1cmwgcGFyYW1lcnRyZXNcbiAgY29uc3QgZm9ybWF0VVJMID0gdXJsID0+IHtcbiAgICBsZXQgZm9ybWF0dGVkVVJMID0gdXJsO1xuICAgIGNvbnN0IGZpbHRlcnNOYW1lcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlcnNfX2lucHV0LWZpZWxkJykpLm1hcChlbCA9PiBlbC5uYW1lKTtcbiAgICBcbiAgICBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpLnNlYXJjaFBhcmFtcy50b1N0cmluZygpLnNwbGl0KFwiJlwiKS5tYXAoZWwgPT4ge1xuICAgICAgY29uc3QgWyBrZXkgXSA9IGVsLnNwbGl0KCc9Jyk7XG4gICAgICBpZiAoZmlsdGVyc05hbWVzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgZm9ybWF0dGVkVVJMICs9ICcmJyArIGVsO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZm9ybWF0dGVkVVJMICs9IGAmbGltaXQ9JHtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtY2F0YWxvZy1saW1pdCAuZHJvcGRvd25fX3ZhbHVlJykuaW5uZXJUZXh0fWA7XG5cbiAgICByZXR1cm4gZm9ybWF0dGVkVVJMO1xuICB9O1xuXG4gIC8vIGdlbmVyYXRlIGNhdGFsb2cgaXRlbSBlbGVtZW50XG4gIGNvbnN0IGNhdGFsb2dJdGVtRWxlbWVudCA9ICh7IHRvcCwgaW1hZ2UsIHZlcmlmaWVkLCBuYW1lLCBjb3VudHJ5LCBzdWJqZWN0cywgbG9jYXRpb24sIGRlc2NyaXB0aW9uLCBsaW5rLCByYXRpbmcsIHJldmlld3MsIHByaWNlIH0pID0+IGBcbiAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkJHt0b3AgPyAnIHR1dG9yY2FyZC0tdG9wJyA6ICcnfVwiPlxuICAgICAgPGRpdiBjbGFzcz1cInR1dG9yY2FyZF9faW1hZ2VcIiBzdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6IHVybCgnaW1nL2luaHRtbC8ke2ltYWdlfScpXCI+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkX19pbmZvXCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0dXRvcmNhcmRfX25hbWUke3ZlcmlmaWVkID8gJyB0dXRvcmNhcmRfX25hbWUtLXZlcmlmaWVkJyA6ICcnfVwiPiR7bmFtZX08L3A+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0dXRvcmNhcmRfX2xvY2F0aW9uXCIgZGF0YS1sb2M9JHtjb3VudHJ5fT4ke2xvY2F0aW9ufTwvcD5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidHV0b3JjYXJkX19zdWJqZWN0c1wiPlxuICAgICAgICAgICAgJHtzdWJqZWN0cy5tYXAoZWwgPT4gYFxuICAgICAgICAgICAgICA8YSBjbGFzcz1cInR1dG9yY2FyZF9fc3ViamVjdHMtaXRlbSR7ZWwuc2VhcmNoID8gJyB0dXRvcmNhcmRfX3N1YmplY3RzLWl0ZW0tLXNlYXJjaCcgOiAnJ30ke2VsLmhpZGRlbiA/ICcgdHV0b3JjYXJkX19zdWJqZWN0cy1pdGVtLS1oaWRkZW4nIDogJyd9XCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiPiR7ZWwubmFtZX0gPHNwYW4+KNC+0L/Ri9GCIDxiPiR7ZWwuZXhwZXJpZW5jZX08L2I+KTwvc3Bhbj48L2E+XG4gICAgICAgICAgICBgKS5qb2luKCcnKX1cbiAgICAgICAgICAgIDxhIGNsYXNzPVwidHV0b3JjYXJkX19zdWJqZWN0cy1tb3JlIGpzLXR1dG9yY2FyZC1tb3JlXCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiPiske1sn0L/RgNC10LTQvNC10YInLCAn0L/RgNC10LTQvNC10YLQsCcsICfQv9GA0LXQtNC80LXRgtC+0LInXS5kZWNsaW5lKHN1YmplY3RzLmxlbmd0aCAtIDIsIHRydWUpfTwvYT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8cCBjbGFzcz1cInR1dG9yY2FyZF9fZGVzY1wiPiR7ZGVzY3JpcHRpb259PC9wPlxuICAgICAgICA8L2Rpdj48YSBjbGFzcz1cInR1dG9yY2FyZF9fbW9yZVwiIGhyZWY9JHtsaW5rfT7Qn9C+0LTRgNC+0LHQvdC10LU8L2E+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ0dXRvcmNhcmRfX2FjdGlvbnNcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInR1dG9yY2FyZF9fYWN0aW9ucy1pbmZvXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInR1dG9yY2FyZF9fcmF0aW5nJHtwYXJzZUludChyZXZpZXdzKSA9PT0gMCA/ICcgdHV0b3JjYXJkX19yYXRpbmctLWVtcHR5JyA6ICcnfVwiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0dXRvcmNhcmRfX3JhdGluZy1yYXRlXCI+JHtyYXRpbmd9PC9wPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0dXRvcmNhcmRfX3JhdGluZy1yZXZpZXdzXCI+KCR7cmV2aWV3c30pPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0dXRvcmNhcmRfX2Nvc3RcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidHV0b3JjYXJkX19jb3N0LXZhbHVlXCI+JHtwcmljZX0g4oK9PC9wPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0dXRvcmNhcmRfX2Nvc3QtZGVzY1wiPtCyINGH0LDRgTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJidXR0b24ganMtb3Blbi1wb3B1cCR7dG9wID8gJyBidXR0b24tLXByaW1hcnknIDogJyBidXR0b24tLXNlY29uZGFyeSd9IHR1dG9yY2FyZF9fYnRuXCIgZGF0YS1wb3B1cD1cInJlcXVlc3QtYXV0aFwiPtCe0YHRgtCw0LLQuNGC0Ywg0LfQsNGP0LLQutGDPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYDtcblxuICAvLyBsb2FkIG1vcmUgY2F0YWxvZyBpdGVtc1xuICAkY2F0YWxvZ01vcmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAkY2F0YWxvZ01vcmVCdG4uY2xhc3NMaXN0LmFkZCgnYnV0dG9uLS1sb2FkaW5nJyk7XG5cbiAgICBjb25zdCBsYXRlc3RQYWdlID0gY2F0YWxvZ1BhZ2VzLmN1cnJlbnRbY2F0YWxvZ1BhZ2VzLmN1cnJlbnQubGVuZ3RoIC0gMV0gKyAxO1xuICAgIGNvbnN0IHF1ZXJ5VXJsID0gZm9ybWF0VVJMKGBqc29uL2NhdGFsb2cuanNvbj9wYWdlPSR7bGF0ZXN0UGFnZX1gKTtcblxuICAgIC8vIHNldCBjdXJyZW50IHBhZ2VzXG4gICAgY2F0YWxvZ1BhZ2VzLmN1cnJlbnQucHVzaChsYXRlc3RQYWdlKTtcblxuICAgIC8vIHNldCBjdXJyZW50IHBhZ2ludGFpb24gcGFnZXNcbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYWdpbmF0aW9uX19wYWdlJykpLm1hcChlbCA9PiB7XG4gICAgICBpZiAoY2F0YWxvZ1BhZ2VzLmN1cnJlbnQuaW5jbHVkZXMocGFyc2VJbnQoZWwuaW5uZXJUZXh0KSkpIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fcGFnZS0tY3VycmVudCcpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZmV0Y2gocXVlcnlVcmwpLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpLnRoZW4oZGF0YSA9PiB7XG4gICAgICBkYXRhLm1hcChpdGVtID0+IHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGFsb2dfX2l0ZW1zJykuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBjYXRhbG9nSXRlbUVsZW1lbnQoaXRlbSkpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChsYXRlc3RQYWdlID09PSBjYXRhbG9nUGFnZXMudG90YWwpIHtcbiAgICAgICAgJGNhdGFsb2dNb3JlQnRuLmNsYXNzTGlzdC5hZGQoJ2NhdGFsb2dfX2JvdHRvbS1idG4tLWhpZGRlbicpO1xuICAgICAgICAkbmV4dEFycm93LmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX2Fycm93LS1kaXNhYmxlZCcpO1xuICAgICAgfVxuXG4gICAgICAkY2F0YWxvZ01vcmVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIGdvIHRvIHByZXZpb3VzIHBhZ2VcbiAgJHByZXZBcnJvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gY2F0YWxvZ1BhZ2VzLmN1cnJlbnRbMF0gLSAxO1xuICAgIGNvbnN0IHF1ZXJ5VXJsID0gZm9ybWF0VVJMKGBqc29uL2NhdGFsb2cuanNvbj9wYWdlPSR7Y3VycmVudFBhZ2V9YCk7XG5cbiAgICBjYXRhbG9nUGFnZXMuY3VycmVudCA9IFtjdXJyZW50UGFnZV07XG5cbiAgICBmZXRjaChxdWVyeVVybCkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihkYXRhID0+IHtcbiAgICAgIGxldCAkZWxlbWVudHMgPSAnJztcbiAgXG4gICAgICBkYXRhLm1hcChpdGVtID0+IHtcbiAgICAgICAgJGVsZW1lbnRzICs9IGNhdGFsb2dJdGVtRWxlbWVudChpdGVtKTtcbiAgICAgIH0pO1xuXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnaW5hdGlvbl9fYXJyb3ctLW5leHQnKS5jbGFzc0xpc3QucmVtb3ZlKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgIHNldEN1cnJlbnRQYWdlKGN1cnJlbnRQYWdlKTtcblxuICAgICAgaWYgKGN1cnJlbnRQYWdlID09PSAxKSB7XG4gICAgICAgICRwcmV2QXJyb3cuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICB9XG5cbiAgICAgICRjYXRhbG9nTW9yZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdjYXRhbG9nX19ib3R0b20tYnRuLS1oaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nX19pdGVtcycpLmlubmVySFRNTCA9ICRlbGVtZW50cztcbiAgICB9KTtcblxuICAgIGlmICgkc2VwYXJhdG9yKSB7XG4gICAgICBzZXRCcmVhayhjdXJyZW50UGFnZSk7XG4gICAgfVxuICB9KTtcblxuICAvLyBnbyB0byBuZXh0IHBhZ2VcbiAgJG5leHRBcnJvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gY2F0YWxvZ1BhZ2VzLmN1cnJlbnRbY2F0YWxvZ1BhZ2VzLmN1cnJlbnQubGVuZ3RoIC0gMV0gKyAxO1xuICAgIGNvbnN0IHF1ZXJ5VXJsID0gZm9ybWF0VVJMKGBqc29uL2NhdGFsb2cuanNvbj9wYWdlPSR7Y3VycmVudFBhZ2V9YCk7XG5cbiAgICBjYXRhbG9nUGFnZXMuY3VycmVudCA9IFtjdXJyZW50UGFnZV07XG5cbiAgICBmZXRjaChxdWVyeVVybCkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihkYXRhID0+IHtcbiAgICAgIGxldCAkZWxlbWVudHMgPSAnJztcbiAgXG4gICAgICBkYXRhLm1hcChpdGVtID0+IHtcbiAgICAgICAgJGVsZW1lbnRzICs9IGNhdGFsb2dJdGVtRWxlbWVudChpdGVtKTtcbiAgICAgIH0pO1xuXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnaW5hdGlvbl9fYXJyb3ctLXByZXYnKS5jbGFzc0xpc3QucmVtb3ZlKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgIHNldEN1cnJlbnRQYWdlKGN1cnJlbnRQYWdlKTtcblxuICAgICAgaWYgKGN1cnJlbnRQYWdlID09PSBjYXRhbG9nUGFnZXMudG90YWwpIHtcbiAgICAgICAgJGNhdGFsb2dNb3JlQnRuLmNsYXNzTGlzdC5hZGQoJ2NhdGFsb2dfX2JvdHRvbS1idG4tLWhpZGRlbicpO1xuICAgICAgICAkbmV4dEFycm93LmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX2Fycm93LS1kaXNhYmxlZCcpO1xuICAgICAgfVxuXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZ19faXRlbXMnKS5pbm5lckhUTUwgPSAkZWxlbWVudHM7XG4gIFxuICAgICAgaWYgKCRzZXBhcmF0b3IpIHtcbiAgICAgICAgc2V0QnJlYWsoY3VycmVudFBhZ2UpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICAvLyBnbyB0byBzcGVjaWZpYyBwYWdlXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSBlLnRhcmdldDtcblxuICAgIGlmICgkdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ3BhZ2luYXRpb25fX3BhZ2UnKSkge1xuICAgICAgY29uc3QgY3VycmVudFBhZ2UgPSBwYXJzZUludCgkdGhpcy5kYXRhc2V0LnBhZ2UpO1xuICAgICAgY29uc3QgcXVlcnlVcmwgPSBmb3JtYXRVUkwoYGpzb24vY2F0YWxvZy5qc29uP3BhZ2U9JHtjdXJyZW50UGFnZX1gKTtcblxuICAgICAgY2F0YWxvZ1BhZ2VzLmN1cnJlbnQgPSBbY3VycmVudFBhZ2VdO1xuXG4gICAgICBmZXRjaChxdWVyeVVybCkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihkYXRhID0+IHtcbiAgICAgICAgbGV0ICRlbGVtZW50cyA9ICcnO1xuICAgIFxuICAgICAgICBkYXRhLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAkZWxlbWVudHMgKz0gY2F0YWxvZ0l0ZW1FbGVtZW50KGl0ZW0pO1xuICAgICAgICB9KTtcbiAgXG4gICAgICAgIHNldEN1cnJlbnRQYWdlKGN1cnJlbnRQYWdlKTtcbiAgXG4gICAgICAgIGlmIChjdXJyZW50UGFnZSA9PT0gY2F0YWxvZ1BhZ2VzLnRvdGFsKSB7XG4gICAgICAgICAgJHByZXZBcnJvdy5jbGFzc0xpc3QucmVtb3ZlKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgICAgICAkbmV4dEFycm93LmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX2Fycm93LS1kaXNhYmxlZCcpO1xuICAgICAgICAgICRjYXRhbG9nTW9yZUJ0bi5jbGFzc0xpc3QuYWRkKCdjYXRhbG9nX19ib3R0b20tYnRuLS1oaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50UGFnZSA9PT0gMSkge1xuICAgICAgICAgICRwcmV2QXJyb3cuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9fYXJyb3ctLWRpc2FibGVkJyk7XG4gICAgICAgICAgJG5leHRBcnJvdy5jbGFzc0xpc3QucmVtb3ZlKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgICAgICAkY2F0YWxvZ01vcmVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnY2F0YWxvZ19fYm90dG9tLWJ0bi0taGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJHByZXZBcnJvdy5jbGFzc0xpc3QucmVtb3ZlKCdwYWdpbmF0aW9uX19hcnJvdy0tZGlzYWJsZWQnKTtcbiAgICAgICAgICAkbmV4dEFycm93LmNsYXNzTGlzdC5yZW1vdmUoJ3BhZ2luYXRpb25fX2Fycm93LS1kaXNhYmxlZCcpO1xuICAgICAgICAgICRjYXRhbG9nTW9yZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdjYXRhbG9nX19ib3R0b20tYnRuLS1oaWRkZW4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkc2VwYXJhdG9yKSB7XG4gICAgICAgICAgc2V0QnJlYWsoY3VycmVudFBhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGFsb2dfX2l0ZW1zJykuaW5uZXJIVE1MID0gJGVsZW1lbnRzO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cbiAgLy8gc2Nyb2xsIHRvIHR1dG9yIHNlY3Rpb25cbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnR1dG9yX19uYXYtbGluaycpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IHRhcmdldCA9IGVsLmRhdGFzZXQudGFyZ2V0O1xuXG4gIHNjcm9sbFRvKHtcbiAgICB0b3A6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWJsb2NrPVwiJHt0YXJnZXR9XCJdYCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0IC0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcicpLm9mZnNldEhlaWdodCxcbiAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgfSk7XG59KSk7XG4gIC8vIHNldCBwYXltZW50IHBlciBob3VyXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9maWxlLWhlYWRfX3N1YmplY3RzLWl0ZW0nKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCBwYXltZW50ID0gZWwuZGF0YXNldC5wYXk7XG5cbiAgZWwuY2xvc2VzdCgnLnByb2ZpbGUtaGVhZF9fc3ViamVjdHMnKS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1oZWFkX19zdWJqZWN0cy1pdGVtLS1oaWdobGlnaHQnKS5jbGFzc0xpc3QucmVtb3ZlKCdwcm9maWxlLWhlYWRfX3N1YmplY3RzLWl0ZW0tLWhpZ2hsaWdodCcpO1xuICBlbC5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLWhlYWRfX3N1YmplY3RzLWl0ZW0tLWhpZ2hsaWdodCcpO1xuXG4gIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLXByb2ZpbGUtY29zdCcpKS5tYXAoZWwgPT4gZWwuaW5uZXJUZXh0ID0gcGF5bWVudCk7XG59KSk7XG4gIGNvbnN0ICRwcm9maWxlVmlkZW9Db3ZlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLWFib3V0X192aWRlby1jb3ZlcicpO1xuXG4vLyBwbGF5IHZpZGUgb24gYWJvdXQgc2VjdGlvblxuaWYgKCRwcm9maWxlVmlkZW9Db3Zlcikge1xuICAkcHJvZmlsZVZpZGVvQ292ZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY29uc3QgJHZpZGVvID0gJHByb2ZpbGVWaWRlb0NvdmVyLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignaWZyYW1lJyk7XG5cbiAgICAkcHJvZmlsZVZpZGVvQ292ZXIucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdpZnJhbWUnKS5zZXRBdHRyaWJ1dGUoJ3NyYycsICR2aWRlby5nZXRBdHRyaWJ1dGUoJ3NyYycpICsgJz9hdXRvcGxheT0xJyk7XG4gICAgJHByb2ZpbGVWaWRlb0NvdmVyLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtYWJvdXRfX3ZpZGVvLWNvdmVyLS1oaWRkZW4nKTtcbiAgfSk7XG59XG4gIGNvbnN0ICRyZXZpZXdzTW9yZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1yZXZpZXdzLW1vcmUnKTtcblxuaWYgKCRyZXZpZXdzTW9yZUJ0bikge1xuICAvLyByZXZpZXdzIHBhZ2VzIHN0YXRlXG4gIGNvbnN0IHJldmlld3NQYWdlcyA9IHtcbiAgICBjdXJyZW50OiAxLFxuICAgIHRvdGFsOiAzXG4gIH07XG4gIC8vIGdlbmVyYXRlIHJldmlldyBlbGVtZW50XG4gIGNvbnN0IHJldmlld0VsZW1lbnQgPSAoeyBpbWFnZSwgbmFtZSwgZGF0ZSwgcmF0aW5nLCBmZWVkYmFjaywgdGFnIH0pID0+IGBcbiAgICA8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFja1wiPlxuICAgICAgJHtpbWFnZSA/XG4gICAgICAgIGA8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay1pbWFnZVwiIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTogdXJsKCdpbWcvaW5odG1sLyR7aW1hZ2V9JylcIj48L2Rpdj5gIDpcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX2ZlZWRiYWNrLWltYWdlXCI+PC9kaXY+J1xuICAgICAgfVxuICAgICAgPGRpdiBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2staW5mb1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay1oZWFkXCI+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay1uYW1lXCI+JHtuYW1lfTwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19mZWVkYmFjay1kYXRlXCI+JHtkYXRlfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAke3RhZyA/ICc8cCBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2stdGFnXCI+JyArIHRhZyArICc8L3A+JyA6ICcnfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInByb2ZpbGUtcmV2aWV3c19fcmF0aW5nLXN0YXJzXCI+XG4gICAgICAgICAgJHtbMSwgMiwgMywgNCwgNV0ubWFwKGUgPT4gZSA8PSByYXRpbmcgP1xuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX3JhdGluZy1zdGFyIHByb2ZpbGUtcmV2aWV3c19fcmF0aW5nLXN0YXItLWZ1bGxcIj48L2Rpdj4nIDpcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicHJvZmlsZS1yZXZpZXdzX19yYXRpbmctc3RhclwiPjwvZGl2PidcbiAgICAgICAgICApLmpvaW4oJycpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHAgY2xhc3M9XCJwcm9maWxlLXJldmlld3NfX2ZlZWRiYWNrLXRleHRcIj4ke2ZlZWRiYWNrfTwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICBgO1xuXG4gIC8vIGxvYWQgbW9yZSByZXZpZXcgb24gYnV0dG9uIGNsaWNrXG4gICRyZXZpZXdzTW9yZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB1cmwgPSAkcmV2aWV3c01vcmVCdG4uZGF0YXNldC51cmw7XG5cbiAgICAvLyBpbmNyZW1lbnQgY3VycmVudCBsb2FkZWQgcmV2aWV3cyBwYWdlXG4gICAgKytyZXZpZXdzUGFnZXMuY3VycmVudDtcbiAgICBcbiAgICAvLyBsb2FkIHJldmlld3NcbiAgICBmZXRjaChgJHt1cmx9P3BhZ2U9JHtyZXZpZXdzUGFnZXMuY3VycmVudH1gKS50aGVuKHJlcyA9PiByZXMuanNvbigpKS50aGVuKGRhdGEgPT4ge1xuICAgICAgZGF0YS5tYXAocmV2aWV3ID0+IHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtcmV2aWV3c19fZmVlZGJhY2tzJykuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCByZXZpZXdFbGVtZW50KHJldmlldykpO1xuXG4gICAgICAgIGlmIChyZXZpZXdzUGFnZXMuY3VycmVudCA9PT0gcmV2aWV3c1BhZ2VzLnRvdGFsKSB7XG4gICAgICAgICAgJHJldmlld3NNb3JlQnRuLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59XG4gIC8vIGluaXQgZmFrZVNjcm9sbCBvbiB0aW1lem9uZSBkcm9wZG93blxuY29uc3QgJHRpbWV6b25lRHJvcGRvd25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2ZpbGUtc2NoZWR1bGVfX3RpbWV6b25lLW1lbnUnKTtcblxuaWYgKCR0aW1lem9uZURyb3Bkb3ducy5sZW5ndGgpIHtcbiAgQXJyYXkuZnJvbSgkdGltZXpvbmVEcm9wZG93bnMpLm1hcChlbCA9PiB7XG4gICAgaWYgKCFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zha2VTY3JvbGwnKSkge1xuICAgICAgZWwuZmFrZVNjcm9sbCgpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIGluaXQgZmFrZVNjcm9sbCBvbiBkYXRlL3RpbWUgZHJvcGRvd25zXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9maWxlLXNjaGVkdWxlX190aW1lJykpLm1hcChlbCA9PiB7XG4gIGNvbnN0ICRjb250YWluZXIgPSBlbC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fdGltZS1tZW51Jyk7XG5cbiAgaWYgKCRjb250YWluZXIgJiYgISRjb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdmYWtlU2Nyb2xsJykpIHtcbiAgICAkY29udGFpbmVyLmZha2VTY3JvbGwoKTtcbiAgfVxufSk7XG5cbmNvbnN0IHNldERhdGVUaW1lID0gKCkgPT4ge1xuICBjb25zdCAkY3VycmVudFVuaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fdW5pdC0tY3VycmVudCcpO1xuICBjb25zdCAkcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cInJlcXVlc3Qtc3BlY2lmaWNcIl0nKTtcblxuICBpZiAoJGN1cnJlbnRVbml0KSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBkYXRlID0gJGN1cnJlbnRVbml0LmRhdGFzZXQuZGF0ZTtcbiAgICAgIGNvbnN0IHRpbWUgPSAkY3VycmVudFVuaXQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX3RpbWUtdmFsdWUnKS5pbm5lclRleHQ7XG4gIFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX3BpY2snKS5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLXNjaGVkdWxlX19waWNrLS1hY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19waWNrLWRhdGUnKS5pbm5lclRleHQgPSBkYXRlO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX3BpY2stdGltZScpLmlubmVyVGV4dCA9IHRpbWU7XG5cbiAgICAgIGlmICgkcG9wdXApIHtcbiAgICAgICAgJHBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faGVhZGluZy1kYXRlJykuaW5uZXJUZXh0ID0gZGF0ZTtcbiAgICAgICAgJHBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faGVhZGluZy10aW1lJykuaW5uZXJUZXh0ID0gdGltZTtcbiAgICAgICAgJHBvcHVwLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJ0aW1lXCJdJykudmFsdWUgPSB0aW1lO1xuICAgICAgfVxuICAgIH0sIDApO1xuICB9XG59XG5cbi8vIGhhbmRsZSBzY2hlZHVsZSBzbGlkZXJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZScpKSB7XG4gIGNvbnN0ICRwcmV2QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX2NvbnRyb2xzLWJ1dHRvbi0tcHJldicpO1xuICBjb25zdCAkbmV4dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLW5leHQnKTtcbiAgXG4gIGlmICgkcHJldkJ1dHRvbikge1xuICAgICRwcmV2QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgJGFjdGl2ZVNsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtc2NoZWR1bGVfX3NsaWRlLS1hY3RpdmUnKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9ICskYWN0aXZlU2xpZGUuZGF0YXNldC5zbGlkZTtcbiAgICAgIGNvbnN0ICRwcmV2U2xpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucHJvZmlsZS1zY2hlZHVsZV9fc2xpZGVbZGF0YS1zbGlkZT1cIiR7Y3VycmVudEluZGV4IC0gMX1cIl1gKTtcbiAgICBcbiAgICAgIGlmICgkcHJldlNsaWRlKSB7XG4gICAgICAgICRhY3RpdmVTbGlkZS5jbGFzc0xpc3QucmVtb3ZlKCdwcm9maWxlLXNjaGVkdWxlX19zbGlkZS0tYWN0aXZlJyk7XG4gICAgICAgICRwcmV2U2xpZGUuY2xhc3NMaXN0LmFkZCgncHJvZmlsZS1zY2hlZHVsZV9fc2xpZGUtLWFjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1uZXh0JykuY2xhc3NMaXN0LnJlbW92ZSgncHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1kaXNhYmxlZCcpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtZGF0ZXMnKS5pbm5lclRleHQgPSAkcHJldlNsaWRlLmRhdGFzZXQuZGF0ZXM7XG4gICAgXG4gICAgICAgIGlmICgkcHJldlNsaWRlLmRhdGFzZXQuZmlyc3QpIHtcbiAgICAgICAgICAkcHJldkJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLWRpc2FibGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBcbiAgaWYgKCRuZXh0QnV0dG9uKSB7XG4gICAgJG5leHRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCAkYWN0aXZlU2xpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fc2xpZGUtLWFjdGl2ZScpO1xuICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gKyRhY3RpdmVTbGlkZS5kYXRhc2V0LnNsaWRlO1xuICAgICAgY29uc3QgJG5leHRTbGlkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wcm9maWxlLXNjaGVkdWxlX19zbGlkZVtkYXRhLXNsaWRlPVwiJHtjdXJyZW50SW5kZXggKyAxfVwiXWApO1xuICAgIFxuICAgICAgaWYgKCRuZXh0U2xpZGUpIHtcbiAgICAgICAgJGFjdGl2ZVNsaWRlLmNsYXNzTGlzdC5yZW1vdmUoJ3Byb2ZpbGUtc2NoZWR1bGVfX3NsaWRlLS1hY3RpdmUnKTtcbiAgICAgICAgJG5leHRTbGlkZS5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLXNjaGVkdWxlX19zbGlkZS0tYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLXByZXYnKS5jbGFzc0xpc3QucmVtb3ZlKCdwcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLWRpc2FibGVkJyk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1kYXRlcycpLmlubmVyVGV4dCA9ICRuZXh0U2xpZGUuZGF0YXNldC5kYXRlcztcbiAgICBcbiAgICAgICAgaWYgKCRuZXh0U2xpZGUuZGF0YXNldC5sYXN0KSB7XG4gICAgICAgICAgJG5leHRCdXR0b24uY2xhc3NMaXN0LmFkZCgncHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1kaXNhYmxlZCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuLy8gaGFuZGxlIHNlbGVjdCBkYXRldGltZSB1bml0XG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9maWxlLXNjaGVkdWxlX191bml0JykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoJy5wcm9maWxlLXNjaGVkdWxlX190aW1lJykpIHtcbiAgICBjb25zdCAkY3VycmVudFVuaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1zY2hlZHVsZV9fdW5pdC0tY3VycmVudCcpO1xuICBcbiAgICBpZiAoJGN1cnJlbnRVbml0KSB7XG4gICAgICAkY3VycmVudFVuaXQuY2xhc3NMaXN0LnJlbW92ZSgncHJvZmlsZS1zY2hlZHVsZV9fdW5pdC0tY3VycmVudCcpO1xuICAgIH1cbiAgXG4gICAgZWwuY2xhc3NMaXN0LmFkZCgncHJvZmlsZS1zY2hlZHVsZV9fdW5pdC0tY3VycmVudCcpO1xuICAgIHNldERhdGVUaW1lKCk7XG4gIH1cbn0pKTtcblxuLy8gZXhlY3V0ZSBzZXQgZGF0ZXRpbWUgb24gdGltZSBjaGFuZ2VcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2ZpbGUtc2NoZWR1bGVfX3RpbWUtbWVudSAuZHJvcGRvd25fX21lbnUtaXRlbScpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZXREYXRlVGltZSkpO1xuICBjb25zdCAkZGlhbG9nQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2dyaWQnKTtcbmNvbnN0ICRkaWFsb2dMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2FzaWRlJyk7XG5jb25zdCAkZGlhbG9nTGlzdEl0ZW1zID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hhdC1pdGVtJykpO1xuY29uc3QgJGRpYWxvZ1dhcm5pbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdF9faGVhZC13YXJuaW5nJyk7XG5jb25zdCAkZGlhbG9nV2luZG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2RpYWxvZycpO1xuY29uc3QgJGRpYWxvZ1dpbmRvd0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19kaWFsb2ctY29udGFpbmVyJyk7XG5jb25zdCAkZGlhbG9nSW5wdXRGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19mb290ZXItaW5wdXQnKTtcbmNvbnN0ICRkaWFsb2dGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2Zvb3Rlci1jb250YWluZXInKTtcbmNvbnN0ICRkaWFsb2dDb250ZXh0TWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19jb250ZXh0Jyk7XG5jb25zdCAkZGlhbG9nRGVsZXRlTWVzc2FnZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cFtkYXRhLXBvcHVwPVwiZGlhbG9nLWRlbGV0ZVwiXSBbZGF0YS1kZWxldGVdJyk7XG5sZXQgc2NyZWVuT2Zmc2V0ID0gMDtcblxuLy8gY3VzdG9tIGZvcm0gc3VibWl0IGV2ZW50XG5jb25zdCBmb3JtU3VibWl0RXZlbnQgPSBuZXcgRXZlbnQoJ2Zvcm1TdWJtaXQnKTtcblxuLy8gZGVzdHJveSBkaWFsb2cgY29udGV4dCBtZW51XG5jb25zdCBjb250ZXh0RGVzdHJveSA9IGRlbGV0ZU1lc3NhZ2UgPT4ge1xuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2NvbnRleHQtLXNob3duJykpIHtcbiAgICAkZGlhbG9nQ29udGV4dE1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnY2hhdF9fY29udGV4dC0tc2hvd24nKTtcbiAgICBcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPCA3NjAgJiYgIWRlbGV0ZU1lc3NhZ2UpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjogc3RhdGljOyBtYXJnaW4tdG9wOiAwJztcbiAgICAgIFxuICAgICAgd2luZG93LnNjcm9sbFRvKDAsIHNjcmVlbk9mZnNldCk7XG4gICAgfVxuICB9XG59O1xuXG5pZiAoJGRpYWxvZ0xpc3QpIHtcbiAgJGRpYWxvZ0xpc3QuZmFrZVNjcm9sbCgpO1xufVxuXG4vLyBzZXQgaGVpZ2h0IG9mIGZvcm0gdGV4dGFyZWEgZmllbGRcbmNvbnN0IHNldERpYWxvZ0lucHV0SGVpZ2h0ID0gKCkgPT4ge1xuICAkZGlhbG9nSW5wdXRGaWVsZC5zdHlsZS5oZWlnaHQgPSAnNXB4JztcbiAgJGRpYWxvZ0lucHV0RmllbGQuc3R5bGUuaGVpZ2h0ID0gJGRpYWxvZ0lucHV0RmllbGQuc2Nyb2xsSGVpZ2h0ICsgMyArICdweCc7XG59O1xuXG5jb25zdCBzY3JvbGxDaGF0VG9Cb3R0b20gPSAoKSA9PiB7XG4gIGNvbnN0ICRjaGF0U2Nyb2xsQ29udGFpbmVyID0gJGRpYWxvZ1dpbmRvdy5xdWVyeVNlbGVjdG9yKCcuZmFrZVNjcm9sbF9fY29udGVudCcpO1xuICAkY2hhdFNjcm9sbENvbnRhaW5lci5zY3JvbGxUb3AgPSAkY2hhdFNjcm9sbENvbnRhaW5lci5zY3JvbGxIZWlnaHQ7XG59O1xuXG4vLyBkaWFsb2cgd2FybmluZyBoYW5kbGluZ1xuaWYgKCRkaWFsb2dXYXJuaW5nKSB7XG4gIGlmICghSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGV0bWV0dXRvcjpkaWFsb2dXYXJuaW5nSXNIaWRkZW4nKSkpIHtcbiAgICAkZGlhbG9nV2FybmluZy5jbGFzc0xpc3QuYWRkKCdjaGF0X19oZWFkLXdhcm5pbmctLXNob3duJyk7XG4gIFxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19oZWFkLXdhcm5pbmctY2xvc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICRkaWFsb2dXYXJuaW5nLnJlbW92ZSgpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xldG1ldHV0b3I6ZGlhbG9nV2FybmluZ0lzSGlkZGVuJywgdHJ1ZSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgJGRpYWxvZ1dhcm5pbmcucmVtb3ZlKCk7XG4gIH1cbn1cblxuLy8gZ28gYmFjayB0byBkaWFsb2cgbGlzdHMgb24gbW9iaWxlIGRldmljZXNcbi8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19oZWFkLWJhY2snKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbi8vICAgJGRpYWxvZ0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdjaGF0X19ncmlkLS1pbm5lcicpO1xuLy8gfSk7XG5cbi8vIHRvZ2dsZSBjdXJyZW50IGRpYWxvZ1xuaWYgKCRkaWFsb2dMaXN0SXRlbXMpIHtcbiAgJGRpYWxvZ0xpc3RJdGVtcy5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBlbC5xdWVyeVNlbGVjdG9yKCcuY2hhdC1pdGVtX19jb250YWluZXInKS5zdHlsZSA9ICcnO1xuICAgIGVsLnF1ZXJ5U2VsZWN0b3IoJy5jaGF0LWl0ZW1fX2RlbGV0ZScpLnN0eWxlID0gJyc7XG4gIFxuICAgIFxuICAgIGlmICgod2luZG93LmlubmVyV2lkdGggPiA3NTkgJiYgIWVsLmNsYXNzTGlzdC5jb250YWlucygnY2hhdC1pdGVtLS1hY3RpdmUnKSkgfHwgIWUudGFyZ2V0LmNsb3Nlc3QoJy5jaGF0LWl0ZW1fX2RlbGV0ZScpKSB7XG4gICAgICAkZGlhbG9nQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2NoYXRfX2dyaWQtLWlubmVyJyk7XG4gIFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXQtaXRlbS0tYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnY2hhdC1pdGVtLS1hY3RpdmUnKTtcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2NoYXQtaXRlbS0tYWN0aXZlJyk7XG4gIFxuICAgICAgaWYgKGVsLnF1ZXJ5U2VsZWN0b3IoJy5jaGF0LWl0ZW1fX2NvdW50ZXInKSkge1xuICAgICAgICBlbC5xdWVyeVNlbGVjdG9yKCcuY2hhdC1pdGVtX19jb3VudGVyJykucmVtb3ZlKCk7XG4gICAgICB9XG4gIFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2hlYWQtaW1hZ2UnKS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBlbC5xdWVyeVNlbGVjdG9yKCcuY2hhdC1pdGVtX19pbWFnZScpLnN0eWxlLmJhY2tncm91bmRJbWFnZTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19oZWFkLW5hbWUnKS5pbm5lclRleHQgPSBlbC5xdWVyeVNlbGVjdG9yKCcuY2hhdC1pdGVtX19uYW1lJykuaW5uZXJUZXh0O1xuICAgIH1cbiAgfSkpO1xufVxuXG4vLyBoYW5kbGUgaW5wdXQgZmllbGRcbmlmICgkZGlhbG9nSW5wdXRGaWVsZCkge1xuICAkZGlhbG9nSW5wdXRGaWVsZC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHNldERpYWxvZ0lucHV0SGVpZ2h0KTtcbn1cblxuLy8gc2V0IHNjcm9sbCBvbiBkaWFsb2cgd2luZG93XG5pZiAoJGRpYWxvZ1dpbmRvdykge1xuICAkZGlhbG9nV2luZG93LmZha2VTY3JvbGwoKTtcbiAgJGRpYWxvZ1dpbmRvdy5xdWVyeVNlbGVjdG9yKCcuZmFrZVNjcm9sbF9fY29udGVudCcpLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcbiAgICBjb250ZXh0RGVzdHJveSgpO1xuICB9KTtcblxuICBzY3JvbGxDaGF0VG9Cb3R0b20oKTtcbn1cblxuaWYgKCRkaWFsb2dGb3JtKSB7XG4gIC8vIGN1c3RvbSBmb3JtIHN1Ym1pdCBldmVudCBoYW5kbGVyXG4gICRkaWFsb2dGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ2Zvcm1TdWJtaXQnLCAoKSA9PiB7XG4gICAgY29uc3QgbWVzc2FnZSA9ICRkaWFsb2dJbnB1dEZpZWxkLnZhbHVlO1xuICBcbiAgICBpZiAobWVzc2FnZS5yZXBsYWNlKC9cXHMvZywgJycpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgJGRpYWxvZ0lucHV0RmllbGQuZm9jdXMoKTtcbiAgICBcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIFxuICAgIGlmICgkZGlhbG9nRm9ybS5kYXRhc2V0LmFjdGlvbiA9PT0gJ3NlbmQnKSB7XG4gICAgICBjb25zdCAkbWVzc2FnZUVsZW1lbnQgPSBgPGRpdiBjbGFzcz1cImNoYXRfX21lc3NhZ2UgY2hhdF9fbWVzc2FnZS0tcmlnaHRcIiBkYXRhLWlkPVwiJHsrZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX21lc3NhZ2U6bGFzdC1jaGlsZCcpLmRhdGFzZXQuaWQgKyAxfVwiPlxuICAgICAgICA8cCBjbGFzcz1cImNoYXRfX21lc3NhZ2UtdGV4dFwiPiR7bWVzc2FnZX08L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiY2hhdF9fbWVzc2FnZS10aW1lXCI+JHtJbnRsLkRhdGVUaW1lRm9ybWF0KCdydS1SdScsIHtob3VyOiAnbnVtZXJpYycsIG1pbnV0ZTogJ251bWVyaWMnfSkuZm9ybWF0KERhdGUubm93KCkpfTwvcD5cbiAgICAgIDwvZGl2PmA7XG4gICAgXG4gICAgICAkZGlhbG9nV2luZG93Q29udGFpbmVyLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgJG1lc3NhZ2VFbGVtZW50KTtcbiAgICAgIHNjcm9sbENoYXRUb0JvdHRvbSgpO1xuICAgIH0gZWxzZSBpZiAoJGRpYWxvZ0Zvcm0uZGF0YXNldC5hY3Rpb24gPT09ICdlZGl0Jykge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmNoYXRfX21lc3NhZ2VbZGF0YS1pZD1cIiR7JGRpYWxvZ0Zvcm0uZGF0YXNldC5pZH1cIl0gLmNoYXRfX21lc3NhZ2UtdGV4dGApLmlubmVyVGV4dCA9IG1lc3NhZ2U7XG4gICAgICAkZGlhbG9nRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdjaGF0X19mb290ZXItY29udGFpbmVyLS1lZGl0Jyk7XG4gICAgICAkZGlhbG9nRm9ybS5kYXRhc2V0LmFjdGlvbiA9ICdzZW5kJztcbiAgICB9XG4gIFxuICAgICRkaWFsb2dJbnB1dEZpZWxkLnZhbHVlID0gJyc7XG4gICAgJGRpYWxvZ0lucHV0RmllbGQuZm9jdXMoKTtcbiAgICBzZXREaWFsb2dJbnB1dEhlaWdodCgpO1xuICB9KTtcblxuICAvLyBzZW5kIG1lc3NhZ2UgaGFuZGxlcnNcbiAgJGRpYWxvZ0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBcbiAgICAkZGlhbG9nRm9ybS5kaXNwYXRjaEV2ZW50KGZvcm1TdWJtaXRFdmVudCk7XG4gIH0pO1xuXG4gICRkaWFsb2dGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgZSA9PiB7XG4gICAgY29uc3Qga2V5Y29kZSA9IGUua2V5Q29kZSA/IGUua2V5Q29kZSA6IGUud2hpY2g7XG4gIFxuICAgIGlmIChrZXljb2RlID09PSAxMyAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgJGRpYWxvZ0Zvcm0uZGlzcGF0Y2hFdmVudChmb3JtU3VibWl0RXZlbnQpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIGhhbmRsZSBtZXNzYWdlIGNvbnRleHQgbWVudVxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSBlLnRhcmdldDtcblxuICBpZiAoJHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGF0X19tZXNzYWdlLXRleHQnKSAmJiAkdGhpcy5jbG9zZXN0KCcuY2hhdF9fbWVzc2FnZS0tcmlnaHQnKSkge1xuICAgIGNvbnN0IG1lc3NhZ2VJRCA9ICR0aGlzLnBhcmVudE5vZGUuZGF0YXNldC5pZDtcblxuICAgICRkaWFsb2dDb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdjaGF0X19jb250ZXh0LS1zaG93bicpO1xuICAgICRkaWFsb2dDb250ZXh0TWVudS5zdHlsZS5jc3NUZXh0ID0gYGxlZnQ6ICR7ZS5jbGllbnRYICsgMTB9cHg7IHRvcDogJHtlLmNsaWVudFkgKyBzY3JvbGxZICsgMTB9cHg7YDtcblxuICAgICRkaWFsb2dEZWxldGVNZXNzYWdlQnRuLmRhdGFzZXQuaWQgPSBtZXNzYWdlSUQ7XG4gICAgJGRpYWxvZ0Zvcm0uZGF0YXNldC5pZCA9IG1lc3NhZ2VJRDtcblxuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDc2MCkge1xuICAgICAgc2NyZWVuT2Zmc2V0ID0gd2luZG93LnNjcm9sbFk7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmNzc1RleHQgPSBgcG9zaXRpb246IGZpeGVkOyBtYXJnaW4tdG9wOiAkey13aW5kb3cuc2Nyb2xsWX1weGA7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnRleHREZXN0cm95KCR0aGlzLmNsb3Nlc3QoJ1tkYXRhLWFjdGlvbj1cImRlbGV0ZVwiXScpKTtcbiAgfVxufSk7XG5cbi8vIGRlbGV0ZSBjaGF0IG1lc3NhZ2VcbmlmICgkZGlhbG9nRGVsZXRlTWVzc2FnZUJ0bikge1xuICAkZGlhbG9nRGVsZXRlTWVzc2FnZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuY2hhdF9fbWVzc2FnZVtkYXRhLWlkPVwiJHskZGlhbG9nRGVsZXRlTWVzc2FnZUJ0bi5kYXRhc2V0LmlkfVwiXWApLnJlbW92ZSgpO1xuICB9KTtcbn1cblxuLy8gaGFuZGxlIGNvbnRleHQgZWRpdCBjbGlja1xuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19jb250ZXh0LWl0ZW1bZGF0YS1hY3Rpb249XCJlZGl0XCJdJykpIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2NvbnRleHQtaXRlbVtkYXRhLWFjdGlvbj1cImVkaXRcIl0nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCBvcmlnaW5hbE1lc3NhZ2VUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmNoYXRfX21lc3NhZ2VbZGF0YS1pZD1cIiR7JGRpYWxvZ0Zvcm0uZGF0YXNldC5pZH1cIl0gLmNoYXRfX21lc3NhZ2UtdGV4dGApLmlubmVyVGV4dDtcbiAgXG4gICAgJGRpYWxvZ0Zvcm0uY2xhc3NMaXN0LmFkZCgnY2hhdF9fZm9vdGVyLWNvbnRhaW5lci0tZWRpdCcpO1xuICAgICRkaWFsb2dGb3JtLmRhdGFzZXQuYWN0aW9uID0gJ2VkaXQnO1xuICAgICRkaWFsb2dJbnB1dEZpZWxkLmZvY3VzKCk7XG4gICAgJGRpYWxvZ0lucHV0RmllbGQudmFsdWUgPSBvcmlnaW5hbE1lc3NhZ2VUZXh0O1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19lZGl0LXRleHQnKS5pbm5lclRleHQgPSBvcmlnaW5hbE1lc3NhZ2VUZXh0O1xuICAgIHNldERpYWxvZ0lucHV0SGVpZ2h0KCk7XG4gIH0pO1xufVxuXG4vLyBjYW5jZWwgbWVzc2FnZSBlZGl0aW5nXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2VkaXQtY2FuY2VsJykpIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRfX2VkaXQtY2FuY2VsJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgJGRpYWxvZ0Zvcm0uY2xhc3NMaXN0LnJlbW92ZSgnY2hhdF9fZm9vdGVyLWNvbnRhaW5lci0tZWRpdCcpO1xuICAgICRkaWFsb2dGb3JtLmRhdGFzZXQuYWN0aW9uID0gJ3NlbmQnO1xuICAgICRkaWFsb2dJbnB1dEZpZWxkLmZvY3VzKCk7XG4gICAgJGRpYWxvZ0lucHV0RmllbGQudmFsdWUgPSAnJztcbiAgICBzZXREaWFsb2dJbnB1dEhlaWdodCgpO1xuICB9KTtcbn1cblxuLy8gaGFuZGxlIGRlbGV0ZSBkaWFsb2cgb24gbW9iaWxlIGRldmljZXNcbmNvbnN0IHN3aXBlQ29vcmRpbmF0ZXMgPSB7XG4gIHN0YXJ0OiBudWxsLFxuICBlbmQ6IG51bGwsXG4gIGRpZmY6IG51bGxcbn07XG5cbmlmICgkZGlhbG9nTGlzdEl0ZW1zKSB7XG4gICRkaWFsb2dMaXN0SXRlbXMubWFwKGVsID0+IHtcbiAgICBjb25zdCAkY2hhdEl0ZW1Db250YWluZXIgPSBlbC5xdWVyeVNlbGVjdG9yKCcuY2hhdC1pdGVtX19jb250YWluZXInKTtcbiAgICBjb25zdCAkY2hhdEl0ZW1EZWxldGUgPSBlbC5xdWVyeVNlbGVjdG9yKCcuY2hhdC1pdGVtX19kZWxldGUnKTtcbiAgXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGUgPT4ge1xuICAgICAgJGRpYWxvZ0xpc3RJdGVtcy5tYXAoaXRlbSA9PiB7XG4gICAgICAgIGlmIChpdGVtICE9PSBlbCkge1xuICAgICAgICAgIGl0ZW0ucXVlcnlTZWxlY3RvcignLmNoYXQtaXRlbV9fY29udGFpbmVyJykuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoMCknO1xuICAgICAgICAgIGl0ZW0ucXVlcnlTZWxlY3RvcignLmNoYXQtaXRlbV9fZGVsZXRlJykuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoMCknO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgXG4gICAgICAkY2hhdEl0ZW1Db250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9ICdub25lJztcbiAgICAgICRjaGF0SXRlbURlbGV0ZS5zdHlsZS50cmFuc2l0aW9uID0gJ25vbmUnO1xuICBcbiAgICAgIHN3aXBlQ29vcmRpbmF0ZXMuc3RhcnQgPSBlLnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICB9LCBmYWxzZSk7XG4gIFxuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGUgPT4ge1xuICAgICAgY29uc3QgY3VycmVudENvb3JkaW5hdGUgPSBlLnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIGNvbnN0IGRpZmYgPSBzd2lwZUNvb3JkaW5hdGVzLnN0YXJ0IC0gY3VycmVudENvb3JkaW5hdGU7XG4gICAgXG4gICAgICBzd2lwZUNvb3JkaW5hdGVzLmVuZCA9IGN1cnJlbnRDb29yZGluYXRlO1xuICAgICAgc3dpcGVDb29yZGluYXRlcy5kaWZmID0gZGlmZjtcbiAgXG4gIFxuICAgICAgaWYgKGRpZmYgPiAwICYmIGRpZmYgPCAxMjApIHtcbiAgICAgICAgJGNoYXRJdGVtQ29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke2RpZmZ9cHgpYDtcbiAgICAgICAgJGNoYXRJdGVtRGVsZXRlLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke2RpZmZ9cHgpYDtcbiAgICAgIH1cbiAgICB9LCBmYWxzZSk7XG4gIFxuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgZSA9PiB7ICAgIFxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGNvbnN0IGRlc3QgPSBzd2lwZUNvb3JkaW5hdGVzLmRpZmYgPCA2MCA/IDAgOiAtMTIwO1xuICAgICAgXG4gICAgICAkY2hhdEl0ZW1Db250YWluZXIuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIC4zcyBlYXNlO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoJHtkZXN0fXB4KTtcbiAgICAgIGA7XG4gICAgICAkY2hhdEl0ZW1EZWxldGUuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIC4zcyBlYXNlO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoJHtkZXN0fXB4KTtcbiAgICAgIGA7XG4gICAgfSwgZmFsc2UpO1xuICB9KTtcbn1cbiAgLy8gY3JvcHBlZCBpbWFnZSB0byBzZW5kIHRvIHNlcnZlclxubGV0IGNyb3BwZWRJbWFnZSA9IG51bGw7XG5cbi8vIGFsbCBwZXJzb25hbCBmb3Jtc1xuY29uc3QgJHBlcnNvbmFsRm9ybXMgPSBbe1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXBlcnNvbmFsLWRhdGFdJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgc2hvd05vdGlmaWNhdGlvbignc3VjY2VzcycpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXBlcnNvbmFsLWV4cGVyaWVuY2VdJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgc2hvd05vdGlmaWNhdGlvbignc3VjY2VzcycpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXBlcnNvbmFsLWNvbnRhY3RzXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgIHNob3dOb3RpZmljYXRpb24oJ3N1Y2Nlc3MnKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1wZXJzb25hbC1wYXNzXScpLFxuICBjYWxsYmFjazogJGVsZW1lbnQgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tLWxvYWRpbmcnKTtcbiAgICAgIHNob3dOb3RpZmljYXRpb24oJ3N1Y2Nlc3MnKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSxcbntcbiAgJGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm1bZGF0YS1wZXJzb25hbC1ub3RpZmljYXRpb25dJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgc2hvd05vdGlmaWNhdGlvbignc3VjY2VzcycpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXBlcnNvbmFsLWluZm9dJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi0tbG9hZGluZycpO1xuICAgICAgc2hvd05vdGlmaWNhdGlvbignc3VjY2VzcycpO1xuICAgIH0sIDEwMDApO1xuICB9XG59LFxue1xuICAkZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtkYXRhLXBob3RvLWZvcm1dJyksXG4gIGNhbGxiYWNrOiAkZWxlbWVudCA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBmaWxlRGF0YSA9IGNyb3BwZWRJbWFnZS5nZXREYXRhKCk7XG4gICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICB4OiBwYXJzZUludChmaWxlRGF0YS54KSxcbiAgICAgICAgeTogcGFyc2VJbnQoZmlsZURhdGEueSksXG4gICAgICAgIHdpZHRoOiBwYXJzZUludChmaWxlRGF0YS53aWR0aCksXG4gICAgICAgIGhlaWdodDogcGFyc2VJbnQoZmlsZURhdGEuaGVpZ2h0KVxuICAgICAgfTtcbiAgICAgIGNyb3BwZWRJbWFnZS5lbGVtZW50LmNsb3Nlc3QoJy5wb3B1cF9fcGhvdG8nKS5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwiaW1hZ2VDcm9wSW5mb1wiXScpLnZhbHVlID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG5cbiAgICAgICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLS1sb2FkaW5nJyk7XG4gICAgICBzaG93Tm90aWZpY2F0aW9uKCdzdWNjZXNzJyk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn1dO1xuXG4vLyBhcHBseSB2YWxpZGF0aW9uIG9uIHBlcnNvbmFsIGZvcm1zXG4kcGVyc29uYWxGb3Jtcy5tYXAoZm9ybSA9PiB7XG4gIGNvbnN0IHsgJGVsZW1lbnQsIGNhbGxiYWNrIH0gPSBmb3JtO1xuXG4gIGlmICgkZWxlbWVudCkge1xuICAgICRhcGkudmFsaWRhdGUoJGVsZW1lbnQsICgpID0+IGNhbGxiYWNrKCRlbGVtZW50KSk7XG4gIH1cbn0pO1xuXG4vLyBhZGQgaXRlbXMgbG9naWNcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLXBlcnNvbmFsLWFkZCcpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0ICRlbGVtZW50ID0gZWwucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcuanMtY29weS1pdGVtJyk7XG4gIGNvbnN0ICRjbG9uZWRFbGVtZW50ID0gJGVsZW1lbnQuY2xvbmVOb2RlKHRydWUpO1xuICBjb25zdCAkaW5wdXREcm9wZG93biA9ICRjbG9uZWRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dC5kcm9wZG93bicpO1xuXG4gIEFycmF5LmZyb20oJGNsb25lZEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZha2VTY3JvbGxfX2NvbnRlbnQnKSkubWFwKGVsID0+IHtcbiAgICBjb25zdCAkbWVudSA9IGVsLmNsb3Nlc3QoJy5kcm9wZG93bl9fbWVudScpO1xuXG4gICAgQXJyYXkuZnJvbShlbC5jaGlsZHJlbikubWFwKGl0ZW0gPT4ge1xuICAgICAgJG1lbnUuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdiZWZvcmVlbmQnLCBpdGVtKTtcbiAgICB9KTtcblxuICAgIEFycmF5LmZyb20oJGNsb25lZEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cInRleHRcIl0nKSkubWFwKGVsID0+IGVsLnZhbHVlID0gJycpO1xuICAgIEFycmF5LmZyb20oJGNsb25lZEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJykpLm1hcChlbCA9PiBlbC5jaGVja2VkID0gZmFsc2UpO1xuXG4gICAgJG1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnZmFrZVNjcm9sbCcsICdmYWtlU2Nyb2xsLS1oYXNCYXInKTtcbiAgICAkbWVudS5xdWVyeVNlbGVjdG9yKCcuZmFrZVNjcm9sbF9fd3JhcCcpLnJlbW92ZSgpO1xuICAgICRtZW51LnF1ZXJ5U2VsZWN0b3IoJy5mYWtlU2Nyb2xsX190cmFjaycpLnJlbW92ZSgpO1xuICAgICRtZW51LmZha2VTY3JvbGwoKTtcbiAgfSk7XG5cbiAgJGVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2JlZm9yZWVuZCcsICRjbG9uZWRFbGVtZW50KTtcbiAgXG4gIGlmICgkaW5wdXREcm9wZG93bikge1xuICAgICRpbnB1dERyb3Bkb3duLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgJGRyb3Bkb3duID0gJGlucHV0RHJvcGRvd24ucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duX19tZW51Jyk7XG5cbiAgICAgICRpbnB1dERyb3Bkb3duLmNsb3Nlc3QoJy5pbnB1dCcpLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dF9fZHJvcGRvd24nKS5zdHlsZS53aWR0aCA9ICRpbnB1dERyb3Bkb3duLmNsb3Nlc3QoJy5pbnB1dCcpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgJ3B4JztcbiAgICBcbiAgICAgIGlmICghJGRyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucygnZmFrZVNjcm9sbCcpKSB7XG4gICAgICAgICRkcm9wZG93bi5mYWtlU2Nyb2xsKCk7XG4gICAgICB9XG5cbiAgICB9KTtcblxuICAgIEFycmF5LmZyb20oJGlucHV0RHJvcGRvd24ucXVlcnlTZWxlY3RvckFsbCgnLmlucHV0X19kcm9wZG93bi1pdGVtW2RhdGEtZHJvcGRvd25dJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gZWwuaW5uZXJUZXh0O1xuICAgICAgXG4gICAgICBlbC5jbG9zZXN0KCcuaW5wdXQnKS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLnZhbHVlID0gdmFsdWU7XG4gICAgICBlbC5jbG9zZXN0KCcuaW5wdXQnKS5jbGFzc0xpc3QucmVtb3ZlKCdpbnB1dC0tZXJyb3InKTtcbiAgICB9KSk7XG4gIH1cbn0pKTtcblxuLy8gaW5pdGlhbGl6ZSBpbWFnZSBjcm9wcGVyXG5jb25zdCBjcm9wcGVySW5pdCA9IGltYWdlID0+IHtcbiAgY3JvcHBlZEltYWdlID0gbmV3IENyb3BwZXIoaW1hZ2UsIHtcbiAgICB2aWV3TW9kZTogMyxcbiAgICBhc3BlY3RSYXRpbzogMSxcbiAgICB6b29tYWJsZTogZmFsc2UsXG4gICAgZ3VpZGVzOiBmYWxzZSxcbiAgICBjZW50ZXI6IGZhbHNlLFxuICAgIGhpZ2hsaWdodDogZmFsc2UsXG4gICAgbWluQ29udGFpbmVyV2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoIDwgNzYwID8gMjAwIDogMzUwLFxuICAgIGF1dG9Dcm9wQXJlYTogMSxcbiAgICBtaW5Dcm9wQm94V2lkdGg6IDIwMCxcbiAgICBtaW5Dcm9wQm94SGVpZ2h0OiAyMDAsXG4gICAgcHJldmlldzogaW1hZ2UuY2xvc2VzdCgnLnBvcHVwX19waG90bycpLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGhvdG8tcGljJylcbiAgfSk7XG59O1xuXG5jb25zdCAkZWRpdFBob3RvUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXBbZGF0YS1wb3B1cD1cImVkaXQtcGhvdG9cIl0nKTtcbmlmICgkZWRpdFBob3RvUG9wdXApIHtcbiAgJGVkaXRQaG90b1BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHVwU2hvdycsICgpID0+IHtcbiAgICBjb25zdCAkdXBsb2FkZWRJbWFnZSA9ICRlZGl0UGhvdG9Qb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3Bob3RvLWltYWdlW2RhdGEtdXBsb2FkZWRdJyk7XG4gIFxuICAgIGlmICgkdXBsb2FkZWRJbWFnZSkge1xuICAgICAgY3JvcHBlckluaXQoJHVwbG9hZGVkSW1hZ2UpO1xuICAgIH1cbiAgfSlcbn1cblxuLy8gZ2V0IHVwbG9hZGVkIHBob3RvXG5jb25zdCAkcG9wdXBQaG90b0lucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBob3RvLWlucHV0Jyk7XG5cbmlmICgkcG9wdXBQaG90b0lucHV0KSB7XG4gICRwb3B1cFBob3RvSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZSA9PiB7XG4gICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdO1xuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIFxuICAgIHJlYWRlci5vbmxvYWRlbmQgPSAoKSA9PiB7XG4gICAgICBjb25zdCBpbWFnZSA9IHJlYWRlci5yZXN1bHQ7XG4gICAgICBjb25zdCAkY3JvcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jcm9wcGVyLWNvbnRhaW5lcicpO1xuICAgICAgY29uc3QgJHBvcHVwUGhvdG9Db250YWluZXIgPSAkcG9wdXBQaG90b0lucHV0LmNsb3Nlc3QoJy5wb3B1cF9fcGhvdG8nKTtcbiAgICAgIFxuICAgICAgaWYgKCRjcm9wcGVyIHx8ICEkcG9wdXBQaG90b0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3Bob3RvLWltYWdlW2RhdGEtdXBsb2FkZWRdJykpIHtcbiAgICAgICAgaWYgKCRjcm9wcGVyKSB7XG4gICAgICAgICAgJGNyb3BwZXIucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAkcG9wdXBQaG90b0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3Bob3RvLXBpYycpLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHtpbWFnZX0pYDtcbiAgICAgICAgJHBvcHVwUGhvdG9Db250YWluZXIucXVlcnlTZWxlY3RvcignLnBvcHVwX19waG90by1pbWFnZScpLnJlbW92ZSgpO1xuICAgICAgICAkcG9wdXBQaG90b0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3Bob3RvLWNvbnRhaW5lcicpLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGA8aW1nIGNsYXNzPVwicG9wdXBfX3Bob3RvLWltYWdlXCIgc3JjPVwiJHtpbWFnZX1cIiBhbHQ9XCJcIj5gKVxuICAgICAgfVxuXG4gICAgICBjb25zdCAkaW1hZ2VFbGVtZW50ID0gJHBvcHVwUGhvdG9Db250YWluZXIucXVlcnlTZWxlY3RvcignLnBvcHVwX19waG90by1pbWFnZScpO1xuICBcbiAgICAgIGNyb3BwZXJJbml0KCRpbWFnZUVsZW1lbnQpO1xuICAgIH07XG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gIH0pO1xufVxuXG4vLyBnbyB0byBkZXRhaWxlZCBzY2hlZHVsZVxuQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGVyc29uYWxfX3NjaGVkdWxlLXRpbWUtbGluaycpKS5tYXAoZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IHRhcmdldCA9IGVsLmRhdGFzZXQuc2NoZWR1bGU7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2NoZWR1bGUtbWFpbl0nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1zY2hlZHVsZS1kZXRhaWw9XCIke3RhcmdldH1cIl1gKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgaWYgKHdpbmRvdy5pbm5lcldpZHRoID4gMTE5OSkgd2luZG93LnNjcm9sbFRvKDAsIDApO1xufSkpO1xuXG4vLyBnbyBiYWNrIHRvIG1haW4gc2NoZWR1bGVcbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBlcnNvbmFsX19iYWNrJykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZWwuY2xvc2VzdCgnW2RhdGEtc2NoZWR1bGUtZGV0YWlsXScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNjaGVkdWxlLW1haW5dJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+IDExOTkpIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcbn0pKTtcblxuLy8gaGFuZGxlIHNjaGVkdWxlIGRheXMgdG9nZ2xlclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wZXJzb25hbF9fc2NoZWR1bGUnKSkge1xuICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9maWxlLXNjaGVkdWxlX19jb250cm9scy1idXR0b24tLXByZXYnKSkubWFwKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0ICRjdXJyZW50U2NoZWR1bGUgPSBlbC5jbG9zZXN0KCdbZGF0YS1zY2hlZHVsZS1kZXRhaWxdJyk7XG4gICAgY29uc3QgY3VycmVudFNjaGVkdWxlSWQgPSBwYXJzZUludCgkY3VycmVudFNjaGVkdWxlLmRhdGFzZXQuc2NoZWR1bGVEZXRhaWwpO1xuXG4gICAgJGN1cnJlbnRTY2hlZHVsZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXNjaGVkdWxlLWRldGFpbD1cIiR7Y3VycmVudFNjaGVkdWxlSWQgLSAxfVwiXWApLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICB9KSk7XG5cbiAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZmlsZS1zY2hlZHVsZV9fY29udHJvbHMtYnV0dG9uLS1uZXh0JykpLm1hcChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCAkY3VycmVudFNjaGVkdWxlID0gZWwuY2xvc2VzdCgnW2RhdGEtc2NoZWR1bGUtZGV0YWlsXScpO1xuICAgIGNvbnN0IGN1cnJlbnRTY2hlZHVsZUlkID0gcGFyc2VJbnQoJGN1cnJlbnRTY2hlZHVsZS5kYXRhc2V0LnNjaGVkdWxlRGV0YWlsKTtcblxuICAgICRjdXJyZW50U2NoZWR1bGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1zY2hlZHVsZS1kZXRhaWw9XCIke2N1cnJlbnRTY2hlZHVsZUlkICsgMX1cIl1gKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgfSkpO1xufVxuXG5jb25zdCBzZXRTZWxlY3RlZFNlcnZpY2VUZXJtID0gKCkgPT4ge1xuICBjb25zdCAkY2hlY2tlZFJhZGlvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBlcnNvbmFsX19zZXJ2aWNlcy10ZXJtcy0tYWN0aXZlIGlucHV0OmNoZWNrZWQnKTtcblxuICBpZiAoJGNoZWNrZWRSYWRpbykge1xuICAgIGNvbnN0IHRlcm0gPSAkY2hlY2tlZFJhZGlvLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnJhZGlvX190ZXh0JykuaW5uZXJIVE1MLnNwbGl0KCc8c3Bhbj4nKVswXS50cmltKCk7XG4gICAgY29uc3QgY29zdCA9ICRjaGVja2VkUmFkaW8udmFsdWUudG9TdHJpbmcoKS5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCAnICcpICsgJyAmIzgzODE7JztcbiAgXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBlcnNvbmFsX19zZXJ2aWNlcy1zZWxlY3RlZCBzcGFuW2RhdGEtc2VsZWN0ZWQ9XCJ0ZXJtXCJdJykuaW5uZXJUZXh0ID0gdGVybTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGVyc29uYWxfX3NlcnZpY2VzLXRvcGF5IHNwYW4nKS5pbm5lckhUTUwgPSBjb3N0O1xuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBlcnNvbmFsX19zZXJ2aWNlcy1mb290ZXInKS5jbGFzc0xpc3QucmVtb3ZlKCdwZXJzb25hbF9fc2VydmljZXMtZm9vdGVyLS1oaWRkZW4nKTtcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc3BhbltkYXRhLXNlcnZpY2UtY29zdF0nKSkge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc3BhbltkYXRhLXNlcnZpY2UtY29zdF0nKS5pbm5lckhUTUwgPSBjb3N0O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGVyc29uYWxfX3NlcnZpY2VzLWZvb3RlcicpLmNsYXNzTGlzdC5hZGQoJ3BlcnNvbmFsX19zZXJ2aWNlcy1mb290ZXItLWhpZGRlbicpO1xuICB9XG59O1xuXG4vLyBoYW5kbGUgc2VydmljZSB0b2dnbGVyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGVyc29uYWxfX3NlcnZpY2VzLWxhYmVsIGlucHV0JykuZm9yRWFjaChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gIGNvbnN0IHZhbHVlID0gZWwudmFsdWU7XG4gIGNvbnN0IHRpdGxlID0gZWwucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGVyc29uYWxfX3NlcnZpY2VzLWhlYWRpbmcnKS5pbm5lclRleHQ7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBlcnNvbmFsX19zZXJ2aWNlcy10ZXJtcy0tYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgncGVyc29uYWxfX3NlcnZpY2VzLXRlcm1zLS1hY3RpdmUnKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnBlcnNvbmFsX19zZXJ2aWNlcy10ZXJtc1tkYXRhLXRlcm1zPVwiJHt2YWx1ZX1cIl1gKS5jbGFzc0xpc3QuYWRkKCdwZXJzb25hbF9fc2VydmljZXMtdGVybXMtLWFjdGl2ZScpO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wZXJzb25hbF9fc2VydmljZXMtc2VsZWN0ZWQgc3BhbltkYXRhLXNlbGVjdGVkPVwic2VydmljZVwiXScpLmlubmVySFRNTCA9ICcmbGFxdW87JyArIHRpdGxlICsgJyZyYXF1bzsnO1xuXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2hlYWRpbmctc2VydmljZScpKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19oZWFkaW5nLXNlcnZpY2UnKS5pbm5lclRleHQgPSB0aXRsZTtcbiAgfVxuXG4gIHNldFNlbGVjdGVkU2VydmljZVRlcm0oKTtcbn0pKTtcblxuLy8gaGFuZGxlIHNlcnZpY2UgdGVybSB0b2dnbGVyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGVyc29uYWxfX3NlcnZpY2VzLXJhZGlvIGlucHV0JykuZm9yRWFjaChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBzZXRTZWxlY3RlZFNlcnZpY2VUZXJtKSk7XG5cbn0iXX0=
